var Eh=Object.defineProperty;var dc=n=>{throw TypeError(n)};var Th=(n,e,o)=>e in n?Eh(n,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[e]=o;var wn=(n,e,o)=>Th(n,typeof e!="symbol"?e+"":e,o),ks=(n,e,o)=>e.has(n)||dc("Cannot "+o);var Ne=(n,e,o)=>(ks(n,e,"read from private field"),o?o.call(n):e.get(n)),st=(n,e,o)=>e.has(n)?dc("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,o),rt=(n,e,o,a)=>(ks(n,e,"write to private field"),a?a.call(n,o):e.set(n,o),o),Nt=(n,e,o)=>(ks(n,e,"access private method"),o);var zo=(n,e,o,a)=>({set _(l){rt(n,e,l,o)},get _(){return Ne(n,e,a)}});function _mergeNamespaces(n,e){for(var o=0;o<e.length;o++){const a=e[o];if(typeof a!="string"&&!Array.isArray(a)){for(const l in a)if(l!=="default"&&!(l in n)){const u=Object.getOwnPropertyDescriptor(a,l);u&&Object.defineProperty(n,l,u.get?u:{enumerable:!0,get:()=>a[l]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function getAugmentedNamespace(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var o=function a(){return this instanceof a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};o.prototype=e.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(n).forEach(function(a){var l=Object.getOwnPropertyDescriptor(n,a);Object.defineProperty(o,a,l.get?l:{enumerable:!0,get:function(){return n[a]}})}),o}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),T=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function m(Y){return Y===null||typeof Y!="object"?null:(Y=b&&Y[b]||Y["@@iterator"],typeof Y=="function"?Y:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,v={};function A(Y,Z,Q){this.props=Y,this.context=Z,this.refs=v,this.updater=Q||y}A.prototype.isReactComponent={},A.prototype.setState=function(Y,Z){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,Z,"setState")},A.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function w(){}w.prototype=A.prototype;function R(Y,Z,Q){this.props=Y,this.context=Z,this.refs=v,this.updater=Q||y}var P=R.prototype=new w;P.constructor=R,S(P,A.prototype),P.isPureReactComponent=!0;var F=Array.isArray,B=Object.prototype.hasOwnProperty,G={current:null},K={key:!0,ref:!0,__self:!0,__source:!0};function le(Y,Z,Q){var be,we={},Ue=null,Ye=null;if(Z!=null)for(be in Z.ref!==void 0&&(Ye=Z.ref),Z.key!==void 0&&(Ue=""+Z.key),Z)B.call(Z,be)&&!K.hasOwnProperty(be)&&(we[be]=Z[be]);var He=arguments.length-2;if(He===1)we.children=Q;else if(1<He){for(var je=Array(He),Xe=0;Xe<He;Xe++)je[Xe]=arguments[Xe+2];we.children=je}if(Y&&Y.defaultProps)for(be in He=Y.defaultProps,He)we[be]===void 0&&(we[be]=He[be]);return{$$typeof:n,type:Y,key:Ue,ref:Ye,props:we,_owner:G.current}}function V(Y,Z){return{$$typeof:n,type:Y.type,key:Z,ref:Y.ref,props:Y.props,_owner:Y._owner}}function X(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===n}function W(Y){var Z={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(Q){return Z[Q]})}var H=/\/+/g;function te(Y,Z){return typeof Y=="object"&&Y!==null&&Y.key!=null?W(""+Y.key):Z.toString(36)}function L(Y,Z,Q,be,we){var Ue=typeof Y;(Ue==="undefined"||Ue==="boolean")&&(Y=null);var Ye=!1;if(Y===null)Ye=!0;else switch(Ue){case"string":case"number":Ye=!0;break;case"object":switch(Y.$$typeof){case n:case e:Ye=!0}}if(Ye)return Ye=Y,we=we(Ye),Y=be===""?"."+te(Ye,0):be,F(we)?(Q="",Y!=null&&(Q=Y.replace(H,"$&/")+"/"),L(we,Z,Q,"",function(Xe){return Xe})):we!=null&&(X(we)&&(we=V(we,Q+(!we.key||Ye&&Ye.key===we.key?"":(""+we.key).replace(H,"$&/")+"/")+Y)),Z.push(we)),1;if(Ye=0,be=be===""?".":be+":",F(Y))for(var He=0;He<Y.length;He++){Ue=Y[He];var je=be+te(Ue,He);Ye+=L(Ue,Z,Q,je,we)}else if(je=m(Y),typeof je=="function")for(Y=je.call(Y),He=0;!(Ue=Y.next()).done;)Ue=Ue.value,je=be+te(Ue,He++),Ye+=L(Ue,Z,Q,je,we);else if(Ue==="object")throw Z=String(Y),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Ye}function ue(Y,Z,Q){if(Y==null)return Y;var be=[],we=0;return L(Y,be,"","",function(Ue){return Z.call(Q,Ue,we++)}),be}function Ce(Y){if(Y._status===-1){var Z=Y._result;Z=Z(),Z.then(function(Q){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=Q)},function(Q){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=Q)}),Y._status===-1&&(Y._status=0,Y._result=Z)}if(Y._status===1)return Y._result.default;throw Y._result}var fe={current:null},ye={transition:null},he={ReactCurrentDispatcher:fe,ReactCurrentBatchConfig:ye,ReactCurrentOwner:G};function j(){throw Error("act(...) is not supported in production builds of React.")}return react_production_min.Children={map:ue,forEach:function(Y,Z,Q){ue(Y,function(){Z.apply(this,arguments)},Q)},count:function(Y){var Z=0;return ue(Y,function(){Z++}),Z},toArray:function(Y){return ue(Y,function(Z){return Z})||[]},only:function(Y){if(!X(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},react_production_min.Component=A,react_production_min.Fragment=o,react_production_min.Profiler=l,react_production_min.PureComponent=R,react_production_min.StrictMode=a,react_production_min.Suspense=p,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,react_production_min.act=j,react_production_min.cloneElement=function(Y,Z,Q){if(Y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Y+".");var be=S({},Y.props),we=Y.key,Ue=Y.ref,Ye=Y._owner;if(Z!=null){if(Z.ref!==void 0&&(Ue=Z.ref,Ye=G.current),Z.key!==void 0&&(we=""+Z.key),Y.type&&Y.type.defaultProps)var He=Y.type.defaultProps;for(je in Z)B.call(Z,je)&&!K.hasOwnProperty(je)&&(be[je]=Z[je]===void 0&&He!==void 0?He[je]:Z[je])}var je=arguments.length-2;if(je===1)be.children=Q;else if(1<je){He=Array(je);for(var Xe=0;Xe<je;Xe++)He[Xe]=arguments[Xe+2];be.children=He}return{$$typeof:n,type:Y.type,key:we,ref:Ue,props:be,_owner:Ye}},react_production_min.createContext=function(Y){return Y={$$typeof:c,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Y.Provider={$$typeof:u,_context:Y},Y.Consumer=Y},react_production_min.createElement=le,react_production_min.createFactory=function(Y){var Z=le.bind(null,Y);return Z.type=Y,Z},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(Y){return{$$typeof:f,render:Y}},react_production_min.isValidElement=X,react_production_min.lazy=function(Y){return{$$typeof:E,_payload:{_status:-1,_result:Y},_init:Ce}},react_production_min.memo=function(Y,Z){return{$$typeof:T,type:Y,compare:Z===void 0?null:Z}},react_production_min.startTransition=function(Y){var Z=ye.transition;ye.transition={};try{Y()}finally{ye.transition=Z}},react_production_min.unstable_act=j,react_production_min.useCallback=function(Y,Z){return fe.current.useCallback(Y,Z)},react_production_min.useContext=function(Y){return fe.current.useContext(Y)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(Y){return fe.current.useDeferredValue(Y)},react_production_min.useEffect=function(Y,Z){return fe.current.useEffect(Y,Z)},react_production_min.useId=function(){return fe.current.useId()},react_production_min.useImperativeHandle=function(Y,Z,Q){return fe.current.useImperativeHandle(Y,Z,Q)},react_production_min.useInsertionEffect=function(Y,Z){return fe.current.useInsertionEffect(Y,Z)},react_production_min.useLayoutEffect=function(Y,Z){return fe.current.useLayoutEffect(Y,Z)},react_production_min.useMemo=function(Y,Z){return fe.current.useMemo(Y,Z)},react_production_min.useReducer=function(Y,Z,Q){return fe.current.useReducer(Y,Z,Q)},react_production_min.useRef=function(Y){return fe.current.useRef(Y)},react_production_min.useState=function(Y){return fe.current.useState(Y)},react_production_min.useSyncExternalStore=function(Y,Z,Q){return fe.current.useSyncExternalStore(Y,Z,Q)},react_production_min.useTransition=function(){return fe.current.useTransition()},react_production_min.version="18.3.1",react_production_min}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production_min()),react.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var n=requireReact(),e=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(f,p,T){var E,b={},m=null,y=null;T!==void 0&&(m=""+T),p.key!==void 0&&(m=""+p.key),p.ref!==void 0&&(y=p.ref);for(E in p)a.call(p,E)&&!u.hasOwnProperty(E)&&(b[E]=p[E]);if(f&&f.defaultProps)for(E in p=f.defaultProps,p)b[E]===void 0&&(b[E]=p[E]);return{$$typeof:e,type:f,key:m,ref:y,props:b,_owner:l.current}}return reactJsxRuntime_production_min.Fragment=o,reactJsxRuntime_production_min.jsx=c,reactJsxRuntime_production_min.jsxs=c,reactJsxRuntime_production_min}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production_min()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),reactExports=requireReact();const React=getDefaultExportFromCjs$1(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,function(n){function e(ye,he){var j=ye.length;ye.push(he);e:for(;0<j;){var Y=j-1>>>1,Z=ye[Y];if(0<l(Z,he))ye[Y]=he,ye[j]=Z,j=Y;else break e}}function o(ye){return ye.length===0?null:ye[0]}function a(ye){if(ye.length===0)return null;var he=ye[0],j=ye.pop();if(j!==he){ye[0]=j;e:for(var Y=0,Z=ye.length,Q=Z>>>1;Y<Q;){var be=2*(Y+1)-1,we=ye[be],Ue=be+1,Ye=ye[Ue];if(0>l(we,j))Ue<Z&&0>l(Ye,we)?(ye[Y]=Ye,ye[Ue]=j,Y=Ue):(ye[Y]=we,ye[be]=j,Y=be);else if(Ue<Z&&0>l(Ye,j))ye[Y]=Ye,ye[Ue]=j,Y=Ue;else break e}}return he}function l(ye,he){var j=ye.sortIndex-he.sortIndex;return j!==0?j:ye.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var p=[],T=[],E=1,b=null,m=3,y=!1,S=!1,v=!1,A=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(ye){for(var he=o(T);he!==null;){if(he.callback===null)a(T);else if(he.startTime<=ye)a(T),he.sortIndex=he.expirationTime,e(p,he);else break;he=o(T)}}function F(ye){if(v=!1,P(ye),!S)if(o(p)!==null)S=!0,Ce(B);else{var he=o(T);he!==null&&fe(F,he.startTime-ye)}}function B(ye,he){S=!1,v&&(v=!1,w(le),le=-1),y=!0;var j=m;try{for(P(he),b=o(p);b!==null&&(!(b.expirationTime>he)||ye&&!W());){var Y=b.callback;if(typeof Y=="function"){b.callback=null,m=b.priorityLevel;var Z=Y(b.expirationTime<=he);he=n.unstable_now(),typeof Z=="function"?b.callback=Z:b===o(p)&&a(p),P(he)}else a(p);b=o(p)}if(b!==null)var Q=!0;else{var be=o(T);be!==null&&fe(F,be.startTime-he),Q=!1}return Q}finally{b=null,m=j,y=!1}}var G=!1,K=null,le=-1,V=5,X=-1;function W(){return!(n.unstable_now()-X<V)}function H(){if(K!==null){var ye=n.unstable_now();X=ye;var he=!0;try{he=K(!0,ye)}finally{he?te():(G=!1,K=null)}}else G=!1}var te;if(typeof R=="function")te=function(){R(H)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,ue=L.port2;L.port1.onmessage=H,te=function(){ue.postMessage(null)}}else te=function(){A(H,0)};function Ce(ye){K=ye,G||(G=!0,te())}function fe(ye,he){le=A(function(){ye(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ye){ye.callback=null},n.unstable_continueExecution=function(){S||y||(S=!0,Ce(B))},n.unstable_forceFrameRate=function(ye){0>ye||125<ye?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<ye?Math.floor(1e3/ye):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return o(p)},n.unstable_next=function(ye){switch(m){case 1:case 2:case 3:var he=3;break;default:he=m}var j=m;m=he;try{return ye()}finally{m=j}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ye,he){switch(ye){case 1:case 2:case 3:case 4:case 5:break;default:ye=3}var j=m;m=ye;try{return he()}finally{m=j}},n.unstable_scheduleCallback=function(ye,he,j){var Y=n.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?Y+j:Y):j=Y,ye){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=j+Z,ye={id:E++,callback:he,priorityLevel:ye,startTime:j,expirationTime:Z,sortIndex:-1},j>Y?(ye.sortIndex=j,e(T,ye),o(p)===null&&ye===o(T)&&(v?(w(le),le=-1):v=!0,fe(F,j-Y))):(ye.sortIndex=Z,e(p,ye),S||y||(S=!0,Ce(B))),ye},n.unstable_shouldYield=W,n.unstable_wrapCallback=function(ye){var he=m;return function(){var j=m;m=he;try{return ye.apply(this,arguments)}finally{m=j}}}}(scheduler_production_min)),scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var n=requireReact(),e=requireScheduler();function o(d){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+d,x=1;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,l={};function u(d,g){c(d,g),c(d+"Capture",g)}function c(d,g){for(l[d]=g,d=0;d<g.length;d++)a.add(g[d])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,T=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},b={};function m(d){return p.call(b,d)?!0:p.call(E,d)?!1:T.test(d)?b[d]=!0:(E[d]=!0,!1)}function y(d,g,x,_){if(x!==null&&x.type===0)return!1;switch(typeof g){case"function":case"symbol":return!0;case"boolean":return _?!1:x!==null?!x.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function S(d,g,x,_){if(g===null||typeof g>"u"||y(d,g,x,_))return!0;if(_)return!1;if(x!==null)switch(x.type){case 3:return!g;case 4:return g===!1;case 5:return isNaN(g);case 6:return isNaN(g)||1>g}return!1}function v(d,g,x,_,O,M,q){this.acceptsBooleans=g===2||g===3||g===4,this.attributeName=_,this.attributeNamespace=O,this.mustUseProperty=x,this.propertyName=d,this.type=g,this.sanitizeURL=M,this.removeEmptyString=q}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){A[d]=new v(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var g=d[0];A[g]=new v(g,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){A[d]=new v(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){A[d]=new v(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){A[d]=new v(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){A[d]=new v(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){A[d]=new v(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){A[d]=new v(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){A[d]=new v(d,5,!1,d.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function R(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var g=d.replace(w,R);A[g]=new v(g,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var g=d.replace(w,R);A[g]=new v(g,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var g=d.replace(w,R);A[g]=new v(g,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){A[d]=new v(d,1,!1,d.toLowerCase(),null,!1,!1)}),A.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){A[d]=new v(d,1,!1,d.toLowerCase(),null,!0,!0)});function P(d,g,x,_){var O=A.hasOwnProperty(g)?A[g]:null;(O!==null?O.type!==0:_||!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(S(g,x,O,_)&&(x=null),_||O===null?m(g)&&(x===null?d.removeAttribute(g):d.setAttribute(g,""+x)):O.mustUseProperty?d[O.propertyName]=x===null?O.type===3?!1:"":x:(g=O.attributeName,_=O.attributeNamespace,x===null?d.removeAttribute(g):(O=O.type,x=O===3||O===4&&x===!0?"":""+x,_?d.setAttributeNS(_,g,x):d.setAttribute(g,x))))}var F=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),G=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),le=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),W=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),Ce=Symbol.for("react.lazy"),fe=Symbol.for("react.offscreen"),ye=Symbol.iterator;function he(d){return d===null||typeof d!="object"?null:(d=ye&&d[ye]||d["@@iterator"],typeof d=="function"?d:null)}var j=Object.assign,Y;function Z(d){if(Y===void 0)try{throw Error()}catch(x){var g=x.stack.trim().match(/\n( *(at )?)/);Y=g&&g[1]||""}return`
`+Y+d}var Q=!1;function be(d,g){if(!d||Q)return"";Q=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(Ie){var _=Ie}Reflect.construct(d,[],g)}else{try{g.call()}catch(Ie){_=Ie}d.call(g.prototype)}else{try{throw Error()}catch(Ie){_=Ie}d()}}catch(Ie){if(Ie&&_&&typeof Ie.stack=="string"){for(var O=Ie.stack.split(`
`),M=_.stack.split(`
`),q=O.length-1,ce=M.length-1;1<=q&&0<=ce&&O[q]!==M[ce];)ce--;for(;1<=q&&0<=ce;q--,ce--)if(O[q]!==M[ce]){if(q!==1||ce!==1)do if(q--,ce--,0>ce||O[q]!==M[ce]){var ge=`
`+O[q].replace(" at new "," at ");return d.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",d.displayName)),ge}while(1<=q&&0<=ce);break}}}finally{Q=!1,Error.prepareStackTrace=x}return(d=d?d.displayName||d.name:"")?Z(d):""}function we(d){switch(d.tag){case 5:return Z(d.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return d=be(d.type,!1),d;case 11:return d=be(d.type.render,!1),d;case 1:return d=be(d.type,!0),d;default:return""}}function Ue(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case K:return"Fragment";case G:return"Portal";case V:return"Profiler";case le:return"StrictMode";case te:return"Suspense";case L:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case W:return(d.displayName||"Context")+".Consumer";case X:return(d._context.displayName||"Context")+".Provider";case H:var g=d.render;return d=d.displayName,d||(d=g.displayName||g.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case ue:return g=d.displayName||null,g!==null?g:Ue(d.type)||"Memo";case Ce:g=d._payload,d=d._init;try{return Ue(d(g))}catch{}}return null}function Ye(d){var g=d.type;switch(d.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=g.render,d=d.displayName||d.name||"",g.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ue(g);case 8:return g===le?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function He(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function je(d){var g=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function Xe(d){var g=je(d)?"checked":"value",x=Object.getOwnPropertyDescriptor(d.constructor.prototype,g),_=""+d[g];if(!d.hasOwnProperty(g)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var O=x.get,M=x.set;return Object.defineProperty(d,g,{configurable:!0,get:function(){return O.call(this)},set:function(q){_=""+q,M.call(this,q)}}),Object.defineProperty(d,g,{enumerable:x.enumerable}),{getValue:function(){return _},setValue:function(q){_=""+q},stopTracking:function(){d._valueTracker=null,delete d[g]}}}}function et(d){d._valueTracker||(d._valueTracker=Xe(d))}function it(d){if(!d)return!1;var g=d._valueTracker;if(!g)return!0;var x=g.getValue(),_="";return d&&(_=je(d)?d.checked?"true":"false":d.value),d=_,d!==x?(g.setValue(d),!0):!1}function ct(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function U(d,g){var x=g.checked;return j({},g,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:x??d._wrapperState.initialChecked})}function De(d,g){var x=g.defaultValue==null?"":g.defaultValue,_=g.checked!=null?g.checked:g.defaultChecked;x=He(g.value!=null?g.value:x),d._wrapperState={initialChecked:_,initialValue:x,controlled:g.type==="checkbox"||g.type==="radio"?g.checked!=null:g.value!=null}}function Ae(d,g){g=g.checked,g!=null&&P(d,"checked",g,!1)}function se(d,g){Ae(d,g);var x=He(g.value),_=g.type;if(x!=null)_==="number"?(x===0&&d.value===""||d.value!=x)&&(d.value=""+x):d.value!==""+x&&(d.value=""+x);else if(_==="submit"||_==="reset"){d.removeAttribute("value");return}g.hasOwnProperty("value")?Ee(d,g.type,x):g.hasOwnProperty("defaultValue")&&Ee(d,g.type,He(g.defaultValue)),g.checked==null&&g.defaultChecked!=null&&(d.defaultChecked=!!g.defaultChecked)}function oe(d,g,x){if(g.hasOwnProperty("value")||g.hasOwnProperty("defaultValue")){var _=g.type;if(!(_!=="submit"&&_!=="reset"||g.value!==void 0&&g.value!==null))return;g=""+d._wrapperState.initialValue,x||g===d.value||(d.value=g),d.defaultValue=g}x=d.name,x!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,x!==""&&(d.name=x)}function Ee(d,g,x){(g!=="number"||ct(d.ownerDocument)!==d)&&(x==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+x&&(d.defaultValue=""+x))}var Oe=Array.isArray;function Re(d,g,x,_){if(d=d.options,g){g={};for(var O=0;O<x.length;O++)g["$"+x[O]]=!0;for(x=0;x<d.length;x++)O=g.hasOwnProperty("$"+d[x].value),d[x].selected!==O&&(d[x].selected=O),O&&_&&(d[x].defaultSelected=!0)}else{for(x=""+He(x),g=null,O=0;O<d.length;O++){if(d[O].value===x){d[O].selected=!0,_&&(d[O].defaultSelected=!0);return}g!==null||d[O].disabled||(g=d[O])}g!==null&&(g.selected=!0)}}function xe(d,g){if(g.dangerouslySetInnerHTML!=null)throw Error(o(91));return j({},g,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function Fe(d,g){var x=g.value;if(x==null){if(x=g.children,g=g.defaultValue,x!=null){if(g!=null)throw Error(o(92));if(Oe(x)){if(1<x.length)throw Error(o(93));x=x[0]}g=x}g==null&&(g=""),x=g}d._wrapperState={initialValue:He(x)}}function I(d,g){var x=He(g.value),_=He(g.defaultValue);x!=null&&(x=""+x,x!==d.value&&(d.value=x),g.defaultValue==null&&d.defaultValue!==x&&(d.defaultValue=x)),_!=null&&(d.defaultValue=""+_)}function ne(d){var g=d.textContent;g===d._wrapperState.initialValue&&g!==""&&g!==null&&(d.value=g)}function J(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function me(d,g){return d==null||d==="http://www.w3.org/1999/xhtml"?J(g):d==="http://www.w3.org/2000/svg"&&g==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var pe,ke=function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(g,x,_,O){MSApp.execUnsafeLocalFunction(function(){return d(g,x,_,O)})}:d}(function(d,g){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=g;else{for(pe=pe||document.createElement("div"),pe.innerHTML="<svg>"+g.valueOf().toString()+"</svg>",g=pe.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;g.firstChild;)d.appendChild(g.firstChild)}});function D(d,g){if(g){var x=d.firstChild;if(x&&x===d.lastChild&&x.nodeType===3){x.nodeValue=g;return}}d.textContent=g}var k={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},N=["Webkit","ms","Moz","O"];Object.keys(k).forEach(function(d){N.forEach(function(g){g=g+d.charAt(0).toUpperCase()+d.substring(1),k[g]=k[d]})});function z(d,g,x){return g==null||typeof g=="boolean"||g===""?"":x||typeof g!="number"||g===0||k.hasOwnProperty(d)&&k[d]?(""+g).trim():g+"px"}function ee(d,g){d=d.style;for(var x in g)if(g.hasOwnProperty(x)){var _=x.indexOf("--")===0,O=z(x,g[x],_);x==="float"&&(x="cssFloat"),_?d.setProperty(x,O):d[x]=O}}var ae=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function de(d,g){if(g){if(ae[d]&&(g.children!=null||g.dangerouslySetInnerHTML!=null))throw Error(o(137,d));if(g.dangerouslySetInnerHTML!=null){if(g.children!=null)throw Error(o(60));if(typeof g.dangerouslySetInnerHTML!="object"||!("__html"in g.dangerouslySetInnerHTML))throw Error(o(61))}if(g.style!=null&&typeof g.style!="object")throw Error(o(62))}}function ve(d,g){if(d.indexOf("-")===-1)return typeof g.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pe=null;function Ge(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var ze=null,tt=null,lt=null;function er(d){if(d=Ei(d)){if(typeof ze!="function")throw Error(o(280));var g=d.stateNode;g&&(g=ro(g),ze(d.stateNode,d.type,g))}}function Os(d){tt?lt?lt.push(d):lt=[d]:tt=d}function Rs(){if(tt){var d=tt,g=lt;if(lt=tt=null,er(d),g)for(d=0;d<g.length;d++)er(g[d])}}function Ns(d,g){return d(g)}function Ps(){}var jo=!1;function Ms(d,g,x){if(jo)return d(g,x);jo=!0;try{return Ns(d,g,x)}finally{jo=!1,(tt!==null||lt!==null)&&(Ps(),Rs())}}function Xr(d,g){var x=d.stateNode;if(x===null)return null;var _=ro(x);if(_===null)return null;x=_[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(d=d.type,_=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!_;break e;default:d=!1}if(d)return null;if(x&&typeof x!="function")throw Error(o(231,g,typeof x));return x}var qo=!1;if(f)try{var Jr={};Object.defineProperty(Jr,"passive",{get:function(){qo=!0}}),window.addEventListener("test",Jr,Jr),window.removeEventListener("test",Jr,Jr)}catch{qo=!1}function vc(d,g,x,_,O,M,q,ce,ge){var Ie=Array.prototype.slice.call(arguments,3);try{g.apply(x,Ie)}catch(Le){this.onError(Le)}}var Zr=!1,Mi=null,Li=!1,Vo=null,_c={onError:function(d){Zr=!0,Mi=d}};function Ac(d,g,x,_,O,M,q,ce,ge){Zr=!1,Mi=null,vc.apply(_c,arguments)}function wc(d,g,x,_,O,M,q,ce,ge){if(Ac.apply(this,arguments),Zr){if(Zr){var Ie=Mi;Zr=!1,Mi=null}else throw Error(o(198));Li||(Li=!0,Vo=Ie)}}function tr(d){var g=d,x=d;if(d.alternate)for(;g.return;)g=g.return;else{d=g;do g=d,(g.flags&4098)!==0&&(x=g.return),d=g.return;while(d)}return g.tag===3?x:null}function Ls(d){if(d.tag===13){var g=d.memoizedState;if(g===null&&(d=d.alternate,d!==null&&(g=d.memoizedState)),g!==null)return g.dehydrated}return null}function Fs(d){if(tr(d)!==d)throw Error(o(188))}function Cc(d){var g=d.alternate;if(!g){if(g=tr(d),g===null)throw Error(o(188));return g!==d?null:d}for(var x=d,_=g;;){var O=x.return;if(O===null)break;var M=O.alternate;if(M===null){if(_=O.return,_!==null){x=_;continue}break}if(O.child===M.child){for(M=O.child;M;){if(M===x)return Fs(O),d;if(M===_)return Fs(O),g;M=M.sibling}throw Error(o(188))}if(x.return!==_.return)x=O,_=M;else{for(var q=!1,ce=O.child;ce;){if(ce===x){q=!0,x=O,_=M;break}if(ce===_){q=!0,_=O,x=M;break}ce=ce.sibling}if(!q){for(ce=M.child;ce;){if(ce===x){q=!0,x=M,_=O;break}if(ce===_){q=!0,_=M,x=O;break}ce=ce.sibling}if(!q)throw Error(o(189))}}if(x.alternate!==_)throw Error(o(190))}if(x.tag!==3)throw Error(o(188));return x.stateNode.current===x?d:g}function Bs(d){return d=Cc(d),d!==null?Us(d):null}function Us(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var g=Us(d);if(g!==null)return g;d=d.sibling}return null}var $s=e.unstable_scheduleCallback,Hs=e.unstable_cancelCallback,Ic=e.unstable_shouldYield,kc=e.unstable_requestPaint,Tt=e.unstable_now,Dc=e.unstable_getCurrentPriorityLevel,Wo=e.unstable_ImmediatePriority,Gs=e.unstable_UserBlockingPriority,Fi=e.unstable_NormalPriority,Oc=e.unstable_LowPriority,zs=e.unstable_IdlePriority,Bi=null,cn=null;function Rc(d){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(Bi,d,void 0,(d.current.flags&128)===128)}catch{}}var en=Math.clz32?Math.clz32:Mc,Nc=Math.log,Pc=Math.LN2;function Mc(d){return d>>>=0,d===0?32:31-(Nc(d)/Pc|0)|0}var Ui=64,$i=4194304;function ei(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function Hi(d,g){var x=d.pendingLanes;if(x===0)return 0;var _=0,O=d.suspendedLanes,M=d.pingedLanes,q=x&268435455;if(q!==0){var ce=q&~O;ce!==0?_=ei(ce):(M&=q,M!==0&&(_=ei(M)))}else q=x&~O,q!==0?_=ei(q):M!==0&&(_=ei(M));if(_===0)return 0;if(g!==0&&g!==_&&(g&O)===0&&(O=_&-_,M=g&-g,O>=M||O===16&&(M&4194240)!==0))return g;if((_&4)!==0&&(_|=x&16),g=d.entangledLanes,g!==0)for(d=d.entanglements,g&=_;0<g;)x=31-en(g),O=1<<x,_|=d[x],g&=~O;return _}function Lc(d,g){switch(d){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fc(d,g){for(var x=d.suspendedLanes,_=d.pingedLanes,O=d.expirationTimes,M=d.pendingLanes;0<M;){var q=31-en(M),ce=1<<q,ge=O[q];ge===-1?((ce&x)===0||(ce&_)!==0)&&(O[q]=Lc(ce,g)):ge<=g&&(d.expiredLanes|=ce),M&=~ce}}function Yo(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function js(){var d=Ui;return Ui<<=1,(Ui&4194240)===0&&(Ui=64),d}function Ko(d){for(var g=[],x=0;31>x;x++)g.push(d);return g}function ti(d,g,x){d.pendingLanes|=g,g!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,g=31-en(g),d[g]=x}function Bc(d,g){var x=d.pendingLanes&~g;d.pendingLanes=g,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=g,d.mutableReadLanes&=g,d.entangledLanes&=g,g=d.entanglements;var _=d.eventTimes;for(d=d.expirationTimes;0<x;){var O=31-en(x),M=1<<O;g[O]=0,_[O]=-1,d[O]=-1,x&=~M}}function Qo(d,g){var x=d.entangledLanes|=g;for(d=d.entanglements;x;){var _=31-en(x),O=1<<_;O&g|d[_]&g&&(d[_]|=g),x&=~O}}var ut=0;function qs(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var Vs,Xo,Ws,Ys,Ks,Jo=!1,Gi=[],kn=null,Dn=null,On=null,ni=new Map,ri=new Map,Rn=[],Uc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qs(d,g){switch(d){case"focusin":case"focusout":kn=null;break;case"dragenter":case"dragleave":Dn=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":ni.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":ri.delete(g.pointerId)}}function ii(d,g,x,_,O,M){return d===null||d.nativeEvent!==M?(d={blockedOn:g,domEventName:x,eventSystemFlags:_,nativeEvent:M,targetContainers:[O]},g!==null&&(g=Ei(g),g!==null&&Xo(g)),d):(d.eventSystemFlags|=_,g=d.targetContainers,O!==null&&g.indexOf(O)===-1&&g.push(O),d)}function $c(d,g,x,_,O){switch(g){case"focusin":return kn=ii(kn,d,g,x,_,O),!0;case"dragenter":return Dn=ii(Dn,d,g,x,_,O),!0;case"mouseover":return On=ii(On,d,g,x,_,O),!0;case"pointerover":var M=O.pointerId;return ni.set(M,ii(ni.get(M)||null,d,g,x,_,O)),!0;case"gotpointercapture":return M=O.pointerId,ri.set(M,ii(ri.get(M)||null,d,g,x,_,O)),!0}return!1}function Xs(d){var g=nr(d.target);if(g!==null){var x=tr(g);if(x!==null){if(g=x.tag,g===13){if(g=Ls(x),g!==null){d.blockedOn=g,Ks(d.priority,function(){Ws(x)});return}}else if(g===3&&x.stateNode.current.memoizedState.isDehydrated){d.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}d.blockedOn=null}function zi(d){if(d.blockedOn!==null)return!1;for(var g=d.targetContainers;0<g.length;){var x=ea(d.domEventName,d.eventSystemFlags,g[0],d.nativeEvent);if(x===null){x=d.nativeEvent;var _=new x.constructor(x.type,x);Pe=_,x.target.dispatchEvent(_),Pe=null}else return g=Ei(x),g!==null&&Xo(g),d.blockedOn=x,!1;g.shift()}return!0}function Js(d,g,x){zi(d)&&x.delete(g)}function Hc(){Jo=!1,kn!==null&&zi(kn)&&(kn=null),Dn!==null&&zi(Dn)&&(Dn=null),On!==null&&zi(On)&&(On=null),ni.forEach(Js),ri.forEach(Js)}function oi(d,g){d.blockedOn===g&&(d.blockedOn=null,Jo||(Jo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Hc)))}function ai(d){function g(O){return oi(O,d)}if(0<Gi.length){oi(Gi[0],d);for(var x=1;x<Gi.length;x++){var _=Gi[x];_.blockedOn===d&&(_.blockedOn=null)}}for(kn!==null&&oi(kn,d),Dn!==null&&oi(Dn,d),On!==null&&oi(On,d),ni.forEach(g),ri.forEach(g),x=0;x<Rn.length;x++)_=Rn[x],_.blockedOn===d&&(_.blockedOn=null);for(;0<Rn.length&&(x=Rn[0],x.blockedOn===null);)Xs(x),x.blockedOn===null&&Rn.shift()}var br=F.ReactCurrentBatchConfig,ji=!0;function Gc(d,g,x,_){var O=ut,M=br.transition;br.transition=null;try{ut=1,Zo(d,g,x,_)}finally{ut=O,br.transition=M}}function zc(d,g,x,_){var O=ut,M=br.transition;br.transition=null;try{ut=4,Zo(d,g,x,_)}finally{ut=O,br.transition=M}}function Zo(d,g,x,_){if(ji){var O=ea(d,g,x,_);if(O===null)ya(d,g,_,qi,x),Qs(d,_);else if($c(O,d,g,x,_))_.stopPropagation();else if(Qs(d,_),g&4&&-1<Uc.indexOf(d)){for(;O!==null;){var M=Ei(O);if(M!==null&&Vs(M),M=ea(d,g,x,_),M===null&&ya(d,g,_,qi,x),M===O)break;O=M}O!==null&&_.stopPropagation()}else ya(d,g,_,null,x)}}var qi=null;function ea(d,g,x,_){if(qi=null,d=Ge(_),d=nr(d),d!==null)if(g=tr(d),g===null)d=null;else if(x=g.tag,x===13){if(d=Ls(g),d!==null)return d;d=null}else if(x===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;d=null}else g!==d&&(d=null);return qi=d,null}function Zs(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dc()){case Wo:return 1;case Gs:return 4;case Fi:case Oc:return 16;case zs:return 536870912;default:return 16}default:return 16}}var Nn=null,ta=null,Vi=null;function el(){if(Vi)return Vi;var d,g=ta,x=g.length,_,O="value"in Nn?Nn.value:Nn.textContent,M=O.length;for(d=0;d<x&&g[d]===O[d];d++);var q=x-d;for(_=1;_<=q&&g[x-_]===O[M-_];_++);return Vi=O.slice(d,1<_?1-_:void 0)}function Wi(d){var g=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&g===13&&(d=13)):d=g,d===10&&(d=13),32<=d||d===13?d:0}function Yi(){return!0}function tl(){return!1}function zt(d){function g(x,_,O,M,q){this._reactName=x,this._targetInst=O,this.type=_,this.nativeEvent=M,this.target=q,this.currentTarget=null;for(var ce in d)d.hasOwnProperty(ce)&&(x=d[ce],this[ce]=x?x(M):M[ce]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?Yi:tl,this.isPropagationStopped=tl,this}return j(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),g}var xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},na=zt(xr),si=j({},xr,{view:0,detail:0}),jc=zt(si),ra,ia,li,Ki=j({},si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aa,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==li&&(li&&d.type==="mousemove"?(ra=d.screenX-li.screenX,ia=d.screenY-li.screenY):ia=ra=0,li=d),ra)},movementY:function(d){return"movementY"in d?d.movementY:ia}}),nl=zt(Ki),qc=j({},Ki,{dataTransfer:0}),Vc=zt(qc),Wc=j({},si,{relatedTarget:0}),oa=zt(Wc),Yc=j({},xr,{animationName:0,elapsedTime:0,pseudoElement:0}),Kc=zt(Yc),Qc=j({},xr,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),Xc=zt(Qc),Jc=j({},xr,{data:0}),rl=zt(Jc),Zc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ef={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nf(d){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(d):(d=tf[d])?!!g[d]:!1}function aa(){return nf}var rf=j({},si,{key:function(d){if(d.key){var g=Zc[d.key]||d.key;if(g!=="Unidentified")return g}return d.type==="keypress"?(d=Wi(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?ef[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aa,charCode:function(d){return d.type==="keypress"?Wi(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Wi(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),of=zt(rf),af=j({},Ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),il=zt(af),sf=j({},si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aa}),lf=zt(sf),uf=j({},xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),cf=zt(uf),ff=j({},Ki,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),hf=zt(ff),df=[9,13,27,32],sa=f&&"CompositionEvent"in window,ui=null;f&&"documentMode"in document&&(ui=document.documentMode);var pf=f&&"TextEvent"in window&&!ui,ol=f&&(!sa||ui&&8<ui&&11>=ui),al=" ",sl=!1;function ll(d,g){switch(d){case"keyup":return df.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ul(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var Sr=!1;function mf(d,g){switch(d){case"compositionend":return ul(g);case"keypress":return g.which!==32?null:(sl=!0,al);case"textInput":return d=g.data,d===al&&sl?null:d;default:return null}}function gf(d,g){if(Sr)return d==="compositionend"||!sa&&ll(d,g)?(d=el(),Vi=ta=Nn=null,Sr=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return ol&&g.locale!=="ko"?null:g.data;default:return null}}var yf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cl(d){var g=d&&d.nodeName&&d.nodeName.toLowerCase();return g==="input"?!!yf[d.type]:g==="textarea"}function fl(d,g,x,_){Os(_),g=eo(g,"onChange"),0<g.length&&(x=new na("onChange","change",null,x,_),d.push({event:x,listeners:g}))}var ci=null,fi=null;function Ef(d){kl(d,0)}function Qi(d){var g=Cr(d);if(it(g))return d}function Tf(d,g){if(d==="change")return g}var hl=!1;if(f){var la;if(f){var ua="oninput"in document;if(!ua){var dl=document.createElement("div");dl.setAttribute("oninput","return;"),ua=typeof dl.oninput=="function"}la=ua}else la=!1;hl=la&&(!document.documentMode||9<document.documentMode)}function pl(){ci&&(ci.detachEvent("onpropertychange",ml),fi=ci=null)}function ml(d){if(d.propertyName==="value"&&Qi(fi)){var g=[];fl(g,fi,d,Ge(d)),Ms(Ef,g)}}function bf(d,g,x){d==="focusin"?(pl(),ci=g,fi=x,ci.attachEvent("onpropertychange",ml)):d==="focusout"&&pl()}function xf(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return Qi(fi)}function Sf(d,g){if(d==="click")return Qi(g)}function vf(d,g){if(d==="input"||d==="change")return Qi(g)}function _f(d,g){return d===g&&(d!==0||1/d===1/g)||d!==d&&g!==g}var tn=typeof Object.is=="function"?Object.is:_f;function hi(d,g){if(tn(d,g))return!0;if(typeof d!="object"||d===null||typeof g!="object"||g===null)return!1;var x=Object.keys(d),_=Object.keys(g);if(x.length!==_.length)return!1;for(_=0;_<x.length;_++){var O=x[_];if(!p.call(g,O)||!tn(d[O],g[O]))return!1}return!0}function gl(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function yl(d,g){var x=gl(d);d=0;for(var _;x;){if(x.nodeType===3){if(_=d+x.textContent.length,d<=g&&_>=g)return{node:x,offset:g-d};d=_}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=gl(x)}}function El(d,g){return d&&g?d===g?!0:d&&d.nodeType===3?!1:g&&g.nodeType===3?El(d,g.parentNode):"contains"in d?d.contains(g):d.compareDocumentPosition?!!(d.compareDocumentPosition(g)&16):!1:!1}function Tl(){for(var d=window,g=ct();g instanceof d.HTMLIFrameElement;){try{var x=typeof g.contentWindow.location.href=="string"}catch{x=!1}if(x)d=g.contentWindow;else break;g=ct(d.document)}return g}function ca(d){var g=d&&d.nodeName&&d.nodeName.toLowerCase();return g&&(g==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||g==="textarea"||d.contentEditable==="true")}function Af(d){var g=Tl(),x=d.focusedElem,_=d.selectionRange;if(g!==x&&x&&x.ownerDocument&&El(x.ownerDocument.documentElement,x)){if(_!==null&&ca(x)){if(g=_.start,d=_.end,d===void 0&&(d=g),"selectionStart"in x)x.selectionStart=g,x.selectionEnd=Math.min(d,x.value.length);else if(d=(g=x.ownerDocument||document)&&g.defaultView||window,d.getSelection){d=d.getSelection();var O=x.textContent.length,M=Math.min(_.start,O);_=_.end===void 0?M:Math.min(_.end,O),!d.extend&&M>_&&(O=_,_=M,M=O),O=yl(x,M);var q=yl(x,_);O&&q&&(d.rangeCount!==1||d.anchorNode!==O.node||d.anchorOffset!==O.offset||d.focusNode!==q.node||d.focusOffset!==q.offset)&&(g=g.createRange(),g.setStart(O.node,O.offset),d.removeAllRanges(),M>_?(d.addRange(g),d.extend(q.node,q.offset)):(g.setEnd(q.node,q.offset),d.addRange(g)))}}for(g=[],d=x;d=d.parentNode;)d.nodeType===1&&g.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<g.length;x++)d=g[x],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var wf=f&&"documentMode"in document&&11>=document.documentMode,vr=null,fa=null,di=null,ha=!1;function bl(d,g,x){var _=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;ha||vr==null||vr!==ct(_)||(_=vr,"selectionStart"in _&&ca(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),di&&hi(di,_)||(di=_,_=eo(fa,"onSelect"),0<_.length&&(g=new na("onSelect","select",null,g,x),d.push({event:g,listeners:_}),g.target=vr)))}function Xi(d,g){var x={};return x[d.toLowerCase()]=g.toLowerCase(),x["Webkit"+d]="webkit"+g,x["Moz"+d]="moz"+g,x}var _r={animationend:Xi("Animation","AnimationEnd"),animationiteration:Xi("Animation","AnimationIteration"),animationstart:Xi("Animation","AnimationStart"),transitionend:Xi("Transition","TransitionEnd")},da={},xl={};f&&(xl=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);function Ji(d){if(da[d])return da[d];if(!_r[d])return d;var g=_r[d],x;for(x in g)if(g.hasOwnProperty(x)&&x in xl)return da[d]=g[x];return d}var Sl=Ji("animationend"),vl=Ji("animationiteration"),_l=Ji("animationstart"),Al=Ji("transitionend"),wl=new Map,Cl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pn(d,g){wl.set(d,g),u(g,[d])}for(var pa=0;pa<Cl.length;pa++){var ma=Cl[pa],Cf=ma.toLowerCase(),If=ma[0].toUpperCase()+ma.slice(1);Pn(Cf,"on"+If)}Pn(Sl,"onAnimationEnd"),Pn(vl,"onAnimationIteration"),Pn(_l,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(Al,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kf=new Set("cancel close invalid load scroll toggle".split(" ").concat(pi));function Il(d,g,x){var _=d.type||"unknown-event";d.currentTarget=x,wc(_,g,void 0,d),d.currentTarget=null}function kl(d,g){g=(g&4)!==0;for(var x=0;x<d.length;x++){var _=d[x],O=_.event;_=_.listeners;e:{var M=void 0;if(g)for(var q=_.length-1;0<=q;q--){var ce=_[q],ge=ce.instance,Ie=ce.currentTarget;if(ce=ce.listener,ge!==M&&O.isPropagationStopped())break e;Il(O,ce,Ie),M=ge}else for(q=0;q<_.length;q++){if(ce=_[q],ge=ce.instance,Ie=ce.currentTarget,ce=ce.listener,ge!==M&&O.isPropagationStopped())break e;Il(O,ce,Ie),M=ge}}}if(Li)throw d=Vo,Li=!1,Vo=null,d}function ht(d,g){var x=g[va];x===void 0&&(x=g[va]=new Set);var _=d+"__bubble";x.has(_)||(Dl(g,d,2,!1),x.add(_))}function ga(d,g,x){var _=0;g&&(_|=4),Dl(x,d,_,g)}var Zi="_reactListening"+Math.random().toString(36).slice(2);function mi(d){if(!d[Zi]){d[Zi]=!0,a.forEach(function(x){x!=="selectionchange"&&(kf.has(x)||ga(x,!1,d),ga(x,!0,d))});var g=d.nodeType===9?d:d.ownerDocument;g===null||g[Zi]||(g[Zi]=!0,ga("selectionchange",!1,g))}}function Dl(d,g,x,_){switch(Zs(g)){case 1:var O=Gc;break;case 4:O=zc;break;default:O=Zo}x=O.bind(null,g,x,d),O=void 0,!qo||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(O=!0),_?O!==void 0?d.addEventListener(g,x,{capture:!0,passive:O}):d.addEventListener(g,x,!0):O!==void 0?d.addEventListener(g,x,{passive:O}):d.addEventListener(g,x,!1)}function ya(d,g,x,_,O){var M=_;if((g&1)===0&&(g&2)===0&&_!==null)e:for(;;){if(_===null)return;var q=_.tag;if(q===3||q===4){var ce=_.stateNode.containerInfo;if(ce===O||ce.nodeType===8&&ce.parentNode===O)break;if(q===4)for(q=_.return;q!==null;){var ge=q.tag;if((ge===3||ge===4)&&(ge=q.stateNode.containerInfo,ge===O||ge.nodeType===8&&ge.parentNode===O))return;q=q.return}for(;ce!==null;){if(q=nr(ce),q===null)return;if(ge=q.tag,ge===5||ge===6){_=M=q;continue e}ce=ce.parentNode}}_=_.return}Ms(function(){var Ie=M,Le=Ge(x),Be=[];e:{var Me=wl.get(d);if(Me!==void 0){var qe=na,We=d;switch(d){case"keypress":if(Wi(x)===0)break e;case"keydown":case"keyup":qe=of;break;case"focusin":We="focus",qe=oa;break;case"focusout":We="blur",qe=oa;break;case"beforeblur":case"afterblur":qe=oa;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":qe=nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":qe=Vc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":qe=lf;break;case Sl:case vl:case _l:qe=Kc;break;case Al:qe=cf;break;case"scroll":qe=jc;break;case"wheel":qe=hf;break;case"copy":case"cut":case"paste":qe=Xc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":qe=il}var Ke=(g&4)!==0,bt=!Ke&&d==="scroll",Se=Ke?Me!==null?Me+"Capture":null:Me;Ke=[];for(var Te=Ie,_e;Te!==null;){_e=Te;var $e=_e.stateNode;if(_e.tag===5&&$e!==null&&(_e=$e,Se!==null&&($e=Xr(Te,Se),$e!=null&&Ke.push(gi(Te,$e,_e)))),bt)break;Te=Te.return}0<Ke.length&&(Me=new qe(Me,We,null,x,Le),Be.push({event:Me,listeners:Ke}))}}if((g&7)===0){e:{if(Me=d==="mouseover"||d==="pointerover",qe=d==="mouseout"||d==="pointerout",Me&&x!==Pe&&(We=x.relatedTarget||x.fromElement)&&(nr(We)||We[En]))break e;if((qe||Me)&&(Me=Le.window===Le?Le:(Me=Le.ownerDocument)?Me.defaultView||Me.parentWindow:window,qe?(We=x.relatedTarget||x.toElement,qe=Ie,We=We?nr(We):null,We!==null&&(bt=tr(We),We!==bt||We.tag!==5&&We.tag!==6)&&(We=null)):(qe=null,We=Ie),qe!==We)){if(Ke=nl,$e="onMouseLeave",Se="onMouseEnter",Te="mouse",(d==="pointerout"||d==="pointerover")&&(Ke=il,$e="onPointerLeave",Se="onPointerEnter",Te="pointer"),bt=qe==null?Me:Cr(qe),_e=We==null?Me:Cr(We),Me=new Ke($e,Te+"leave",qe,x,Le),Me.target=bt,Me.relatedTarget=_e,$e=null,nr(Le)===Ie&&(Ke=new Ke(Se,Te+"enter",We,x,Le),Ke.target=_e,Ke.relatedTarget=bt,$e=Ke),bt=$e,qe&&We)t:{for(Ke=qe,Se=We,Te=0,_e=Ke;_e;_e=Ar(_e))Te++;for(_e=0,$e=Se;$e;$e=Ar($e))_e++;for(;0<Te-_e;)Ke=Ar(Ke),Te--;for(;0<_e-Te;)Se=Ar(Se),_e--;for(;Te--;){if(Ke===Se||Se!==null&&Ke===Se.alternate)break t;Ke=Ar(Ke),Se=Ar(Se)}Ke=null}else Ke=null;qe!==null&&Ol(Be,Me,qe,Ke,!1),We!==null&&bt!==null&&Ol(Be,bt,We,Ke,!0)}}e:{if(Me=Ie?Cr(Ie):window,qe=Me.nodeName&&Me.nodeName.toLowerCase(),qe==="select"||qe==="input"&&Me.type==="file")var Qe=Tf;else if(cl(Me))if(hl)Qe=vf;else{Qe=xf;var Je=bf}else(qe=Me.nodeName)&&qe.toLowerCase()==="input"&&(Me.type==="checkbox"||Me.type==="radio")&&(Qe=Sf);if(Qe&&(Qe=Qe(d,Ie))){fl(Be,Qe,x,Le);break e}Je&&Je(d,Me,Ie),d==="focusout"&&(Je=Me._wrapperState)&&Je.controlled&&Me.type==="number"&&Ee(Me,"number",Me.value)}switch(Je=Ie?Cr(Ie):window,d){case"focusin":(cl(Je)||Je.contentEditable==="true")&&(vr=Je,fa=Ie,di=null);break;case"focusout":di=fa=vr=null;break;case"mousedown":ha=!0;break;case"contextmenu":case"mouseup":case"dragend":ha=!1,bl(Be,x,Le);break;case"selectionchange":if(wf)break;case"keydown":case"keyup":bl(Be,x,Le)}var Ze;if(sa)e:{switch(d){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else Sr?ll(d,x)&&(nt="onCompositionEnd"):d==="keydown"&&x.keyCode===229&&(nt="onCompositionStart");nt&&(ol&&x.locale!=="ko"&&(Sr||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&Sr&&(Ze=el()):(Nn=Le,ta="value"in Nn?Nn.value:Nn.textContent,Sr=!0)),Je=eo(Ie,nt),0<Je.length&&(nt=new rl(nt,d,null,x,Le),Be.push({event:nt,listeners:Je}),Ze?nt.data=Ze:(Ze=ul(x),Ze!==null&&(nt.data=Ze)))),(Ze=pf?mf(d,x):gf(d,x))&&(Ie=eo(Ie,"onBeforeInput"),0<Ie.length&&(Le=new rl("onBeforeInput","beforeinput",null,x,Le),Be.push({event:Le,listeners:Ie}),Le.data=Ze))}kl(Be,g)})}function gi(d,g,x){return{instance:d,listener:g,currentTarget:x}}function eo(d,g){for(var x=g+"Capture",_=[];d!==null;){var O=d,M=O.stateNode;O.tag===5&&M!==null&&(O=M,M=Xr(d,x),M!=null&&_.unshift(gi(d,M,O)),M=Xr(d,g),M!=null&&_.push(gi(d,M,O))),d=d.return}return _}function Ar(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function Ol(d,g,x,_,O){for(var M=g._reactName,q=[];x!==null&&x!==_;){var ce=x,ge=ce.alternate,Ie=ce.stateNode;if(ge!==null&&ge===_)break;ce.tag===5&&Ie!==null&&(ce=Ie,O?(ge=Xr(x,M),ge!=null&&q.unshift(gi(x,ge,ce))):O||(ge=Xr(x,M),ge!=null&&q.push(gi(x,ge,ce)))),x=x.return}q.length!==0&&d.push({event:g,listeners:q})}var Df=/\r\n?/g,Of=/\u0000|\uFFFD/g;function Rl(d){return(typeof d=="string"?d:""+d).replace(Df,`
`).replace(Of,"")}function to(d,g,x){if(g=Rl(g),Rl(d)!==g&&x)throw Error(o(425))}function no(){}var Ea=null,Ta=null;function ba(d,g){return d==="textarea"||d==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var xa=typeof setTimeout=="function"?setTimeout:void 0,Rf=typeof clearTimeout=="function"?clearTimeout:void 0,Nl=typeof Promise=="function"?Promise:void 0,Nf=typeof queueMicrotask=="function"?queueMicrotask:typeof Nl<"u"?function(d){return Nl.resolve(null).then(d).catch(Pf)}:xa;function Pf(d){setTimeout(function(){throw d})}function Sa(d,g){var x=g,_=0;do{var O=x.nextSibling;if(d.removeChild(x),O&&O.nodeType===8)if(x=O.data,x==="/$"){if(_===0){d.removeChild(O),ai(g);return}_--}else x!=="$"&&x!=="$?"&&x!=="$!"||_++;x=O}while(x);ai(g)}function Mn(d){for(;d!=null;d=d.nextSibling){var g=d.nodeType;if(g===1||g===3)break;if(g===8){if(g=d.data,g==="$"||g==="$!"||g==="$?")break;if(g==="/$")return null}}return d}function Pl(d){d=d.previousSibling;for(var g=0;d;){if(d.nodeType===8){var x=d.data;if(x==="$"||x==="$!"||x==="$?"){if(g===0)return d;g--}else x==="/$"&&g++}d=d.previousSibling}return null}var wr=Math.random().toString(36).slice(2),fn="__reactFiber$"+wr,yi="__reactProps$"+wr,En="__reactContainer$"+wr,va="__reactEvents$"+wr,Mf="__reactListeners$"+wr,Lf="__reactHandles$"+wr;function nr(d){var g=d[fn];if(g)return g;for(var x=d.parentNode;x;){if(g=x[En]||x[fn]){if(x=g.alternate,g.child!==null||x!==null&&x.child!==null)for(d=Pl(d);d!==null;){if(x=d[fn])return x;d=Pl(d)}return g}d=x,x=d.parentNode}return null}function Ei(d){return d=d[fn]||d[En],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function Cr(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(o(33))}function ro(d){return d[yi]||null}var Aa=[],Ir=-1;function Ln(d){return{current:d}}function dt(d){0>Ir||(d.current=Aa[Ir],Aa[Ir]=null,Ir--)}function ft(d,g){Ir++,Aa[Ir]=d.current,d.current=g}var Fn={},kt=Ln(Fn),Bt=Ln(!1),rr=Fn;function kr(d,g){var x=d.type.contextTypes;if(!x)return Fn;var _=d.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===g)return _.__reactInternalMemoizedMaskedChildContext;var O={},M;for(M in x)O[M]=g[M];return _&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=g,d.__reactInternalMemoizedMaskedChildContext=O),O}function Ut(d){return d=d.childContextTypes,d!=null}function io(){dt(Bt),dt(kt)}function Ml(d,g,x){if(kt.current!==Fn)throw Error(o(168));ft(kt,g),ft(Bt,x)}function Ll(d,g,x){var _=d.stateNode;if(g=g.childContextTypes,typeof _.getChildContext!="function")return x;_=_.getChildContext();for(var O in _)if(!(O in g))throw Error(o(108,Ye(d)||"Unknown",O));return j({},x,_)}function oo(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||Fn,rr=kt.current,ft(kt,d),ft(Bt,Bt.current),!0}function Fl(d,g,x){var _=d.stateNode;if(!_)throw Error(o(169));x?(d=Ll(d,g,rr),_.__reactInternalMemoizedMergedChildContext=d,dt(Bt),dt(kt),ft(kt,d)):dt(Bt),ft(Bt,x)}var Tn=null,ao=!1,wa=!1;function Bl(d){Tn===null?Tn=[d]:Tn.push(d)}function Ff(d){ao=!0,Bl(d)}function Bn(){if(!wa&&Tn!==null){wa=!0;var d=0,g=ut;try{var x=Tn;for(ut=1;d<x.length;d++){var _=x[d];do _=_(!0);while(_!==null)}Tn=null,ao=!1}catch(O){throw Tn!==null&&(Tn=Tn.slice(d+1)),$s(Wo,Bn),O}finally{ut=g,wa=!1}}return null}var Dr=[],Or=0,so=null,lo=0,Wt=[],Yt=0,ir=null,bn=1,xn="";function or(d,g){Dr[Or++]=lo,Dr[Or++]=so,so=d,lo=g}function Ul(d,g,x){Wt[Yt++]=bn,Wt[Yt++]=xn,Wt[Yt++]=ir,ir=d;var _=bn;d=xn;var O=32-en(_)-1;_&=~(1<<O),x+=1;var M=32-en(g)+O;if(30<M){var q=O-O%5;M=(_&(1<<q)-1).toString(32),_>>=q,O-=q,bn=1<<32-en(g)+O|x<<O|_,xn=M+d}else bn=1<<M|x<<O|_,xn=d}function Ca(d){d.return!==null&&(or(d,1),Ul(d,1,0))}function Ia(d){for(;d===so;)so=Dr[--Or],Dr[Or]=null,lo=Dr[--Or],Dr[Or]=null;for(;d===ir;)ir=Wt[--Yt],Wt[Yt]=null,xn=Wt[--Yt],Wt[Yt]=null,bn=Wt[--Yt],Wt[Yt]=null}var jt=null,qt=null,pt=!1,nn=null;function $l(d,g){var x=Jt(5,null,null,0);x.elementType="DELETED",x.stateNode=g,x.return=d,g=d.deletions,g===null?(d.deletions=[x],d.flags|=16):g.push(x)}function Hl(d,g){switch(d.tag){case 5:var x=d.type;return g=g.nodeType!==1||x.toLowerCase()!==g.nodeName.toLowerCase()?null:g,g!==null?(d.stateNode=g,jt=d,qt=Mn(g.firstChild),!0):!1;case 6:return g=d.pendingProps===""||g.nodeType!==3?null:g,g!==null?(d.stateNode=g,jt=d,qt=null,!0):!1;case 13:return g=g.nodeType!==8?null:g,g!==null?(x=ir!==null?{id:bn,overflow:xn}:null,d.memoizedState={dehydrated:g,treeContext:x,retryLane:1073741824},x=Jt(18,null,null,0),x.stateNode=g,x.return=d,d.child=x,jt=d,qt=null,!0):!1;default:return!1}}function ka(d){return(d.mode&1)!==0&&(d.flags&128)===0}function Da(d){if(pt){var g=qt;if(g){var x=g;if(!Hl(d,g)){if(ka(d))throw Error(o(418));g=Mn(x.nextSibling);var _=jt;g&&Hl(d,g)?$l(_,x):(d.flags=d.flags&-4097|2,pt=!1,jt=d)}}else{if(ka(d))throw Error(o(418));d.flags=d.flags&-4097|2,pt=!1,jt=d}}}function Gl(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;jt=d}function uo(d){if(d!==jt)return!1;if(!pt)return Gl(d),pt=!0,!1;var g;if((g=d.tag!==3)&&!(g=d.tag!==5)&&(g=d.type,g=g!=="head"&&g!=="body"&&!ba(d.type,d.memoizedProps)),g&&(g=qt)){if(ka(d))throw zl(),Error(o(418));for(;g;)$l(d,g),g=Mn(g.nextSibling)}if(Gl(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));e:{for(d=d.nextSibling,g=0;d;){if(d.nodeType===8){var x=d.data;if(x==="/$"){if(g===0){qt=Mn(d.nextSibling);break e}g--}else x!=="$"&&x!=="$!"&&x!=="$?"||g++}d=d.nextSibling}qt=null}}else qt=jt?Mn(d.stateNode.nextSibling):null;return!0}function zl(){for(var d=qt;d;)d=Mn(d.nextSibling)}function Rr(){qt=jt=null,pt=!1}function Oa(d){nn===null?nn=[d]:nn.push(d)}var Bf=F.ReactCurrentBatchConfig;function Ti(d,g,x){if(d=x.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(o(309));var _=x.stateNode}if(!_)throw Error(o(147,d));var O=_,M=""+d;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===M?g.ref:(g=function(q){var ce=O.refs;q===null?delete ce[M]:ce[M]=q},g._stringRef=M,g)}if(typeof d!="string")throw Error(o(284));if(!x._owner)throw Error(o(290,d))}return d}function co(d,g){throw d=Object.prototype.toString.call(g),Error(o(31,d==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":d))}function jl(d){var g=d._init;return g(d._payload)}function ql(d){function g(Se,Te){if(d){var _e=Se.deletions;_e===null?(Se.deletions=[Te],Se.flags|=16):_e.push(Te)}}function x(Se,Te){if(!d)return null;for(;Te!==null;)g(Se,Te),Te=Te.sibling;return null}function _(Se,Te){for(Se=new Map;Te!==null;)Te.key!==null?Se.set(Te.key,Te):Se.set(Te.index,Te),Te=Te.sibling;return Se}function O(Se,Te){return Se=Vn(Se,Te),Se.index=0,Se.sibling=null,Se}function M(Se,Te,_e){return Se.index=_e,d?(_e=Se.alternate,_e!==null?(_e=_e.index,_e<Te?(Se.flags|=2,Te):_e):(Se.flags|=2,Te)):(Se.flags|=1048576,Te)}function q(Se){return d&&Se.alternate===null&&(Se.flags|=2),Se}function ce(Se,Te,_e,$e){return Te===null||Te.tag!==6?(Te=vs(_e,Se.mode,$e),Te.return=Se,Te):(Te=O(Te,_e),Te.return=Se,Te)}function ge(Se,Te,_e,$e){var Qe=_e.type;return Qe===K?Le(Se,Te,_e.props.children,$e,_e.key):Te!==null&&(Te.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===Ce&&jl(Qe)===Te.type)?($e=O(Te,_e.props),$e.ref=Ti(Se,Te,_e),$e.return=Se,$e):($e=Mo(_e.type,_e.key,_e.props,null,Se.mode,$e),$e.ref=Ti(Se,Te,_e),$e.return=Se,$e)}function Ie(Se,Te,_e,$e){return Te===null||Te.tag!==4||Te.stateNode.containerInfo!==_e.containerInfo||Te.stateNode.implementation!==_e.implementation?(Te=_s(_e,Se.mode,$e),Te.return=Se,Te):(Te=O(Te,_e.children||[]),Te.return=Se,Te)}function Le(Se,Te,_e,$e,Qe){return Te===null||Te.tag!==7?(Te=dr(_e,Se.mode,$e,Qe),Te.return=Se,Te):(Te=O(Te,_e),Te.return=Se,Te)}function Be(Se,Te,_e){if(typeof Te=="string"&&Te!==""||typeof Te=="number")return Te=vs(""+Te,Se.mode,_e),Te.return=Se,Te;if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case B:return _e=Mo(Te.type,Te.key,Te.props,null,Se.mode,_e),_e.ref=Ti(Se,null,Te),_e.return=Se,_e;case G:return Te=_s(Te,Se.mode,_e),Te.return=Se,Te;case Ce:var $e=Te._init;return Be(Se,$e(Te._payload),_e)}if(Oe(Te)||he(Te))return Te=dr(Te,Se.mode,_e,null),Te.return=Se,Te;co(Se,Te)}return null}function Me(Se,Te,_e,$e){var Qe=Te!==null?Te.key:null;if(typeof _e=="string"&&_e!==""||typeof _e=="number")return Qe!==null?null:ce(Se,Te,""+_e,$e);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case B:return _e.key===Qe?ge(Se,Te,_e,$e):null;case G:return _e.key===Qe?Ie(Se,Te,_e,$e):null;case Ce:return Qe=_e._init,Me(Se,Te,Qe(_e._payload),$e)}if(Oe(_e)||he(_e))return Qe!==null?null:Le(Se,Te,_e,$e,null);co(Se,_e)}return null}function qe(Se,Te,_e,$e,Qe){if(typeof $e=="string"&&$e!==""||typeof $e=="number")return Se=Se.get(_e)||null,ce(Te,Se,""+$e,Qe);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case B:return Se=Se.get($e.key===null?_e:$e.key)||null,ge(Te,Se,$e,Qe);case G:return Se=Se.get($e.key===null?_e:$e.key)||null,Ie(Te,Se,$e,Qe);case Ce:var Je=$e._init;return qe(Se,Te,_e,Je($e._payload),Qe)}if(Oe($e)||he($e))return Se=Se.get(_e)||null,Le(Te,Se,$e,Qe,null);co(Te,$e)}return null}function We(Se,Te,_e,$e){for(var Qe=null,Je=null,Ze=Te,nt=Te=0,wt=null;Ze!==null&&nt<_e.length;nt++){Ze.index>nt?(wt=Ze,Ze=null):wt=Ze.sibling;var at=Me(Se,Ze,_e[nt],$e);if(at===null){Ze===null&&(Ze=wt);break}d&&Ze&&at.alternate===null&&g(Se,Ze),Te=M(at,Te,nt),Je===null?Qe=at:Je.sibling=at,Je=at,Ze=wt}if(nt===_e.length)return x(Se,Ze),pt&&or(Se,nt),Qe;if(Ze===null){for(;nt<_e.length;nt++)Ze=Be(Se,_e[nt],$e),Ze!==null&&(Te=M(Ze,Te,nt),Je===null?Qe=Ze:Je.sibling=Ze,Je=Ze);return pt&&or(Se,nt),Qe}for(Ze=_(Se,Ze);nt<_e.length;nt++)wt=qe(Ze,Se,nt,_e[nt],$e),wt!==null&&(d&&wt.alternate!==null&&Ze.delete(wt.key===null?nt:wt.key),Te=M(wt,Te,nt),Je===null?Qe=wt:Je.sibling=wt,Je=wt);return d&&Ze.forEach(function(Wn){return g(Se,Wn)}),pt&&or(Se,nt),Qe}function Ke(Se,Te,_e,$e){var Qe=he(_e);if(typeof Qe!="function")throw Error(o(150));if(_e=Qe.call(_e),_e==null)throw Error(o(151));for(var Je=Qe=null,Ze=Te,nt=Te=0,wt=null,at=_e.next();Ze!==null&&!at.done;nt++,at=_e.next()){Ze.index>nt?(wt=Ze,Ze=null):wt=Ze.sibling;var Wn=Me(Se,Ze,at.value,$e);if(Wn===null){Ze===null&&(Ze=wt);break}d&&Ze&&Wn.alternate===null&&g(Se,Ze),Te=M(Wn,Te,nt),Je===null?Qe=Wn:Je.sibling=Wn,Je=Wn,Ze=wt}if(at.done)return x(Se,Ze),pt&&or(Se,nt),Qe;if(Ze===null){for(;!at.done;nt++,at=_e.next())at=Be(Se,at.value,$e),at!==null&&(Te=M(at,Te,nt),Je===null?Qe=at:Je.sibling=at,Je=at);return pt&&or(Se,nt),Qe}for(Ze=_(Se,Ze);!at.done;nt++,at=_e.next())at=qe(Ze,Se,nt,at.value,$e),at!==null&&(d&&at.alternate!==null&&Ze.delete(at.key===null?nt:at.key),Te=M(at,Te,nt),Je===null?Qe=at:Je.sibling=at,Je=at);return d&&Ze.forEach(function(yh){return g(Se,yh)}),pt&&or(Se,nt),Qe}function bt(Se,Te,_e,$e){if(typeof _e=="object"&&_e!==null&&_e.type===K&&_e.key===null&&(_e=_e.props.children),typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case B:e:{for(var Qe=_e.key,Je=Te;Je!==null;){if(Je.key===Qe){if(Qe=_e.type,Qe===K){if(Je.tag===7){x(Se,Je.sibling),Te=O(Je,_e.props.children),Te.return=Se,Se=Te;break e}}else if(Je.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===Ce&&jl(Qe)===Je.type){x(Se,Je.sibling),Te=O(Je,_e.props),Te.ref=Ti(Se,Je,_e),Te.return=Se,Se=Te;break e}x(Se,Je);break}else g(Se,Je);Je=Je.sibling}_e.type===K?(Te=dr(_e.props.children,Se.mode,$e,_e.key),Te.return=Se,Se=Te):($e=Mo(_e.type,_e.key,_e.props,null,Se.mode,$e),$e.ref=Ti(Se,Te,_e),$e.return=Se,Se=$e)}return q(Se);case G:e:{for(Je=_e.key;Te!==null;){if(Te.key===Je)if(Te.tag===4&&Te.stateNode.containerInfo===_e.containerInfo&&Te.stateNode.implementation===_e.implementation){x(Se,Te.sibling),Te=O(Te,_e.children||[]),Te.return=Se,Se=Te;break e}else{x(Se,Te);break}else g(Se,Te);Te=Te.sibling}Te=_s(_e,Se.mode,$e),Te.return=Se,Se=Te}return q(Se);case Ce:return Je=_e._init,bt(Se,Te,Je(_e._payload),$e)}if(Oe(_e))return We(Se,Te,_e,$e);if(he(_e))return Ke(Se,Te,_e,$e);co(Se,_e)}return typeof _e=="string"&&_e!==""||typeof _e=="number"?(_e=""+_e,Te!==null&&Te.tag===6?(x(Se,Te.sibling),Te=O(Te,_e),Te.return=Se,Se=Te):(x(Se,Te),Te=vs(_e,Se.mode,$e),Te.return=Se,Se=Te),q(Se)):x(Se,Te)}return bt}var Nr=ql(!0),Vl=ql(!1),fo=Ln(null),ho=null,Pr=null,Ra=null;function Na(){Ra=Pr=ho=null}function Pa(d){var g=fo.current;dt(fo),d._currentValue=g}function Ma(d,g,x){for(;d!==null;){var _=d.alternate;if((d.childLanes&g)!==g?(d.childLanes|=g,_!==null&&(_.childLanes|=g)):_!==null&&(_.childLanes&g)!==g&&(_.childLanes|=g),d===x)break;d=d.return}}function Mr(d,g){ho=d,Ra=Pr=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&g)!==0&&($t=!0),d.firstContext=null)}function Kt(d){var g=d._currentValue;if(Ra!==d)if(d={context:d,memoizedValue:g,next:null},Pr===null){if(ho===null)throw Error(o(308));Pr=d,ho.dependencies={lanes:0,firstContext:d}}else Pr=Pr.next=d;return g}var ar=null;function La(d){ar===null?ar=[d]:ar.push(d)}function Wl(d,g,x,_){var O=g.interleaved;return O===null?(x.next=x,La(g)):(x.next=O.next,O.next=x),g.interleaved=x,Sn(d,_)}function Sn(d,g){d.lanes|=g;var x=d.alternate;for(x!==null&&(x.lanes|=g),x=d,d=d.return;d!==null;)d.childLanes|=g,x=d.alternate,x!==null&&(x.childLanes|=g),x=d,d=d.return;return x.tag===3?x.stateNode:null}var Un=!1;function Fa(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yl(d,g){d=d.updateQueue,g.updateQueue===d&&(g.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function vn(d,g){return{eventTime:d,lane:g,tag:0,payload:null,callback:null,next:null}}function $n(d,g,x){var _=d.updateQueue;if(_===null)return null;if(_=_.shared,(ot&2)!==0){var O=_.pending;return O===null?g.next=g:(g.next=O.next,O.next=g),_.pending=g,Sn(d,x)}return O=_.interleaved,O===null?(g.next=g,La(_)):(g.next=O.next,O.next=g),_.interleaved=g,Sn(d,x)}function po(d,g,x){if(g=g.updateQueue,g!==null&&(g=g.shared,(x&4194240)!==0)){var _=g.lanes;_&=d.pendingLanes,x|=_,g.lanes=x,Qo(d,x)}}function Kl(d,g){var x=d.updateQueue,_=d.alternate;if(_!==null&&(_=_.updateQueue,x===_)){var O=null,M=null;if(x=x.firstBaseUpdate,x!==null){do{var q={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};M===null?O=M=q:M=M.next=q,x=x.next}while(x!==null);M===null?O=M=g:M=M.next=g}else O=M=g;x={baseState:_.baseState,firstBaseUpdate:O,lastBaseUpdate:M,shared:_.shared,effects:_.effects},d.updateQueue=x;return}d=x.lastBaseUpdate,d===null?x.firstBaseUpdate=g:d.next=g,x.lastBaseUpdate=g}function mo(d,g,x,_){var O=d.updateQueue;Un=!1;var M=O.firstBaseUpdate,q=O.lastBaseUpdate,ce=O.shared.pending;if(ce!==null){O.shared.pending=null;var ge=ce,Ie=ge.next;ge.next=null,q===null?M=Ie:q.next=Ie,q=ge;var Le=d.alternate;Le!==null&&(Le=Le.updateQueue,ce=Le.lastBaseUpdate,ce!==q&&(ce===null?Le.firstBaseUpdate=Ie:ce.next=Ie,Le.lastBaseUpdate=ge))}if(M!==null){var Be=O.baseState;q=0,Le=Ie=ge=null,ce=M;do{var Me=ce.lane,qe=ce.eventTime;if((_&Me)===Me){Le!==null&&(Le=Le.next={eventTime:qe,lane:0,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null});e:{var We=d,Ke=ce;switch(Me=g,qe=x,Ke.tag){case 1:if(We=Ke.payload,typeof We=="function"){Be=We.call(qe,Be,Me);break e}Be=We;break e;case 3:We.flags=We.flags&-65537|128;case 0:if(We=Ke.payload,Me=typeof We=="function"?We.call(qe,Be,Me):We,Me==null)break e;Be=j({},Be,Me);break e;case 2:Un=!0}}ce.callback!==null&&ce.lane!==0&&(d.flags|=64,Me=O.effects,Me===null?O.effects=[ce]:Me.push(ce))}else qe={eventTime:qe,lane:Me,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null},Le===null?(Ie=Le=qe,ge=Be):Le=Le.next=qe,q|=Me;if(ce=ce.next,ce===null){if(ce=O.shared.pending,ce===null)break;Me=ce,ce=Me.next,Me.next=null,O.lastBaseUpdate=Me,O.shared.pending=null}}while(!0);if(Le===null&&(ge=Be),O.baseState=ge,O.firstBaseUpdate=Ie,O.lastBaseUpdate=Le,g=O.shared.interleaved,g!==null){O=g;do q|=O.lane,O=O.next;while(O!==g)}else M===null&&(O.shared.lanes=0);ur|=q,d.lanes=q,d.memoizedState=Be}}function Ql(d,g,x){if(d=g.effects,g.effects=null,d!==null)for(g=0;g<d.length;g++){var _=d[g],O=_.callback;if(O!==null){if(_.callback=null,_=x,typeof O!="function")throw Error(o(191,O));O.call(_)}}}var bi={},hn=Ln(bi),xi=Ln(bi),Si=Ln(bi);function sr(d){if(d===bi)throw Error(o(174));return d}function Ba(d,g){switch(ft(Si,g),ft(xi,d),ft(hn,bi),d=g.nodeType,d){case 9:case 11:g=(g=g.documentElement)?g.namespaceURI:me(null,"");break;default:d=d===8?g.parentNode:g,g=d.namespaceURI||null,d=d.tagName,g=me(g,d)}dt(hn),ft(hn,g)}function Lr(){dt(hn),dt(xi),dt(Si)}function Xl(d){sr(Si.current);var g=sr(hn.current),x=me(g,d.type);g!==x&&(ft(xi,d),ft(hn,x))}function Ua(d){xi.current===d&&(dt(hn),dt(xi))}var mt=Ln(0);function go(d){for(var g=d;g!==null;){if(g.tag===13){var x=g.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===d)break;for(;g.sibling===null;){if(g.return===null||g.return===d)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var $a=[];function Ha(){for(var d=0;d<$a.length;d++)$a[d]._workInProgressVersionPrimary=null;$a.length=0}var yo=F.ReactCurrentDispatcher,Ga=F.ReactCurrentBatchConfig,lr=0,gt=null,St=null,_t=null,Eo=!1,vi=!1,_i=0,Uf=0;function Dt(){throw Error(o(321))}function za(d,g){if(g===null)return!1;for(var x=0;x<g.length&&x<d.length;x++)if(!tn(d[x],g[x]))return!1;return!0}function ja(d,g,x,_,O,M){if(lr=M,gt=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,yo.current=d===null||d.memoizedState===null?zf:jf,d=x(_,O),vi){M=0;do{if(vi=!1,_i=0,25<=M)throw Error(o(301));M+=1,_t=St=null,g.updateQueue=null,yo.current=qf,d=x(_,O)}while(vi)}if(yo.current=xo,g=St!==null&&St.next!==null,lr=0,_t=St=gt=null,Eo=!1,g)throw Error(o(300));return d}function qa(){var d=_i!==0;return _i=0,d}function dn(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?gt.memoizedState=_t=d:_t=_t.next=d,_t}function Qt(){if(St===null){var d=gt.alternate;d=d!==null?d.memoizedState:null}else d=St.next;var g=_t===null?gt.memoizedState:_t.next;if(g!==null)_t=g,St=d;else{if(d===null)throw Error(o(310));St=d,d={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},_t===null?gt.memoizedState=_t=d:_t=_t.next=d}return _t}function Ai(d,g){return typeof g=="function"?g(d):g}function Va(d){var g=Qt(),x=g.queue;if(x===null)throw Error(o(311));x.lastRenderedReducer=d;var _=St,O=_.baseQueue,M=x.pending;if(M!==null){if(O!==null){var q=O.next;O.next=M.next,M.next=q}_.baseQueue=O=M,x.pending=null}if(O!==null){M=O.next,_=_.baseState;var ce=q=null,ge=null,Ie=M;do{var Le=Ie.lane;if((lr&Le)===Le)ge!==null&&(ge=ge.next={lane:0,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null}),_=Ie.hasEagerState?Ie.eagerState:d(_,Ie.action);else{var Be={lane:Le,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null};ge===null?(ce=ge=Be,q=_):ge=ge.next=Be,gt.lanes|=Le,ur|=Le}Ie=Ie.next}while(Ie!==null&&Ie!==M);ge===null?q=_:ge.next=ce,tn(_,g.memoizedState)||($t=!0),g.memoizedState=_,g.baseState=q,g.baseQueue=ge,x.lastRenderedState=_}if(d=x.interleaved,d!==null){O=d;do M=O.lane,gt.lanes|=M,ur|=M,O=O.next;while(O!==d)}else O===null&&(x.lanes=0);return[g.memoizedState,x.dispatch]}function Wa(d){var g=Qt(),x=g.queue;if(x===null)throw Error(o(311));x.lastRenderedReducer=d;var _=x.dispatch,O=x.pending,M=g.memoizedState;if(O!==null){x.pending=null;var q=O=O.next;do M=d(M,q.action),q=q.next;while(q!==O);tn(M,g.memoizedState)||($t=!0),g.memoizedState=M,g.baseQueue===null&&(g.baseState=M),x.lastRenderedState=M}return[M,_]}function Jl(){}function Zl(d,g){var x=gt,_=Qt(),O=g(),M=!tn(_.memoizedState,O);if(M&&(_.memoizedState=O,$t=!0),_=_.queue,Ya(nu.bind(null,x,_,d),[d]),_.getSnapshot!==g||M||_t!==null&&_t.memoizedState.tag&1){if(x.flags|=2048,wi(9,tu.bind(null,x,_,O,g),void 0,null),At===null)throw Error(o(349));(lr&30)!==0||eu(x,g,O)}return O}function eu(d,g,x){d.flags|=16384,d={getSnapshot:g,value:x},g=gt.updateQueue,g===null?(g={lastEffect:null,stores:null},gt.updateQueue=g,g.stores=[d]):(x=g.stores,x===null?g.stores=[d]:x.push(d))}function tu(d,g,x,_){g.value=x,g.getSnapshot=_,ru(g)&&iu(d)}function nu(d,g,x){return x(function(){ru(g)&&iu(d)})}function ru(d){var g=d.getSnapshot;d=d.value;try{var x=g();return!tn(d,x)}catch{return!0}}function iu(d){var g=Sn(d,1);g!==null&&sn(g,d,1,-1)}function ou(d){var g=dn();return typeof d=="function"&&(d=d()),g.memoizedState=g.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:d},g.queue=d,d=d.dispatch=Gf.bind(null,gt,d),[g.memoizedState,d]}function wi(d,g,x,_){return d={tag:d,create:g,destroy:x,deps:_,next:null},g=gt.updateQueue,g===null?(g={lastEffect:null,stores:null},gt.updateQueue=g,g.lastEffect=d.next=d):(x=g.lastEffect,x===null?g.lastEffect=d.next=d:(_=x.next,x.next=d,d.next=_,g.lastEffect=d)),d}function au(){return Qt().memoizedState}function To(d,g,x,_){var O=dn();gt.flags|=d,O.memoizedState=wi(1|g,x,void 0,_===void 0?null:_)}function bo(d,g,x,_){var O=Qt();_=_===void 0?null:_;var M=void 0;if(St!==null){var q=St.memoizedState;if(M=q.destroy,_!==null&&za(_,q.deps)){O.memoizedState=wi(g,x,M,_);return}}gt.flags|=d,O.memoizedState=wi(1|g,x,M,_)}function su(d,g){return To(8390656,8,d,g)}function Ya(d,g){return bo(2048,8,d,g)}function lu(d,g){return bo(4,2,d,g)}function uu(d,g){return bo(4,4,d,g)}function cu(d,g){if(typeof g=="function")return d=d(),g(d),function(){g(null)};if(g!=null)return d=d(),g.current=d,function(){g.current=null}}function fu(d,g,x){return x=x!=null?x.concat([d]):null,bo(4,4,cu.bind(null,g,d),x)}function Ka(){}function hu(d,g){var x=Qt();g=g===void 0?null:g;var _=x.memoizedState;return _!==null&&g!==null&&za(g,_[1])?_[0]:(x.memoizedState=[d,g],d)}function du(d,g){var x=Qt();g=g===void 0?null:g;var _=x.memoizedState;return _!==null&&g!==null&&za(g,_[1])?_[0]:(d=d(),x.memoizedState=[d,g],d)}function pu(d,g,x){return(lr&21)===0?(d.baseState&&(d.baseState=!1,$t=!0),d.memoizedState=x):(tn(x,g)||(x=js(),gt.lanes|=x,ur|=x,d.baseState=!0),g)}function $f(d,g){var x=ut;ut=x!==0&&4>x?x:4,d(!0);var _=Ga.transition;Ga.transition={};try{d(!1),g()}finally{ut=x,Ga.transition=_}}function mu(){return Qt().memoizedState}function Hf(d,g,x){var _=jn(d);if(x={lane:_,action:x,hasEagerState:!1,eagerState:null,next:null},gu(d))yu(g,x);else if(x=Wl(d,g,x,_),x!==null){var O=Lt();sn(x,d,_,O),Eu(x,g,_)}}function Gf(d,g,x){var _=jn(d),O={lane:_,action:x,hasEagerState:!1,eagerState:null,next:null};if(gu(d))yu(g,O);else{var M=d.alternate;if(d.lanes===0&&(M===null||M.lanes===0)&&(M=g.lastRenderedReducer,M!==null))try{var q=g.lastRenderedState,ce=M(q,x);if(O.hasEagerState=!0,O.eagerState=ce,tn(ce,q)){var ge=g.interleaved;ge===null?(O.next=O,La(g)):(O.next=ge.next,ge.next=O),g.interleaved=O;return}}catch{}finally{}x=Wl(d,g,O,_),x!==null&&(O=Lt(),sn(x,d,_,O),Eu(x,g,_))}}function gu(d){var g=d.alternate;return d===gt||g!==null&&g===gt}function yu(d,g){vi=Eo=!0;var x=d.pending;x===null?g.next=g:(g.next=x.next,x.next=g),d.pending=g}function Eu(d,g,x){if((x&4194240)!==0){var _=g.lanes;_&=d.pendingLanes,x|=_,g.lanes=x,Qo(d,x)}}var xo={readContext:Kt,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},zf={readContext:Kt,useCallback:function(d,g){return dn().memoizedState=[d,g===void 0?null:g],d},useContext:Kt,useEffect:su,useImperativeHandle:function(d,g,x){return x=x!=null?x.concat([d]):null,To(4194308,4,cu.bind(null,g,d),x)},useLayoutEffect:function(d,g){return To(4194308,4,d,g)},useInsertionEffect:function(d,g){return To(4,2,d,g)},useMemo:function(d,g){var x=dn();return g=g===void 0?null:g,d=d(),x.memoizedState=[d,g],d},useReducer:function(d,g,x){var _=dn();return g=x!==void 0?x(g):g,_.memoizedState=_.baseState=g,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:g},_.queue=d,d=d.dispatch=Hf.bind(null,gt,d),[_.memoizedState,d]},useRef:function(d){var g=dn();return d={current:d},g.memoizedState=d},useState:ou,useDebugValue:Ka,useDeferredValue:function(d){return dn().memoizedState=d},useTransition:function(){var d=ou(!1),g=d[0];return d=$f.bind(null,d[1]),dn().memoizedState=d,[g,d]},useMutableSource:function(){},useSyncExternalStore:function(d,g,x){var _=gt,O=dn();if(pt){if(x===void 0)throw Error(o(407));x=x()}else{if(x=g(),At===null)throw Error(o(349));(lr&30)!==0||eu(_,g,x)}O.memoizedState=x;var M={value:x,getSnapshot:g};return O.queue=M,su(nu.bind(null,_,M,d),[d]),_.flags|=2048,wi(9,tu.bind(null,_,M,x,g),void 0,null),x},useId:function(){var d=dn(),g=At.identifierPrefix;if(pt){var x=xn,_=bn;x=(_&~(1<<32-en(_)-1)).toString(32)+x,g=":"+g+"R"+x,x=_i++,0<x&&(g+="H"+x.toString(32)),g+=":"}else x=Uf++,g=":"+g+"r"+x.toString(32)+":";return d.memoizedState=g},unstable_isNewReconciler:!1},jf={readContext:Kt,useCallback:hu,useContext:Kt,useEffect:Ya,useImperativeHandle:fu,useInsertionEffect:lu,useLayoutEffect:uu,useMemo:du,useReducer:Va,useRef:au,useState:function(){return Va(Ai)},useDebugValue:Ka,useDeferredValue:function(d){var g=Qt();return pu(g,St.memoizedState,d)},useTransition:function(){var d=Va(Ai)[0],g=Qt().memoizedState;return[d,g]},useMutableSource:Jl,useSyncExternalStore:Zl,useId:mu,unstable_isNewReconciler:!1},qf={readContext:Kt,useCallback:hu,useContext:Kt,useEffect:Ya,useImperativeHandle:fu,useInsertionEffect:lu,useLayoutEffect:uu,useMemo:du,useReducer:Wa,useRef:au,useState:function(){return Wa(Ai)},useDebugValue:Ka,useDeferredValue:function(d){var g=Qt();return St===null?g.memoizedState=d:pu(g,St.memoizedState,d)},useTransition:function(){var d=Wa(Ai)[0],g=Qt().memoizedState;return[d,g]},useMutableSource:Jl,useSyncExternalStore:Zl,useId:mu,unstable_isNewReconciler:!1};function rn(d,g){if(d&&d.defaultProps){g=j({},g),d=d.defaultProps;for(var x in d)g[x]===void 0&&(g[x]=d[x]);return g}return g}function Qa(d,g,x,_){g=d.memoizedState,x=x(_,g),x=x==null?g:j({},g,x),d.memoizedState=x,d.lanes===0&&(d.updateQueue.baseState=x)}var So={isMounted:function(d){return(d=d._reactInternals)?tr(d)===d:!1},enqueueSetState:function(d,g,x){d=d._reactInternals;var _=Lt(),O=jn(d),M=vn(_,O);M.payload=g,x!=null&&(M.callback=x),g=$n(d,M,O),g!==null&&(sn(g,d,O,_),po(g,d,O))},enqueueReplaceState:function(d,g,x){d=d._reactInternals;var _=Lt(),O=jn(d),M=vn(_,O);M.tag=1,M.payload=g,x!=null&&(M.callback=x),g=$n(d,M,O),g!==null&&(sn(g,d,O,_),po(g,d,O))},enqueueForceUpdate:function(d,g){d=d._reactInternals;var x=Lt(),_=jn(d),O=vn(x,_);O.tag=2,g!=null&&(O.callback=g),g=$n(d,O,_),g!==null&&(sn(g,d,_,x),po(g,d,_))}};function Tu(d,g,x,_,O,M,q){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(_,M,q):g.prototype&&g.prototype.isPureReactComponent?!hi(x,_)||!hi(O,M):!0}function bu(d,g,x){var _=!1,O=Fn,M=g.contextType;return typeof M=="object"&&M!==null?M=Kt(M):(O=Ut(g)?rr:kt.current,_=g.contextTypes,M=(_=_!=null)?kr(d,O):Fn),g=new g(x,M),d.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=So,d.stateNode=g,g._reactInternals=d,_&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=O,d.__reactInternalMemoizedMaskedChildContext=M),g}function xu(d,g,x,_){d=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(x,_),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(x,_),g.state!==d&&So.enqueueReplaceState(g,g.state,null)}function Xa(d,g,x,_){var O=d.stateNode;O.props=x,O.state=d.memoizedState,O.refs={},Fa(d);var M=g.contextType;typeof M=="object"&&M!==null?O.context=Kt(M):(M=Ut(g)?rr:kt.current,O.context=kr(d,M)),O.state=d.memoizedState,M=g.getDerivedStateFromProps,typeof M=="function"&&(Qa(d,g,M,x),O.state=d.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(g=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),g!==O.state&&So.enqueueReplaceState(O,O.state,null),mo(d,x,O,_),O.state=d.memoizedState),typeof O.componentDidMount=="function"&&(d.flags|=4194308)}function Fr(d,g){try{var x="",_=g;do x+=we(_),_=_.return;while(_);var O=x}catch(M){O=`
Error generating stack: `+M.message+`
`+M.stack}return{value:d,source:g,stack:O,digest:null}}function Ja(d,g,x){return{value:d,source:null,stack:x??null,digest:g??null}}function Za(d,g){try{console.error(g.value)}catch(x){setTimeout(function(){throw x})}}var Vf=typeof WeakMap=="function"?WeakMap:Map;function Su(d,g,x){x=vn(-1,x),x.tag=3,x.payload={element:null};var _=g.value;return x.callback=function(){ko||(ko=!0,ms=_),Za(d,g)},x}function vu(d,g,x){x=vn(-1,x),x.tag=3;var _=d.type.getDerivedStateFromError;if(typeof _=="function"){var O=g.value;x.payload=function(){return _(O)},x.callback=function(){Za(d,g)}}var M=d.stateNode;return M!==null&&typeof M.componentDidCatch=="function"&&(x.callback=function(){Za(d,g),typeof _!="function"&&(Gn===null?Gn=new Set([this]):Gn.add(this));var q=g.stack;this.componentDidCatch(g.value,{componentStack:q!==null?q:""})}),x}function _u(d,g,x){var _=d.pingCache;if(_===null){_=d.pingCache=new Vf;var O=new Set;_.set(g,O)}else O=_.get(g),O===void 0&&(O=new Set,_.set(g,O));O.has(x)||(O.add(x),d=ah.bind(null,d,g,x),g.then(d,d))}function Au(d){do{var g;if((g=d.tag===13)&&(g=d.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return d;d=d.return}while(d!==null);return null}function wu(d,g,x,_,O){return(d.mode&1)===0?(d===g?d.flags|=65536:(d.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(g=vn(-1,1),g.tag=2,$n(x,g,1))),x.lanes|=1),d):(d.flags|=65536,d.lanes=O,d)}var Wf=F.ReactCurrentOwner,$t=!1;function Mt(d,g,x,_){g.child=d===null?Vl(g,null,x,_):Nr(g,d.child,x,_)}function Cu(d,g,x,_,O){x=x.render;var M=g.ref;return Mr(g,O),_=ja(d,g,x,_,M,O),x=qa(),d!==null&&!$t?(g.updateQueue=d.updateQueue,g.flags&=-2053,d.lanes&=~O,_n(d,g,O)):(pt&&x&&Ca(g),g.flags|=1,Mt(d,g,_,O),g.child)}function Iu(d,g,x,_,O){if(d===null){var M=x.type;return typeof M=="function"&&!Ss(M)&&M.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(g.tag=15,g.type=M,ku(d,g,M,_,O)):(d=Mo(x.type,null,_,g,g.mode,O),d.ref=g.ref,d.return=g,g.child=d)}if(M=d.child,(d.lanes&O)===0){var q=M.memoizedProps;if(x=x.compare,x=x!==null?x:hi,x(q,_)&&d.ref===g.ref)return _n(d,g,O)}return g.flags|=1,d=Vn(M,_),d.ref=g.ref,d.return=g,g.child=d}function ku(d,g,x,_,O){if(d!==null){var M=d.memoizedProps;if(hi(M,_)&&d.ref===g.ref)if($t=!1,g.pendingProps=_=M,(d.lanes&O)!==0)(d.flags&131072)!==0&&($t=!0);else return g.lanes=d.lanes,_n(d,g,O)}return ts(d,g,x,_,O)}function Du(d,g,x){var _=g.pendingProps,O=_.children,M=d!==null?d.memoizedState:null;if(_.mode==="hidden")if((g.mode&1)===0)g.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(Ur,Vt),Vt|=x;else{if((x&1073741824)===0)return d=M!==null?M.baseLanes|x:x,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:d,cachePool:null,transitions:null},g.updateQueue=null,ft(Ur,Vt),Vt|=d,null;g.memoizedState={baseLanes:0,cachePool:null,transitions:null},_=M!==null?M.baseLanes:x,ft(Ur,Vt),Vt|=_}else M!==null?(_=M.baseLanes|x,g.memoizedState=null):_=x,ft(Ur,Vt),Vt|=_;return Mt(d,g,O,x),g.child}function Ou(d,g){var x=g.ref;(d===null&&x!==null||d!==null&&d.ref!==x)&&(g.flags|=512,g.flags|=2097152)}function ts(d,g,x,_,O){var M=Ut(x)?rr:kt.current;return M=kr(g,M),Mr(g,O),x=ja(d,g,x,_,M,O),_=qa(),d!==null&&!$t?(g.updateQueue=d.updateQueue,g.flags&=-2053,d.lanes&=~O,_n(d,g,O)):(pt&&_&&Ca(g),g.flags|=1,Mt(d,g,x,O),g.child)}function Ru(d,g,x,_,O){if(Ut(x)){var M=!0;oo(g)}else M=!1;if(Mr(g,O),g.stateNode===null)_o(d,g),bu(g,x,_),Xa(g,x,_,O),_=!0;else if(d===null){var q=g.stateNode,ce=g.memoizedProps;q.props=ce;var ge=q.context,Ie=x.contextType;typeof Ie=="object"&&Ie!==null?Ie=Kt(Ie):(Ie=Ut(x)?rr:kt.current,Ie=kr(g,Ie));var Le=x.getDerivedStateFromProps,Be=typeof Le=="function"||typeof q.getSnapshotBeforeUpdate=="function";Be||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(ce!==_||ge!==Ie)&&xu(g,q,_,Ie),Un=!1;var Me=g.memoizedState;q.state=Me,mo(g,_,q,O),ge=g.memoizedState,ce!==_||Me!==ge||Bt.current||Un?(typeof Le=="function"&&(Qa(g,x,Le,_),ge=g.memoizedState),(ce=Un||Tu(g,x,ce,_,Me,ge,Ie))?(Be||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(g.flags|=4194308)):(typeof q.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=_,g.memoizedState=ge),q.props=_,q.state=ge,q.context=Ie,_=ce):(typeof q.componentDidMount=="function"&&(g.flags|=4194308),_=!1)}else{q=g.stateNode,Yl(d,g),ce=g.memoizedProps,Ie=g.type===g.elementType?ce:rn(g.type,ce),q.props=Ie,Be=g.pendingProps,Me=q.context,ge=x.contextType,typeof ge=="object"&&ge!==null?ge=Kt(ge):(ge=Ut(x)?rr:kt.current,ge=kr(g,ge));var qe=x.getDerivedStateFromProps;(Le=typeof qe=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(ce!==Be||Me!==ge)&&xu(g,q,_,ge),Un=!1,Me=g.memoizedState,q.state=Me,mo(g,_,q,O);var We=g.memoizedState;ce!==Be||Me!==We||Bt.current||Un?(typeof qe=="function"&&(Qa(g,x,qe,_),We=g.memoizedState),(Ie=Un||Tu(g,x,Ie,_,Me,We,ge)||!1)?(Le||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(_,We,ge),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(_,We,ge)),typeof q.componentDidUpdate=="function"&&(g.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof q.componentDidUpdate!="function"||ce===d.memoizedProps&&Me===d.memoizedState||(g.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||ce===d.memoizedProps&&Me===d.memoizedState||(g.flags|=1024),g.memoizedProps=_,g.memoizedState=We),q.props=_,q.state=We,q.context=ge,_=Ie):(typeof q.componentDidUpdate!="function"||ce===d.memoizedProps&&Me===d.memoizedState||(g.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||ce===d.memoizedProps&&Me===d.memoizedState||(g.flags|=1024),_=!1)}return ns(d,g,x,_,M,O)}function ns(d,g,x,_,O,M){Ou(d,g);var q=(g.flags&128)!==0;if(!_&&!q)return O&&Fl(g,x,!1),_n(d,g,M);_=g.stateNode,Wf.current=g;var ce=q&&typeof x.getDerivedStateFromError!="function"?null:_.render();return g.flags|=1,d!==null&&q?(g.child=Nr(g,d.child,null,M),g.child=Nr(g,null,ce,M)):Mt(d,g,ce,M),g.memoizedState=_.state,O&&Fl(g,x,!0),g.child}function Nu(d){var g=d.stateNode;g.pendingContext?Ml(d,g.pendingContext,g.pendingContext!==g.context):g.context&&Ml(d,g.context,!1),Ba(d,g.containerInfo)}function Pu(d,g,x,_,O){return Rr(),Oa(O),g.flags|=256,Mt(d,g,x,_),g.child}var rs={dehydrated:null,treeContext:null,retryLane:0};function is(d){return{baseLanes:d,cachePool:null,transitions:null}}function Mu(d,g,x){var _=g.pendingProps,O=mt.current,M=!1,q=(g.flags&128)!==0,ce;if((ce=q)||(ce=d!==null&&d.memoizedState===null?!1:(O&2)!==0),ce?(M=!0,g.flags&=-129):(d===null||d.memoizedState!==null)&&(O|=1),ft(mt,O&1),d===null)return Da(g),d=g.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((g.mode&1)===0?g.lanes=1:d.data==="$!"?g.lanes=8:g.lanes=1073741824,null):(q=_.children,d=_.fallback,M?(_=g.mode,M=g.child,q={mode:"hidden",children:q},(_&1)===0&&M!==null?(M.childLanes=0,M.pendingProps=q):M=Lo(q,_,0,null),d=dr(d,_,x,null),M.return=g,d.return=g,M.sibling=d,g.child=M,g.child.memoizedState=is(x),g.memoizedState=rs,d):os(g,q));if(O=d.memoizedState,O!==null&&(ce=O.dehydrated,ce!==null))return Yf(d,g,q,_,ce,O,x);if(M){M=_.fallback,q=g.mode,O=d.child,ce=O.sibling;var ge={mode:"hidden",children:_.children};return(q&1)===0&&g.child!==O?(_=g.child,_.childLanes=0,_.pendingProps=ge,g.deletions=null):(_=Vn(O,ge),_.subtreeFlags=O.subtreeFlags&14680064),ce!==null?M=Vn(ce,M):(M=dr(M,q,x,null),M.flags|=2),M.return=g,_.return=g,_.sibling=M,g.child=_,_=M,M=g.child,q=d.child.memoizedState,q=q===null?is(x):{baseLanes:q.baseLanes|x,cachePool:null,transitions:q.transitions},M.memoizedState=q,M.childLanes=d.childLanes&~x,g.memoizedState=rs,_}return M=d.child,d=M.sibling,_=Vn(M,{mode:"visible",children:_.children}),(g.mode&1)===0&&(_.lanes=x),_.return=g,_.sibling=null,d!==null&&(x=g.deletions,x===null?(g.deletions=[d],g.flags|=16):x.push(d)),g.child=_,g.memoizedState=null,_}function os(d,g){return g=Lo({mode:"visible",children:g},d.mode,0,null),g.return=d,d.child=g}function vo(d,g,x,_){return _!==null&&Oa(_),Nr(g,d.child,null,x),d=os(g,g.pendingProps.children),d.flags|=2,g.memoizedState=null,d}function Yf(d,g,x,_,O,M,q){if(x)return g.flags&256?(g.flags&=-257,_=Ja(Error(o(422))),vo(d,g,q,_)):g.memoizedState!==null?(g.child=d.child,g.flags|=128,null):(M=_.fallback,O=g.mode,_=Lo({mode:"visible",children:_.children},O,0,null),M=dr(M,O,q,null),M.flags|=2,_.return=g,M.return=g,_.sibling=M,g.child=_,(g.mode&1)!==0&&Nr(g,d.child,null,q),g.child.memoizedState=is(q),g.memoizedState=rs,M);if((g.mode&1)===0)return vo(d,g,q,null);if(O.data==="$!"){if(_=O.nextSibling&&O.nextSibling.dataset,_)var ce=_.dgst;return _=ce,M=Error(o(419)),_=Ja(M,_,void 0),vo(d,g,q,_)}if(ce=(q&d.childLanes)!==0,$t||ce){if(_=At,_!==null){switch(q&-q){case 4:O=2;break;case 16:O=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:O=32;break;case 536870912:O=268435456;break;default:O=0}O=(O&(_.suspendedLanes|q))!==0?0:O,O!==0&&O!==M.retryLane&&(M.retryLane=O,Sn(d,O),sn(_,d,O,-1))}return xs(),_=Ja(Error(o(421))),vo(d,g,q,_)}return O.data==="$?"?(g.flags|=128,g.child=d.child,g=sh.bind(null,d),O._reactRetry=g,null):(d=M.treeContext,qt=Mn(O.nextSibling),jt=g,pt=!0,nn=null,d!==null&&(Wt[Yt++]=bn,Wt[Yt++]=xn,Wt[Yt++]=ir,bn=d.id,xn=d.overflow,ir=g),g=os(g,_.children),g.flags|=4096,g)}function Lu(d,g,x){d.lanes|=g;var _=d.alternate;_!==null&&(_.lanes|=g),Ma(d.return,g,x)}function as(d,g,x,_,O){var M=d.memoizedState;M===null?d.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:_,tail:x,tailMode:O}:(M.isBackwards=g,M.rendering=null,M.renderingStartTime=0,M.last=_,M.tail=x,M.tailMode=O)}function Fu(d,g,x){var _=g.pendingProps,O=_.revealOrder,M=_.tail;if(Mt(d,g,_.children,x),_=mt.current,(_&2)!==0)_=_&1|2,g.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=g.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&Lu(d,x,g);else if(d.tag===19)Lu(d,x,g);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===g)break e;for(;d.sibling===null;){if(d.return===null||d.return===g)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}_&=1}if(ft(mt,_),(g.mode&1)===0)g.memoizedState=null;else switch(O){case"forwards":for(x=g.child,O=null;x!==null;)d=x.alternate,d!==null&&go(d)===null&&(O=x),x=x.sibling;x=O,x===null?(O=g.child,g.child=null):(O=x.sibling,x.sibling=null),as(g,!1,O,x,M);break;case"backwards":for(x=null,O=g.child,g.child=null;O!==null;){if(d=O.alternate,d!==null&&go(d)===null){g.child=O;break}d=O.sibling,O.sibling=x,x=O,O=d}as(g,!0,x,null,M);break;case"together":as(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function _o(d,g){(g.mode&1)===0&&d!==null&&(d.alternate=null,g.alternate=null,g.flags|=2)}function _n(d,g,x){if(d!==null&&(g.dependencies=d.dependencies),ur|=g.lanes,(x&g.childLanes)===0)return null;if(d!==null&&g.child!==d.child)throw Error(o(153));if(g.child!==null){for(d=g.child,x=Vn(d,d.pendingProps),g.child=x,x.return=g;d.sibling!==null;)d=d.sibling,x=x.sibling=Vn(d,d.pendingProps),x.return=g;x.sibling=null}return g.child}function Kf(d,g,x){switch(g.tag){case 3:Nu(g),Rr();break;case 5:Xl(g);break;case 1:Ut(g.type)&&oo(g);break;case 4:Ba(g,g.stateNode.containerInfo);break;case 10:var _=g.type._context,O=g.memoizedProps.value;ft(fo,_._currentValue),_._currentValue=O;break;case 13:if(_=g.memoizedState,_!==null)return _.dehydrated!==null?(ft(mt,mt.current&1),g.flags|=128,null):(x&g.child.childLanes)!==0?Mu(d,g,x):(ft(mt,mt.current&1),d=_n(d,g,x),d!==null?d.sibling:null);ft(mt,mt.current&1);break;case 19:if(_=(x&g.childLanes)!==0,(d.flags&128)!==0){if(_)return Fu(d,g,x);g.flags|=128}if(O=g.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),ft(mt,mt.current),_)break;return null;case 22:case 23:return g.lanes=0,Du(d,g,x)}return _n(d,g,x)}var Bu,ss,Uu,$u;Bu=function(d,g){for(var x=g.child;x!==null;){if(x.tag===5||x.tag===6)d.appendChild(x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===g)break;for(;x.sibling===null;){if(x.return===null||x.return===g)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},ss=function(){},Uu=function(d,g,x,_){var O=d.memoizedProps;if(O!==_){d=g.stateNode,sr(hn.current);var M=null;switch(x){case"input":O=U(d,O),_=U(d,_),M=[];break;case"select":O=j({},O,{value:void 0}),_=j({},_,{value:void 0}),M=[];break;case"textarea":O=xe(d,O),_=xe(d,_),M=[];break;default:typeof O.onClick!="function"&&typeof _.onClick=="function"&&(d.onclick=no)}de(x,_);var q;x=null;for(Ie in O)if(!_.hasOwnProperty(Ie)&&O.hasOwnProperty(Ie)&&O[Ie]!=null)if(Ie==="style"){var ce=O[Ie];for(q in ce)ce.hasOwnProperty(q)&&(x||(x={}),x[q]="")}else Ie!=="dangerouslySetInnerHTML"&&Ie!=="children"&&Ie!=="suppressContentEditableWarning"&&Ie!=="suppressHydrationWarning"&&Ie!=="autoFocus"&&(l.hasOwnProperty(Ie)?M||(M=[]):(M=M||[]).push(Ie,null));for(Ie in _){var ge=_[Ie];if(ce=O!=null?O[Ie]:void 0,_.hasOwnProperty(Ie)&&ge!==ce&&(ge!=null||ce!=null))if(Ie==="style")if(ce){for(q in ce)!ce.hasOwnProperty(q)||ge&&ge.hasOwnProperty(q)||(x||(x={}),x[q]="");for(q in ge)ge.hasOwnProperty(q)&&ce[q]!==ge[q]&&(x||(x={}),x[q]=ge[q])}else x||(M||(M=[]),M.push(Ie,x)),x=ge;else Ie==="dangerouslySetInnerHTML"?(ge=ge?ge.__html:void 0,ce=ce?ce.__html:void 0,ge!=null&&ce!==ge&&(M=M||[]).push(Ie,ge)):Ie==="children"?typeof ge!="string"&&typeof ge!="number"||(M=M||[]).push(Ie,""+ge):Ie!=="suppressContentEditableWarning"&&Ie!=="suppressHydrationWarning"&&(l.hasOwnProperty(Ie)?(ge!=null&&Ie==="onScroll"&&ht("scroll",d),M||ce===ge||(M=[])):(M=M||[]).push(Ie,ge))}x&&(M=M||[]).push("style",x);var Ie=M;(g.updateQueue=Ie)&&(g.flags|=4)}},$u=function(d,g,x,_){x!==_&&(g.flags|=4)};function Ci(d,g){if(!pt)switch(d.tailMode){case"hidden":g=d.tail;for(var x=null;g!==null;)g.alternate!==null&&(x=g),g=g.sibling;x===null?d.tail=null:x.sibling=null;break;case"collapsed":x=d.tail;for(var _=null;x!==null;)x.alternate!==null&&(_=x),x=x.sibling;_===null?g||d.tail===null?d.tail=null:d.tail.sibling=null:_.sibling=null}}function Ot(d){var g=d.alternate!==null&&d.alternate.child===d.child,x=0,_=0;if(g)for(var O=d.child;O!==null;)x|=O.lanes|O.childLanes,_|=O.subtreeFlags&14680064,_|=O.flags&14680064,O.return=d,O=O.sibling;else for(O=d.child;O!==null;)x|=O.lanes|O.childLanes,_|=O.subtreeFlags,_|=O.flags,O.return=d,O=O.sibling;return d.subtreeFlags|=_,d.childLanes=x,g}function Qf(d,g,x){var _=g.pendingProps;switch(Ia(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(g),null;case 1:return Ut(g.type)&&io(),Ot(g),null;case 3:return _=g.stateNode,Lr(),dt(Bt),dt(kt),Ha(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(d===null||d.child===null)&&(uo(g)?g.flags|=4:d===null||d.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,nn!==null&&(Es(nn),nn=null))),ss(d,g),Ot(g),null;case 5:Ua(g);var O=sr(Si.current);if(x=g.type,d!==null&&g.stateNode!=null)Uu(d,g,x,_,O),d.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!_){if(g.stateNode===null)throw Error(o(166));return Ot(g),null}if(d=sr(hn.current),uo(g)){_=g.stateNode,x=g.type;var M=g.memoizedProps;switch(_[fn]=g,_[yi]=M,d=(g.mode&1)!==0,x){case"dialog":ht("cancel",_),ht("close",_);break;case"iframe":case"object":case"embed":ht("load",_);break;case"video":case"audio":for(O=0;O<pi.length;O++)ht(pi[O],_);break;case"source":ht("error",_);break;case"img":case"image":case"link":ht("error",_),ht("load",_);break;case"details":ht("toggle",_);break;case"input":De(_,M),ht("invalid",_);break;case"select":_._wrapperState={wasMultiple:!!M.multiple},ht("invalid",_);break;case"textarea":Fe(_,M),ht("invalid",_)}de(x,M),O=null;for(var q in M)if(M.hasOwnProperty(q)){var ce=M[q];q==="children"?typeof ce=="string"?_.textContent!==ce&&(M.suppressHydrationWarning!==!0&&to(_.textContent,ce,d),O=["children",ce]):typeof ce=="number"&&_.textContent!==""+ce&&(M.suppressHydrationWarning!==!0&&to(_.textContent,ce,d),O=["children",""+ce]):l.hasOwnProperty(q)&&ce!=null&&q==="onScroll"&&ht("scroll",_)}switch(x){case"input":et(_),oe(_,M,!0);break;case"textarea":et(_),ne(_);break;case"select":case"option":break;default:typeof M.onClick=="function"&&(_.onclick=no)}_=O,g.updateQueue=_,_!==null&&(g.flags|=4)}else{q=O.nodeType===9?O:O.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=J(x)),d==="http://www.w3.org/1999/xhtml"?x==="script"?(d=q.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof _.is=="string"?d=q.createElement(x,{is:_.is}):(d=q.createElement(x),x==="select"&&(q=d,_.multiple?q.multiple=!0:_.size&&(q.size=_.size))):d=q.createElementNS(d,x),d[fn]=g,d[yi]=_,Bu(d,g,!1,!1),g.stateNode=d;e:{switch(q=ve(x,_),x){case"dialog":ht("cancel",d),ht("close",d),O=_;break;case"iframe":case"object":case"embed":ht("load",d),O=_;break;case"video":case"audio":for(O=0;O<pi.length;O++)ht(pi[O],d);O=_;break;case"source":ht("error",d),O=_;break;case"img":case"image":case"link":ht("error",d),ht("load",d),O=_;break;case"details":ht("toggle",d),O=_;break;case"input":De(d,_),O=U(d,_),ht("invalid",d);break;case"option":O=_;break;case"select":d._wrapperState={wasMultiple:!!_.multiple},O=j({},_,{value:void 0}),ht("invalid",d);break;case"textarea":Fe(d,_),O=xe(d,_),ht("invalid",d);break;default:O=_}de(x,O),ce=O;for(M in ce)if(ce.hasOwnProperty(M)){var ge=ce[M];M==="style"?ee(d,ge):M==="dangerouslySetInnerHTML"?(ge=ge?ge.__html:void 0,ge!=null&&ke(d,ge)):M==="children"?typeof ge=="string"?(x!=="textarea"||ge!=="")&&D(d,ge):typeof ge=="number"&&D(d,""+ge):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(l.hasOwnProperty(M)?ge!=null&&M==="onScroll"&&ht("scroll",d):ge!=null&&P(d,M,ge,q))}switch(x){case"input":et(d),oe(d,_,!1);break;case"textarea":et(d),ne(d);break;case"option":_.value!=null&&d.setAttribute("value",""+He(_.value));break;case"select":d.multiple=!!_.multiple,M=_.value,M!=null?Re(d,!!_.multiple,M,!1):_.defaultValue!=null&&Re(d,!!_.multiple,_.defaultValue,!0);break;default:typeof O.onClick=="function"&&(d.onclick=no)}switch(x){case"button":case"input":case"select":case"textarea":_=!!_.autoFocus;break e;case"img":_=!0;break e;default:_=!1}}_&&(g.flags|=4)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return Ot(g),null;case 6:if(d&&g.stateNode!=null)$u(d,g,d.memoizedProps,_);else{if(typeof _!="string"&&g.stateNode===null)throw Error(o(166));if(x=sr(Si.current),sr(hn.current),uo(g)){if(_=g.stateNode,x=g.memoizedProps,_[fn]=g,(M=_.nodeValue!==x)&&(d=jt,d!==null))switch(d.tag){case 3:to(_.nodeValue,x,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&to(_.nodeValue,x,(d.mode&1)!==0)}M&&(g.flags|=4)}else _=(x.nodeType===9?x:x.ownerDocument).createTextNode(_),_[fn]=g,g.stateNode=_}return Ot(g),null;case 13:if(dt(mt),_=g.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(pt&&qt!==null&&(g.mode&1)!==0&&(g.flags&128)===0)zl(),Rr(),g.flags|=98560,M=!1;else if(M=uo(g),_!==null&&_.dehydrated!==null){if(d===null){if(!M)throw Error(o(318));if(M=g.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(o(317));M[fn]=g}else Rr(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;Ot(g),M=!1}else nn!==null&&(Es(nn),nn=null),M=!0;if(!M)return g.flags&65536?g:null}return(g.flags&128)!==0?(g.lanes=x,g):(_=_!==null,_!==(d!==null&&d.memoizedState!==null)&&_&&(g.child.flags|=8192,(g.mode&1)!==0&&(d===null||(mt.current&1)!==0?vt===0&&(vt=3):xs())),g.updateQueue!==null&&(g.flags|=4),Ot(g),null);case 4:return Lr(),ss(d,g),d===null&&mi(g.stateNode.containerInfo),Ot(g),null;case 10:return Pa(g.type._context),Ot(g),null;case 17:return Ut(g.type)&&io(),Ot(g),null;case 19:if(dt(mt),M=g.memoizedState,M===null)return Ot(g),null;if(_=(g.flags&128)!==0,q=M.rendering,q===null)if(_)Ci(M,!1);else{if(vt!==0||d!==null&&(d.flags&128)!==0)for(d=g.child;d!==null;){if(q=go(d),q!==null){for(g.flags|=128,Ci(M,!1),_=q.updateQueue,_!==null&&(g.updateQueue=_,g.flags|=4),g.subtreeFlags=0,_=x,x=g.child;x!==null;)M=x,d=_,M.flags&=14680066,q=M.alternate,q===null?(M.childLanes=0,M.lanes=d,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=q.childLanes,M.lanes=q.lanes,M.child=q.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=q.memoizedProps,M.memoizedState=q.memoizedState,M.updateQueue=q.updateQueue,M.type=q.type,d=q.dependencies,M.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),x=x.sibling;return ft(mt,mt.current&1|2),g.child}d=d.sibling}M.tail!==null&&Tt()>$r&&(g.flags|=128,_=!0,Ci(M,!1),g.lanes=4194304)}else{if(!_)if(d=go(q),d!==null){if(g.flags|=128,_=!0,x=d.updateQueue,x!==null&&(g.updateQueue=x,g.flags|=4),Ci(M,!0),M.tail===null&&M.tailMode==="hidden"&&!q.alternate&&!pt)return Ot(g),null}else 2*Tt()-M.renderingStartTime>$r&&x!==1073741824&&(g.flags|=128,_=!0,Ci(M,!1),g.lanes=4194304);M.isBackwards?(q.sibling=g.child,g.child=q):(x=M.last,x!==null?x.sibling=q:g.child=q,M.last=q)}return M.tail!==null?(g=M.tail,M.rendering=g,M.tail=g.sibling,M.renderingStartTime=Tt(),g.sibling=null,x=mt.current,ft(mt,_?x&1|2:x&1),g):(Ot(g),null);case 22:case 23:return bs(),_=g.memoizedState!==null,d!==null&&d.memoizedState!==null!==_&&(g.flags|=8192),_&&(g.mode&1)!==0?(Vt&1073741824)!==0&&(Ot(g),g.subtreeFlags&6&&(g.flags|=8192)):Ot(g),null;case 24:return null;case 25:return null}throw Error(o(156,g.tag))}function Xf(d,g){switch(Ia(g),g.tag){case 1:return Ut(g.type)&&io(),d=g.flags,d&65536?(g.flags=d&-65537|128,g):null;case 3:return Lr(),dt(Bt),dt(kt),Ha(),d=g.flags,(d&65536)!==0&&(d&128)===0?(g.flags=d&-65537|128,g):null;case 5:return Ua(g),null;case 13:if(dt(mt),d=g.memoizedState,d!==null&&d.dehydrated!==null){if(g.alternate===null)throw Error(o(340));Rr()}return d=g.flags,d&65536?(g.flags=d&-65537|128,g):null;case 19:return dt(mt),null;case 4:return Lr(),null;case 10:return Pa(g.type._context),null;case 22:case 23:return bs(),null;case 24:return null;default:return null}}var Ao=!1,Rt=!1,Jf=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function Br(d,g){var x=d.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(_){yt(d,g,_)}else x.current=null}function ls(d,g,x){try{x()}catch(_){yt(d,g,_)}}var Hu=!1;function Zf(d,g){if(Ea=ji,d=Tl(),ca(d)){if("selectionStart"in d)var x={start:d.selectionStart,end:d.selectionEnd};else e:{x=(x=d.ownerDocument)&&x.defaultView||window;var _=x.getSelection&&x.getSelection();if(_&&_.rangeCount!==0){x=_.anchorNode;var O=_.anchorOffset,M=_.focusNode;_=_.focusOffset;try{x.nodeType,M.nodeType}catch{x=null;break e}var q=0,ce=-1,ge=-1,Ie=0,Le=0,Be=d,Me=null;t:for(;;){for(var qe;Be!==x||O!==0&&Be.nodeType!==3||(ce=q+O),Be!==M||_!==0&&Be.nodeType!==3||(ge=q+_),Be.nodeType===3&&(q+=Be.nodeValue.length),(qe=Be.firstChild)!==null;)Me=Be,Be=qe;for(;;){if(Be===d)break t;if(Me===x&&++Ie===O&&(ce=q),Me===M&&++Le===_&&(ge=q),(qe=Be.nextSibling)!==null)break;Be=Me,Me=Be.parentNode}Be=qe}x=ce===-1||ge===-1?null:{start:ce,end:ge}}else x=null}x=x||{start:0,end:0}}else x=null;for(Ta={focusedElem:d,selectionRange:x},ji=!1,Ve=g;Ve!==null;)if(g=Ve,d=g.child,(g.subtreeFlags&1028)!==0&&d!==null)d.return=g,Ve=d;else for(;Ve!==null;){g=Ve;try{var We=g.alternate;if((g.flags&1024)!==0)switch(g.tag){case 0:case 11:case 15:break;case 1:if(We!==null){var Ke=We.memoizedProps,bt=We.memoizedState,Se=g.stateNode,Te=Se.getSnapshotBeforeUpdate(g.elementType===g.type?Ke:rn(g.type,Ke),bt);Se.__reactInternalSnapshotBeforeUpdate=Te}break;case 3:var _e=g.stateNode.containerInfo;_e.nodeType===1?_e.textContent="":_e.nodeType===9&&_e.documentElement&&_e.removeChild(_e.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch($e){yt(g,g.return,$e)}if(d=g.sibling,d!==null){d.return=g.return,Ve=d;break}Ve=g.return}return We=Hu,Hu=!1,We}function Ii(d,g,x){var _=g.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var O=_=_.next;do{if((O.tag&d)===d){var M=O.destroy;O.destroy=void 0,M!==void 0&&ls(g,x,M)}O=O.next}while(O!==_)}}function wo(d,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var x=g=g.next;do{if((x.tag&d)===d){var _=x.create;x.destroy=_()}x=x.next}while(x!==g)}}function us(d){var g=d.ref;if(g!==null){var x=d.stateNode;switch(d.tag){case 5:d=x;break;default:d=x}typeof g=="function"?g(d):g.current=d}}function Gu(d){var g=d.alternate;g!==null&&(d.alternate=null,Gu(g)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(g=d.stateNode,g!==null&&(delete g[fn],delete g[yi],delete g[va],delete g[Mf],delete g[Lf])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function zu(d){return d.tag===5||d.tag===3||d.tag===4}function ju(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||zu(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function cs(d,g,x){var _=d.tag;if(_===5||_===6)d=d.stateNode,g?x.nodeType===8?x.parentNode.insertBefore(d,g):x.insertBefore(d,g):(x.nodeType===8?(g=x.parentNode,g.insertBefore(d,x)):(g=x,g.appendChild(d)),x=x._reactRootContainer,x!=null||g.onclick!==null||(g.onclick=no));else if(_!==4&&(d=d.child,d!==null))for(cs(d,g,x),d=d.sibling;d!==null;)cs(d,g,x),d=d.sibling}function fs(d,g,x){var _=d.tag;if(_===5||_===6)d=d.stateNode,g?x.insertBefore(d,g):x.appendChild(d);else if(_!==4&&(d=d.child,d!==null))for(fs(d,g,x),d=d.sibling;d!==null;)fs(d,g,x),d=d.sibling}var Ct=null,on=!1;function Hn(d,g,x){for(x=x.child;x!==null;)qu(d,g,x),x=x.sibling}function qu(d,g,x){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(Bi,x)}catch{}switch(x.tag){case 5:Rt||Br(x,g);case 6:var _=Ct,O=on;Ct=null,Hn(d,g,x),Ct=_,on=O,Ct!==null&&(on?(d=Ct,x=x.stateNode,d.nodeType===8?d.parentNode.removeChild(x):d.removeChild(x)):Ct.removeChild(x.stateNode));break;case 18:Ct!==null&&(on?(d=Ct,x=x.stateNode,d.nodeType===8?Sa(d.parentNode,x):d.nodeType===1&&Sa(d,x),ai(d)):Sa(Ct,x.stateNode));break;case 4:_=Ct,O=on,Ct=x.stateNode.containerInfo,on=!0,Hn(d,g,x),Ct=_,on=O;break;case 0:case 11:case 14:case 15:if(!Rt&&(_=x.updateQueue,_!==null&&(_=_.lastEffect,_!==null))){O=_=_.next;do{var M=O,q=M.destroy;M=M.tag,q!==void 0&&((M&2)!==0||(M&4)!==0)&&ls(x,g,q),O=O.next}while(O!==_)}Hn(d,g,x);break;case 1:if(!Rt&&(Br(x,g),_=x.stateNode,typeof _.componentWillUnmount=="function"))try{_.props=x.memoizedProps,_.state=x.memoizedState,_.componentWillUnmount()}catch(ce){yt(x,g,ce)}Hn(d,g,x);break;case 21:Hn(d,g,x);break;case 22:x.mode&1?(Rt=(_=Rt)||x.memoizedState!==null,Hn(d,g,x),Rt=_):Hn(d,g,x);break;default:Hn(d,g,x)}}function Vu(d){var g=d.updateQueue;if(g!==null){d.updateQueue=null;var x=d.stateNode;x===null&&(x=d.stateNode=new Jf),g.forEach(function(_){var O=lh.bind(null,d,_);x.has(_)||(x.add(_),_.then(O,O))})}}function an(d,g){var x=g.deletions;if(x!==null)for(var _=0;_<x.length;_++){var O=x[_];try{var M=d,q=g,ce=q;e:for(;ce!==null;){switch(ce.tag){case 5:Ct=ce.stateNode,on=!1;break e;case 3:Ct=ce.stateNode.containerInfo,on=!0;break e;case 4:Ct=ce.stateNode.containerInfo,on=!0;break e}ce=ce.return}if(Ct===null)throw Error(o(160));qu(M,q,O),Ct=null,on=!1;var ge=O.alternate;ge!==null&&(ge.return=null),O.return=null}catch(Ie){yt(O,g,Ie)}}if(g.subtreeFlags&12854)for(g=g.child;g!==null;)Wu(g,d),g=g.sibling}function Wu(d,g){var x=d.alternate,_=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(an(g,d),pn(d),_&4){try{Ii(3,d,d.return),wo(3,d)}catch(Ke){yt(d,d.return,Ke)}try{Ii(5,d,d.return)}catch(Ke){yt(d,d.return,Ke)}}break;case 1:an(g,d),pn(d),_&512&&x!==null&&Br(x,x.return);break;case 5:if(an(g,d),pn(d),_&512&&x!==null&&Br(x,x.return),d.flags&32){var O=d.stateNode;try{D(O,"")}catch(Ke){yt(d,d.return,Ke)}}if(_&4&&(O=d.stateNode,O!=null)){var M=d.memoizedProps,q=x!==null?x.memoizedProps:M,ce=d.type,ge=d.updateQueue;if(d.updateQueue=null,ge!==null)try{ce==="input"&&M.type==="radio"&&M.name!=null&&Ae(O,M),ve(ce,q);var Ie=ve(ce,M);for(q=0;q<ge.length;q+=2){var Le=ge[q],Be=ge[q+1];Le==="style"?ee(O,Be):Le==="dangerouslySetInnerHTML"?ke(O,Be):Le==="children"?D(O,Be):P(O,Le,Be,Ie)}switch(ce){case"input":se(O,M);break;case"textarea":I(O,M);break;case"select":var Me=O._wrapperState.wasMultiple;O._wrapperState.wasMultiple=!!M.multiple;var qe=M.value;qe!=null?Re(O,!!M.multiple,qe,!1):Me!==!!M.multiple&&(M.defaultValue!=null?Re(O,!!M.multiple,M.defaultValue,!0):Re(O,!!M.multiple,M.multiple?[]:"",!1))}O[yi]=M}catch(Ke){yt(d,d.return,Ke)}}break;case 6:if(an(g,d),pn(d),_&4){if(d.stateNode===null)throw Error(o(162));O=d.stateNode,M=d.memoizedProps;try{O.nodeValue=M}catch(Ke){yt(d,d.return,Ke)}}break;case 3:if(an(g,d),pn(d),_&4&&x!==null&&x.memoizedState.isDehydrated)try{ai(g.containerInfo)}catch(Ke){yt(d,d.return,Ke)}break;case 4:an(g,d),pn(d);break;case 13:an(g,d),pn(d),O=d.child,O.flags&8192&&(M=O.memoizedState!==null,O.stateNode.isHidden=M,!M||O.alternate!==null&&O.alternate.memoizedState!==null||(ps=Tt())),_&4&&Vu(d);break;case 22:if(Le=x!==null&&x.memoizedState!==null,d.mode&1?(Rt=(Ie=Rt)||Le,an(g,d),Rt=Ie):an(g,d),pn(d),_&8192){if(Ie=d.memoizedState!==null,(d.stateNode.isHidden=Ie)&&!Le&&(d.mode&1)!==0)for(Ve=d,Le=d.child;Le!==null;){for(Be=Ve=Le;Ve!==null;){switch(Me=Ve,qe=Me.child,Me.tag){case 0:case 11:case 14:case 15:Ii(4,Me,Me.return);break;case 1:Br(Me,Me.return);var We=Me.stateNode;if(typeof We.componentWillUnmount=="function"){_=Me,x=Me.return;try{g=_,We.props=g.memoizedProps,We.state=g.memoizedState,We.componentWillUnmount()}catch(Ke){yt(_,x,Ke)}}break;case 5:Br(Me,Me.return);break;case 22:if(Me.memoizedState!==null){Qu(Be);continue}}qe!==null?(qe.return=Me,Ve=qe):Qu(Be)}Le=Le.sibling}e:for(Le=null,Be=d;;){if(Be.tag===5){if(Le===null){Le=Be;try{O=Be.stateNode,Ie?(M=O.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none"):(ce=Be.stateNode,ge=Be.memoizedProps.style,q=ge!=null&&ge.hasOwnProperty("display")?ge.display:null,ce.style.display=z("display",q))}catch(Ke){yt(d,d.return,Ke)}}}else if(Be.tag===6){if(Le===null)try{Be.stateNode.nodeValue=Ie?"":Be.memoizedProps}catch(Ke){yt(d,d.return,Ke)}}else if((Be.tag!==22&&Be.tag!==23||Be.memoizedState===null||Be===d)&&Be.child!==null){Be.child.return=Be,Be=Be.child;continue}if(Be===d)break e;for(;Be.sibling===null;){if(Be.return===null||Be.return===d)break e;Le===Be&&(Le=null),Be=Be.return}Le===Be&&(Le=null),Be.sibling.return=Be.return,Be=Be.sibling}}break;case 19:an(g,d),pn(d),_&4&&Vu(d);break;case 21:break;default:an(g,d),pn(d)}}function pn(d){var g=d.flags;if(g&2){try{e:{for(var x=d.return;x!==null;){if(zu(x)){var _=x;break e}x=x.return}throw Error(o(160))}switch(_.tag){case 5:var O=_.stateNode;_.flags&32&&(D(O,""),_.flags&=-33);var M=ju(d);fs(d,M,O);break;case 3:case 4:var q=_.stateNode.containerInfo,ce=ju(d);cs(d,ce,q);break;default:throw Error(o(161))}}catch(ge){yt(d,d.return,ge)}d.flags&=-3}g&4096&&(d.flags&=-4097)}function eh(d,g,x){Ve=d,Yu(d)}function Yu(d,g,x){for(var _=(d.mode&1)!==0;Ve!==null;){var O=Ve,M=O.child;if(O.tag===22&&_){var q=O.memoizedState!==null||Ao;if(!q){var ce=O.alternate,ge=ce!==null&&ce.memoizedState!==null||Rt;ce=Ao;var Ie=Rt;if(Ao=q,(Rt=ge)&&!Ie)for(Ve=O;Ve!==null;)q=Ve,ge=q.child,q.tag===22&&q.memoizedState!==null?Xu(O):ge!==null?(ge.return=q,Ve=ge):Xu(O);for(;M!==null;)Ve=M,Yu(M),M=M.sibling;Ve=O,Ao=ce,Rt=Ie}Ku(d)}else(O.subtreeFlags&8772)!==0&&M!==null?(M.return=O,Ve=M):Ku(d)}}function Ku(d){for(;Ve!==null;){var g=Ve;if((g.flags&8772)!==0){var x=g.alternate;try{if((g.flags&8772)!==0)switch(g.tag){case 0:case 11:case 15:Rt||wo(5,g);break;case 1:var _=g.stateNode;if(g.flags&4&&!Rt)if(x===null)_.componentDidMount();else{var O=g.elementType===g.type?x.memoizedProps:rn(g.type,x.memoizedProps);_.componentDidUpdate(O,x.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var M=g.updateQueue;M!==null&&Ql(g,M,_);break;case 3:var q=g.updateQueue;if(q!==null){if(x=null,g.child!==null)switch(g.child.tag){case 5:x=g.child.stateNode;break;case 1:x=g.child.stateNode}Ql(g,q,x)}break;case 5:var ce=g.stateNode;if(x===null&&g.flags&4){x=ce;var ge=g.memoizedProps;switch(g.type){case"button":case"input":case"select":case"textarea":ge.autoFocus&&x.focus();break;case"img":ge.src&&(x.src=ge.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(g.memoizedState===null){var Ie=g.alternate;if(Ie!==null){var Le=Ie.memoizedState;if(Le!==null){var Be=Le.dehydrated;Be!==null&&ai(Be)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}Rt||g.flags&512&&us(g)}catch(Me){yt(g,g.return,Me)}}if(g===d){Ve=null;break}if(x=g.sibling,x!==null){x.return=g.return,Ve=x;break}Ve=g.return}}function Qu(d){for(;Ve!==null;){var g=Ve;if(g===d){Ve=null;break}var x=g.sibling;if(x!==null){x.return=g.return,Ve=x;break}Ve=g.return}}function Xu(d){for(;Ve!==null;){var g=Ve;try{switch(g.tag){case 0:case 11:case 15:var x=g.return;try{wo(4,g)}catch(ge){yt(g,x,ge)}break;case 1:var _=g.stateNode;if(typeof _.componentDidMount=="function"){var O=g.return;try{_.componentDidMount()}catch(ge){yt(g,O,ge)}}var M=g.return;try{us(g)}catch(ge){yt(g,M,ge)}break;case 5:var q=g.return;try{us(g)}catch(ge){yt(g,q,ge)}}}catch(ge){yt(g,g.return,ge)}if(g===d){Ve=null;break}var ce=g.sibling;if(ce!==null){ce.return=g.return,Ve=ce;break}Ve=g.return}}var th=Math.ceil,Co=F.ReactCurrentDispatcher,hs=F.ReactCurrentOwner,Xt=F.ReactCurrentBatchConfig,ot=0,At=null,xt=null,It=0,Vt=0,Ur=Ln(0),vt=0,ki=null,ur=0,Io=0,ds=0,Di=null,Ht=null,ps=0,$r=1/0,An=null,ko=!1,ms=null,Gn=null,Do=!1,zn=null,Oo=0,Oi=0,gs=null,Ro=-1,No=0;function Lt(){return(ot&6)!==0?Tt():Ro!==-1?Ro:Ro=Tt()}function jn(d){return(d.mode&1)===0?1:(ot&2)!==0&&It!==0?It&-It:Bf.transition!==null?(No===0&&(No=js()),No):(d=ut,d!==0||(d=window.event,d=d===void 0?16:Zs(d.type)),d)}function sn(d,g,x,_){if(50<Oi)throw Oi=0,gs=null,Error(o(185));ti(d,x,_),((ot&2)===0||d!==At)&&(d===At&&((ot&2)===0&&(Io|=x),vt===4&&qn(d,It)),Gt(d,_),x===1&&ot===0&&(g.mode&1)===0&&($r=Tt()+500,ao&&Bn()))}function Gt(d,g){var x=d.callbackNode;Fc(d,g);var _=Hi(d,d===At?It:0);if(_===0)x!==null&&Hs(x),d.callbackNode=null,d.callbackPriority=0;else if(g=_&-_,d.callbackPriority!==g){if(x!=null&&Hs(x),g===1)d.tag===0?Ff(Zu.bind(null,d)):Bl(Zu.bind(null,d)),Nf(function(){(ot&6)===0&&Bn()}),x=null;else{switch(qs(_)){case 1:x=Wo;break;case 4:x=Gs;break;case 16:x=Fi;break;case 536870912:x=zs;break;default:x=Fi}x=sc(x,Ju.bind(null,d))}d.callbackPriority=g,d.callbackNode=x}}function Ju(d,g){if(Ro=-1,No=0,(ot&6)!==0)throw Error(o(327));var x=d.callbackNode;if(Hr()&&d.callbackNode!==x)return null;var _=Hi(d,d===At?It:0);if(_===0)return null;if((_&30)!==0||(_&d.expiredLanes)!==0||g)g=Po(d,_);else{g=_;var O=ot;ot|=2;var M=tc();(At!==d||It!==g)&&(An=null,$r=Tt()+500,fr(d,g));do try{ih();break}catch(ce){ec(d,ce)}while(!0);Na(),Co.current=M,ot=O,xt!==null?g=0:(At=null,It=0,g=vt)}if(g!==0){if(g===2&&(O=Yo(d),O!==0&&(_=O,g=ys(d,O))),g===1)throw x=ki,fr(d,0),qn(d,_),Gt(d,Tt()),x;if(g===6)qn(d,_);else{if(O=d.current.alternate,(_&30)===0&&!nh(O)&&(g=Po(d,_),g===2&&(M=Yo(d),M!==0&&(_=M,g=ys(d,M))),g===1))throw x=ki,fr(d,0),qn(d,_),Gt(d,Tt()),x;switch(d.finishedWork=O,d.finishedLanes=_,g){case 0:case 1:throw Error(o(345));case 2:hr(d,Ht,An);break;case 3:if(qn(d,_),(_&130023424)===_&&(g=ps+500-Tt(),10<g)){if(Hi(d,0)!==0)break;if(O=d.suspendedLanes,(O&_)!==_){Lt(),d.pingedLanes|=d.suspendedLanes&O;break}d.timeoutHandle=xa(hr.bind(null,d,Ht,An),g);break}hr(d,Ht,An);break;case 4:if(qn(d,_),(_&4194240)===_)break;for(g=d.eventTimes,O=-1;0<_;){var q=31-en(_);M=1<<q,q=g[q],q>O&&(O=q),_&=~M}if(_=O,_=Tt()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*th(_/1960))-_,10<_){d.timeoutHandle=xa(hr.bind(null,d,Ht,An),_);break}hr(d,Ht,An);break;case 5:hr(d,Ht,An);break;default:throw Error(o(329))}}}return Gt(d,Tt()),d.callbackNode===x?Ju.bind(null,d):null}function ys(d,g){var x=Di;return d.current.memoizedState.isDehydrated&&(fr(d,g).flags|=256),d=Po(d,g),d!==2&&(g=Ht,Ht=x,g!==null&&Es(g)),d}function Es(d){Ht===null?Ht=d:Ht.push.apply(Ht,d)}function nh(d){for(var g=d;;){if(g.flags&16384){var x=g.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var _=0;_<x.length;_++){var O=x[_],M=O.getSnapshot;O=O.value;try{if(!tn(M(),O))return!1}catch{return!1}}}if(x=g.child,g.subtreeFlags&16384&&x!==null)x.return=g,g=x;else{if(g===d)break;for(;g.sibling===null;){if(g.return===null||g.return===d)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function qn(d,g){for(g&=~ds,g&=~Io,d.suspendedLanes|=g,d.pingedLanes&=~g,d=d.expirationTimes;0<g;){var x=31-en(g),_=1<<x;d[x]=-1,g&=~_}}function Zu(d){if((ot&6)!==0)throw Error(o(327));Hr();var g=Hi(d,0);if((g&1)===0)return Gt(d,Tt()),null;var x=Po(d,g);if(d.tag!==0&&x===2){var _=Yo(d);_!==0&&(g=_,x=ys(d,_))}if(x===1)throw x=ki,fr(d,0),qn(d,g),Gt(d,Tt()),x;if(x===6)throw Error(o(345));return d.finishedWork=d.current.alternate,d.finishedLanes=g,hr(d,Ht,An),Gt(d,Tt()),null}function Ts(d,g){var x=ot;ot|=1;try{return d(g)}finally{ot=x,ot===0&&($r=Tt()+500,ao&&Bn())}}function cr(d){zn!==null&&zn.tag===0&&(ot&6)===0&&Hr();var g=ot;ot|=1;var x=Xt.transition,_=ut;try{if(Xt.transition=null,ut=1,d)return d()}finally{ut=_,Xt.transition=x,ot=g,(ot&6)===0&&Bn()}}function bs(){Vt=Ur.current,dt(Ur)}function fr(d,g){d.finishedWork=null,d.finishedLanes=0;var x=d.timeoutHandle;if(x!==-1&&(d.timeoutHandle=-1,Rf(x)),xt!==null)for(x=xt.return;x!==null;){var _=x;switch(Ia(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&io();break;case 3:Lr(),dt(Bt),dt(kt),Ha();break;case 5:Ua(_);break;case 4:Lr();break;case 13:dt(mt);break;case 19:dt(mt);break;case 10:Pa(_.type._context);break;case 22:case 23:bs()}x=x.return}if(At=d,xt=d=Vn(d.current,null),It=Vt=g,vt=0,ki=null,ds=Io=ur=0,Ht=Di=null,ar!==null){for(g=0;g<ar.length;g++)if(x=ar[g],_=x.interleaved,_!==null){x.interleaved=null;var O=_.next,M=x.pending;if(M!==null){var q=M.next;M.next=O,_.next=q}x.pending=_}ar=null}return d}function ec(d,g){do{var x=xt;try{if(Na(),yo.current=xo,Eo){for(var _=gt.memoizedState;_!==null;){var O=_.queue;O!==null&&(O.pending=null),_=_.next}Eo=!1}if(lr=0,_t=St=gt=null,vi=!1,_i=0,hs.current=null,x===null||x.return===null){vt=1,ki=g,xt=null;break}e:{var M=d,q=x.return,ce=x,ge=g;if(g=It,ce.flags|=32768,ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var Ie=ge,Le=ce,Be=Le.tag;if((Le.mode&1)===0&&(Be===0||Be===11||Be===15)){var Me=Le.alternate;Me?(Le.updateQueue=Me.updateQueue,Le.memoizedState=Me.memoizedState,Le.lanes=Me.lanes):(Le.updateQueue=null,Le.memoizedState=null)}var qe=Au(q);if(qe!==null){qe.flags&=-257,wu(qe,q,ce,M,g),qe.mode&1&&_u(M,Ie,g),g=qe,ge=Ie;var We=g.updateQueue;if(We===null){var Ke=new Set;Ke.add(ge),g.updateQueue=Ke}else We.add(ge);break e}else{if((g&1)===0){_u(M,Ie,g),xs();break e}ge=Error(o(426))}}else if(pt&&ce.mode&1){var bt=Au(q);if(bt!==null){(bt.flags&65536)===0&&(bt.flags|=256),wu(bt,q,ce,M,g),Oa(Fr(ge,ce));break e}}M=ge=Fr(ge,ce),vt!==4&&(vt=2),Di===null?Di=[M]:Di.push(M),M=q;do{switch(M.tag){case 3:M.flags|=65536,g&=-g,M.lanes|=g;var Se=Su(M,ge,g);Kl(M,Se);break e;case 1:ce=ge;var Te=M.type,_e=M.stateNode;if((M.flags&128)===0&&(typeof Te.getDerivedStateFromError=="function"||_e!==null&&typeof _e.componentDidCatch=="function"&&(Gn===null||!Gn.has(_e)))){M.flags|=65536,g&=-g,M.lanes|=g;var $e=vu(M,ce,g);Kl(M,$e);break e}}M=M.return}while(M!==null)}rc(x)}catch(Qe){g=Qe,xt===x&&x!==null&&(xt=x=x.return);continue}break}while(!0)}function tc(){var d=Co.current;return Co.current=xo,d===null?xo:d}function xs(){(vt===0||vt===3||vt===2)&&(vt=4),At===null||(ur&268435455)===0&&(Io&268435455)===0||qn(At,It)}function Po(d,g){var x=ot;ot|=2;var _=tc();(At!==d||It!==g)&&(An=null,fr(d,g));do try{rh();break}catch(O){ec(d,O)}while(!0);if(Na(),ot=x,Co.current=_,xt!==null)throw Error(o(261));return At=null,It=0,vt}function rh(){for(;xt!==null;)nc(xt)}function ih(){for(;xt!==null&&!Ic();)nc(xt)}function nc(d){var g=ac(d.alternate,d,Vt);d.memoizedProps=d.pendingProps,g===null?rc(d):xt=g,hs.current=null}function rc(d){var g=d;do{var x=g.alternate;if(d=g.return,(g.flags&32768)===0){if(x=Qf(x,g,Vt),x!==null){xt=x;return}}else{if(x=Xf(x,g),x!==null){x.flags&=32767,xt=x;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{vt=6,xt=null;return}}if(g=g.sibling,g!==null){xt=g;return}xt=g=d}while(g!==null);vt===0&&(vt=5)}function hr(d,g,x){var _=ut,O=Xt.transition;try{Xt.transition=null,ut=1,oh(d,g,x,_)}finally{Xt.transition=O,ut=_}return null}function oh(d,g,x,_){do Hr();while(zn!==null);if((ot&6)!==0)throw Error(o(327));x=d.finishedWork;var O=d.finishedLanes;if(x===null)return null;if(d.finishedWork=null,d.finishedLanes=0,x===d.current)throw Error(o(177));d.callbackNode=null,d.callbackPriority=0;var M=x.lanes|x.childLanes;if(Bc(d,M),d===At&&(xt=At=null,It=0),(x.subtreeFlags&2064)===0&&(x.flags&2064)===0||Do||(Do=!0,sc(Fi,function(){return Hr(),null})),M=(x.flags&15990)!==0,(x.subtreeFlags&15990)!==0||M){M=Xt.transition,Xt.transition=null;var q=ut;ut=1;var ce=ot;ot|=4,hs.current=null,Zf(d,x),Wu(x,d),Af(Ta),ji=!!Ea,Ta=Ea=null,d.current=x,eh(x),kc(),ot=ce,ut=q,Xt.transition=M}else d.current=x;if(Do&&(Do=!1,zn=d,Oo=O),M=d.pendingLanes,M===0&&(Gn=null),Rc(x.stateNode),Gt(d,Tt()),g!==null)for(_=d.onRecoverableError,x=0;x<g.length;x++)O=g[x],_(O.value,{componentStack:O.stack,digest:O.digest});if(ko)throw ko=!1,d=ms,ms=null,d;return(Oo&1)!==0&&d.tag!==0&&Hr(),M=d.pendingLanes,(M&1)!==0?d===gs?Oi++:(Oi=0,gs=d):Oi=0,Bn(),null}function Hr(){if(zn!==null){var d=qs(Oo),g=Xt.transition,x=ut;try{if(Xt.transition=null,ut=16>d?16:d,zn===null)var _=!1;else{if(d=zn,zn=null,Oo=0,(ot&6)!==0)throw Error(o(331));var O=ot;for(ot|=4,Ve=d.current;Ve!==null;){var M=Ve,q=M.child;if((Ve.flags&16)!==0){var ce=M.deletions;if(ce!==null){for(var ge=0;ge<ce.length;ge++){var Ie=ce[ge];for(Ve=Ie;Ve!==null;){var Le=Ve;switch(Le.tag){case 0:case 11:case 15:Ii(8,Le,M)}var Be=Le.child;if(Be!==null)Be.return=Le,Ve=Be;else for(;Ve!==null;){Le=Ve;var Me=Le.sibling,qe=Le.return;if(Gu(Le),Le===Ie){Ve=null;break}if(Me!==null){Me.return=qe,Ve=Me;break}Ve=qe}}}var We=M.alternate;if(We!==null){var Ke=We.child;if(Ke!==null){We.child=null;do{var bt=Ke.sibling;Ke.sibling=null,Ke=bt}while(Ke!==null)}}Ve=M}}if((M.subtreeFlags&2064)!==0&&q!==null)q.return=M,Ve=q;else e:for(;Ve!==null;){if(M=Ve,(M.flags&2048)!==0)switch(M.tag){case 0:case 11:case 15:Ii(9,M,M.return)}var Se=M.sibling;if(Se!==null){Se.return=M.return,Ve=Se;break e}Ve=M.return}}var Te=d.current;for(Ve=Te;Ve!==null;){q=Ve;var _e=q.child;if((q.subtreeFlags&2064)!==0&&_e!==null)_e.return=q,Ve=_e;else e:for(q=Te;Ve!==null;){if(ce=Ve,(ce.flags&2048)!==0)try{switch(ce.tag){case 0:case 11:case 15:wo(9,ce)}}catch(Qe){yt(ce,ce.return,Qe)}if(ce===q){Ve=null;break e}var $e=ce.sibling;if($e!==null){$e.return=ce.return,Ve=$e;break e}Ve=ce.return}}if(ot=O,Bn(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(Bi,d)}catch{}_=!0}return _}finally{ut=x,Xt.transition=g}}return!1}function ic(d,g,x){g=Fr(x,g),g=Su(d,g,1),d=$n(d,g,1),g=Lt(),d!==null&&(ti(d,1,g),Gt(d,g))}function yt(d,g,x){if(d.tag===3)ic(d,d,x);else for(;g!==null;){if(g.tag===3){ic(g,d,x);break}else if(g.tag===1){var _=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(Gn===null||!Gn.has(_))){d=Fr(x,d),d=vu(g,d,1),g=$n(g,d,1),d=Lt(),g!==null&&(ti(g,1,d),Gt(g,d));break}}g=g.return}}function ah(d,g,x){var _=d.pingCache;_!==null&&_.delete(g),g=Lt(),d.pingedLanes|=d.suspendedLanes&x,At===d&&(It&x)===x&&(vt===4||vt===3&&(It&130023424)===It&&500>Tt()-ps?fr(d,0):ds|=x),Gt(d,g)}function oc(d,g){g===0&&((d.mode&1)===0?g=1:(g=$i,$i<<=1,($i&130023424)===0&&($i=4194304)));var x=Lt();d=Sn(d,g),d!==null&&(ti(d,g,x),Gt(d,x))}function sh(d){var g=d.memoizedState,x=0;g!==null&&(x=g.retryLane),oc(d,x)}function lh(d,g){var x=0;switch(d.tag){case 13:var _=d.stateNode,O=d.memoizedState;O!==null&&(x=O.retryLane);break;case 19:_=d.stateNode;break;default:throw Error(o(314))}_!==null&&_.delete(g),oc(d,x)}var ac;ac=function(d,g,x){if(d!==null)if(d.memoizedProps!==g.pendingProps||Bt.current)$t=!0;else{if((d.lanes&x)===0&&(g.flags&128)===0)return $t=!1,Kf(d,g,x);$t=(d.flags&131072)!==0}else $t=!1,pt&&(g.flags&1048576)!==0&&Ul(g,lo,g.index);switch(g.lanes=0,g.tag){case 2:var _=g.type;_o(d,g),d=g.pendingProps;var O=kr(g,kt.current);Mr(g,x),O=ja(null,g,_,d,O,x);var M=qa();return g.flags|=1,typeof O=="object"&&O!==null&&typeof O.render=="function"&&O.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,Ut(_)?(M=!0,oo(g)):M=!1,g.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,Fa(g),O.updater=So,g.stateNode=O,O._reactInternals=g,Xa(g,_,d,x),g=ns(null,g,_,!0,M,x)):(g.tag=0,pt&&M&&Ca(g),Mt(null,g,O,x),g=g.child),g;case 16:_=g.elementType;e:{switch(_o(d,g),d=g.pendingProps,O=_._init,_=O(_._payload),g.type=_,O=g.tag=ch(_),d=rn(_,d),O){case 0:g=ts(null,g,_,d,x);break e;case 1:g=Ru(null,g,_,d,x);break e;case 11:g=Cu(null,g,_,d,x);break e;case 14:g=Iu(null,g,_,rn(_.type,d),x);break e}throw Error(o(306,_,""))}return g;case 0:return _=g.type,O=g.pendingProps,O=g.elementType===_?O:rn(_,O),ts(d,g,_,O,x);case 1:return _=g.type,O=g.pendingProps,O=g.elementType===_?O:rn(_,O),Ru(d,g,_,O,x);case 3:e:{if(Nu(g),d===null)throw Error(o(387));_=g.pendingProps,M=g.memoizedState,O=M.element,Yl(d,g),mo(g,_,null,x);var q=g.memoizedState;if(_=q.element,M.isDehydrated)if(M={element:_,isDehydrated:!1,cache:q.cache,pendingSuspenseBoundaries:q.pendingSuspenseBoundaries,transitions:q.transitions},g.updateQueue.baseState=M,g.memoizedState=M,g.flags&256){O=Fr(Error(o(423)),g),g=Pu(d,g,_,x,O);break e}else if(_!==O){O=Fr(Error(o(424)),g),g=Pu(d,g,_,x,O);break e}else for(qt=Mn(g.stateNode.containerInfo.firstChild),jt=g,pt=!0,nn=null,x=Vl(g,null,_,x),g.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Rr(),_===O){g=_n(d,g,x);break e}Mt(d,g,_,x)}g=g.child}return g;case 5:return Xl(g),d===null&&Da(g),_=g.type,O=g.pendingProps,M=d!==null?d.memoizedProps:null,q=O.children,ba(_,O)?q=null:M!==null&&ba(_,M)&&(g.flags|=32),Ou(d,g),Mt(d,g,q,x),g.child;case 6:return d===null&&Da(g),null;case 13:return Mu(d,g,x);case 4:return Ba(g,g.stateNode.containerInfo),_=g.pendingProps,d===null?g.child=Nr(g,null,_,x):Mt(d,g,_,x),g.child;case 11:return _=g.type,O=g.pendingProps,O=g.elementType===_?O:rn(_,O),Cu(d,g,_,O,x);case 7:return Mt(d,g,g.pendingProps,x),g.child;case 8:return Mt(d,g,g.pendingProps.children,x),g.child;case 12:return Mt(d,g,g.pendingProps.children,x),g.child;case 10:e:{if(_=g.type._context,O=g.pendingProps,M=g.memoizedProps,q=O.value,ft(fo,_._currentValue),_._currentValue=q,M!==null)if(tn(M.value,q)){if(M.children===O.children&&!Bt.current){g=_n(d,g,x);break e}}else for(M=g.child,M!==null&&(M.return=g);M!==null;){var ce=M.dependencies;if(ce!==null){q=M.child;for(var ge=ce.firstContext;ge!==null;){if(ge.context===_){if(M.tag===1){ge=vn(-1,x&-x),ge.tag=2;var Ie=M.updateQueue;if(Ie!==null){Ie=Ie.shared;var Le=Ie.pending;Le===null?ge.next=ge:(ge.next=Le.next,Le.next=ge),Ie.pending=ge}}M.lanes|=x,ge=M.alternate,ge!==null&&(ge.lanes|=x),Ma(M.return,x,g),ce.lanes|=x;break}ge=ge.next}}else if(M.tag===10)q=M.type===g.type?null:M.child;else if(M.tag===18){if(q=M.return,q===null)throw Error(o(341));q.lanes|=x,ce=q.alternate,ce!==null&&(ce.lanes|=x),Ma(q,x,g),q=M.sibling}else q=M.child;if(q!==null)q.return=M;else for(q=M;q!==null;){if(q===g){q=null;break}if(M=q.sibling,M!==null){M.return=q.return,q=M;break}q=q.return}M=q}Mt(d,g,O.children,x),g=g.child}return g;case 9:return O=g.type,_=g.pendingProps.children,Mr(g,x),O=Kt(O),_=_(O),g.flags|=1,Mt(d,g,_,x),g.child;case 14:return _=g.type,O=rn(_,g.pendingProps),O=rn(_.type,O),Iu(d,g,_,O,x);case 15:return ku(d,g,g.type,g.pendingProps,x);case 17:return _=g.type,O=g.pendingProps,O=g.elementType===_?O:rn(_,O),_o(d,g),g.tag=1,Ut(_)?(d=!0,oo(g)):d=!1,Mr(g,x),bu(g,_,O),Xa(g,_,O,x),ns(null,g,_,!0,d,x);case 19:return Fu(d,g,x);case 22:return Du(d,g,x)}throw Error(o(156,g.tag))};function sc(d,g){return $s(d,g)}function uh(d,g,x,_){this.tag=d,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(d,g,x,_){return new uh(d,g,x,_)}function Ss(d){return d=d.prototype,!(!d||!d.isReactComponent)}function ch(d){if(typeof d=="function")return Ss(d)?1:0;if(d!=null){if(d=d.$$typeof,d===H)return 11;if(d===ue)return 14}return 2}function Vn(d,g){var x=d.alternate;return x===null?(x=Jt(d.tag,g,d.key,d.mode),x.elementType=d.elementType,x.type=d.type,x.stateNode=d.stateNode,x.alternate=d,d.alternate=x):(x.pendingProps=g,x.type=d.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=d.flags&14680064,x.childLanes=d.childLanes,x.lanes=d.lanes,x.child=d.child,x.memoizedProps=d.memoizedProps,x.memoizedState=d.memoizedState,x.updateQueue=d.updateQueue,g=d.dependencies,x.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},x.sibling=d.sibling,x.index=d.index,x.ref=d.ref,x}function Mo(d,g,x,_,O,M){var q=2;if(_=d,typeof d=="function")Ss(d)&&(q=1);else if(typeof d=="string")q=5;else e:switch(d){case K:return dr(x.children,O,M,g);case le:q=8,O|=8;break;case V:return d=Jt(12,x,g,O|2),d.elementType=V,d.lanes=M,d;case te:return d=Jt(13,x,g,O),d.elementType=te,d.lanes=M,d;case L:return d=Jt(19,x,g,O),d.elementType=L,d.lanes=M,d;case fe:return Lo(x,O,M,g);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case X:q=10;break e;case W:q=9;break e;case H:q=11;break e;case ue:q=14;break e;case Ce:q=16,_=null;break e}throw Error(o(130,d==null?d:typeof d,""))}return g=Jt(q,x,g,O),g.elementType=d,g.type=_,g.lanes=M,g}function dr(d,g,x,_){return d=Jt(7,d,_,g),d.lanes=x,d}function Lo(d,g,x,_){return d=Jt(22,d,_,g),d.elementType=fe,d.lanes=x,d.stateNode={isHidden:!1},d}function vs(d,g,x){return d=Jt(6,d,null,g),d.lanes=x,d}function _s(d,g,x){return g=Jt(4,d.children!==null?d.children:[],d.key,g),g.lanes=x,g.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},g}function fh(d,g,x,_,O){this.tag=g,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ko(0),this.expirationTimes=Ko(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ko(0),this.identifierPrefix=_,this.onRecoverableError=O,this.mutableSourceEagerHydrationData=null}function As(d,g,x,_,O,M,q,ce,ge){return d=new fh(d,g,x,ce,ge),g===1?(g=1,M===!0&&(g|=8)):g=0,M=Jt(3,null,null,g),d.current=M,M.stateNode=d,M.memoizedState={element:_,isDehydrated:x,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fa(M),d}function hh(d,g,x){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:_==null?null:""+_,children:d,containerInfo:g,implementation:x}}function lc(d){if(!d)return Fn;d=d._reactInternals;e:{if(tr(d)!==d||d.tag!==1)throw Error(o(170));var g=d;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(Ut(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(o(171))}if(d.tag===1){var x=d.type;if(Ut(x))return Ll(d,x,g)}return g}function uc(d,g,x,_,O,M,q,ce,ge){return d=As(x,_,!0,d,O,M,q,ce,ge),d.context=lc(null),x=d.current,_=Lt(),O=jn(x),M=vn(_,O),M.callback=g??null,$n(x,M,O),d.current.lanes=O,ti(d,O,_),Gt(d,_),d}function Fo(d,g,x,_){var O=g.current,M=Lt(),q=jn(O);return x=lc(x),g.context===null?g.context=x:g.pendingContext=x,g=vn(M,q),g.payload={element:d},_=_===void 0?null:_,_!==null&&(g.callback=_),d=$n(O,g,q),d!==null&&(sn(d,O,q,M),po(d,O,q)),q}function Bo(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function cc(d,g){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var x=d.retryLane;d.retryLane=x!==0&&x<g?x:g}}function ws(d,g){cc(d,g),(d=d.alternate)&&cc(d,g)}function dh(){return null}var fc=typeof reportError=="function"?reportError:function(d){console.error(d)};function Cs(d){this._internalRoot=d}Uo.prototype.render=Cs.prototype.render=function(d){var g=this._internalRoot;if(g===null)throw Error(o(409));Fo(d,g,null,null)},Uo.prototype.unmount=Cs.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var g=d.containerInfo;cr(function(){Fo(null,d,null,null)}),g[En]=null}};function Uo(d){this._internalRoot=d}Uo.prototype.unstable_scheduleHydration=function(d){if(d){var g=Ys();d={blockedOn:null,target:d,priority:g};for(var x=0;x<Rn.length&&g!==0&&g<Rn[x].priority;x++);Rn.splice(x,0,d),x===0&&Xs(d)}};function Is(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function $o(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function hc(){}function ph(d,g,x,_,O){if(O){if(typeof _=="function"){var M=_;_=function(){var Ie=Bo(q);M.call(Ie)}}var q=uc(g,_,d,0,null,!1,!1,"",hc);return d._reactRootContainer=q,d[En]=q.current,mi(d.nodeType===8?d.parentNode:d),cr(),q}for(;O=d.lastChild;)d.removeChild(O);if(typeof _=="function"){var ce=_;_=function(){var Ie=Bo(ge);ce.call(Ie)}}var ge=As(d,0,!1,null,null,!1,!1,"",hc);return d._reactRootContainer=ge,d[En]=ge.current,mi(d.nodeType===8?d.parentNode:d),cr(function(){Fo(g,ge,x,_)}),ge}function Ho(d,g,x,_,O){var M=x._reactRootContainer;if(M){var q=M;if(typeof O=="function"){var ce=O;O=function(){var ge=Bo(q);ce.call(ge)}}Fo(g,q,d,O)}else q=ph(x,g,d,O,_);return Bo(q)}Vs=function(d){switch(d.tag){case 3:var g=d.stateNode;if(g.current.memoizedState.isDehydrated){var x=ei(g.pendingLanes);x!==0&&(Qo(g,x|1),Gt(g,Tt()),(ot&6)===0&&($r=Tt()+500,Bn()))}break;case 13:cr(function(){var _=Sn(d,1);if(_!==null){var O=Lt();sn(_,d,1,O)}}),ws(d,1)}},Xo=function(d){if(d.tag===13){var g=Sn(d,134217728);if(g!==null){var x=Lt();sn(g,d,134217728,x)}ws(d,134217728)}},Ws=function(d){if(d.tag===13){var g=jn(d),x=Sn(d,g);if(x!==null){var _=Lt();sn(x,d,g,_)}ws(d,g)}},Ys=function(){return ut},Ks=function(d,g){var x=ut;try{return ut=d,g()}finally{ut=x}},ze=function(d,g,x){switch(g){case"input":if(se(d,x),g=x.name,x.type==="radio"&&g!=null){for(x=d;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll("input[name="+JSON.stringify(""+g)+'][type="radio"]'),g=0;g<x.length;g++){var _=x[g];if(_!==d&&_.form===d.form){var O=ro(_);if(!O)throw Error(o(90));it(_),se(_,O)}}}break;case"textarea":I(d,x);break;case"select":g=x.value,g!=null&&Re(d,!!x.multiple,g,!1)}},Ns=Ts,Ps=cr;var mh={usingClientEntryPoint:!1,Events:[Ei,Cr,ro,Os,Rs,Ts]},Ri={findFiberByHostInstance:nr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gh={bundleType:Ri.bundleType,version:Ri.version,rendererPackageName:Ri.rendererPackageName,rendererConfig:Ri.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=Bs(d),d===null?null:d.stateNode},findFiberByHostInstance:Ri.findFiberByHostInstance||dh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Go=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Go.isDisabled&&Go.supportsFiber)try{Bi=Go.inject(gh),cn=Go}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mh,reactDom_production_min.createPortal=function(d,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Is(g))throw Error(o(200));return hh(d,g,null,x)},reactDom_production_min.createRoot=function(d,g){if(!Is(d))throw Error(o(299));var x=!1,_="",O=fc;return g!=null&&(g.unstable_strictMode===!0&&(x=!0),g.identifierPrefix!==void 0&&(_=g.identifierPrefix),g.onRecoverableError!==void 0&&(O=g.onRecoverableError)),g=As(d,1,!1,null,null,x,!1,_,O),d[En]=g.current,mi(d.nodeType===8?d.parentNode:d),new Cs(g)},reactDom_production_min.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var g=d._reactInternals;if(g===void 0)throw typeof d.render=="function"?Error(o(188)):(d=Object.keys(d).join(","),Error(o(268,d)));return d=Bs(g),d=d===null?null:d.stateNode,d},reactDom_production_min.flushSync=function(d){return cr(d)},reactDom_production_min.hydrate=function(d,g,x){if(!$o(g))throw Error(o(200));return Ho(null,d,g,!0,x)},reactDom_production_min.hydrateRoot=function(d,g,x){if(!Is(d))throw Error(o(405));var _=x!=null&&x.hydratedSources||null,O=!1,M="",q=fc;if(x!=null&&(x.unstable_strictMode===!0&&(O=!0),x.identifierPrefix!==void 0&&(M=x.identifierPrefix),x.onRecoverableError!==void 0&&(q=x.onRecoverableError)),g=uc(g,null,d,1,x??null,O,!1,M,q),d[En]=g.current,mi(d),_)for(d=0;d<_.length;d++)x=_[d],O=x._getVersion,O=O(x._source),g.mutableSourceEagerHydrationData==null?g.mutableSourceEagerHydrationData=[x,O]:g.mutableSourceEagerHydrationData.push(x,O);return new Uo(g)},reactDom_production_min.render=function(d,g,x){if(!$o(g))throw Error(o(200));return Ho(null,d,g,!1,x)},reactDom_production_min.unmountComponentAtNode=function(d){if(!$o(d))throw Error(o(40));return d._reactRootContainer?(cr(function(){Ho(null,null,d,!1,function(){d._reactRootContainer=null,d[En]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=Ts,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(d,g,x,_){if(!$o(x))throw Error(o(200));if(d==null||d._reactInternals===void 0)throw Error(o(38));return Ho(d,g,x,!1,_)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426",reactDom_production_min}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),reactDom.exports=requireReactDom_production_min(),reactDom.exports}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var n=requireReactDom();return client.createRoot=n.createRoot,client.hydrateRoot=n.hydrateRoot,client}var clientExports=requireClient();const ReactDOM$1=getDefaultExportFromCjs$1(clientExports);var reactDomExports=requireReactDom();const ReactDOM=getDefaultExportFromCjs$1(reactDomExports),sides=["top","right","bottom","left"],min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=n=>({x:n,y:n}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp(n,e,o){return max(n,min(e,o))}function evaluate(n,e){return typeof n=="function"?n(e):n}function getSide(n){return n.split("-")[0]}function getAlignment(n){return n.split("-")[1]}function getOppositeAxis(n){return n==="x"?"y":"x"}function getAxisLength(n){return n==="y"?"height":"width"}function getSideAxis(n){return["top","bottom"].includes(getSide(n))?"y":"x"}function getAlignmentAxis(n){return getOppositeAxis(getSideAxis(n))}function getAlignmentSides(n,e,o){o===void 0&&(o=!1);const a=getAlignment(n),l=getAlignmentAxis(n),u=getAxisLength(l);let c=l==="x"?a===(o?"end":"start")?"right":"left":a==="start"?"bottom":"top";return e.reference[u]>e.floating[u]&&(c=getOppositePlacement(c)),[c,getOppositePlacement(c)]}function getExpandedPlacements(n){const e=getOppositePlacement(n);return[getOppositeAlignmentPlacement(n),e,getOppositeAlignmentPlacement(e)]}function getOppositeAlignmentPlacement(n){return n.replace(/start|end/g,e=>oppositeAlignmentMap[e])}function getSideList(n,e,o){const a=["left","right"],l=["right","left"],u=["top","bottom"],c=["bottom","top"];switch(n){case"top":case"bottom":return o?e?l:a:e?a:l;case"left":case"right":return e?u:c;default:return[]}}function getOppositeAxisPlacements(n,e,o,a){const l=getAlignment(n);let u=getSideList(getSide(n),o==="start",a);return l&&(u=u.map(c=>c+"-"+l),e&&(u=u.concat(u.map(getOppositeAlignmentPlacement)))),u}function getOppositePlacement(n){return n.replace(/left|right|bottom|top/g,e=>oppositeSideMap[e])}function expandPaddingObject(n){return{top:0,right:0,bottom:0,left:0,...n}}function getPaddingObject(n){return typeof n!="number"?expandPaddingObject(n):{top:n,right:n,bottom:n,left:n}}function rectToClientRect(n){const{x:e,y:o,width:a,height:l}=n;return{width:a,height:l,top:o,left:e,right:e+a,bottom:o+l,x:e,y:o}}function computeCoordsFromPlacement(n,e,o){let{reference:a,floating:l}=n;const u=getSideAxis(e),c=getAlignmentAxis(e),f=getAxisLength(c),p=getSide(e),T=u==="y",E=a.x+a.width/2-l.width/2,b=a.y+a.height/2-l.height/2,m=a[f]/2-l[f]/2;let y;switch(p){case"top":y={x:E,y:a.y-l.height};break;case"bottom":y={x:E,y:a.y+a.height};break;case"right":y={x:a.x+a.width,y:b};break;case"left":y={x:a.x-l.width,y:b};break;default:y={x:a.x,y:a.y}}switch(getAlignment(e)){case"start":y[c]-=m*(o&&T?-1:1);break;case"end":y[c]+=m*(o&&T?-1:1);break}return y}const computePosition$1=async(n,e,o)=>{const{placement:a="bottom",strategy:l="absolute",middleware:u=[],platform:c}=o,f=u.filter(Boolean),p=await(c.isRTL==null?void 0:c.isRTL(e));let T=await c.getElementRects({reference:n,floating:e,strategy:l}),{x:E,y:b}=computeCoordsFromPlacement(T,a,p),m=a,y={},S=0;for(let v=0;v<f.length;v++){const{name:A,fn:w}=f[v],{x:R,y:P,data:F,reset:B}=await w({x:E,y:b,initialPlacement:a,placement:m,strategy:l,middlewareData:y,rects:T,platform:c,elements:{reference:n,floating:e}});E=R??E,b=P??b,y={...y,[A]:{...y[A],...F}},B&&S<=50&&(S++,typeof B=="object"&&(B.placement&&(m=B.placement),B.rects&&(T=B.rects===!0?await c.getElementRects({reference:n,floating:e,strategy:l}):B.rects),{x:E,y:b}=computeCoordsFromPlacement(T,m,p)),v=-1)}return{x:E,y:b,placement:m,strategy:l,middlewareData:y}};async function detectOverflow(n,e){var o;e===void 0&&(e={});const{x:a,y:l,platform:u,rects:c,elements:f,strategy:p}=n,{boundary:T="clippingAncestors",rootBoundary:E="viewport",elementContext:b="floating",altBoundary:m=!1,padding:y=0}=evaluate(e,n),S=getPaddingObject(y),A=f[m?b==="floating"?"reference":"floating":b],w=rectToClientRect(await u.getClippingRect({element:(o=await(u.isElement==null?void 0:u.isElement(A)))==null||o?A:A.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(f.floating)),boundary:T,rootBoundary:E,strategy:p})),R=b==="floating"?{x:a,y:l,width:c.floating.width,height:c.floating.height}:c.reference,P=await(u.getOffsetParent==null?void 0:u.getOffsetParent(f.floating)),F=await(u.isElement==null?void 0:u.isElement(P))?await(u.getScale==null?void 0:u.getScale(P))||{x:1,y:1}:{x:1,y:1},B=rectToClientRect(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:R,offsetParent:P,strategy:p}):R);return{top:(w.top-B.top+S.top)/F.y,bottom:(B.bottom-w.bottom+S.bottom)/F.y,left:(w.left-B.left+S.left)/F.x,right:(B.right-w.right+S.right)/F.x}}const arrow$3=n=>({name:"arrow",options:n,async fn(e){const{x:o,y:a,placement:l,rects:u,platform:c,elements:f,middlewareData:p}=e,{element:T,padding:E=0}=evaluate(n,e)||{};if(T==null)return{};const b=getPaddingObject(E),m={x:o,y:a},y=getAlignmentAxis(l),S=getAxisLength(y),v=await c.getDimensions(T),A=y==="y",w=A?"top":"left",R=A?"bottom":"right",P=A?"clientHeight":"clientWidth",F=u.reference[S]+u.reference[y]-m[y]-u.floating[S],B=m[y]-u.reference[y],G=await(c.getOffsetParent==null?void 0:c.getOffsetParent(T));let K=G?G[P]:0;(!K||!await(c.isElement==null?void 0:c.isElement(G)))&&(K=f.floating[P]||u.floating[S]);const le=F/2-B/2,V=K/2-v[S]/2-1,X=min(b[w],V),W=min(b[R],V),H=X,te=K-v[S]-W,L=K/2-v[S]/2+le,ue=clamp(H,L,te),Ce=!p.arrow&&getAlignment(l)!=null&&L!==ue&&u.reference[S]/2-(L<H?X:W)-v[S]/2<0,fe=Ce?L<H?L-H:L-te:0;return{[y]:m[y]+fe,data:{[y]:ue,centerOffset:L-ue-fe,...Ce&&{alignmentOffset:fe}},reset:Ce}}}),flip$2=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var o,a;const{placement:l,middlewareData:u,rects:c,initialPlacement:f,platform:p,elements:T}=e,{mainAxis:E=!0,crossAxis:b=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:v=!0,...A}=evaluate(n,e);if((o=u.arrow)!=null&&o.alignmentOffset)return{};const w=getSide(l),R=getSideAxis(f),P=getSide(f)===f,F=await(p.isRTL==null?void 0:p.isRTL(T.floating)),B=m||(P||!v?[getOppositePlacement(f)]:getExpandedPlacements(f)),G=S!=="none";!m&&G&&B.push(...getOppositeAxisPlacements(f,v,S,F));const K=[f,...B],le=await detectOverflow(e,A),V=[];let X=((a=u.flip)==null?void 0:a.overflows)||[];if(E&&V.push(le[w]),b){const L=getAlignmentSides(l,c,F);V.push(le[L[0]],le[L[1]])}if(X=[...X,{placement:l,overflows:V}],!V.every(L=>L<=0)){var W,H;const L=(((W=u.flip)==null?void 0:W.index)||0)+1,ue=K[L];if(ue&&(!(b==="alignment"?R!==getSideAxis(ue):!1)||X.every(ye=>ye.overflows[0]>0&&getSideAxis(ye.placement)===R)))return{data:{index:L,overflows:X},reset:{placement:ue}};let Ce=(H=X.filter(fe=>fe.overflows[0]<=0).sort((fe,ye)=>fe.overflows[1]-ye.overflows[1])[0])==null?void 0:H.placement;if(!Ce)switch(y){case"bestFit":{var te;const fe=(te=X.filter(ye=>{if(G){const he=getSideAxis(ye.placement);return he===R||he==="y"}return!0}).map(ye=>[ye.placement,ye.overflows.filter(he=>he>0).reduce((he,j)=>he+j,0)]).sort((ye,he)=>ye[1]-he[1])[0])==null?void 0:te[0];fe&&(Ce=fe);break}case"initialPlacement":Ce=f;break}if(l!==Ce)return{reset:{placement:Ce}}}return{}}}};function getSideOffsets(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function isAnySideFullyClipped(n){return sides.some(e=>n[e]>=0)}const hide$2=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:o}=e,{strategy:a="referenceHidden",...l}=evaluate(n,e);switch(a){case"referenceHidden":{const u=await detectOverflow(e,{...l,elementContext:"reference"}),c=getSideOffsets(u,o.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:isAnySideFullyClipped(c)}}}case"escaped":{const u=await detectOverflow(e,{...l,altBoundary:!0}),c=getSideOffsets(u,o.floating);return{data:{escapedOffsets:c,escaped:isAnySideFullyClipped(c)}}}default:return{}}}}};async function convertValueToCoords(n,e){const{placement:o,platform:a,elements:l}=n,u=await(a.isRTL==null?void 0:a.isRTL(l.floating)),c=getSide(o),f=getAlignment(o),p=getSideAxis(o)==="y",T=["left","top"].includes(c)?-1:1,E=u&&p?-1:1,b=evaluate(e,n);let{mainAxis:m,crossAxis:y,alignmentAxis:S}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return f&&typeof S=="number"&&(y=f==="end"?S*-1:S),p?{x:y*E,y:m*T}:{x:m*T,y:y*E}}const offset$2=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var o,a;const{x:l,y:u,placement:c,middlewareData:f}=e,p=await convertValueToCoords(e,n);return c===((o=f.offset)==null?void 0:o.placement)&&(a=f.arrow)!=null&&a.alignmentOffset?{}:{x:l+p.x,y:u+p.y,data:{...p,placement:c}}}}},shift$3=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:o,y:a,placement:l}=e,{mainAxis:u=!0,crossAxis:c=!1,limiter:f={fn:A=>{let{x:w,y:R}=A;return{x:w,y:R}}},...p}=evaluate(n,e),T={x:o,y:a},E=await detectOverflow(e,p),b=getSideAxis(getSide(l)),m=getOppositeAxis(b);let y=T[m],S=T[b];if(u){const A=m==="y"?"top":"left",w=m==="y"?"bottom":"right",R=y+E[A],P=y-E[w];y=clamp(R,y,P)}if(c){const A=b==="y"?"top":"left",w=b==="y"?"bottom":"right",R=S+E[A],P=S-E[w];S=clamp(R,S,P)}const v=f.fn({...e,[m]:y,[b]:S});return{...v,data:{x:v.x-o,y:v.y-a,enabled:{[m]:u,[b]:c}}}}}},limitShift$2=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:o,y:a,placement:l,rects:u,middlewareData:c}=e,{offset:f=0,mainAxis:p=!0,crossAxis:T=!0}=evaluate(n,e),E={x:o,y:a},b=getSideAxis(l),m=getOppositeAxis(b);let y=E[m],S=E[b];const v=evaluate(f,e),A=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(p){const P=m==="y"?"height":"width",F=u.reference[m]-u.floating[P]+A.mainAxis,B=u.reference[m]+u.reference[P]-A.mainAxis;y<F?y=F:y>B&&(y=B)}if(T){var w,R;const P=m==="y"?"width":"height",F=["top","left"].includes(getSide(l)),B=u.reference[b]-u.floating[P]+(F&&((w=c.offset)==null?void 0:w[b])||0)+(F?0:A.crossAxis),G=u.reference[b]+u.reference[P]+(F?0:((R=c.offset)==null?void 0:R[b])||0)-(F?A.crossAxis:0);S<B?S=B:S>G&&(S=G)}return{[m]:y,[b]:S}}}},size$2=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var o,a;const{placement:l,rects:u,platform:c,elements:f}=e,{apply:p=()=>{},...T}=evaluate(n,e),E=await detectOverflow(e,T),b=getSide(l),m=getAlignment(l),y=getSideAxis(l)==="y",{width:S,height:v}=u.floating;let A,w;b==="top"||b==="bottom"?(A=b,w=m===(await(c.isRTL==null?void 0:c.isRTL(f.floating))?"start":"end")?"left":"right"):(w=b,A=m==="end"?"top":"bottom");const R=v-E.top-E.bottom,P=S-E.left-E.right,F=min(v-E[A],R),B=min(S-E[w],P),G=!e.middlewareData.shift;let K=F,le=B;if((o=e.middlewareData.shift)!=null&&o.enabled.x&&(le=P),(a=e.middlewareData.shift)!=null&&a.enabled.y&&(K=R),G&&!m){const X=max(E.left,0),W=max(E.right,0),H=max(E.top,0),te=max(E.bottom,0);y?le=S-2*(X!==0||W!==0?X+W:max(E.left,E.right)):K=v-2*(H!==0||te!==0?H+te:max(E.top,E.bottom))}await p({...e,availableWidth:le,availableHeight:K});const V=await c.getDimensions(f.floating);return S!==V.width||v!==V.height?{reset:{rects:!0}}:{}}}};function hasWindow(){return typeof window<"u"}function getNodeName(n){return isNode(n)?(n.nodeName||"").toLowerCase():"#document"}function getWindow(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function getDocumentElement(n){var e;return(e=(isNode(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function isNode(n){return hasWindow()?n instanceof Node||n instanceof getWindow(n).Node:!1}function isElement(n){return hasWindow()?n instanceof Element||n instanceof getWindow(n).Element:!1}function isHTMLElement(n){return hasWindow()?n instanceof HTMLElement||n instanceof getWindow(n).HTMLElement:!1}function isShadowRoot(n){return!hasWindow()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof getWindow(n).ShadowRoot}function isOverflowElement(n){const{overflow:e,overflowX:o,overflowY:a,display:l}=getComputedStyle$1(n);return/auto|scroll|overlay|hidden|clip/.test(e+a+o)&&!["inline","contents"].includes(l)}function isTableElement(n){return["table","td","th"].includes(getNodeName(n))}function isTopLayer(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function isContainingBlock(n){const e=isWebKit(),o=isElement(n)?getComputedStyle$1(n):n;return["transform","translate","scale","rotate","perspective"].some(a=>o[a]?o[a]!=="none":!1)||(o.containerType?o.containerType!=="normal":!1)||!e&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!e&&(o.filter?o.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(a=>(o.willChange||"").includes(a))||["paint","layout","strict","content"].some(a=>(o.contain||"").includes(a))}function getContainingBlock(n){let e=getParentNode(n);for(;isHTMLElement(e)&&!isLastTraversableNode(e);){if(isContainingBlock(e))return e;if(isTopLayer(e))return null;e=getParentNode(e)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(n){return["html","body","#document"].includes(getNodeName(n))}function getComputedStyle$1(n){return getWindow(n).getComputedStyle(n)}function getNodeScroll(n){return isElement(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function getParentNode(n){if(getNodeName(n)==="html")return n;const e=n.assignedSlot||n.parentNode||isShadowRoot(n)&&n.host||getDocumentElement(n);return isShadowRoot(e)?e.host:e}function getNearestOverflowAncestor(n){const e=getParentNode(n);return isLastTraversableNode(e)?n.ownerDocument?n.ownerDocument.body:n.body:isHTMLElement(e)&&isOverflowElement(e)?e:getNearestOverflowAncestor(e)}function getOverflowAncestors(n,e,o){var a;e===void 0&&(e=[]),o===void 0&&(o=!0);const l=getNearestOverflowAncestor(n),u=l===((a=n.ownerDocument)==null?void 0:a.body),c=getWindow(l);if(u){const f=getFrameElement(c);return e.concat(c,c.visualViewport||[],isOverflowElement(l)?l:[],f&&o?getOverflowAncestors(f):[])}return e.concat(l,getOverflowAncestors(l,[],o))}function getFrameElement(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function getCssDimensions(n){const e=getComputedStyle$1(n);let o=parseFloat(e.width)||0,a=parseFloat(e.height)||0;const l=isHTMLElement(n),u=l?n.offsetWidth:o,c=l?n.offsetHeight:a,f=round(o)!==u||round(a)!==c;return f&&(o=u,a=c),{width:o,height:a,$:f}}function unwrapElement(n){return isElement(n)?n:n.contextElement}function getScale$1(n){const e=unwrapElement(n);if(!isHTMLElement(e))return createCoords(1);const o=e.getBoundingClientRect(),{width:a,height:l,$:u}=getCssDimensions(e);let c=(u?round(o.width):o.width)/a,f=(u?round(o.height):o.height)/l;return(!c||!Number.isFinite(c))&&(c=1),(!f||!Number.isFinite(f))&&(f=1),{x:c,y:f}}const noOffsets=createCoords(0);function getVisualOffsets(n){const e=getWindow(n);return!isWebKit()||!e.visualViewport?noOffsets:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function shouldAddVisualOffsets(n,e,o){return e===void 0&&(e=!1),!o||e&&o!==getWindow(n)?!1:e}function getBoundingClientRect(n,e,o,a){e===void 0&&(e=!1),o===void 0&&(o=!1);const l=n.getBoundingClientRect(),u=unwrapElement(n);let c=createCoords(1);e&&(a?isElement(a)&&(c=getScale$1(a)):c=getScale$1(n));const f=shouldAddVisualOffsets(u,o,a)?getVisualOffsets(u):createCoords(0);let p=(l.left+f.x)/c.x,T=(l.top+f.y)/c.y,E=l.width/c.x,b=l.height/c.y;if(u){const m=getWindow(u),y=a&&isElement(a)?getWindow(a):a;let S=m,v=getFrameElement(S);for(;v&&a&&y!==S;){const A=getScale$1(v),w=v.getBoundingClientRect(),R=getComputedStyle$1(v),P=w.left+(v.clientLeft+parseFloat(R.paddingLeft))*A.x,F=w.top+(v.clientTop+parseFloat(R.paddingTop))*A.y;p*=A.x,T*=A.y,E*=A.x,b*=A.y,p+=P,T+=F,S=getWindow(v),v=getFrameElement(S)}}return rectToClientRect({width:E,height:b,x:p,y:T})}function getWindowScrollBarX(n,e){const o=getNodeScroll(n).scrollLeft;return e?e.left+o:getBoundingClientRect(getDocumentElement(n)).left+o}function getHTMLOffset(n,e,o){o===void 0&&(o=!1);const a=n.getBoundingClientRect(),l=a.left+e.scrollLeft-(o?0:getWindowScrollBarX(n,a)),u=a.top+e.scrollTop;return{x:l,y:u}}function convertOffsetParentRelativeRectToViewportRelativeRect(n){let{elements:e,rect:o,offsetParent:a,strategy:l}=n;const u=l==="fixed",c=getDocumentElement(a),f=e?isTopLayer(e.floating):!1;if(a===c||f&&u)return o;let p={scrollLeft:0,scrollTop:0},T=createCoords(1);const E=createCoords(0),b=isHTMLElement(a);if((b||!b&&!u)&&((getNodeName(a)!=="body"||isOverflowElement(c))&&(p=getNodeScroll(a)),isHTMLElement(a))){const y=getBoundingClientRect(a);T=getScale$1(a),E.x=y.x+a.clientLeft,E.y=y.y+a.clientTop}const m=c&&!b&&!u?getHTMLOffset(c,p,!0):createCoords(0);return{width:o.width*T.x,height:o.height*T.y,x:o.x*T.x-p.scrollLeft*T.x+E.x+m.x,y:o.y*T.y-p.scrollTop*T.y+E.y+m.y}}function getClientRects(n){return Array.from(n.getClientRects())}function getDocumentRect(n){const e=getDocumentElement(n),o=getNodeScroll(n),a=n.ownerDocument.body,l=max(e.scrollWidth,e.clientWidth,a.scrollWidth,a.clientWidth),u=max(e.scrollHeight,e.clientHeight,a.scrollHeight,a.clientHeight);let c=-o.scrollLeft+getWindowScrollBarX(n);const f=-o.scrollTop;return getComputedStyle$1(a).direction==="rtl"&&(c+=max(e.clientWidth,a.clientWidth)-l),{width:l,height:u,x:c,y:f}}function getViewportRect(n,e){const o=getWindow(n),a=getDocumentElement(n),l=o.visualViewport;let u=a.clientWidth,c=a.clientHeight,f=0,p=0;if(l){u=l.width,c=l.height;const T=isWebKit();(!T||T&&e==="fixed")&&(f=l.offsetLeft,p=l.offsetTop)}return{width:u,height:c,x:f,y:p}}function getInnerBoundingClientRect(n,e){const o=getBoundingClientRect(n,!0,e==="fixed"),a=o.top+n.clientTop,l=o.left+n.clientLeft,u=isHTMLElement(n)?getScale$1(n):createCoords(1),c=n.clientWidth*u.x,f=n.clientHeight*u.y,p=l*u.x,T=a*u.y;return{width:c,height:f,x:p,y:T}}function getClientRectFromClippingAncestor(n,e,o){let a;if(e==="viewport")a=getViewportRect(n,o);else if(e==="document")a=getDocumentRect(getDocumentElement(n));else if(isElement(e))a=getInnerBoundingClientRect(e,o);else{const l=getVisualOffsets(n);a={x:e.x-l.x,y:e.y-l.y,width:e.width,height:e.height}}return rectToClientRect(a)}function hasFixedPositionAncestor(n,e){const o=getParentNode(n);return o===e||!isElement(o)||isLastTraversableNode(o)?!1:getComputedStyle$1(o).position==="fixed"||hasFixedPositionAncestor(o,e)}function getClippingElementAncestors(n,e){const o=e.get(n);if(o)return o;let a=getOverflowAncestors(n,[],!1).filter(f=>isElement(f)&&getNodeName(f)!=="body"),l=null;const u=getComputedStyle$1(n).position==="fixed";let c=u?getParentNode(n):n;for(;isElement(c)&&!isLastTraversableNode(c);){const f=getComputedStyle$1(c),p=isContainingBlock(c);!p&&f.position==="fixed"&&(l=null),(u?!p&&!l:!p&&f.position==="static"&&!!l&&["absolute","fixed"].includes(l.position)||isOverflowElement(c)&&!p&&hasFixedPositionAncestor(n,c))?a=a.filter(E=>E!==c):l=f,c=getParentNode(c)}return e.set(n,a),a}function getClippingRect(n){let{element:e,boundary:o,rootBoundary:a,strategy:l}=n;const c=[...o==="clippingAncestors"?isTopLayer(e)?[]:getClippingElementAncestors(e,this._c):[].concat(o),a],f=c[0],p=c.reduce((T,E)=>{const b=getClientRectFromClippingAncestor(e,E,l);return T.top=max(b.top,T.top),T.right=min(b.right,T.right),T.bottom=min(b.bottom,T.bottom),T.left=max(b.left,T.left),T},getClientRectFromClippingAncestor(e,f,l));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function getDimensions(n){const{width:e,height:o}=getCssDimensions(n);return{width:e,height:o}}function getRectRelativeToOffsetParent(n,e,o){const a=isHTMLElement(e),l=getDocumentElement(e),u=o==="fixed",c=getBoundingClientRect(n,!0,u,e);let f={scrollLeft:0,scrollTop:0};const p=createCoords(0);function T(){p.x=getWindowScrollBarX(l)}if(a||!a&&!u)if((getNodeName(e)!=="body"||isOverflowElement(l))&&(f=getNodeScroll(e)),a){const y=getBoundingClientRect(e,!0,u,e);p.x=y.x+e.clientLeft,p.y=y.y+e.clientTop}else l&&T();u&&!a&&l&&T();const E=l&&!a&&!u?getHTMLOffset(l,f):createCoords(0),b=c.left+f.scrollLeft-p.x-E.x,m=c.top+f.scrollTop-p.y-E.y;return{x:b,y:m,width:c.width,height:c.height}}function isStaticPositioned(n){return getComputedStyle$1(n).position==="static"}function getTrueOffsetParent(n,e){if(!isHTMLElement(n)||getComputedStyle$1(n).position==="fixed")return null;if(e)return e(n);let o=n.offsetParent;return getDocumentElement(n)===o&&(o=o.ownerDocument.body),o}function getOffsetParent(n,e){const o=getWindow(n);if(isTopLayer(n))return o;if(!isHTMLElement(n)){let l=getParentNode(n);for(;l&&!isLastTraversableNode(l);){if(isElement(l)&&!isStaticPositioned(l))return l;l=getParentNode(l)}return o}let a=getTrueOffsetParent(n,e);for(;a&&isTableElement(a)&&isStaticPositioned(a);)a=getTrueOffsetParent(a,e);return a&&isLastTraversableNode(a)&&isStaticPositioned(a)&&!isContainingBlock(a)?o:a||getContainingBlock(n)||o}const getElementRects=async function(n){const e=this.getOffsetParent||getOffsetParent,o=this.getDimensions,a=await o(n.floating);return{reference:getRectRelativeToOffsetParent(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function isRTL(n){return getComputedStyle$1(n).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale:getScale$1,isElement,isRTL};function rectsAreEqual(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function observeMove(n,e){let o=null,a;const l=getDocumentElement(n);function u(){var f;clearTimeout(a),(f=o)==null||f.disconnect(),o=null}function c(f,p){f===void 0&&(f=!1),p===void 0&&(p=1),u();const T=n.getBoundingClientRect(),{left:E,top:b,width:m,height:y}=T;if(f||e(),!m||!y)return;const S=floor(b),v=floor(l.clientWidth-(E+m)),A=floor(l.clientHeight-(b+y)),w=floor(E),P={rootMargin:-S+"px "+-v+"px "+-A+"px "+-w+"px",threshold:max(0,min(1,p))||1};let F=!0;function B(G){const K=G[0].intersectionRatio;if(K!==p){if(!F)return c();K?c(!1,K):a=setTimeout(()=>{c(!1,1e-7)},1e3)}K===1&&!rectsAreEqual(T,n.getBoundingClientRect())&&c(),F=!1}try{o=new IntersectionObserver(B,{...P,root:l.ownerDocument})}catch{o=new IntersectionObserver(B,P)}o.observe(n)}return c(!0),u}function autoUpdate(n,e,o,a){a===void 0&&(a={});const{ancestorScroll:l=!0,ancestorResize:u=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:p=!1}=a,T=unwrapElement(n),E=l||u?[...T?getOverflowAncestors(T):[],...getOverflowAncestors(e)]:[];E.forEach(w=>{l&&w.addEventListener("scroll",o,{passive:!0}),u&&w.addEventListener("resize",o)});const b=T&&f?observeMove(T,o):null;let m=-1,y=null;c&&(y=new ResizeObserver(w=>{let[R]=w;R&&R.target===T&&y&&(y.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var P;(P=y)==null||P.observe(e)})),o()}),T&&!p&&y.observe(T),y.observe(e));let S,v=p?getBoundingClientRect(n):null;p&&A();function A(){const w=getBoundingClientRect(n);v&&!rectsAreEqual(v,w)&&o(),v=w,S=requestAnimationFrame(A)}return o(),()=>{var w;E.forEach(R=>{l&&R.removeEventListener("scroll",o),u&&R.removeEventListener("resize",o)}),b==null||b(),(w=y)==null||w.disconnect(),y=null,p&&cancelAnimationFrame(S)}}const offset$1=offset$2,shift$2=shift$3,flip$1=flip$2,size$1=size$2,hide$1=hide$2,arrow$2=arrow$3,limitShift$1=limitShift$2,computePosition=(n,e,o)=>{const a=new Map,l={platform,...o},u={...l.platform,_c:a};return computePosition$1(n,e,{...l,platform:u})};var isClient=typeof document<"u",noop$3=function(){},index$1=isClient?reactExports.useLayoutEffect:noop$3;function deepEqual(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let o,a,l;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(o=n.length,o!==e.length)return!1;for(a=o;a--!==0;)if(!deepEqual(n[a],e[a]))return!1;return!0}if(l=Object.keys(n),o=l.length,o!==Object.keys(e).length)return!1;for(a=o;a--!==0;)if(!{}.hasOwnProperty.call(e,l[a]))return!1;for(a=o;a--!==0;){const u=l[a];if(!(u==="_owner"&&n.$$typeof)&&!deepEqual(n[u],e[u]))return!1}return!0}return n!==n&&e!==e}function getDPR(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(n,e){const o=getDPR(n);return Math.round(e*o)/o}function useLatestRef(n){const e=reactExports.useRef(n);return index$1(()=>{e.current=n}),e}function useFloating(n){n===void 0&&(n={});const{placement:e="bottom",strategy:o="absolute",middleware:a=[],platform:l,elements:{reference:u,floating:c}={},transform:f=!0,whileElementsMounted:p,open:T}=n,[E,b]=reactExports.useState({x:0,y:0,strategy:o,placement:e,middlewareData:{},isPositioned:!1}),[m,y]=reactExports.useState(a);deepEqual(m,a)||y(a);const[S,v]=reactExports.useState(null),[A,w]=reactExports.useState(null),R=reactExports.useCallback(ye=>{ye!==G.current&&(G.current=ye,v(ye))},[]),P=reactExports.useCallback(ye=>{ye!==K.current&&(K.current=ye,w(ye))},[]),F=u||S,B=c||A,G=reactExports.useRef(null),K=reactExports.useRef(null),le=reactExports.useRef(E),V=p!=null,X=useLatestRef(p),W=useLatestRef(l),H=useLatestRef(T),te=reactExports.useCallback(()=>{if(!G.current||!K.current)return;const ye={placement:e,strategy:o,middleware:m};W.current&&(ye.platform=W.current),computePosition(G.current,K.current,ye).then(he=>{const j={...he,isPositioned:H.current!==!1};L.current&&!deepEqual(le.current,j)&&(le.current=j,reactDomExports.flushSync(()=>{b(j)}))})},[m,e,o,W,H]);index$1(()=>{T===!1&&le.current.isPositioned&&(le.current.isPositioned=!1,b(ye=>({...ye,isPositioned:!1})))},[T]);const L=reactExports.useRef(!1);index$1(()=>(L.current=!0,()=>{L.current=!1}),[]),index$1(()=>{if(F&&(G.current=F),B&&(K.current=B),F&&B){if(X.current)return X.current(F,B,te);te()}},[F,B,te,X,V]);const ue=reactExports.useMemo(()=>({reference:G,floating:K,setReference:R,setFloating:P}),[R,P]),Ce=reactExports.useMemo(()=>({reference:F,floating:B}),[F,B]),fe=reactExports.useMemo(()=>{const ye={position:o,left:0,top:0};if(!Ce.floating)return ye;const he=roundByDPR(Ce.floating,E.x),j=roundByDPR(Ce.floating,E.y);return f?{...ye,transform:"translate("+he+"px, "+j+"px)",...getDPR(Ce.floating)>=1.5&&{willChange:"transform"}}:{position:o,left:he,top:j}},[o,f,Ce.floating,E.x,E.y]);return reactExports.useMemo(()=>({...E,update:te,refs:ue,elements:Ce,floatingStyles:fe}),[E,te,ue,Ce,fe])}const arrow$1=n=>{function e(o){return{}.hasOwnProperty.call(o,"current")}return{name:"arrow",options:n,fn(o){const{element:a,padding:l}=typeof n=="function"?n(o):n;return a&&e(a)?a.current!=null?arrow$2({element:a.current,padding:l}).fn(o):{}:a?arrow$2({element:a,padding:l}).fn(o):{}}}},offset=(n,e)=>({...offset$1(n),options:[n,e]}),shift$1=(n,e)=>({...shift$2(n),options:[n,e]}),limitShift=(n,e)=>({...limitShift$1(n),options:[n,e]}),flip=(n,e)=>({...flip$1(n),options:[n,e]}),size=(n,e)=>({...size$1(n),options:[n,e]}),hide=(n,e)=>({...hide$1(n),options:[n,e]}),arrow=(n,e)=>({...arrow$1(n),options:[n,e]});function r(n){var e,o,a="";if(typeof n=="string"||typeof n=="number")a+=n;else if(typeof n=="object")if(Array.isArray(n)){var l=n.length;for(e=0;e<l;e++)n[e]&&(o=r(n[e]))&&(a&&(a+=" "),a+=o)}else for(o in n)n[o]&&(a&&(a+=" "),a+=o);return a}function clsx(){for(var n,e,o=0,a="",l=arguments.length;o<l;o++)(n=arguments[o])&&(e=r(n))&&(a&&(a+=" "),a+=e);return a}const CLASS_PART_SEPARATOR="-",createClassGroupUtils=n=>{const e=createClassMap(n),{conflictingClassGroups:o,conflictingClassGroupModifiers:a}=n;return{getClassGroupId:c=>{const f=c.split(CLASS_PART_SEPARATOR);return f[0]===""&&f.length!==1&&f.shift(),getGroupRecursive(f,e)||getGroupIdForArbitraryProperty(c)},getConflictingClassGroupIds:(c,f)=>{const p=o[c]||[];return f&&a[c]?[...p,...a[c]]:p}}},getGroupRecursive=(n,e)=>{var c;if(n.length===0)return e.classGroupId;const o=n[0],a=e.nextPart.get(o),l=a?getGroupRecursive(n.slice(1),a):void 0;if(l)return l;if(e.validators.length===0)return;const u=n.join(CLASS_PART_SEPARATOR);return(c=e.validators.find(({validator:f})=>f(u)))==null?void 0:c.classGroupId},arbitraryPropertyRegex=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=n=>{if(arbitraryPropertyRegex.test(n)){const e=arbitraryPropertyRegex.exec(n)[1],o=e==null?void 0:e.substring(0,e.indexOf(":"));if(o)return"arbitrary.."+o}},createClassMap=n=>{const{theme:e,prefix:o}=n,a={nextPart:new Map,validators:[]};return getPrefixedClassGroupEntries(Object.entries(n.classGroups),o).forEach(([u,c])=>{processClassesRecursively(c,a,u,e)}),a},processClassesRecursively=(n,e,o,a)=>{n.forEach(l=>{if(typeof l=="string"){const u=l===""?e:getPart(e,l);u.classGroupId=o;return}if(typeof l=="function"){if(isThemeGetter(l)){processClassesRecursively(l(a),e,o,a);return}e.validators.push({validator:l,classGroupId:o});return}Object.entries(l).forEach(([u,c])=>{processClassesRecursively(c,getPart(e,u),o,a)})})},getPart=(n,e)=>{let o=n;return e.split(CLASS_PART_SEPARATOR).forEach(a=>{o.nextPart.has(a)||o.nextPart.set(a,{nextPart:new Map,validators:[]}),o=o.nextPart.get(a)}),o},isThemeGetter=n=>n.isThemeGetter,getPrefixedClassGroupEntries=(n,e)=>e?n.map(([o,a])=>{const l=a.map(u=>typeof u=="string"?e+u:typeof u=="object"?Object.fromEntries(Object.entries(u).map(([c,f])=>[e+c,f])):u);return[o,l]}):n,createLruCache=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,o=new Map,a=new Map;const l=(u,c)=>{o.set(u,c),e++,e>n&&(e=0,a=o,o=new Map)};return{get(u){let c=o.get(u);if(c!==void 0)return c;if((c=a.get(u))!==void 0)return l(u,c),c},set(u,c){o.has(u)?o.set(u,c):l(u,c)}}},IMPORTANT_MODIFIER="!",createParseClassName=n=>{const{separator:e,experimentalParseClassName:o}=n,a=e.length===1,l=e[0],u=e.length,c=f=>{const p=[];let T=0,E=0,b;for(let A=0;A<f.length;A++){let w=f[A];if(T===0){if(w===l&&(a||f.slice(A,A+u)===e)){p.push(f.slice(E,A)),E=A+u;continue}if(w==="/"){b=A;continue}}w==="["?T++:w==="]"&&T--}const m=p.length===0?f:f.substring(E),y=m.startsWith(IMPORTANT_MODIFIER),S=y?m.substring(1):m,v=b&&b>E?b-E:void 0;return{modifiers:p,hasImportantModifier:y,baseClassName:S,maybePostfixModifierPosition:v}};return o?f=>o({className:f,parseClassName:c}):c},sortModifiers=n=>{if(n.length<=1)return n;const e=[];let o=[];return n.forEach(a=>{a[0]==="["?(e.push(...o.sort(),a),o=[]):o.push(a)}),e.push(...o.sort()),e},createConfigUtils=n=>({cache:createLruCache(n.cacheSize),parseClassName:createParseClassName(n),...createClassGroupUtils(n)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(n,e)=>{const{parseClassName:o,getClassGroupId:a,getConflictingClassGroupIds:l}=e,u=[],c=n.trim().split(SPLIT_CLASSES_REGEX);let f="";for(let p=c.length-1;p>=0;p-=1){const T=c[p],{modifiers:E,hasImportantModifier:b,baseClassName:m,maybePostfixModifierPosition:y}=o(T);let S=!!y,v=a(S?m.substring(0,y):m);if(!v){if(!S){f=T+(f.length>0?" "+f:f);continue}if(v=a(m),!v){f=T+(f.length>0?" "+f:f);continue}S=!1}const A=sortModifiers(E).join(":"),w=b?A+IMPORTANT_MODIFIER:A,R=w+v;if(u.includes(R))continue;u.push(R);const P=l(v,S);for(let F=0;F<P.length;++F){const B=P[F];u.push(w+B)}f=T+(f.length>0?" "+f:f)}return f};function twJoin(){let n=0,e,o,a="";for(;n<arguments.length;)(e=arguments[n++])&&(o=toValue(e))&&(a&&(a+=" "),a+=o);return a}const toValue=n=>{if(typeof n=="string")return n;let e,o="";for(let a=0;a<n.length;a++)n[a]&&(e=toValue(n[a]))&&(o&&(o+=" "),o+=e);return o};function createTailwindMerge(n,...e){let o,a,l,u=c;function c(p){const T=e.reduce((E,b)=>b(E),n());return o=createConfigUtils(T),a=o.cache.get,l=o.cache.set,u=f,f(p)}function f(p){const T=a(p);if(T)return T;const E=mergeClassList(p,o);return l(p,E),E}return function(){return u(twJoin.apply(null,arguments))}}const fromTheme=n=>{const e=o=>o[n]||[];return e.isThemeGetter=!0,e},arbitraryValueRegex=/^\[(?:([a-z-]+):)?(.+)\]$/i,fractionRegex=/^\d+\/\d+$/,stringLengths=new Set(["px","full","screen"]),tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isLength=n=>isNumber$1(n)||stringLengths.has(n)||fractionRegex.test(n),isArbitraryLength=n=>getIsArbitraryValue(n,"length",isLengthOnly),isNumber$1=n=>!!n&&!Number.isNaN(Number(n)),isArbitraryNumber=n=>getIsArbitraryValue(n,"number",isNumber$1),isInteger$1=n=>!!n&&Number.isInteger(Number(n)),isPercent=n=>n.endsWith("%")&&isNumber$1(n.slice(0,-1)),isArbitraryValue=n=>arbitraryValueRegex.test(n),isTshirtSize=n=>tshirtUnitRegex.test(n),sizeLabels=new Set(["length","size","percentage"]),isArbitrarySize=n=>getIsArbitraryValue(n,sizeLabels,isNever),isArbitraryPosition=n=>getIsArbitraryValue(n,"position",isNever),imageLabels=new Set(["image","url"]),isArbitraryImage=n=>getIsArbitraryValue(n,imageLabels,isImage),isArbitraryShadow=n=>getIsArbitraryValue(n,"",isShadow),isAny=()=>!0,getIsArbitraryValue=(n,e,o)=>{const a=arbitraryValueRegex.exec(n);return a?a[1]?typeof e=="string"?a[1]===e:e.has(a[1]):o(a[2]):!1},isLengthOnly=n=>lengthUnitRegex.test(n)&&!colorFunctionRegex.test(n),isNever=()=>!1,isShadow=n=>shadowRegex.test(n),isImage=n=>imageRegex.test(n),getDefaultConfig=()=>{const n=fromTheme("colors"),e=fromTheme("spacing"),o=fromTheme("blur"),a=fromTheme("brightness"),l=fromTheme("borderColor"),u=fromTheme("borderRadius"),c=fromTheme("borderSpacing"),f=fromTheme("borderWidth"),p=fromTheme("contrast"),T=fromTheme("grayscale"),E=fromTheme("hueRotate"),b=fromTheme("invert"),m=fromTheme("gap"),y=fromTheme("gradientColorStops"),S=fromTheme("gradientColorStopPositions"),v=fromTheme("inset"),A=fromTheme("margin"),w=fromTheme("opacity"),R=fromTheme("padding"),P=fromTheme("saturate"),F=fromTheme("scale"),B=fromTheme("sepia"),G=fromTheme("skew"),K=fromTheme("space"),le=fromTheme("translate"),V=()=>["auto","contain","none"],X=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto",isArbitraryValue,e],H=()=>[isArbitraryValue,e],te=()=>["",isLength,isArbitraryLength],L=()=>["auto",isNumber$1,isArbitraryValue],ue=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ce=()=>["solid","dashed","dotted","double","none"],fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ye=()=>["start","end","center","between","around","evenly","stretch"],he=()=>["","0",isArbitraryValue],j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[isNumber$1,isArbitraryValue];return{cacheSize:500,separator:":",theme:{colors:[isAny],spacing:[isLength,isArbitraryLength],blur:["none","",isTshirtSize,isArbitraryValue],brightness:Y(),borderColor:[n],borderRadius:["none","","full",isTshirtSize,isArbitraryValue],borderSpacing:H(),borderWidth:te(),contrast:Y(),grayscale:he(),hueRotate:Y(),invert:he(),gap:H(),gradientColorStops:[n],gradientColorStopPositions:[isPercent,isArbitraryLength],inset:W(),margin:W(),opacity:Y(),padding:H(),saturate:Y(),scale:Y(),sepia:he(),skew:Y(),space:H(),translate:H()},classGroups:{aspect:[{aspect:["auto","square","video",isArbitraryValue]}],container:["container"],columns:[{columns:[isTshirtSize]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ue(),isArbitraryValue]}],overflow:[{overflow:X()}],"overflow-x":[{"overflow-x":X()}],"overflow-y":[{"overflow-y":X()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",isInteger$1,isArbitraryValue]}],basis:[{basis:W()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",isArbitraryValue]}],grow:[{grow:he()}],shrink:[{shrink:he()}],order:[{order:["first","last","none",isInteger$1,isArbitraryValue]}],"grid-cols":[{"grid-cols":[isAny]}],"col-start-end":[{col:["auto",{span:["full",isInteger$1,isArbitraryValue]},isArbitraryValue]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[isAny]}],"row-start-end":[{row:["auto",{span:[isInteger$1,isArbitraryValue]},isArbitraryValue]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",isArbitraryValue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",isArbitraryValue]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...ye()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ye(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ye(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[R]}],px:[{px:[R]}],py:[{py:[R]}],ps:[{ps:[R]}],pe:[{pe:[R]}],pt:[{pt:[R]}],pr:[{pr:[R]}],pb:[{pb:[R]}],pl:[{pl:[R]}],m:[{m:[A]}],mx:[{mx:[A]}],my:[{my:[A]}],ms:[{ms:[A]}],me:[{me:[A]}],mt:[{mt:[A]}],mr:[{mr:[A]}],mb:[{mb:[A]}],ml:[{ml:[A]}],"space-x":[{"space-x":[K]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[K]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",isArbitraryValue,e]}],"min-w":[{"min-w":[isArbitraryValue,e,"min","max","fit"]}],"max-w":[{"max-w":[isArbitraryValue,e,"none","full","min","max","fit","prose",{screen:[isTshirtSize]},isTshirtSize]}],h:[{h:[isArbitraryValue,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[isArbitraryValue,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[isArbitraryValue,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[isArbitraryValue,e,"auto","min","max","fit"]}],"font-size":[{text:["base",isTshirtSize,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",isArbitraryNumber]}],"font-family":[{font:[isAny]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",isArbitraryValue]}],"line-clamp":[{"line-clamp":["none",isNumber$1,isArbitraryNumber]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",isLength,isArbitraryValue]}],"list-image":[{"list-image":["none",isArbitraryValue]}],"list-style-type":[{list:["none","disc","decimal",isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ce(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",isLength,isArbitraryLength]}],"underline-offset":[{"underline-offset":["auto",isLength,isArbitraryValue]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:H()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ue(),isArbitraryPosition]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",isArbitrarySize]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},isArbitraryImage]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[u]}],"rounded-s":[{"rounded-s":[u]}],"rounded-e":[{"rounded-e":[u]}],"rounded-t":[{"rounded-t":[u]}],"rounded-r":[{"rounded-r":[u]}],"rounded-b":[{"rounded-b":[u]}],"rounded-l":[{"rounded-l":[u]}],"rounded-ss":[{"rounded-ss":[u]}],"rounded-se":[{"rounded-se":[u]}],"rounded-ee":[{"rounded-ee":[u]}],"rounded-es":[{"rounded-es":[u]}],"rounded-tl":[{"rounded-tl":[u]}],"rounded-tr":[{"rounded-tr":[u]}],"rounded-br":[{"rounded-br":[u]}],"rounded-bl":[{"rounded-bl":[u]}],"border-w":[{border:[f]}],"border-w-x":[{"border-x":[f]}],"border-w-y":[{"border-y":[f]}],"border-w-s":[{"border-s":[f]}],"border-w-e":[{"border-e":[f]}],"border-w-t":[{"border-t":[f]}],"border-w-r":[{"border-r":[f]}],"border-w-b":[{"border-b":[f]}],"border-w-l":[{"border-l":[f]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...Ce(),"hidden"]}],"divide-x":[{"divide-x":[f]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[f]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:Ce()}],"border-color":[{border:[l]}],"border-color-x":[{"border-x":[l]}],"border-color-y":[{"border-y":[l]}],"border-color-s":[{"border-s":[l]}],"border-color-e":[{"border-e":[l]}],"border-color-t":[{"border-t":[l]}],"border-color-r":[{"border-r":[l]}],"border-color-b":[{"border-b":[l]}],"border-color-l":[{"border-l":[l]}],"divide-color":[{divide:[l]}],"outline-style":[{outline:["",...Ce()]}],"outline-offset":[{"outline-offset":[isLength,isArbitraryValue]}],"outline-w":[{outline:[isLength,isArbitraryLength]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[isLength,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",isTshirtSize,isArbitraryShadow]}],"shadow-color":[{shadow:[isAny]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...fe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":fe()}],filter:[{filter:["","none"]}],blur:[{blur:[o]}],brightness:[{brightness:[a]}],contrast:[{contrast:[p]}],"drop-shadow":[{"drop-shadow":["","none",isTshirtSize,isArbitraryValue]}],grayscale:[{grayscale:[T]}],"hue-rotate":[{"hue-rotate":[E]}],invert:[{invert:[b]}],saturate:[{saturate:[P]}],sepia:[{sepia:[B]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[o]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[p]}],"backdrop-grayscale":[{"backdrop-grayscale":[T]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[E]}],"backdrop-invert":[{"backdrop-invert":[b]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[P]}],"backdrop-sepia":[{"backdrop-sepia":[B]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",isArbitraryValue]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",isArbitraryValue]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",isArbitraryValue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[F]}],"scale-x":[{"scale-x":[F]}],"scale-y":[{"scale-y":[F]}],rotate:[{rotate:[isInteger$1,isArbitraryValue]}],"translate-x":[{"translate-x":[le]}],"translate-y":[{"translate-y":[le]}],"skew-x":[{"skew-x":[G]}],"skew-y":[{"skew-y":[G]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",isArbitraryValue]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryValue]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":H()}],"scroll-mx":[{"scroll-mx":H()}],"scroll-my":[{"scroll-my":H()}],"scroll-ms":[{"scroll-ms":H()}],"scroll-me":[{"scroll-me":H()}],"scroll-mt":[{"scroll-mt":H()}],"scroll-mr":[{"scroll-mr":H()}],"scroll-mb":[{"scroll-mb":H()}],"scroll-ml":[{"scroll-ml":H()}],"scroll-p":[{"scroll-p":H()}],"scroll-px":[{"scroll-px":H()}],"scroll-py":[{"scroll-py":H()}],"scroll-ps":[{"scroll-ps":H()}],"scroll-pe":[{"scroll-pe":H()}],"scroll-pt":[{"scroll-pt":H()}],"scroll-pr":[{"scroll-pr":H()}],"scroll-pb":[{"scroll-pb":H()}],"scroll-pl":[{"scroll-pl":H()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryValue]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[isLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},twMerge=createTailwindMerge(getDefaultConfig);var Subscribable=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},isServer=typeof window>"u"||"Deno"in globalThis;function noop$2(){}function functionalUpdate(n,e){return typeof n=="function"?n(e):n}function isValidTimeout(n){return typeof n=="number"&&n>=0&&n!==1/0}function timeUntilStale(n,e){return Math.max(n+(e||0)-Date.now(),0)}function resolveStaleTime(n,e){return typeof n=="function"?n(e):n}function resolveEnabled(n,e){return typeof n=="function"?n(e):n}function matchQuery(n,e){const{type:o="all",exact:a,fetchStatus:l,predicate:u,queryKey:c,stale:f}=n;if(c){if(a){if(e.queryHash!==hashQueryKeyByOptions(c,e.options))return!1}else if(!partialMatchKey(e.queryKey,c))return!1}if(o!=="all"){const p=e.isActive();if(o==="active"&&!p||o==="inactive"&&p)return!1}return!(typeof f=="boolean"&&e.isStale()!==f||l&&l!==e.state.fetchStatus||u&&!u(e))}function matchMutation(n,e){const{exact:o,status:a,predicate:l,mutationKey:u}=n;if(u){if(!e.options.mutationKey)return!1;if(o){if(hashKey(e.options.mutationKey)!==hashKey(u))return!1}else if(!partialMatchKey(e.options.mutationKey,u))return!1}return!(a&&e.state.status!==a||l&&!l(e))}function hashQueryKeyByOptions(n,e){return((e==null?void 0:e.queryKeyHashFn)||hashKey)(n)}function hashKey(n){return JSON.stringify(n,(e,o)=>isPlainObject$1(o)?Object.keys(o).sort().reduce((a,l)=>(a[l]=o[l],a),{}):o)}function partialMatchKey(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(o=>partialMatchKey(n[o],e[o])):!1}function replaceEqualDeep(n,e){if(n===e)return n;const o=isPlainArray(n)&&isPlainArray(e);if(o||isPlainObject$1(n)&&isPlainObject$1(e)){const a=o?n:Object.keys(n),l=a.length,u=o?e:Object.keys(e),c=u.length,f=o?[]:{},p=new Set(a);let T=0;for(let E=0;E<c;E++){const b=o?E:u[E];(!o&&p.has(b)||o)&&n[b]===void 0&&e[b]===void 0?(f[b]=void 0,T++):(f[b]=replaceEqualDeep(n[b],e[b]),f[b]===n[b]&&n[b]!==void 0&&T++)}return l===c&&T===l?n:f}return e}function isPlainArray(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function isPlainObject$1(n){if(!hasObjectPrototype(n))return!1;const e=n.constructor;if(e===void 0)return!0;const o=e.prototype;return!(!hasObjectPrototype(o)||!o.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function hasObjectPrototype(n){return Object.prototype.toString.call(n)==="[object Object]"}function sleep(n){return new Promise(e=>{setTimeout(e,n)})}function replaceData(n,e,o){return typeof o.structuralSharing=="function"?o.structuralSharing(n,e):o.structuralSharing!==!1?replaceEqualDeep(n,e):e}function addToEnd(n,e,o=0){const a=[...n,e];return o&&a.length>o?a.slice(1):a}function addToStart(n,e,o=0){const a=[e,...n];return o&&a.length>o?a.slice(0,-1):a}var skipToken=Symbol();function ensureQueryFn(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===skipToken?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var pr,Kn,Gr,pc,FocusManager=(pc=class extends Subscribable{constructor(){super();st(this,pr);st(this,Kn);st(this,Gr);rt(this,Gr,e=>{if(!isServer&&window.addEventListener){const o=()=>e();return window.addEventListener("visibilitychange",o,!1),()=>{window.removeEventListener("visibilitychange",o)}}})}onSubscribe(){Ne(this,Kn)||this.setEventListener(Ne(this,Gr))}onUnsubscribe(){var e;this.hasListeners()||((e=Ne(this,Kn))==null||e.call(this),rt(this,Kn,void 0))}setEventListener(e){var o;rt(this,Gr,e),(o=Ne(this,Kn))==null||o.call(this),rt(this,Kn,e(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(e){Ne(this,pr)!==e&&(rt(this,pr,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(o=>{o(e)})}isFocused(){var e;return typeof Ne(this,pr)=="boolean"?Ne(this,pr):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},pr=new WeakMap,Kn=new WeakMap,Gr=new WeakMap,pc),focusManager=new FocusManager,zr,Qn,jr,mc,OnlineManager=(mc=class extends Subscribable{constructor(){super();st(this,zr,!0);st(this,Qn);st(this,jr);rt(this,jr,e=>{if(!isServer&&window.addEventListener){const o=()=>e(!0),a=()=>e(!1);return window.addEventListener("online",o,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",o),window.removeEventListener("offline",a)}}})}onSubscribe(){Ne(this,Qn)||this.setEventListener(Ne(this,jr))}onUnsubscribe(){var e;this.hasListeners()||((e=Ne(this,Qn))==null||e.call(this),rt(this,Qn,void 0))}setEventListener(e){var o;rt(this,jr,e),(o=Ne(this,Qn))==null||o.call(this),rt(this,Qn,e(this.setOnline.bind(this)))}setOnline(e){Ne(this,zr)!==e&&(rt(this,zr,e),this.listeners.forEach(a=>{a(e)}))}isOnline(){return Ne(this,zr)}},zr=new WeakMap,Qn=new WeakMap,jr=new WeakMap,mc),onlineManager=new OnlineManager;function pendingThenable(){let n,e;const o=new Promise((l,u)=>{n=l,e=u});o.status="pending",o.catch(()=>{});function a(l){Object.assign(o,l),delete o.resolve,delete o.reject}return o.resolve=l=>{a({status:"fulfilled",value:l}),n(l)},o.reject=l=>{a({status:"rejected",reason:l}),e(l)},o}function defaultRetryDelay(n){return Math.min(1e3*2**n,3e4)}function canFetch(n){return(n??"online")==="online"?onlineManager.isOnline():!0}var CancelledError=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function isCancelledError(n){return n instanceof CancelledError}function createRetryer(n){let e=!1,o=0,a=!1,l;const u=pendingThenable(),c=v=>{var A;a||(m(new CancelledError(v)),(A=n.abort)==null||A.call(n))},f=()=>{e=!0},p=()=>{e=!1},T=()=>focusManager.isFocused()&&(n.networkMode==="always"||onlineManager.isOnline())&&n.canRun(),E=()=>canFetch(n.networkMode)&&n.canRun(),b=v=>{var A;a||(a=!0,(A=n.onSuccess)==null||A.call(n,v),l==null||l(),u.resolve(v))},m=v=>{var A;a||(a=!0,(A=n.onError)==null||A.call(n,v),l==null||l(),u.reject(v))},y=()=>new Promise(v=>{var A;l=w=>{(a||T())&&v(w)},(A=n.onPause)==null||A.call(n)}).then(()=>{var v;l=void 0,a||(v=n.onContinue)==null||v.call(n)}),S=()=>{if(a)return;let v;const A=o===0?n.initialPromise:void 0;try{v=A??n.fn()}catch(w){v=Promise.reject(w)}Promise.resolve(v).then(b).catch(w=>{var G;if(a)return;const R=n.retry??(isServer?0:3),P=n.retryDelay??defaultRetryDelay,F=typeof P=="function"?P(o,w):P,B=R===!0||typeof R=="number"&&o<R||typeof R=="function"&&R(o,w);if(e||!B){m(w);return}o++,(G=n.onFail)==null||G.call(n,o,w),sleep(F).then(()=>T()?void 0:y()).then(()=>{e?m(w):S()})})};return{promise:u,cancel:c,continue:()=>(l==null||l(),u),cancelRetry:f,continueRetry:p,canStart:E,start:()=>(E()?S():y().then(S),u)}}var defaultScheduler=n=>setTimeout(n,0);function createNotifyManager(){let n=[],e=0,o=f=>{f()},a=f=>{f()},l=defaultScheduler;const u=f=>{e?n.push(f):l(()=>{o(f)})},c=()=>{const f=n;n=[],f.length&&l(()=>{a(()=>{f.forEach(p=>{o(p)})})})};return{batch:f=>{let p;e++;try{p=f()}finally{e--,e||c()}return p},batchCalls:f=>(...p)=>{u(()=>{f(...p)})},schedule:u,setNotifyFunction:f=>{o=f},setBatchNotifyFunction:f=>{a=f},setScheduler:f=>{l=f}}}var notifyManager=createNotifyManager(),mr,gc,Removable=(gc=class{constructor(){st(this,mr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.gcTime)&&rt(this,mr,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(isServer?1/0:5*60*1e3))}clearGcTimeout(){Ne(this,mr)&&(clearTimeout(Ne(this,mr)),rt(this,mr,void 0))}},mr=new WeakMap,gc),qr,Vr,Zt,gr,Pt,Ni,yr,ln,Cn,yc,Query=(yc=class extends Removable{constructor(e){super();st(this,ln);st(this,qr);st(this,Vr);st(this,Zt);st(this,gr);st(this,Pt);st(this,Ni);st(this,yr);rt(this,yr,!1),rt(this,Ni,e.defaultOptions),this.setOptions(e.options),this.observers=[],rt(this,gr,e.client),rt(this,Zt,Ne(this,gr).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,rt(this,qr,getDefaultState$1(this.options)),this.state=e.state??Ne(this,qr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Ne(this,Pt))==null?void 0:e.promise}setOptions(e){this.options={...Ne(this,Ni),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ne(this,Zt).remove(this)}setData(e,o){const a=replaceData(this.state.data,e,this.options);return Nt(this,ln,Cn).call(this,{data:a,type:"success",dataUpdatedAt:o==null?void 0:o.updatedAt,manual:o==null?void 0:o.manual}),a}setState(e,o){Nt(this,ln,Cn).call(this,{type:"setState",state:e,setStateOptions:o})}cancel(e){var a,l;const o=(a=Ne(this,Pt))==null?void 0:a.promise;return(l=Ne(this,Pt))==null||l.cancel(e),o?o.then(noop$2).catch(noop$2):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ne(this,qr))}isActive(){return this.observers.some(e=>resolveEnabled(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===skipToken||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>resolveStaleTime(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!timeUntilStale(this.state.dataUpdatedAt,e)}onFocus(){var o;const e=this.observers.find(a=>a.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(o=Ne(this,Pt))==null||o.continue()}onOnline(){var o;const e=this.observers.find(a=>a.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(o=Ne(this,Pt))==null||o.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Ne(this,Zt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(o=>o!==e),this.observers.length||(Ne(this,Pt)&&(Ne(this,yr)?Ne(this,Pt).cancel({revert:!0}):Ne(this,Pt).cancelRetry()),this.scheduleGc()),Ne(this,Zt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Nt(this,ln,Cn).call(this,{type:"invalidate"})}fetch(e,o){var T,E,b;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(o!=null&&o.cancelRefetch))this.cancel({silent:!0});else if(Ne(this,Pt))return Ne(this,Pt).continueRetry(),Ne(this,Pt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const m=this.observers.find(y=>y.options.queryFn);m&&this.setOptions(m.options)}const a=new AbortController,l=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(rt(this,yr,!0),a.signal)})},u=()=>{const m=ensureQueryFn(this.options,o),S=(()=>{const v={client:Ne(this,gr),queryKey:this.queryKey,meta:this.meta};return l(v),v})();return rt(this,yr,!1),this.options.persister?this.options.persister(m,S,this):m(S)},f=(()=>{const m={fetchOptions:o,options:this.options,queryKey:this.queryKey,client:Ne(this,gr),state:this.state,fetchFn:u};return l(m),m})();(T=this.options.behavior)==null||T.onFetch(f,this),rt(this,Vr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((E=f.fetchOptions)==null?void 0:E.meta))&&Nt(this,ln,Cn).call(this,{type:"fetch",meta:(b=f.fetchOptions)==null?void 0:b.meta});const p=m=>{var y,S,v,A;isCancelledError(m)&&m.silent||Nt(this,ln,Cn).call(this,{type:"error",error:m}),isCancelledError(m)||((S=(y=Ne(this,Zt).config).onError)==null||S.call(y,m,this),(A=(v=Ne(this,Zt).config).onSettled)==null||A.call(v,this.state.data,m,this)),this.scheduleGc()};return rt(this,Pt,createRetryer({initialPromise:o==null?void 0:o.initialPromise,fn:f.fetchFn,abort:a.abort.bind(a),onSuccess:m=>{var y,S,v,A;if(m===void 0){p(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(w){p(w);return}(S=(y=Ne(this,Zt).config).onSuccess)==null||S.call(y,m,this),(A=(v=Ne(this,Zt).config).onSettled)==null||A.call(v,m,this.state.error,this),this.scheduleGc()},onError:p,onFail:(m,y)=>{Nt(this,ln,Cn).call(this,{type:"failed",failureCount:m,error:y})},onPause:()=>{Nt(this,ln,Cn).call(this,{type:"pause"})},onContinue:()=>{Nt(this,ln,Cn).call(this,{type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0})),Ne(this,Pt).start()}},qr=new WeakMap,Vr=new WeakMap,Zt=new WeakMap,gr=new WeakMap,Pt=new WeakMap,Ni=new WeakMap,yr=new WeakMap,ln=new WeakSet,Cn=function(e){const o=a=>{switch(e.type){case"failed":return{...a,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...fetchState(a.data,this.options),fetchMeta:e.meta??null};case"success":return{...a,data:e.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const l=e.error;return isCancelledError(l)&&l.revert&&Ne(this,Vr)?{...Ne(this,Vr),fetchStatus:"idle"}:{...a,error:l,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...e.state}}};this.state=o(this.state),notifyManager.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),Ne(this,Zt).notify({query:this,type:"updated",action:e})})},yc);function fetchState(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:canFetch(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function getDefaultState$1(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,o=e!==void 0,a=o?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:o?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:o?"success":"pending",fetchStatus:"idle"}}var mn,Ec,QueryCache=(Ec=class extends Subscribable{constructor(e={}){super();st(this,mn);this.config=e,rt(this,mn,new Map)}build(e,o,a){const l=o.queryKey,u=o.queryHash??hashQueryKeyByOptions(l,o);let c=this.get(u);return c||(c=new Query({client:e,queryKey:l,queryHash:u,options:e.defaultQueryOptions(o),state:a,defaultOptions:e.getQueryDefaults(l)}),this.add(c)),c}add(e){Ne(this,mn).has(e.queryHash)||(Ne(this,mn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const o=Ne(this,mn).get(e.queryHash);o&&(e.destroy(),o===e&&Ne(this,mn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){notifyManager.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Ne(this,mn).get(e)}getAll(){return[...Ne(this,mn).values()]}find(e){const o={exact:!0,...e};return this.getAll().find(a=>matchQuery(o,a))}findAll(e={}){const o=this.getAll();return Object.keys(e).length>0?o.filter(a=>matchQuery(e,a)):o}notify(e){notifyManager.batch(()=>{this.listeners.forEach(o=>{o(e)})})}onFocus(){notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},mn=new WeakMap,Ec),gn,Ft,Er,yn,Yn,Tc,Mutation=(Tc=class extends Removable{constructor(e){super();st(this,yn);st(this,gn);st(this,Ft);st(this,Er);this.mutationId=e.mutationId,rt(this,Ft,e.mutationCache),rt(this,gn,[]),this.state=e.state||getDefaultState(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Ne(this,gn).includes(e)||(Ne(this,gn).push(e),this.clearGcTimeout(),Ne(this,Ft).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){rt(this,gn,Ne(this,gn).filter(o=>o!==e)),this.scheduleGc(),Ne(this,Ft).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Ne(this,gn).length||(this.state.status==="pending"?this.scheduleGc():Ne(this,Ft).remove(this))}continue(){var e;return((e=Ne(this,Er))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var u,c,f,p,T,E,b,m,y,S,v,A,w,R,P,F,B,G,K,le;const o=()=>{Nt(this,yn,Yn).call(this,{type:"continue"})};rt(this,Er,createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(V,X)=>{Nt(this,yn,Yn).call(this,{type:"failed",failureCount:V,error:X})},onPause:()=>{Nt(this,yn,Yn).call(this,{type:"pause"})},onContinue:o,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ne(this,Ft).canRun(this)}));const a=this.state.status==="pending",l=!Ne(this,Er).canStart();try{if(a)o();else{Nt(this,yn,Yn).call(this,{type:"pending",variables:e,isPaused:l}),await((c=(u=Ne(this,Ft).config).onMutate)==null?void 0:c.call(u,e,this));const X=await((p=(f=this.options).onMutate)==null?void 0:p.call(f,e));X!==this.state.context&&Nt(this,yn,Yn).call(this,{type:"pending",context:X,variables:e,isPaused:l})}const V=await Ne(this,Er).start();return await((E=(T=Ne(this,Ft).config).onSuccess)==null?void 0:E.call(T,V,e,this.state.context,this)),await((m=(b=this.options).onSuccess)==null?void 0:m.call(b,V,e,this.state.context)),await((S=(y=Ne(this,Ft).config).onSettled)==null?void 0:S.call(y,V,null,this.state.variables,this.state.context,this)),await((A=(v=this.options).onSettled)==null?void 0:A.call(v,V,null,e,this.state.context)),Nt(this,yn,Yn).call(this,{type:"success",data:V}),V}catch(V){try{throw await((R=(w=Ne(this,Ft).config).onError)==null?void 0:R.call(w,V,e,this.state.context,this)),await((F=(P=this.options).onError)==null?void 0:F.call(P,V,e,this.state.context)),await((G=(B=Ne(this,Ft).config).onSettled)==null?void 0:G.call(B,void 0,V,this.state.variables,this.state.context,this)),await((le=(K=this.options).onSettled)==null?void 0:le.call(K,void 0,V,e,this.state.context)),V}finally{Nt(this,yn,Yn).call(this,{type:"error",error:V})}}finally{Ne(this,Ft).runNext(this)}}},gn=new WeakMap,Ft=new WeakMap,Er=new WeakMap,yn=new WeakSet,Yn=function(e){const o=a=>{switch(e.type){case"failed":return{...a,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...a,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:e.error,failureCount:a.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=o(this.state),notifyManager.batch(()=>{Ne(this,gn).forEach(a=>{a.onMutationUpdate(e)}),Ne(this,Ft).notify({mutation:this,type:"updated",action:e})})},Tc);function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var In,un,Pi,bc,MutationCache=(bc=class extends Subscribable{constructor(e={}){super();st(this,In);st(this,un);st(this,Pi);this.config=e,rt(this,In,new Set),rt(this,un,new Map),rt(this,Pi,0)}build(e,o,a){const l=new Mutation({mutationCache:this,mutationId:++zo(this,Pi)._,options:e.defaultMutationOptions(o),state:a});return this.add(l),l}add(e){Ne(this,In).add(e);const o=scopeFor(e);if(typeof o=="string"){const a=Ne(this,un).get(o);a?a.push(e):Ne(this,un).set(o,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Ne(this,In).delete(e)){const o=scopeFor(e);if(typeof o=="string"){const a=Ne(this,un).get(o);if(a)if(a.length>1){const l=a.indexOf(e);l!==-1&&a.splice(l,1)}else a[0]===e&&Ne(this,un).delete(o)}}this.notify({type:"removed",mutation:e})}canRun(e){const o=scopeFor(e);if(typeof o=="string"){const a=Ne(this,un).get(o),l=a==null?void 0:a.find(u=>u.state.status==="pending");return!l||l===e}else return!0}runNext(e){var a;const o=scopeFor(e);if(typeof o=="string"){const l=(a=Ne(this,un).get(o))==null?void 0:a.find(u=>u!==e&&u.state.isPaused);return(l==null?void 0:l.continue())??Promise.resolve()}else return Promise.resolve()}clear(){notifyManager.batch(()=>{Ne(this,In).forEach(e=>{this.notify({type:"removed",mutation:e})}),Ne(this,In).clear(),Ne(this,un).clear()})}getAll(){return Array.from(Ne(this,In))}find(e){const o={exact:!0,...e};return this.getAll().find(a=>matchMutation(o,a))}findAll(e={}){return this.getAll().filter(o=>matchMutation(e,o))}notify(e){notifyManager.batch(()=>{this.listeners.forEach(o=>{o(e)})})}resumePausedMutations(){const e=this.getAll().filter(o=>o.state.isPaused);return notifyManager.batch(()=>Promise.all(e.map(o=>o.continue().catch(noop$2))))}},In=new WeakMap,un=new WeakMap,Pi=new WeakMap,bc);function scopeFor(n){var e;return(e=n.options.scope)==null?void 0:e.id}function infiniteQueryBehavior(n){return{onFetch:(e,o)=>{var E,b,m,y,S;const a=e.options,l=(m=(b=(E=e.fetchOptions)==null?void 0:E.meta)==null?void 0:b.fetchMore)==null?void 0:m.direction,u=((y=e.state.data)==null?void 0:y.pages)||[],c=((S=e.state.data)==null?void 0:S.pageParams)||[];let f={pages:[],pageParams:[]},p=0;const T=async()=>{let v=!1;const A=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},w=ensureQueryFn(e.options,e.fetchOptions),R=async(P,F,B)=>{if(v)return Promise.reject();if(F==null&&P.pages.length)return Promise.resolve(P);const K=(()=>{const W={client:e.client,queryKey:e.queryKey,pageParam:F,direction:B?"backward":"forward",meta:e.options.meta};return A(W),W})(),le=await w(K),{maxPages:V}=e.options,X=B?addToStart:addToEnd;return{pages:X(P.pages,le,V),pageParams:X(P.pageParams,F,V)}};if(l&&u.length){const P=l==="backward",F=P?getPreviousPageParam:getNextPageParam,B={pages:u,pageParams:c},G=F(a,B);f=await R(B,G,P)}else{const P=n??u.length;do{const F=p===0?c[0]??a.initialPageParam:getNextPageParam(a,f);if(p>0&&F==null)break;f=await R(f,F),p++}while(p<P)}return f};e.options.persister?e.fetchFn=()=>{var v,A;return(A=(v=e.options).persister)==null?void 0:A.call(v,T,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},o)}:e.fetchFn=T}}}function getNextPageParam(n,{pages:e,pageParams:o}){const a=e.length-1;return e.length>0?n.getNextPageParam(e[a],e,o[a],o):void 0}function getPreviousPageParam(n,{pages:e,pageParams:o}){var a;return e.length>0?(a=n.getPreviousPageParam)==null?void 0:a.call(n,e[0],e,o[0],o):void 0}var Et,Xn,Jn,Wr,Yr,Zn,Kr,Qr,xc,QueryClient=(xc=class{constructor(n={}){st(this,Et);st(this,Xn);st(this,Jn);st(this,Wr);st(this,Yr);st(this,Zn);st(this,Kr);st(this,Qr);rt(this,Et,n.queryCache||new QueryCache),rt(this,Xn,n.mutationCache||new MutationCache),rt(this,Jn,n.defaultOptions||{}),rt(this,Wr,new Map),rt(this,Yr,new Map),rt(this,Zn,0)}mount(){zo(this,Zn)._++,Ne(this,Zn)===1&&(rt(this,Kr,focusManager.subscribe(async n=>{n&&(await this.resumePausedMutations(),Ne(this,Et).onFocus())})),rt(this,Qr,onlineManager.subscribe(async n=>{n&&(await this.resumePausedMutations(),Ne(this,Et).onOnline())})))}unmount(){var n,e;zo(this,Zn)._--,Ne(this,Zn)===0&&((n=Ne(this,Kr))==null||n.call(this),rt(this,Kr,void 0),(e=Ne(this,Qr))==null||e.call(this),rt(this,Qr,void 0))}isFetching(n){return Ne(this,Et).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return Ne(this,Xn).findAll({...n,status:"pending"}).length}getQueryData(n){var o;const e=this.defaultQueryOptions({queryKey:n});return(o=Ne(this,Et).get(e.queryHash))==null?void 0:o.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),o=Ne(this,Et).build(this,e),a=o.state.data;return a===void 0?this.fetchQuery(n):(n.revalidateIfStale&&o.isStaleByTime(resolveStaleTime(e.staleTime,o))&&this.prefetchQuery(e),Promise.resolve(a))}getQueriesData(n){return Ne(this,Et).findAll(n).map(({queryKey:e,state:o})=>{const a=o.data;return[e,a]})}setQueryData(n,e,o){const a=this.defaultQueryOptions({queryKey:n}),l=Ne(this,Et).get(a.queryHash),u=l==null?void 0:l.state.data,c=functionalUpdate(e,u);if(c!==void 0)return Ne(this,Et).build(this,a).setData(c,{...o,manual:!0})}setQueriesData(n,e,o){return notifyManager.batch(()=>Ne(this,Et).findAll(n).map(({queryKey:a})=>[a,this.setQueryData(a,e,o)]))}getQueryState(n){var o;const e=this.defaultQueryOptions({queryKey:n});return(o=Ne(this,Et).get(e.queryHash))==null?void 0:o.state}removeQueries(n){const e=Ne(this,Et);notifyManager.batch(()=>{e.findAll(n).forEach(o=>{e.remove(o)})})}resetQueries(n,e){const o=Ne(this,Et);return notifyManager.batch(()=>(o.findAll(n).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const o={revert:!0,...e},a=notifyManager.batch(()=>Ne(this,Et).findAll(n).map(l=>l.cancel(o)));return Promise.all(a).then(noop$2).catch(noop$2)}invalidateQueries(n,e={}){return notifyManager.batch(()=>(Ne(this,Et).findAll(n).forEach(o=>{o.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const o={...e,cancelRefetch:e.cancelRefetch??!0},a=notifyManager.batch(()=>Ne(this,Et).findAll(n).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let u=l.fetch(void 0,o);return o.throwOnError||(u=u.catch(noop$2)),l.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(a).then(noop$2)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const o=Ne(this,Et).build(this,e);return o.isStaleByTime(resolveStaleTime(e.staleTime,o))?o.fetch(e):Promise.resolve(o.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(noop$2).catch(noop$2)}fetchInfiniteQuery(n){return n.behavior=infiniteQueryBehavior(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(noop$2).catch(noop$2)}ensureInfiniteQueryData(n){return n.behavior=infiniteQueryBehavior(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return onlineManager.isOnline()?Ne(this,Xn).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ne(this,Et)}getMutationCache(){return Ne(this,Xn)}getDefaultOptions(){return Ne(this,Jn)}setDefaultOptions(n){rt(this,Jn,n)}setQueryDefaults(n,e){Ne(this,Wr).set(hashKey(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...Ne(this,Wr).values()],o={};return e.forEach(a=>{partialMatchKey(n,a.queryKey)&&Object.assign(o,a.defaultOptions)}),o}setMutationDefaults(n,e){Ne(this,Yr).set(hashKey(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...Ne(this,Yr).values()],o={};return e.forEach(a=>{partialMatchKey(n,a.mutationKey)&&Object.assign(o,a.defaultOptions)}),o}defaultQueryOptions(n){if(n._defaulted)return n;const e={...Ne(this,Jn).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=hashQueryKeyByOptions(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===skipToken&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...Ne(this,Jn).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){Ne(this,Et).clear(),Ne(this,Xn).clear()}},Et=new WeakMap,Xn=new WeakMap,Jn=new WeakMap,Wr=new WeakMap,Yr=new WeakMap,Zn=new WeakMap,Kr=new WeakMap,Qr=new WeakMap,xc),QueryClientContext=reactExports.createContext(void 0),QueryClientProvider=({client:n,children:e})=>(reactExports.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),jsxRuntimeExports.jsx(QueryClientContext.Provider,{value:n,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])}return n},_extends$3.apply(this,arguments)}var Action;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(n){n===void 0&&(n={});function e(a,l){let{pathname:u,search:c,hash:f}=a.location;return createLocation$1("",{pathname:u,search:c,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function o(a,l){return typeof l=="string"?l:createPath(l)}return getUrlBasedHistory(e,o,null,n)}function invariant$1(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function warning(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(n,e){return{usr:n.state,key:n.key,idx:e}}function createLocation$1(n,e,o,a){return o===void 0&&(o=null),_extends$3({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?parsePath(e):e,{state:o,key:e&&e.key||a||createKey()})}function createPath(n){let{pathname:e="/",search:o="",hash:a=""}=n;return o&&o!=="?"&&(e+=o.charAt(0)==="?"?o:"?"+o),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function parsePath(n){let e={};if(n){let o=n.indexOf("#");o>=0&&(e.hash=n.substr(o),n=n.substr(0,o));let a=n.indexOf("?");a>=0&&(e.search=n.substr(a),n=n.substr(0,a)),n&&(e.pathname=n)}return e}function getUrlBasedHistory(n,e,o,a){a===void 0&&(a={});let{window:l=document.defaultView,v5Compat:u=!1}=a,c=l.history,f=Action.Pop,p=null,T=E();T==null&&(T=0,c.replaceState(_extends$3({},c.state,{idx:T}),""));function E(){return(c.state||{idx:null}).idx}function b(){f=Action.Pop;let A=E(),w=A==null?null:A-T;T=A,p&&p({action:f,location:v.location,delta:w})}function m(A,w){f=Action.Push;let R=createLocation$1(v.location,A,w);T=E()+1;let P=getHistoryState(R,T),F=v.createHref(R);try{c.pushState(P,"",F)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;l.location.assign(F)}u&&p&&p({action:f,location:v.location,delta:1})}function y(A,w){f=Action.Replace;let R=createLocation$1(v.location,A,w);T=E();let P=getHistoryState(R,T),F=v.createHref(R);c.replaceState(P,"",F),u&&p&&p({action:f,location:v.location,delta:0})}function S(A){let w=l.location.origin!=="null"?l.location.origin:l.location.href,R=typeof A=="string"?A:createPath(A);return R=R.replace(/ $/,"%20"),invariant$1(w,"No window.location.(origin|href) available to create URL for href: "+R),new URL(R,w)}let v={get action(){return f},get location(){return n(l,c)},listen(A){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(PopStateEventType,b),p=A,()=>{l.removeEventListener(PopStateEventType,b),p=null}},createHref(A){return e(l,A)},createURL:S,encodeLocation(A){let w=S(A);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:y,go(A){return c.go(A)}};return v}var ResultType;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(ResultType||(ResultType={}));function matchRoutes(n,e,o){return o===void 0&&(o="/"),matchRoutesImpl(n,e,o)}function matchRoutesImpl(n,e,o,a){let l=typeof e=="string"?parsePath(e):e,u=stripBasename(l.pathname||"/",o);if(u==null)return null;let c=flattenRoutes(n);rankRouteBranches(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let T=decodePath(u);f=matchRouteBranch(c[p],T)}return f}function flattenRoutes(n,e,o,a){e===void 0&&(e=[]),o===void 0&&(o=[]),a===void 0&&(a="");let l=(u,c,f)=>{let p={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};p.relativePath.startsWith("/")&&(invariant$1(p.relativePath.startsWith(a),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(a.length));let T=joinPaths([a,p.relativePath]),E=o.concat(p);u.children&&u.children.length>0&&(invariant$1(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+T+'".')),flattenRoutes(u.children,e,E,T)),!(u.path==null&&!u.index)&&e.push({path:T,score:computeScore(T,u.index),routesMeta:E})};return n.forEach((u,c)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))l(u,c);else for(let p of explodeOptionalSegments(u.path))l(u,c,p)}),e}function explodeOptionalSegments(n){let e=n.split("/");if(e.length===0)return[];let[o,...a]=e,l=o.endsWith("?"),u=o.replace(/\?$/,"");if(a.length===0)return l?[u,""]:[u];let c=explodeOptionalSegments(a.join("/")),f=[];return f.push(...c.map(p=>p===""?u:[u,p].join("/"))),l&&f.push(...c),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function rankRouteBranches(n){n.sort((e,o)=>e.score!==o.score?o.score-e.score:compareIndexes(e.routesMeta.map(a=>a.childrenIndex),o.routesMeta.map(a=>a.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=n=>n==="*";function computeScore(n,e){let o=n.split("/"),a=o.length;return o.some(isSplat)&&(a+=splatPenalty),e&&(a+=indexRouteValue),o.filter(l=>!isSplat(l)).reduce((l,u)=>l+(paramRe.test(u)?dynamicSegmentValue:u===""?emptySegmentValue:staticSegmentValue),a)}function compareIndexes(n,e){return n.length===e.length&&n.slice(0,-1).every((a,l)=>a===e[l])?n[n.length-1]-e[e.length-1]:0}function matchRouteBranch(n,e,o){let{routesMeta:a}=n,l={},u="/",c=[];for(let f=0;f<a.length;++f){let p=a[f],T=f===a.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=matchPath({path:p.relativePath,caseSensitive:p.caseSensitive,end:T},E),m=p.route;if(!b)return null;Object.assign(l,b.params),c.push({params:l,pathname:joinPaths([u,b.pathname]),pathnameBase:normalizePathname(joinPaths([u,b.pathnameBase])),route:m}),b.pathnameBase!=="/"&&(u=joinPaths([u,b.pathnameBase]))}return c}function matchPath(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[o,a]=compilePath(n.path,n.caseSensitive,n.end),l=e.match(o);if(!l)return null;let u=l[0],c=u.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:a.reduce((T,E,b)=>{let{paramName:m,isOptional:y}=E;if(m==="*"){let v=f[b]||"";c=u.slice(0,u.length-v.length).replace(/(.)\/+$/,"$1")}const S=f[b];return y&&!S?T[m]=void 0:T[m]=(S||"").replace(/%2F/g,"/"),T},{}),pathname:u,pathnameBase:c,pattern:n}}function compilePath(n,e,o){e===void 0&&(e=!1),o===void 0&&(o=!0),warning(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let a=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(a.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(a.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),a]}function decodePath(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return warning(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function stripBasename(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let o=e.endsWith("/")?e.length-1:e.length,a=n.charAt(o);return a&&a!=="/"?null:n.slice(o)||"/"}function resolvePath(n,e){e===void 0&&(e="/");let{pathname:o,search:a="",hash:l=""}=typeof n=="string"?parsePath(n):n;return{pathname:o?o.startsWith("/")?o:resolvePathname(o,e):e,search:normalizeSearch(a),hash:normalizeHash(l)}}function resolvePathname(n,e){let o=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?o.length>1&&o.pop():l!=="."&&o.push(l)}),o.length>1?o.join("/"):"/"}function getInvalidPathError(n,e,o,a){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+o+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(n){return n.filter((e,o)=>o===0||e.route.path&&e.route.path.length>0)}function getResolveToMatches(n,e){let o=getPathContributingMatches(n);return e?o.map((a,l)=>l===o.length-1?a.pathname:a.pathnameBase):o.map(a=>a.pathnameBase)}function resolveTo(n,e,o,a){a===void 0&&(a=!1);let l;typeof n=="string"?l=parsePath(n):(l=_extends$3({},n),invariant$1(!l.pathname||!l.pathname.includes("?"),getInvalidPathError("?","pathname","search",l)),invariant$1(!l.pathname||!l.pathname.includes("#"),getInvalidPathError("#","pathname","hash",l)),invariant$1(!l.search||!l.search.includes("#"),getInvalidPathError("#","search","hash",l)));let u=n===""||l.pathname==="",c=u?"/":l.pathname,f;if(c==null)f=o;else{let b=e.length-1;if(!a&&c.startsWith("..")){let m=c.split("/");for(;m[0]==="..";)m.shift(),b-=1;l.pathname=m.join("/")}f=b>=0?e[b]:"/"}let p=resolvePath(l,f),T=c&&c!=="/"&&c.endsWith("/"),E=(u||c===".")&&o.endsWith("/");return!p.pathname.endsWith("/")&&(T||E)&&(p.pathname+="/"),p}const joinPaths=n=>n.join("/").replace(/\/\/+/g,"/"),normalizePathname=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,normalizeHash=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function isRouteErrorResponse(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])}return n},_extends$2.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(n,e){let{relative:o}=e===void 0?{}:e;useInRouterContext()||invariant$1(!1);let{basename:a,navigator:l}=reactExports.useContext(NavigationContext),{hash:u,pathname:c,search:f}=useResolvedPath(n,{relative:o}),p=c;return a!=="/"&&(p=c==="/"?a:joinPaths([a,c])),l.createHref({pathname:p,search:f,hash:u})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$1(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$1(n){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(n)}function useNavigate(){let{isDataRoute:n}=reactExports.useContext(RouteContext);return n?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$1(!1);let n=reactExports.useContext(DataRouterContext),{basename:e,future:o,navigator:a}=reactExports.useContext(NavigationContext),{matches:l}=reactExports.useContext(RouteContext),{pathname:u}=useLocation(),c=JSON.stringify(getResolveToMatches(l,o.v7_relativeSplatPath)),f=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{f.current=!0}),reactExports.useCallback(function(T,E){if(E===void 0&&(E={}),!f.current)return;if(typeof T=="number"){a.go(T);return}let b=resolveTo(T,JSON.parse(c),u,E.relative==="path");n==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:joinPaths([e,b.pathname])),(E.replace?a.replace:a.push)(b,E.state,E)},[e,a,c,u,n])}function useParams(){let{matches:n}=reactExports.useContext(RouteContext),e=n[n.length-1];return e?e.params:{}}function useResolvedPath(n,e){let{relative:o}=e===void 0?{}:e,{future:a}=reactExports.useContext(NavigationContext),{matches:l}=reactExports.useContext(RouteContext),{pathname:u}=useLocation(),c=JSON.stringify(getResolveToMatches(l,a.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(n,JSON.parse(c),u,o==="path"),[n,c,u,o])}function useRoutes(n,e){return useRoutesImpl(n,e)}function useRoutesImpl(n,e,o,a){useInRouterContext()||invariant$1(!1);let{navigator:l}=reactExports.useContext(NavigationContext),{matches:u}=reactExports.useContext(RouteContext),c=u[u.length-1],f=c?c.params:{};c&&c.pathname;let p=c?c.pathnameBase:"/";c&&c.route;let T=useLocation(),E;if(e){var b;let A=typeof e=="string"?parsePath(e):e;p==="/"||(b=A.pathname)!=null&&b.startsWith(p)||invariant$1(!1),E=A}else E=T;let m=E.pathname||"/",y=m;if(p!=="/"){let A=p.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(A.length).join("/")}let S=matchRoutes(n,{pathname:y}),v=_renderMatches(S&&S.map(A=>Object.assign({},A,{params:Object.assign({},f,A.params),pathname:joinPaths([p,l.encodeLocation?l.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?p:joinPaths([p,l.encodeLocation?l.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),u,o,a);return e&&v?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$2({pathname:"/",search:"",hash:"",state:null,key:"default"},E),navigationType:Action.Pop}},v):v}function DefaultErrorComponent(){let n=useRouteError(),e=isRouteErrorResponse(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),o=n instanceof Error?n.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},e),o?reactExports.createElement("pre",{style:l},o):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,o){return o.location!==e.location||o.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:o.error,location:o.location,revalidation:e.revalidation||o.revalidation}}componentDidCatch(e,o){console.error("React Router caught the following error during render",e,o)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(n){let{routeContext:e,match:o,children:a}=n,l=reactExports.useContext(DataRouterContext);return l&&l.static&&l.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=o.route.id),reactExports.createElement(RouteContext.Provider,{value:e},a)}function _renderMatches(n,e,o,a){var l;if(e===void 0&&(e=[]),o===void 0&&(o=null),a===void 0&&(a=null),n==null){var u;if(!o)return null;if(o.errors)n=o.matches;else if((u=a)!=null&&u.v7_partialHydration&&e.length===0&&!o.initialized&&o.matches.length>0)n=o.matches;else return null}let c=n,f=(l=o)==null?void 0:l.errors;if(f!=null){let E=c.findIndex(b=>b.route.id&&(f==null?void 0:f[b.route.id])!==void 0);E>=0||invariant$1(!1),c=c.slice(0,Math.min(c.length,E+1))}let p=!1,T=-1;if(o&&a&&a.v7_partialHydration)for(let E=0;E<c.length;E++){let b=c[E];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(T=E),b.route.id){let{loaderData:m,errors:y}=o,S=b.route.loader&&m[b.route.id]===void 0&&(!y||y[b.route.id]===void 0);if(b.route.lazy||S){p=!0,T>=0?c=c.slice(0,T+1):c=[c[0]];break}}}return c.reduceRight((E,b,m)=>{let y,S=!1,v=null,A=null;o&&(y=f&&b.route.id?f[b.route.id]:void 0,v=b.route.errorElement||defaultErrorElement,p&&(T<0&&m===0?(warningOnce("route-fallback"),S=!0,A=null):T===m&&(S=!0,A=b.route.hydrateFallbackElement||null)));let w=e.concat(c.slice(0,m+1)),R=()=>{let P;return y?P=v:S?P=A:b.route.Component?P=reactExports.createElement(b.route.Component,null):b.route.element?P=b.route.element:P=E,reactExports.createElement(RenderedRoute,{match:b,routeContext:{outlet:E,matches:w,isDataRoute:o!=null},children:P})};return o&&(b.route.ErrorBoundary||b.route.errorElement||m===0)?reactExports.createElement(RenderErrorBoundary,{location:o.location,revalidation:o.revalidation,component:v,error:y,children:R(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):R()},null)}var DataRouterHook$1=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(DataRouterHook$1||{}),DataRouterStateHook$1=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(DataRouterStateHook$1||{});function useDataRouterContext(n){let e=reactExports.useContext(DataRouterContext);return e||invariant$1(!1),e}function useDataRouterState(n){let e=reactExports.useContext(DataRouterStateContext);return e||invariant$1(!1),e}function useRouteContext(n){let e=reactExports.useContext(RouteContext);return e||invariant$1(!1),e}function useCurrentRouteId(n){let e=useRouteContext(),o=e.matches[e.matches.length-1];return o.route.id||invariant$1(!1),o.route.id}function useRouteError(){var n;let e=reactExports.useContext(RouteErrorContext),o=useDataRouterState(),a=useCurrentRouteId();return e!==void 0?e:(n=o.errors)==null?void 0:n[a]}function useNavigateStable(){let{router:n}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),e=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),o=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{o.current=!0}),reactExports.useCallback(function(l,u){u===void 0&&(u={}),o.current&&(typeof l=="number"?n.navigate(l):n.navigate(l,_extends$2({fromRouteId:e},u)))},[n,e])}const alreadyWarned$1={};function warningOnce(n,e,o){alreadyWarned$1[n]||(alreadyWarned$1[n]=!0)}function logV6DeprecationWarnings(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function Route(n){invariant$1(!1)}function Router(n){let{basename:e="/",children:o=null,location:a,navigationType:l=Action.Pop,navigator:u,static:c=!1,future:f}=n;useInRouterContext()&&invariant$1(!1);let p=e.replace(/^\/*/,"/"),T=reactExports.useMemo(()=>({basename:p,navigator:u,static:c,future:_extends$2({v7_relativeSplatPath:!1},f)}),[p,f,u,c]);typeof a=="string"&&(a=parsePath(a));let{pathname:E="/",search:b="",hash:m="",state:y=null,key:S="default"}=a,v=reactExports.useMemo(()=>{let A=stripBasename(E,p);return A==null?null:{location:{pathname:A,search:b,hash:m,state:y,key:S},navigationType:l}},[p,E,b,m,y,S,l]);return v==null?null:reactExports.createElement(NavigationContext.Provider,{value:T},reactExports.createElement(LocationContext.Provider,{children:o,value:v}))}function Routes(n){let{children:e,location:o}=n;return useRoutes(createRoutesFromChildren(e),o)}new Promise(()=>{});function createRoutesFromChildren(n,e){e===void 0&&(e=[]);let o=[];return reactExports.Children.forEach(n,(a,l)=>{if(!reactExports.isValidElement(a))return;let u=[...e,l];if(a.type===reactExports.Fragment){o.push.apply(o,createRoutesFromChildren(a.props.children,u));return}a.type!==Route&&invariant$1(!1),!a.props.index||!a.props.children||invariant$1(!1);let c={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=createRoutesFromChildren(a.props.children,u)),o.push(c)}),o}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])}return n},_extends$1.apply(this,arguments)}function _objectWithoutPropertiesLoose$2(n,e){if(n==null)return{};var o={},a=Object.keys(n),l,u;for(u=0;u<a.length;u++)l=a[u],!(e.indexOf(l)>=0)&&(o[l]=n[l]);return o}function isModifiedEvent(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function shouldProcessLinkClick(n,e){return n.button===0&&(!e||e==="_self")&&!isModifiedEvent(n)}function createSearchParams(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,o)=>{let a=n[o];return e.concat(Array.isArray(a)?a.map(l=>[o,l]):[[o,a]])},[]))}function getSearchParamsForLocation(n,e){let o=createSearchParams(n);return e&&e.forEach((a,l)=>{o.has(l)||e.getAll(l).forEach(u=>{o.append(l,u)})}),o}const _excluded$2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function BrowserRouter(n){let{basename:e,children:o,future:a,window:l}=n,u=reactExports.useRef();u.current==null&&(u.current=createBrowserHistory({window:l,v5Compat:!0}));let c=u.current,[f,p]=reactExports.useState({action:c.action,location:c.location}),{v7_startTransition:T}=a||{},E=reactExports.useCallback(b=>{T&&startTransitionImpl?startTransitionImpl(()=>p(b)):p(b)},[p,T]);return reactExports.useLayoutEffect(()=>c.listen(E),[c,E]),reactExports.useEffect(()=>logV6DeprecationWarnings(a),[a]),reactExports.createElement(Router,{basename:e,children:o,location:f.location,navigationType:f.action,navigator:c,future:a})}const isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(e,o){let{onClick:a,relative:l,reloadDocument:u,replace:c,state:f,target:p,to:T,preventScrollReset:E,viewTransition:b}=e,m=_objectWithoutPropertiesLoose$2(e,_excluded$2),{basename:y}=reactExports.useContext(NavigationContext),S,v=!1;if(typeof T=="string"&&ABSOLUTE_URL_REGEX.test(T)&&(S=T,isBrowser))try{let P=new URL(window.location.href),F=T.startsWith("//")?new URL(P.protocol+T):new URL(T),B=stripBasename(F.pathname,y);F.origin===P.origin&&B!=null?T=B+F.search+F.hash:v=!0}catch{}let A=useHref(T,{relative:l}),w=useLinkClickHandler(T,{replace:c,state:f,target:p,preventScrollReset:E,relative:l,viewTransition:b});function R(P){a&&a(P),P.defaultPrevented||w(P)}return reactExports.createElement("a",_extends$1({},m,{href:S||A,onClick:v||u?a:R,ref:o,target:p}))});var DataRouterHook;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(n,e){let{target:o,replace:a,state:l,preventScrollReset:u,relative:c,viewTransition:f}=e===void 0?{}:e,p=useNavigate(),T=useLocation(),E=useResolvedPath(n,{relative:c});return reactExports.useCallback(b=>{if(shouldProcessLinkClick(b,o)){b.preventDefault();let m=a!==void 0?a:createPath(T)===createPath(E);p(n,{replace:m,state:l,preventScrollReset:u,relative:c,viewTransition:f})}},[T,p,E,a,l,o,n,u,c,f])}function useSearchParams(n){let e=reactExports.useRef(createSearchParams(n)),o=reactExports.useRef(!1),a=useLocation(),l=reactExports.useMemo(()=>getSearchParamsForLocation(a.search,o.current?null:e.current),[a.search]),u=useNavigate(),c=reactExports.useCallback((f,p)=>{const T=createSearchParams(typeof f=="function"?f(l):f);o.current=!0,u("?"+T,p)},[u,l]);return[l,c]}const falsyToString=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,cx=clsx,cva=(n,e)=>o=>{var a;if((e==null?void 0:e.variants)==null)return cx(n,o==null?void 0:o.class,o==null?void 0:o.className);const{variants:l,defaultVariants:u}=e,c=Object.keys(l).map(T=>{const E=o==null?void 0:o[T],b=u==null?void 0:u[T];if(E===null)return null;const m=falsyToString(E)||falsyToString(b);return l[T][m]}),f=o&&Object.entries(o).reduce((T,E)=>{let[b,m]=E;return m===void 0||(T[b]=m),T},{}),p=e==null||(a=e.compoundVariants)===null||a===void 0?void 0:a.reduce((T,E)=>{let{class:b,className:m,...y}=E;return Object.entries(y).every(S=>{let[v,A]=S;return Array.isArray(A)?A.includes({...u,...f}[v]):{...u,...f}[v]===A})?[...T,b,m]:T},[]);return cx(n,c,p,o==null?void 0:o.class,o==null?void 0:o.className)};var propTypes={exports:{}},ReactPropTypesSecret_1,hasRequiredReactPropTypesSecret;function requireReactPropTypesSecret(){if(hasRequiredReactPropTypesSecret)return ReactPropTypesSecret_1;hasRequiredReactPropTypesSecret=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ReactPropTypesSecret_1=n,ReactPropTypesSecret_1}var factoryWithThrowingShims,hasRequiredFactoryWithThrowingShims;function requireFactoryWithThrowingShims(){if(hasRequiredFactoryWithThrowingShims)return factoryWithThrowingShims;hasRequiredFactoryWithThrowingShims=1;var n=requireReactPropTypesSecret();function e(){}function o(){}return o.resetWarningCache=e,factoryWithThrowingShims=function(){function a(c,f,p,T,E,b){if(b!==n){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}a.isRequired=a;function l(){return a}var u={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:l,element:a,elementType:a,instanceOf:l,node:a,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:o,resetWarningCache:e};return u.PropTypes=u,u},factoryWithThrowingShims}var hasRequiredPropTypes;function requirePropTypes(){return hasRequiredPropTypes||(hasRequiredPropTypes=1,propTypes.exports=requireFactoryWithThrowingShims()()),propTypes.exports}var propTypesExports=requirePropTypes();const PropTypes=getDefaultExportFromCjs$1(propTypesExports);var __assign=function(){return __assign=Object.assign||function(e){for(var o,a=1,l=arguments.length;a<l;a++){o=arguments[a];for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(e[u]=o[u])}return e},__assign.apply(this,arguments)};function __rest(n,e){var o={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&e.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(n);l<a.length;l++)e.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(n,a[l])&&(o[a[l]]=n[a[l]]);return o}function __awaiter(n,e,o,a){function l(u){return u instanceof o?u:new o(function(c){c(u)})}return new(o||(o=Promise))(function(u,c){function f(E){try{T(a.next(E))}catch(b){c(b)}}function p(E){try{T(a.throw(E))}catch(b){c(b)}}function T(E){E.done?u(E.value):l(E.value).then(f,p)}T((a=a.apply(n,e||[])).next())})}function __spreadArray(n,e,o){if(o||arguments.length===2)for(var a=0,l=e.length,u;a<l;a++)(u||!(a in e))&&(u||(u=Array.prototype.slice.call(e,0,a)),u[a]=e[a]);return n.concat(u||Array.prototype.slice.call(e))}typeof SuppressedError=="function"&&SuppressedError;const COMMON_MIME_TYPES=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function toFileWithPath(n,e,o){const a=withMimeType(n),{webkitRelativePath:l}=n,u=typeof e=="string"?e:typeof l=="string"&&l.length>0?l:`./${n.name}`;return typeof a.path!="string"&&setObjProp(a,"path",u),setObjProp(a,"relativePath",u),a}function withMimeType(n){const{name:e}=n;if(e&&e.lastIndexOf(".")!==-1&&!n.type){const a=e.split(".").pop().toLowerCase(),l=COMMON_MIME_TYPES.get(a);l&&Object.defineProperty(n,"type",{value:l,writable:!1,configurable:!1,enumerable:!0})}return n}function setObjProp(n,e,o){Object.defineProperty(n,e,{value:o,writable:!1,configurable:!1,enumerable:!0})}const FILES_TO_IGNORE=[".DS_Store","Thumbs.db"];function fromEvent(n){return __awaiter(this,void 0,void 0,function*(){return isObject$1(n)&&isDataTransfer(n.dataTransfer)?getDataTransferFiles(n.dataTransfer,n.type):isChangeEvt(n)?getInputFiles(n):Array.isArray(n)&&n.every(e=>"getFile"in e&&typeof e.getFile=="function")?getFsHandleFiles(n):[]})}function isDataTransfer(n){return isObject$1(n)}function isChangeEvt(n){return isObject$1(n)&&isObject$1(n.target)}function isObject$1(n){return typeof n=="object"&&n!==null}function getInputFiles(n){return fromList(n.target.files).map(e=>toFileWithPath(e))}function getFsHandleFiles(n){return __awaiter(this,void 0,void 0,function*(){return(yield Promise.all(n.map(o=>o.getFile()))).map(o=>toFileWithPath(o))})}function getDataTransferFiles(n,e){return __awaiter(this,void 0,void 0,function*(){if(n.items){const o=fromList(n.items).filter(l=>l.kind==="file");if(e!=="drop")return o;const a=yield Promise.all(o.map(toFilePromises));return noIgnoredFiles(flatten$1(a))}return noIgnoredFiles(fromList(n.files).map(o=>toFileWithPath(o)))})}function noIgnoredFiles(n){return n.filter(e=>FILES_TO_IGNORE.indexOf(e.name)===-1)}function fromList(n){if(n===null)return[];const e=[];for(let o=0;o<n.length;o++){const a=n[o];e.push(a)}return e}function toFilePromises(n){if(typeof n.webkitGetAsEntry!="function")return fromDataTransferItem(n);const e=n.webkitGetAsEntry();return e&&e.isDirectory?fromDirEntry(e):fromDataTransferItem(n,e)}function flatten$1(n){return n.reduce((e,o)=>[...e,...Array.isArray(o)?flatten$1(o):[o]],[])}function fromDataTransferItem(n,e){return __awaiter(this,void 0,void 0,function*(){var o;if(globalThis.isSecureContext&&typeof n.getAsFileSystemHandle=="function"){const u=yield n.getAsFileSystemHandle();if(u===null)throw new Error(`${n} is not a File`);if(u!==void 0){const c=yield u.getFile();return c.handle=u,toFileWithPath(c)}}const a=n.getAsFile();if(!a)throw new Error(`${n} is not a File`);return toFileWithPath(a,(o=e==null?void 0:e.fullPath)!==null&&o!==void 0?o:void 0)})}function fromEntry(n){return __awaiter(this,void 0,void 0,function*(){return n.isDirectory?fromDirEntry(n):fromFileEntry(n)})}function fromDirEntry(n){const e=n.createReader();return new Promise((o,a)=>{const l=[];function u(){e.readEntries(c=>__awaiter(this,void 0,void 0,function*(){if(c.length){const f=Promise.all(c.map(fromEntry));l.push(f),u()}else try{const f=yield Promise.all(l);o(f)}catch(f){a(f)}}),c=>{a(c)})}u()})}function fromFileEntry(n){return __awaiter(this,void 0,void 0,function*(){return new Promise((e,o)=>{n.file(a=>{const l=toFileWithPath(a,n.fullPath);e(l)},a=>{o(a)})})})}var es={},hasRequiredEs;function requireEs(){return hasRequiredEs||(hasRequiredEs=1,es.__esModule=!0,es.default=function(n,e){if(n&&e){var o=Array.isArray(e)?e:e.split(",");if(o.length===0)return!0;var a=n.name||"",l=(n.type||"").toLowerCase(),u=l.replace(/\/.*$/,"");return o.some(function(c){var f=c.trim().toLowerCase();return f.charAt(0)==="."?a.toLowerCase().endsWith(f):f.endsWith("/*")?u===f.replace(/\/.*$/,""):l===f})}return!0}),es}var esExports=requireEs();const _accepts=getDefaultExportFromCjs$1(esExports);function _toConsumableArray$2(n){return _arrayWithoutHoles$2(n)||_iterableToArray$2(n)||_unsupportedIterableToArray$2(n)||_nonIterableSpread$2()}function _nonIterableSpread$2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$2(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function _arrayWithoutHoles$2(n){if(Array.isArray(n))return _arrayLikeToArray$2(n)}function ownKeys$1(n,e){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),o.push.apply(o,a)}return o}function _objectSpread$1(n){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$1(Object(o),!0).forEach(function(a){_defineProperty$2(n,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):ownKeys$1(Object(o)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(o,a))})}return n}function _defineProperty$2(n,e,o){return e in n?Object.defineProperty(n,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[e]=o,n}function _slicedToArray$1(n,e){return _arrayWithHoles$1(n)||_iterableToArrayLimit$1(n,e)||_unsupportedIterableToArray$2(n,e)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2(n,e){if(n){if(typeof n=="string")return _arrayLikeToArray$2(n,e);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray$2(n,e)}}function _arrayLikeToArray$2(n,e){(e==null||e>n.length)&&(e=n.length);for(var o=0,a=new Array(e);o<e;o++)a[o]=n[o];return a}function _iterableToArrayLimit$1(n,e){var o=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var a=[],l=!0,u=!1,c,f;try{for(o=o.call(n);!(l=(c=o.next()).done)&&(a.push(c.value),!(e&&a.length===e));l=!0);}catch(p){u=!0,f=p}finally{try{!l&&o.return!=null&&o.return()}finally{if(u)throw f}}return a}}function _arrayWithHoles$1(n){if(Array.isArray(n))return n}var accepts=typeof _accepts=="function"?_accepts:_accepts.default,FILE_INVALID_TYPE="file-invalid-type",FILE_TOO_LARGE="file-too-large",FILE_TOO_SMALL="file-too-small",TOO_MANY_FILES="too-many-files",getInvalidTypeRejectionErr=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",o=e.split(","),a=o.length>1?"one of ".concat(o.join(", ")):o[0];return{code:FILE_INVALID_TYPE,message:"File type must be ".concat(a)}},getTooLargeRejectionErr=function(e){return{code:FILE_TOO_LARGE,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},getTooSmallRejectionErr=function(e){return{code:FILE_TOO_SMALL,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},TOO_MANY_FILES_REJECTION={code:TOO_MANY_FILES,message:"Too many files"};function fileAccepted(n,e){var o=n.type==="application/x-moz-file"||accepts(n,e);return[o,o?null:getInvalidTypeRejectionErr(e)]}function fileMatchSize(n,e,o){if(isDefined(n.size))if(isDefined(e)&&isDefined(o)){if(n.size>o)return[!1,getTooLargeRejectionErr(o)];if(n.size<e)return[!1,getTooSmallRejectionErr(e)]}else{if(isDefined(e)&&n.size<e)return[!1,getTooSmallRejectionErr(e)];if(isDefined(o)&&n.size>o)return[!1,getTooLargeRejectionErr(o)]}return[!0,null]}function isDefined(n){return n!=null}function allFilesAccepted(n){var e=n.files,o=n.accept,a=n.minSize,l=n.maxSize,u=n.multiple,c=n.maxFiles,f=n.validator;return!u&&e.length>1||u&&c>=1&&e.length>c?!1:e.every(function(p){var T=fileAccepted(p,o),E=_slicedToArray$1(T,1),b=E[0],m=fileMatchSize(p,a,l),y=_slicedToArray$1(m,1),S=y[0],v=f?f(p):null;return b&&S&&!v})}function isPropagationStopped(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function isEvtWithFiles(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function onDocumentDragOver(n){n.preventDefault()}function isIe(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function isEdge(n){return n.indexOf("Edge/")!==-1}function isIeOrEdge(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return isIe(n)||isEdge(n)}function composeEventHandlers(){for(var n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];return function(a){for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];return e.some(function(f){return!isPropagationStopped(a)&&f&&f.apply(void 0,[a].concat(u)),isPropagationStopped(a)})}}function canUseFileSystemAccessAPI(){return"showOpenFilePicker"in window}function pickerOptionsFromAccept(n){if(isDefined(n)){var e=Object.entries(n).filter(function(o){var a=_slicedToArray$1(o,2),l=a[0],u=a[1],c=!0;return isMIMEType(l)||(console.warn('Skipped "'.concat(l,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),c=!1),(!Array.isArray(u)||!u.every(isExt))&&(console.warn('Skipped "'.concat(l,'" because an invalid file extension was provided.')),c=!1),c}).reduce(function(o,a){var l=_slicedToArray$1(a,2),u=l[0],c=l[1];return _objectSpread$1(_objectSpread$1({},o),{},_defineProperty$2({},u,c))},{});return[{description:"Files",accept:e}]}return n}function acceptPropAsAcceptAttr(n){if(isDefined(n))return Object.entries(n).reduce(function(e,o){var a=_slicedToArray$1(o,2),l=a[0],u=a[1];return[].concat(_toConsumableArray$2(e),[l],_toConsumableArray$2(u))},[]).filter(function(e){return isMIMEType(e)||isExt(e)}).join(",")}function isAbort(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function isSecurityError(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}function isMIMEType(n){return n==="audio/*"||n==="video/*"||n==="image/*"||n==="text/*"||n==="application/*"||/\w+\/[-+.\w]+/g.test(n)}function isExt(n){return/^.*\.[\w]+$/.test(n)}var _excluded$1=["children"],_excluded2=["open"],_excluded3=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],_excluded4=["refKey","onChange","onClick"];function _toConsumableArray$1(n){return _arrayWithoutHoles$1(n)||_iterableToArray$1(n)||_unsupportedIterableToArray$1(n)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$1(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function _arrayWithoutHoles$1(n){if(Array.isArray(n))return _arrayLikeToArray$1(n)}function _slicedToArray(n,e){return _arrayWithHoles(n)||_iterableToArrayLimit(n,e)||_unsupportedIterableToArray$1(n,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(n,e){if(n){if(typeof n=="string")return _arrayLikeToArray$1(n,e);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray$1(n,e)}}function _arrayLikeToArray$1(n,e){(e==null||e>n.length)&&(e=n.length);for(var o=0,a=new Array(e);o<e;o++)a[o]=n[o];return a}function _iterableToArrayLimit(n,e){var o=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var a=[],l=!0,u=!1,c,f;try{for(o=o.call(n);!(l=(c=o.next()).done)&&(a.push(c.value),!(e&&a.length===e));l=!0);}catch(p){u=!0,f=p}finally{try{!l&&o.return!=null&&o.return()}finally{if(u)throw f}}return a}}function _arrayWithHoles(n){if(Array.isArray(n))return n}function ownKeys(n,e){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),o.push.apply(o,a)}return o}function _objectSpread(n){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(o),!0).forEach(function(a){_defineProperty$1(n,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):ownKeys(Object(o)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(o,a))})}return n}function _defineProperty$1(n,e,o){return e in n?Object.defineProperty(n,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[e]=o,n}function _objectWithoutProperties$1(n,e){if(n==null)return{};var o=_objectWithoutPropertiesLoose$1(n,e),a,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(n);for(l=0;l<u.length;l++)a=u[l],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(n,a)&&(o[a]=n[a])}return o}function _objectWithoutPropertiesLoose$1(n,e){if(n==null)return{};var o={},a=Object.keys(n),l,u;for(u=0;u<a.length;u++)l=a[u],!(e.indexOf(l)>=0)&&(o[l]=n[l]);return o}var Dropzone=reactExports.forwardRef(function(n,e){var o=n.children,a=_objectWithoutProperties$1(n,_excluded$1),l=useDropzone(a),u=l.open,c=_objectWithoutProperties$1(l,_excluded2);return reactExports.useImperativeHandle(e,function(){return{open:u}},[u]),React.createElement(reactExports.Fragment,null,o(_objectSpread(_objectSpread({},c),{},{open:u})))});Dropzone.displayName="Dropzone";var defaultProps={disabled:!1,getFilesFromEvent:fromEvent,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Dropzone.defaultProps=defaultProps;Dropzone.propTypes={children:PropTypes.func,accept:PropTypes.objectOf(PropTypes.arrayOf(PropTypes.string)),multiple:PropTypes.bool,preventDropOnDocument:PropTypes.bool,noClick:PropTypes.bool,noKeyboard:PropTypes.bool,noDrag:PropTypes.bool,noDragEventsBubbling:PropTypes.bool,minSize:PropTypes.number,maxSize:PropTypes.number,maxFiles:PropTypes.number,disabled:PropTypes.bool,getFilesFromEvent:PropTypes.func,onFileDialogCancel:PropTypes.func,onFileDialogOpen:PropTypes.func,useFsAccessApi:PropTypes.bool,autoFocus:PropTypes.bool,onDragEnter:PropTypes.func,onDragLeave:PropTypes.func,onDragOver:PropTypes.func,onDrop:PropTypes.func,onDropAccepted:PropTypes.func,onDropRejected:PropTypes.func,onError:PropTypes.func,validator:PropTypes.func};var initialState={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function useDropzone(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=_objectSpread(_objectSpread({},defaultProps),n),o=e.accept,a=e.disabled,l=e.getFilesFromEvent,u=e.maxSize,c=e.minSize,f=e.multiple,p=e.maxFiles,T=e.onDragEnter,E=e.onDragLeave,b=e.onDragOver,m=e.onDrop,y=e.onDropAccepted,S=e.onDropRejected,v=e.onFileDialogCancel,A=e.onFileDialogOpen,w=e.useFsAccessApi,R=e.autoFocus,P=e.preventDropOnDocument,F=e.noClick,B=e.noKeyboard,G=e.noDrag,K=e.noDragEventsBubbling,le=e.onError,V=e.validator,X=reactExports.useMemo(function(){return acceptPropAsAcceptAttr(o)},[o]),W=reactExports.useMemo(function(){return pickerOptionsFromAccept(o)},[o]),H=reactExports.useMemo(function(){return typeof A=="function"?A:noop$1},[A]),te=reactExports.useMemo(function(){return typeof v=="function"?v:noop$1},[v]),L=reactExports.useRef(null),ue=reactExports.useRef(null),Ce=reactExports.useReducer(reducer,initialState),fe=_slicedToArray(Ce,2),ye=fe[0],he=fe[1],j=ye.isFocused,Y=ye.isFileDialogActive,Z=reactExports.useRef(typeof window<"u"&&window.isSecureContext&&w&&canUseFileSystemAccessAPI()),Q=function(){!Z.current&&Y&&setTimeout(function(){if(ue.current){var ne=ue.current.files;ne.length||(he({type:"closeDialog"}),te())}},300)};reactExports.useEffect(function(){return window.addEventListener("focus",Q,!1),function(){window.removeEventListener("focus",Q,!1)}},[ue,Y,te,Z]);var be=reactExports.useRef([]),we=function(ne){L.current&&L.current.contains(ne.target)||(ne.preventDefault(),be.current=[])};reactExports.useEffect(function(){return P&&(document.addEventListener("dragover",onDocumentDragOver,!1),document.addEventListener("drop",we,!1)),function(){P&&(document.removeEventListener("dragover",onDocumentDragOver),document.removeEventListener("drop",we))}},[L,P]),reactExports.useEffect(function(){return!a&&R&&L.current&&L.current.focus(),function(){}},[L,R,a]);var Ue=reactExports.useCallback(function(I){le?le(I):console.error(I)},[le]),Ye=reactExports.useCallback(function(I){I.preventDefault(),I.persist(),Oe(I),be.current=[].concat(_toConsumableArray$1(be.current),[I.target]),isEvtWithFiles(I)&&Promise.resolve(l(I)).then(function(ne){if(!(isPropagationStopped(I)&&!K)){var J=ne.length,me=J>0&&allFilesAccepted({files:ne,accept:X,minSize:c,maxSize:u,multiple:f,maxFiles:p,validator:V}),pe=J>0&&!me;he({isDragAccept:me,isDragReject:pe,isDragActive:!0,type:"setDraggedFiles"}),T&&T(I)}}).catch(function(ne){return Ue(ne)})},[l,T,Ue,K,X,c,u,f,p,V]),He=reactExports.useCallback(function(I){I.preventDefault(),I.persist(),Oe(I);var ne=isEvtWithFiles(I);if(ne&&I.dataTransfer)try{I.dataTransfer.dropEffect="copy"}catch{}return ne&&b&&b(I),!1},[b,K]),je=reactExports.useCallback(function(I){I.preventDefault(),I.persist(),Oe(I);var ne=be.current.filter(function(me){return L.current&&L.current.contains(me)}),J=ne.indexOf(I.target);J!==-1&&ne.splice(J,1),be.current=ne,!(ne.length>0)&&(he({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),isEvtWithFiles(I)&&E&&E(I))},[L,E,K]),Xe=reactExports.useCallback(function(I,ne){var J=[],me=[];I.forEach(function(pe){var ke=fileAccepted(pe,X),D=_slicedToArray(ke,2),k=D[0],N=D[1],z=fileMatchSize(pe,c,u),ee=_slicedToArray(z,2),ae=ee[0],de=ee[1],ve=V?V(pe):null;if(k&&ae&&!ve)J.push(pe);else{var Pe=[N,de];ve&&(Pe=Pe.concat(ve)),me.push({file:pe,errors:Pe.filter(function(Ge){return Ge})})}}),(!f&&J.length>1||f&&p>=1&&J.length>p)&&(J.forEach(function(pe){me.push({file:pe,errors:[TOO_MANY_FILES_REJECTION]})}),J.splice(0)),he({acceptedFiles:J,fileRejections:me,isDragReject:me.length>0,type:"setFiles"}),m&&m(J,me,ne),me.length>0&&S&&S(me,ne),J.length>0&&y&&y(J,ne)},[he,f,X,c,u,p,m,y,S,V]),et=reactExports.useCallback(function(I){I.preventDefault(),I.persist(),Oe(I),be.current=[],isEvtWithFiles(I)&&Promise.resolve(l(I)).then(function(ne){isPropagationStopped(I)&&!K||Xe(ne,I)}).catch(function(ne){return Ue(ne)}),he({type:"reset"})},[l,Xe,Ue,K]),it=reactExports.useCallback(function(){if(Z.current){he({type:"openDialog"}),H();var I={multiple:f,types:W};window.showOpenFilePicker(I).then(function(ne){return l(ne)}).then(function(ne){Xe(ne,null),he({type:"closeDialog"})}).catch(function(ne){isAbort(ne)?(te(ne),he({type:"closeDialog"})):isSecurityError(ne)?(Z.current=!1,ue.current?(ue.current.value=null,ue.current.click()):Ue(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Ue(ne)});return}ue.current&&(he({type:"openDialog"}),H(),ue.current.value=null,ue.current.click())},[he,H,te,w,Xe,Ue,W,f]),ct=reactExports.useCallback(function(I){!L.current||!L.current.isEqualNode(I.target)||(I.key===" "||I.key==="Enter"||I.keyCode===32||I.keyCode===13)&&(I.preventDefault(),it())},[L,it]),U=reactExports.useCallback(function(){he({type:"focus"})},[]),De=reactExports.useCallback(function(){he({type:"blur"})},[]),Ae=reactExports.useCallback(function(){F||(isIeOrEdge()?setTimeout(it,0):it())},[F,it]),se=function(ne){return a?null:ne},oe=function(ne){return B?null:se(ne)},Ee=function(ne){return G?null:se(ne)},Oe=function(ne){K&&ne.stopPropagation()},Re=reactExports.useMemo(function(){return function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ne=I.refKey,J=ne===void 0?"ref":ne,me=I.role,pe=I.onKeyDown,ke=I.onFocus,D=I.onBlur,k=I.onClick,N=I.onDragEnter,z=I.onDragOver,ee=I.onDragLeave,ae=I.onDrop,de=_objectWithoutProperties$1(I,_excluded3);return _objectSpread(_objectSpread(_defineProperty$1({onKeyDown:oe(composeEventHandlers(pe,ct)),onFocus:oe(composeEventHandlers(ke,U)),onBlur:oe(composeEventHandlers(D,De)),onClick:se(composeEventHandlers(k,Ae)),onDragEnter:Ee(composeEventHandlers(N,Ye)),onDragOver:Ee(composeEventHandlers(z,He)),onDragLeave:Ee(composeEventHandlers(ee,je)),onDrop:Ee(composeEventHandlers(ae,et)),role:typeof me=="string"&&me!==""?me:"presentation"},J,L),!a&&!B?{tabIndex:0}:{}),de)}},[L,ct,U,De,Ae,Ye,He,je,et,B,G,a]),xe=reactExports.useCallback(function(I){I.stopPropagation()},[]),Fe=reactExports.useMemo(function(){return function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ne=I.refKey,J=ne===void 0?"ref":ne,me=I.onChange,pe=I.onClick,ke=_objectWithoutProperties$1(I,_excluded4),D=_defineProperty$1({accept:X,multiple:f,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:se(composeEventHandlers(me,et)),onClick:se(composeEventHandlers(pe,xe)),tabIndex:-1},J,ue);return _objectSpread(_objectSpread({},D),ke)}},[ue,o,f,et,a]);return _objectSpread(_objectSpread({},ye),{},{isFocused:j&&!a,getRootProps:Re,getInputProps:Fe,rootRef:L,inputRef:ue,open:se(it)})}function reducer(n,e){switch(e.type){case"focus":return _objectSpread(_objectSpread({},n),{},{isFocused:!0});case"blur":return _objectSpread(_objectSpread({},n),{},{isFocused:!1});case"openDialog":return _objectSpread(_objectSpread({},initialState),{},{isFileDialogActive:!0});case"closeDialog":return _objectSpread(_objectSpread({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":return _objectSpread(_objectSpread({},n),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return _objectSpread(_objectSpread({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return _objectSpread({},initialState);default:return n}}function noop$1(){}var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function useCallbackRef(n,e){var o=reactExports.useState(function(){return{value:n,callback:e,facade:{get current(){return o.value},set current(a){var l=o.value;l!==a&&(o.value=a,o.callback(a,l))}}}})[0];return o.callback=e,o.facade}var useIsomorphicLayoutEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,currentValues=new WeakMap;function useMergeRefs(n,e){var o=useCallbackRef(null,function(a){return n.forEach(function(l){return assignRef(l,a)})});return useIsomorphicLayoutEffect(function(){var a=currentValues.get(o);if(a){var l=new Set(a),u=new Set(n),c=o.current;l.forEach(function(f){u.has(f)||assignRef(f,null)}),u.forEach(function(f){l.has(f)||assignRef(f,c)})}currentValues.set(o,n)},[n]),o}function ItoI(n){return n}function innerCreateMedium(n,e){e===void 0&&(e=ItoI);var o=[],a=!1,l={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return o.length?o[o.length-1]:n},useMedium:function(u){var c=e(u,a);return o.push(c),function(){o=o.filter(function(f){return f!==c})}},assignSyncMedium:function(u){for(a=!0;o.length;){var c=o;o=[],c.forEach(u)}o={push:function(f){return u(f)},filter:function(){return o}}},assignMedium:function(u){a=!0;var c=[];if(o.length){var f=o;o=[],f.forEach(u),c=o}var p=function(){var E=c;c=[],E.forEach(u)},T=function(){return Promise.resolve().then(p)};T(),o={push:function(E){c.push(E),T()},filter:function(E){return c=c.filter(E),o}}}};return l}function createSidecarMedium(n){n===void 0&&(n={});var e=innerCreateMedium(null);return e.options=__assign({async:!0,ssr:!1},n),e}var SideCar$1=function(n){var e=n.sideCar,o=__rest(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=e.read();if(!a)throw new Error("Sidecar medium not found");return reactExports.createElement(a,__assign({},o))};SideCar$1.isSideCarExport=!0;function exportSidecar(n,e){return n.useMedium(e),SideCar$1}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(n,e){var o=reactExports.useRef(null),a=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),l=a[0],u=a[1],c=n.forwardProps,f=n.children,p=n.className,T=n.removeScrollBar,E=n.enabled,b=n.shards,m=n.sideCar,y=n.noRelative,S=n.noIsolation,v=n.inert,A=n.allowPinchZoom,w=n.as,R=w===void 0?"div":w,P=n.gapMode,F=__rest(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),B=m,G=useMergeRefs([o,e]),K=__assign(__assign({},F),l);return reactExports.createElement(reactExports.Fragment,null,E&&reactExports.createElement(B,{sideCar:effectCar,removeScrollBar:T,shards:b,noRelative:y,noIsolation:S,inert:v,setCallbacks:u,allowPinchZoom:!!A,lockRef:o,gapMode:P}),c?reactExports.cloneElement(reactExports.Children.only(f),__assign(__assign({},K),{ref:G})):reactExports.createElement(R,__assign({},K,{className:p,ref:G}),f))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=getNonce();return e&&n.setAttribute("nonce",e),n}function injectStyles(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function insertStyleTag(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var stylesheetSingleton=function(){var n=0,e=null;return{add:function(o){n==0&&(e=makeStyleTag())&&(injectStyles(e,o),insertStyleTag(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},styleHookSingleton=function(){var n=stylesheetSingleton();return function(e,o){reactExports.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&o])}},styleSingleton=function(){var n=styleHookSingleton(),e=function(o){var a=o.styles,l=o.dynamic;return n(a,l),null};return e},zeroGap={left:0,top:0,right:0,gap:0},parse$4=function(n){return parseInt(n||"",10)||0},getOffset=function(n){var e=window.getComputedStyle(document.body),o=e[n==="padding"?"paddingLeft":"marginLeft"],a=e[n==="padding"?"paddingTop":"marginTop"],l=e[n==="padding"?"paddingRight":"marginRight"];return[parse$4(o),parse$4(a),parse$4(l)]},getGapWidth=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return zeroGap;var e=getOffset(n),o=document.documentElement.clientWidth,a=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,a-o+e[2]-e[0])}},Style=styleSingleton(),lockAttribute="data-scroll-locked",getStyles=function(n,e,o,a){var l=n.left,u=n.top,c=n.right,f=n.gap;return o===void 0&&(o="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(f,"px ").concat(a,`;
  }
  body[`).concat(lockAttribute,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(a,";"),o==="margin"&&`
    padding-left: `.concat(l,`px;
    padding-top: `).concat(u,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(a,`;
    `),o==="padding"&&"padding-right: ".concat(f,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(f,"px ").concat(a,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(f,"px ").concat(a,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(lockAttribute,`] {
    `).concat(removedBarSizeVariable,": ").concat(f,`px;
  }
`)},getCurrentUseCounter=function(){var n=parseInt(document.body.getAttribute(lockAttribute)||"0",10);return isFinite(n)?n:0},useLockAttribute=function(){reactExports.useEffect(function(){return document.body.setAttribute(lockAttribute,(getCurrentUseCounter()+1).toString()),function(){var n=getCurrentUseCounter()-1;n<=0?document.body.removeAttribute(lockAttribute):document.body.setAttribute(lockAttribute,n.toString())}},[])},RemoveScrollBar=function(n){var e=n.noRelative,o=n.noImportant,a=n.gapMode,l=a===void 0?"margin":a;useLockAttribute();var u=reactExports.useMemo(function(){return getGapWidth(l)},[l]);return reactExports.createElement(Style,{styles:getStyles(u,!e,l,o?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(n){return n.tagName==="TEXTAREA"},elementCanBeScrolled=function(n,e){if(!(n instanceof Element))return!1;var o=window.getComputedStyle(n);return o[e]!=="hidden"&&!(o.overflowY===o.overflowX&&!alwaysContainsScroll(n)&&o[e]==="visible")},elementCouldBeVScrolled=function(n){return elementCanBeScrolled(n,"overflowY")},elementCouldBeHScrolled=function(n){return elementCanBeScrolled(n,"overflowX")},locationCouldBeScrolled=function(n,e){var o=e.ownerDocument,a=e;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var l=elementCouldBeScrolled(n,a);if(l){var u=getScrollVariables(n,a),c=u[1],f=u[2];if(c>f)return!0}a=a.parentNode}while(a&&a!==o.body);return!1},getVScrollVariables=function(n){var e=n.scrollTop,o=n.scrollHeight,a=n.clientHeight;return[e,o,a]},getHScrollVariables=function(n){var e=n.scrollLeft,o=n.scrollWidth,a=n.clientWidth;return[e,o,a]},elementCouldBeScrolled=function(n,e){return n==="v"?elementCouldBeVScrolled(e):elementCouldBeHScrolled(e)},getScrollVariables=function(n,e){return n==="v"?getVScrollVariables(e):getHScrollVariables(e)},getDirectionFactor=function(n,e){return n==="h"&&e==="rtl"?-1:1},handleScroll=function(n,e,o,a,l){var u=getDirectionFactor(n,window.getComputedStyle(e).direction),c=u*a,f=o.target,p=e.contains(f),T=!1,E=c>0,b=0,m=0;do{if(!f)break;var y=getScrollVariables(n,f),S=y[0],v=y[1],A=y[2],w=v-A-u*S;(S||w)&&elementCouldBeScrolled(n,f)&&(b+=w,m+=S);var R=f.parentNode;f=R&&R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?R.host:R}while(!p&&f!==document.body||p&&(e.contains(f)||e===f));return(E&&Math.abs(b)<1||!E&&Math.abs(m)<1)&&(T=!0),T},getTouchXY=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(n){return[n.deltaX,n.deltaY]},extractRef=function(n){return n&&"current"in n?n.current:n},deltaCompare=function(n,e){return n[0]===e[0]&&n[1]===e[1]},generateStyle=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(n){var e=reactExports.useRef([]),o=reactExports.useRef([0,0]),a=reactExports.useRef(),l=reactExports.useState(idCounter++)[0],u=reactExports.useState(styleSingleton)[0],c=reactExports.useRef(n);reactExports.useEffect(function(){c.current=n},[n]),reactExports.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(l));var v=__spreadArray([n.lockRef.current],(n.shards||[]).map(extractRef),!0).filter(Boolean);return v.forEach(function(A){return A.classList.add("allow-interactivity-".concat(l))}),function(){document.body.classList.remove("block-interactivity-".concat(l)),v.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(l))})}}},[n.inert,n.lockRef.current,n.shards]);var f=reactExports.useCallback(function(v,A){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!c.current.allowPinchZoom;var w=getTouchXY(v),R=o.current,P="deltaX"in v?v.deltaX:R[0]-w[0],F="deltaY"in v?v.deltaY:R[1]-w[1],B,G=v.target,K=Math.abs(P)>Math.abs(F)?"h":"v";if("touches"in v&&K==="h"&&G.type==="range")return!1;var le=locationCouldBeScrolled(K,G);if(!le)return!0;if(le?B=K:(B=K==="v"?"h":"v",le=locationCouldBeScrolled(K,G)),!le)return!1;if(!a.current&&"changedTouches"in v&&(P||F)&&(a.current=B),!B)return!0;var V=a.current||B;return handleScroll(V,A,v,V==="h"?P:F)},[]),p=reactExports.useCallback(function(v){var A=v;if(!(!lockStack.length||lockStack[lockStack.length-1]!==u)){var w="deltaY"in A?getDeltaXY(A):getTouchXY(A),R=e.current.filter(function(B){return B.name===A.type&&(B.target===A.target||A.target===B.shadowParent)&&deltaCompare(B.delta,w)})[0];if(R&&R.should){A.cancelable&&A.preventDefault();return}if(!R){var P=(c.current.shards||[]).map(extractRef).filter(Boolean).filter(function(B){return B.contains(A.target)}),F=P.length>0?f(A,P[0]):!c.current.noIsolation;F&&A.cancelable&&A.preventDefault()}}},[]),T=reactExports.useCallback(function(v,A,w,R){var P={name:v,delta:A,target:w,should:R,shadowParent:getOutermostShadowParent(w)};e.current.push(P),setTimeout(function(){e.current=e.current.filter(function(F){return F!==P})},1)},[]),E=reactExports.useCallback(function(v){o.current=getTouchXY(v),a.current=void 0},[]),b=reactExports.useCallback(function(v){T(v.type,getDeltaXY(v),v.target,f(v,n.lockRef.current))},[]),m=reactExports.useCallback(function(v){T(v.type,getTouchXY(v),v.target,f(v,n.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(u),n.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:m}),document.addEventListener("wheel",p,nonPassive),document.addEventListener("touchmove",p,nonPassive),document.addEventListener("touchstart",E,nonPassive),function(){lockStack=lockStack.filter(function(v){return v!==u}),document.removeEventListener("wheel",p,nonPassive),document.removeEventListener("touchmove",p,nonPassive),document.removeEventListener("touchstart",E,nonPassive)}},[]);var y=n.removeScrollBar,S=n.inert;return reactExports.createElement(reactExports.Fragment,null,S?reactExports.createElement(u,{styles:generateStyle(l)}):null,y?reactExports.createElement(RemoveScrollBar,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function getOutermostShadowParent(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(n,e){return reactExports.createElement(RemoveScroll,__assign({},n,{ref:e,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;var getDefaultParent=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(n){return n&&(n.host||unwrapHost(n.parentNode))},correctTargets=function(n,e){return e.map(function(o){if(n.contains(o))return o;var a=unwrapHost(o);return a&&n.contains(a)?a:(console.error("aria-hidden",o,"in not contained inside",n,". Doing nothing"),null)}).filter(function(o){return!!o})},applyAttributeToOthers=function(n,e,o,a){var l=correctTargets(e,Array.isArray(n)?n:[n]);markerMap[o]||(markerMap[o]=new WeakMap);var u=markerMap[o],c=[],f=new Set,p=new Set(l),T=function(b){!b||f.has(b)||(f.add(b),T(b.parentNode))};l.forEach(T);var E=function(b){!b||p.has(b)||Array.prototype.forEach.call(b.children,function(m){if(f.has(m))E(m);else try{var y=m.getAttribute(a),S=y!==null&&y!=="false",v=(counterMap.get(m)||0)+1,A=(u.get(m)||0)+1;counterMap.set(m,v),u.set(m,A),c.push(m),v===1&&S&&uncontrolledNodes.set(m,!0),A===1&&m.setAttribute(o,"true"),S||m.setAttribute(a,"true")}catch(w){console.error("aria-hidden: cannot operate on ",m,w)}})};return E(e),f.clear(),lockCount++,function(){c.forEach(function(b){var m=counterMap.get(b)-1,y=u.get(b)-1;counterMap.set(b,m),u.set(b,y),m||(uncontrolledNodes.has(b)||b.removeAttribute(a),uncontrolledNodes.delete(b)),y||b.removeAttribute(o)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(n,e,o){o===void 0&&(o="data-aria-hidden");var a=Array.from(Array.isArray(n)?n:[n]),l=getDefaultParent(n);return l?(a.push.apply(a,Array.from(l.querySelectorAll("[aria-live]"))),applyAttributeToOthers(a,l,o,"aria-hidden")):function(){return null}},empty$3=null;const empty$4=Object.freeze(Object.defineProperty({__proto__:null,default:empty$3},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(empty$4);var kindOf,hasRequiredKindOf;function requireKindOf(){if(hasRequiredKindOf)return kindOf;hasRequiredKindOf=1;var n=Object.prototype.toString;kindOf=function(b){if(b===void 0)return"undefined";if(b===null)return"null";var m=typeof b;if(m==="boolean")return"boolean";if(m==="string")return"string";if(m==="number")return"number";if(m==="symbol")return"symbol";if(m==="function")return c(b)?"generatorfunction":"function";if(o(b))return"array";if(T(b))return"buffer";if(p(b))return"arguments";if(l(b))return"date";if(a(b))return"error";if(u(b))return"regexp";switch(e(b)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(f(b))return"generator";switch(m=n.call(b),m){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return m.slice(8,-1).toLowerCase().replace(/\s/g,"")};function e(E){return typeof E.constructor=="function"?E.constructor.name:null}function o(E){return Array.isArray?Array.isArray(E):E instanceof Array}function a(E){return E instanceof Error||typeof E.message=="string"&&E.constructor&&typeof E.constructor.stackTraceLimit=="number"}function l(E){return E instanceof Date?!0:typeof E.toDateString=="function"&&typeof E.getDate=="function"&&typeof E.setDate=="function"}function u(E){return E instanceof RegExp?!0:typeof E.flags=="string"&&typeof E.ignoreCase=="boolean"&&typeof E.multiline=="boolean"&&typeof E.global=="boolean"}function c(E,b){return e(E)==="GeneratorFunction"}function f(E){return typeof E.throw=="function"&&typeof E.return=="function"&&typeof E.next=="function"}function p(E){try{if(typeof E.length=="number"&&typeof E.callee=="function")return!0}catch(b){if(b.message.indexOf("callee")!==-1)return!0}return!1}function T(E){return E.constructor&&typeof E.constructor.isBuffer=="function"?E.constructor.isBuffer(E):!1}return kindOf}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var isExtendable,hasRequiredIsExtendable;function requireIsExtendable(){return hasRequiredIsExtendable||(hasRequiredIsExtendable=1,isExtendable=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")}),isExtendable}var extendShallow,hasRequiredExtendShallow;function requireExtendShallow(){if(hasRequiredExtendShallow)return extendShallow;hasRequiredExtendShallow=1;var n=requireIsExtendable();extendShallow=function(l){n(l)||(l={});for(var u=arguments.length,c=1;c<u;c++){var f=arguments[c];n(f)&&e(l,f)}return l};function e(a,l){for(var u in l)o(l,u)&&(a[u]=l[u])}function o(a,l){return Object.prototype.hasOwnProperty.call(a,l)}return extendShallow}var sectionMatter,hasRequiredSectionMatter;function requireSectionMatter(){if(hasRequiredSectionMatter)return sectionMatter;hasRequiredSectionMatter=1;var n=requireKindOf(),e=requireExtendShallow();sectionMatter=function(p,T){typeof T=="function"&&(T={parse:T});var E=a(p),b={section_delimiter:"---",parse:c},m=e({},b,T),y=m.section_delimiter,S=E.content.split(/\r?\n/),v=null,A=u(),w=[],R=[];function P(V){E.content=V,v=[],w=[]}function F(V){R.length&&(A.key=l(R[0],y),A.content=V,m.parse(A,v),v.push(A),A=u(),w=[],R=[])}for(var B=0;B<S.length;B++){var G=S[B],K=R.length,le=G.trim();if(o(le,y)){if(le.length===3&&B!==0){if(K===0||K===2){w.push(G);continue}R.push(le),A.data=w.join(`
`),w=[];continue}v===null&&P(w.join(`
`)),K===2&&F(w.join(`
`)),R.push(le);continue}w.push(G)}return v===null?P(w.join(`
`)):F(w.join(`
`)),E.sections=v,E};function o(p,T){return!(p.slice(0,T.length)!==T||p.charAt(T.length+1)===T.slice(-1))}function a(p){if(n(p)!=="object"&&(p={content:p}),typeof p.content!="string"&&!f(p.content))throw new TypeError("expected a buffer or string");return p.content=p.content.toString(),p.sections=[],p}function l(p,T){return p?p.slice(T.length).trim():""}function u(){return{key:"",data:"",content:""}}function c(p){return p}function f(p){return p&&p.constructor&&typeof p.constructor.isBuffer=="function"?p.constructor.isBuffer(p):!1}return sectionMatter}var engines={exports:{}},jsYaml$1={},loader={},common$1={},hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common$1;hasRequiredCommon=1;function n(c){return typeof c>"u"||c===null}function e(c){return typeof c=="object"&&c!==null}function o(c){return Array.isArray(c)?c:n(c)?[]:[c]}function a(c,f){var p,T,E,b;if(f)for(b=Object.keys(f),p=0,T=b.length;p<T;p+=1)E=b[p],c[E]=f[E];return c}function l(c,f){var p="",T;for(T=0;T<f;T+=1)p+=c;return p}function u(c){return c===0&&Number.NEGATIVE_INFINITY===1/c}return common$1.isNothing=n,common$1.isObject=e,common$1.toArray=o,common$1.repeat=l,common$1.isNegativeZero=u,common$1.extend=a,common$1}var exception$1,hasRequiredException;function requireException(){if(hasRequiredException)return exception$1;hasRequiredException=1;function n(e,o){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=o,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n.prototype.toString=function(o){var a=this.name+": ";return a+=this.reason||"(unknown reason)",!o&&this.mark&&(a+=" "+this.mark.toString()),a},exception$1=n,exception$1}var mark$2,hasRequiredMark;function requireMark(){if(hasRequiredMark)return mark$2;hasRequiredMark=1;var n=requireCommon();function e(o,a,l,u,c){this.name=o,this.buffer=a,this.position=l,this.line=u,this.column=c}return e.prototype.getSnippet=function(a,l){var u,c,f,p,T;if(!this.buffer)return null;for(a=a||4,l=l||75,u="",c=this.position;c>0&&`\0\r
\u2028\u2029`.indexOf(this.buffer.charAt(c-1))===-1;)if(c-=1,this.position-c>l/2-1){u=" ... ",c+=5;break}for(f="",p=this.position;p<this.buffer.length&&`\0\r
\u2028\u2029`.indexOf(this.buffer.charAt(p))===-1;)if(p+=1,p-this.position>l/2-1){f=" ... ",p-=5;break}return T=this.buffer.slice(c,p),n.repeat(" ",a)+u+T+f+`
`+n.repeat(" ",a+this.position-c+u.length)+"^"},e.prototype.toString=function(a){var l,u="";return this.name&&(u+='in "'+this.name+'" '),u+="at line "+(this.line+1)+", column "+(this.column+1),a||(l=this.getSnippet(),l&&(u+=`:
`+l)),u},mark$2=e,mark$2}var type$1,hasRequiredType;function requireType(){if(hasRequiredType)return type$1;hasRequiredType=1;var n=requireException(),e=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],o=["scalar","sequence","mapping"];function a(u){var c={};return u!==null&&Object.keys(u).forEach(function(f){u[f].forEach(function(p){c[String(p)]=f})}),c}function l(u,c){if(c=c||{},Object.keys(c).forEach(function(f){if(e.indexOf(f)===-1)throw new n('Unknown option "'+f+'" is met in definition of "'+u+'" YAML type.')}),this.tag=u,this.kind=c.kind||null,this.resolve=c.resolve||function(){return!0},this.construct=c.construct||function(f){return f},this.instanceOf=c.instanceOf||null,this.predicate=c.predicate||null,this.represent=c.represent||null,this.defaultStyle=c.defaultStyle||null,this.styleAliases=a(c.styleAliases||null),o.indexOf(this.kind)===-1)throw new n('Unknown kind "'+this.kind+'" is specified for "'+u+'" YAML type.')}return type$1=l,type$1}var schema$1,hasRequiredSchema;function requireSchema(){if(hasRequiredSchema)return schema$1;hasRequiredSchema=1;var n=requireCommon(),e=requireException(),o=requireType();function a(c,f,p){var T=[];return c.include.forEach(function(E){p=a(E,f,p)}),c[f].forEach(function(E){p.forEach(function(b,m){b.tag===E.tag&&b.kind===E.kind&&T.push(m)}),p.push(E)}),p.filter(function(E,b){return T.indexOf(b)===-1})}function l(){var c={scalar:{},sequence:{},mapping:{},fallback:{}},f,p;function T(E){c[E.kind][E.tag]=c.fallback[E.tag]=E}for(f=0,p=arguments.length;f<p;f+=1)arguments[f].forEach(T);return c}function u(c){this.include=c.include||[],this.implicit=c.implicit||[],this.explicit=c.explicit||[],this.implicit.forEach(function(f){if(f.loadKind&&f.loadKind!=="scalar")throw new e("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=a(this,"implicit",[]),this.compiledExplicit=a(this,"explicit",[]),this.compiledTypeMap=l(this.compiledImplicit,this.compiledExplicit)}return u.DEFAULT=null,u.create=function(){var f,p;switch(arguments.length){case 1:f=u.DEFAULT,p=arguments[0];break;case 2:f=arguments[0],p=arguments[1];break;default:throw new e("Wrong number of arguments for Schema.create function")}if(f=n.toArray(f),p=n.toArray(p),!f.every(function(T){return T instanceof u}))throw new e("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!p.every(function(T){return T instanceof o}))throw new e("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new u({include:f,explicit:p})},schema$1=u,schema$1}var str$1,hasRequiredStr;function requireStr(){if(hasRequiredStr)return str$1;hasRequiredStr=1;var n=requireType();return str$1=new n("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),str$1}var seq$1,hasRequiredSeq;function requireSeq(){if(hasRequiredSeq)return seq$1;hasRequiredSeq=1;var n=requireType();return seq$1=new n("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),seq$1}var map$1,hasRequiredMap;function requireMap(){if(hasRequiredMap)return map$1;hasRequiredMap=1;var n=requireType();return map$1=new n("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),map$1}var failsafe$1,hasRequiredFailsafe;function requireFailsafe(){if(hasRequiredFailsafe)return failsafe$1;hasRequiredFailsafe=1;var n=requireSchema();return failsafe$1=new n({explicit:[requireStr(),requireSeq(),requireMap()]}),failsafe$1}var _null$1,hasRequired_null;function require_null(){if(hasRequired_null)return _null$1;hasRequired_null=1;var n=requireType();function e(l){if(l===null)return!0;var u=l.length;return u===1&&l==="~"||u===4&&(l==="null"||l==="Null"||l==="NULL")}function o(){return null}function a(l){return l===null}return _null$1=new n("tag:yaml.org,2002:null",{kind:"scalar",resolve:e,construct:o,predicate:a,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"}),_null$1}var bool$1,hasRequiredBool;function requireBool(){if(hasRequiredBool)return bool$1;hasRequiredBool=1;var n=requireType();function e(l){if(l===null)return!1;var u=l.length;return u===4&&(l==="true"||l==="True"||l==="TRUE")||u===5&&(l==="false"||l==="False"||l==="FALSE")}function o(l){return l==="true"||l==="True"||l==="TRUE"}function a(l){return Object.prototype.toString.call(l)==="[object Boolean]"}return bool$1=new n("tag:yaml.org,2002:bool",{kind:"scalar",resolve:e,construct:o,predicate:a,represent:{lowercase:function(l){return l?"true":"false"},uppercase:function(l){return l?"TRUE":"FALSE"},camelcase:function(l){return l?"True":"False"}},defaultStyle:"lowercase"}),bool$1}var int$1,hasRequiredInt;function requireInt(){if(hasRequiredInt)return int$1;hasRequiredInt=1;var n=requireCommon(),e=requireType();function o(p){return 48<=p&&p<=57||65<=p&&p<=70||97<=p&&p<=102}function a(p){return 48<=p&&p<=55}function l(p){return 48<=p&&p<=57}function u(p){if(p===null)return!1;var T=p.length,E=0,b=!1,m;if(!T)return!1;if(m=p[E],(m==="-"||m==="+")&&(m=p[++E]),m==="0"){if(E+1===T)return!0;if(m=p[++E],m==="b"){for(E++;E<T;E++)if(m=p[E],m!=="_"){if(m!=="0"&&m!=="1")return!1;b=!0}return b&&m!=="_"}if(m==="x"){for(E++;E<T;E++)if(m=p[E],m!=="_"){if(!o(p.charCodeAt(E)))return!1;b=!0}return b&&m!=="_"}for(;E<T;E++)if(m=p[E],m!=="_"){if(!a(p.charCodeAt(E)))return!1;b=!0}return b&&m!=="_"}if(m==="_")return!1;for(;E<T;E++)if(m=p[E],m!=="_"){if(m===":")break;if(!l(p.charCodeAt(E)))return!1;b=!0}return!b||m==="_"?!1:m!==":"?!0:/^(:[0-5]?[0-9])+$/.test(p.slice(E))}function c(p){var T=p,E=1,b,m,y=[];return T.indexOf("_")!==-1&&(T=T.replace(/_/g,"")),b=T[0],(b==="-"||b==="+")&&(b==="-"&&(E=-1),T=T.slice(1),b=T[0]),T==="0"?0:b==="0"?T[1]==="b"?E*parseInt(T.slice(2),2):T[1]==="x"?E*parseInt(T,16):E*parseInt(T,8):T.indexOf(":")!==-1?(T.split(":").forEach(function(S){y.unshift(parseInt(S,10))}),T=0,m=1,y.forEach(function(S){T+=S*m,m*=60}),E*T):E*parseInt(T,10)}function f(p){return Object.prototype.toString.call(p)==="[object Number]"&&p%1===0&&!n.isNegativeZero(p)}return int$1=new e("tag:yaml.org,2002:int",{kind:"scalar",resolve:u,construct:c,predicate:f,represent:{binary:function(p){return p>=0?"0b"+p.toString(2):"-0b"+p.toString(2).slice(1)},octal:function(p){return p>=0?"0"+p.toString(8):"-0"+p.toString(8).slice(1)},decimal:function(p){return p.toString(10)},hexadecimal:function(p){return p>=0?"0x"+p.toString(16).toUpperCase():"-0x"+p.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),int$1}var float$1,hasRequiredFloat;function requireFloat(){if(hasRequiredFloat)return float$1;hasRequiredFloat=1;var n=requireCommon(),e=requireType(),o=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function a(p){return!(p===null||!o.test(p)||p[p.length-1]==="_")}function l(p){var T,E,b,m;return T=p.replace(/_/g,"").toLowerCase(),E=T[0]==="-"?-1:1,m=[],"+-".indexOf(T[0])>=0&&(T=T.slice(1)),T===".inf"?E===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:T===".nan"?NaN:T.indexOf(":")>=0?(T.split(":").forEach(function(y){m.unshift(parseFloat(y,10))}),T=0,b=1,m.forEach(function(y){T+=y*b,b*=60}),E*T):E*parseFloat(T,10)}var u=/^[-+]?[0-9]+e/;function c(p,T){var E;if(isNaN(p))switch(T){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===p)switch(T){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===p)switch(T){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(n.isNegativeZero(p))return"-0.0";return E=p.toString(10),u.test(E)?E.replace("e",".e"):E}function f(p){return Object.prototype.toString.call(p)==="[object Number]"&&(p%1!==0||n.isNegativeZero(p))}return float$1=new e("tag:yaml.org,2002:float",{kind:"scalar",resolve:a,construct:l,predicate:f,represent:c,defaultStyle:"lowercase"}),float$1}var json$1,hasRequiredJson;function requireJson(){if(hasRequiredJson)return json$1;hasRequiredJson=1;var n=requireSchema();return json$1=new n({include:[requireFailsafe()],implicit:[require_null(),requireBool(),requireInt(),requireFloat()]}),json$1}var core$1,hasRequiredCore;function requireCore(){if(hasRequiredCore)return core$1;hasRequiredCore=1;var n=requireSchema();return core$1=new n({include:[requireJson()]}),core$1}var timestamp$1,hasRequiredTimestamp;function requireTimestamp(){if(hasRequiredTimestamp)return timestamp$1;hasRequiredTimestamp=1;var n=requireType(),e=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),o=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function a(c){return c===null?!1:e.exec(c)!==null||o.exec(c)!==null}function l(c){var f,p,T,E,b,m,y,S=0,v=null,A,w,R;if(f=e.exec(c),f===null&&(f=o.exec(c)),f===null)throw new Error("Date resolve error");if(p=+f[1],T=+f[2]-1,E=+f[3],!f[4])return new Date(Date.UTC(p,T,E));if(b=+f[4],m=+f[5],y=+f[6],f[7]){for(S=f[7].slice(0,3);S.length<3;)S+="0";S=+S}return f[9]&&(A=+f[10],w=+(f[11]||0),v=(A*60+w)*6e4,f[9]==="-"&&(v=-v)),R=new Date(Date.UTC(p,T,E,b,m,y,S)),v&&R.setTime(R.getTime()-v),R}function u(c){return c.toISOString()}return timestamp$1=new n("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:a,construct:l,instanceOf:Date,represent:u}),timestamp$1}var merge$3,hasRequiredMerge;function requireMerge(){if(hasRequiredMerge)return merge$3;hasRequiredMerge=1;var n=requireType();function e(o){return o==="<<"||o===null}return merge$3=new n("tag:yaml.org,2002:merge",{kind:"scalar",resolve:e}),merge$3}function commonjsRequire(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var binary$1,hasRequiredBinary;function requireBinary(){if(hasRequiredBinary)return binary$1;hasRequiredBinary=1;var n;try{var e=commonjsRequire;n=e("buffer").Buffer}catch{}var o=requireType(),a=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function l(p){if(p===null)return!1;var T,E,b=0,m=p.length,y=a;for(E=0;E<m;E++)if(T=y.indexOf(p.charAt(E)),!(T>64)){if(T<0)return!1;b+=6}return b%8===0}function u(p){var T,E,b=p.replace(/[\r\n=]/g,""),m=b.length,y=a,S=0,v=[];for(T=0;T<m;T++)T%4===0&&T&&(v.push(S>>16&255),v.push(S>>8&255),v.push(S&255)),S=S<<6|y.indexOf(b.charAt(T));return E=m%4*6,E===0?(v.push(S>>16&255),v.push(S>>8&255),v.push(S&255)):E===18?(v.push(S>>10&255),v.push(S>>2&255)):E===12&&v.push(S>>4&255),n?n.from?n.from(v):new n(v):v}function c(p){var T="",E=0,b,m,y=p.length,S=a;for(b=0;b<y;b++)b%3===0&&b&&(T+=S[E>>18&63],T+=S[E>>12&63],T+=S[E>>6&63],T+=S[E&63]),E=(E<<8)+p[b];return m=y%3,m===0?(T+=S[E>>18&63],T+=S[E>>12&63],T+=S[E>>6&63],T+=S[E&63]):m===2?(T+=S[E>>10&63],T+=S[E>>4&63],T+=S[E<<2&63],T+=S[64]):m===1&&(T+=S[E>>2&63],T+=S[E<<4&63],T+=S[64],T+=S[64]),T}function f(p){return n&&n.isBuffer(p)}return binary$1=new o("tag:yaml.org,2002:binary",{kind:"scalar",resolve:l,construct:u,predicate:f,represent:c}),binary$1}var omap$1,hasRequiredOmap;function requireOmap(){if(hasRequiredOmap)return omap$1;hasRequiredOmap=1;var n=requireType(),e=Object.prototype.hasOwnProperty,o=Object.prototype.toString;function a(u){if(u===null)return!0;var c=[],f,p,T,E,b,m=u;for(f=0,p=m.length;f<p;f+=1){if(T=m[f],b=!1,o.call(T)!=="[object Object]")return!1;for(E in T)if(e.call(T,E))if(!b)b=!0;else return!1;if(!b)return!1;if(c.indexOf(E)===-1)c.push(E);else return!1}return!0}function l(u){return u!==null?u:[]}return omap$1=new n("tag:yaml.org,2002:omap",{kind:"sequence",resolve:a,construct:l}),omap$1}var pairs$1,hasRequiredPairs;function requirePairs(){if(hasRequiredPairs)return pairs$1;hasRequiredPairs=1;var n=requireType(),e=Object.prototype.toString;function o(l){if(l===null)return!0;var u,c,f,p,T,E=l;for(T=new Array(E.length),u=0,c=E.length;u<c;u+=1){if(f=E[u],e.call(f)!=="[object Object]"||(p=Object.keys(f),p.length!==1))return!1;T[u]=[p[0],f[p[0]]]}return!0}function a(l){if(l===null)return[];var u,c,f,p,T,E=l;for(T=new Array(E.length),u=0,c=E.length;u<c;u+=1)f=E[u],p=Object.keys(f),T[u]=[p[0],f[p[0]]];return T}return pairs$1=new n("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:o,construct:a}),pairs$1}var set$1,hasRequiredSet;function requireSet(){if(hasRequiredSet)return set$1;hasRequiredSet=1;var n=requireType(),e=Object.prototype.hasOwnProperty;function o(l){if(l===null)return!0;var u,c=l;for(u in c)if(e.call(c,u)&&c[u]!==null)return!1;return!0}function a(l){return l!==null?l:{}}return set$1=new n("tag:yaml.org,2002:set",{kind:"mapping",resolve:o,construct:a}),set$1}var default_safe,hasRequiredDefault_safe;function requireDefault_safe(){if(hasRequiredDefault_safe)return default_safe;hasRequiredDefault_safe=1;var n=requireSchema();return default_safe=new n({include:[requireCore()],implicit:[requireTimestamp(),requireMerge()],explicit:[requireBinary(),requireOmap(),requirePairs(),requireSet()]}),default_safe}var _undefined,hasRequired_undefined;function require_undefined(){if(hasRequired_undefined)return _undefined;hasRequired_undefined=1;var n=requireType();function e(){return!0}function o(){}function a(){return""}function l(u){return typeof u>"u"}return _undefined=new n("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:e,construct:o,predicate:l,represent:a}),_undefined}var regexp,hasRequiredRegexp;function requireRegexp(){if(hasRequiredRegexp)return regexp;hasRequiredRegexp=1;var n=requireType();function e(u){if(u===null||u.length===0)return!1;var c=u,f=/\/([gim]*)$/.exec(u),p="";return!(c[0]==="/"&&(f&&(p=f[1]),p.length>3||c[c.length-p.length-1]!=="/"))}function o(u){var c=u,f=/\/([gim]*)$/.exec(u),p="";return c[0]==="/"&&(f&&(p=f[1]),c=c.slice(1,c.length-p.length-1)),new RegExp(c,p)}function a(u){var c="/"+u.source+"/";return u.global&&(c+="g"),u.multiline&&(c+="m"),u.ignoreCase&&(c+="i"),c}function l(u){return Object.prototype.toString.call(u)==="[object RegExp]"}return regexp=new n("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:e,construct:o,predicate:l,represent:a}),regexp}var _function,hasRequired_function;function require_function(){if(hasRequired_function)return _function;hasRequired_function=1;var n;try{var e=commonjsRequire;n=e("esprima")}catch{typeof window<"u"&&(n=window.esprima)}var o=requireType();function a(f){if(f===null)return!1;try{var p="("+f+")",T=n.parse(p,{range:!0});return!(T.type!=="Program"||T.body.length!==1||T.body[0].type!=="ExpressionStatement"||T.body[0].expression.type!=="ArrowFunctionExpression"&&T.body[0].expression.type!=="FunctionExpression")}catch{return!1}}function l(f){var p="("+f+")",T=n.parse(p,{range:!0}),E=[],b;if(T.type!=="Program"||T.body.length!==1||T.body[0].type!=="ExpressionStatement"||T.body[0].expression.type!=="ArrowFunctionExpression"&&T.body[0].expression.type!=="FunctionExpression")throw new Error("Failed to resolve function");return T.body[0].expression.params.forEach(function(m){E.push(m.name)}),b=T.body[0].expression.body.range,T.body[0].expression.body.type==="BlockStatement"?new Function(E,p.slice(b[0]+1,b[1]-1)):new Function(E,"return "+p.slice(b[0],b[1]))}function u(f){return f.toString()}function c(f){return Object.prototype.toString.call(f)==="[object Function]"}return _function=new o("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:a,construct:l,predicate:c,represent:u}),_function}var default_full,hasRequiredDefault_full;function requireDefault_full(){if(hasRequiredDefault_full)return default_full;hasRequiredDefault_full=1;var n=requireSchema();return default_full=n.DEFAULT=new n({include:[requireDefault_safe()],explicit:[require_undefined(),requireRegexp(),require_function()]}),default_full}var hasRequiredLoader;function requireLoader(){if(hasRequiredLoader)return loader;hasRequiredLoader=1;var n=requireCommon(),e=requireException(),o=requireMark(),a=requireDefault_safe(),l=requireDefault_full(),u=Object.prototype.hasOwnProperty,c=1,f=2,p=3,T=4,E=1,b=2,m=3,y=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,S=/[\x85\u2028\u2029]/,v=/[,\[\]\{\}]/,A=/^(?:!|!!|![a-z\-]+!)$/i,w=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function R(I){return Object.prototype.toString.call(I)}function P(I){return I===10||I===13}function F(I){return I===9||I===32}function B(I){return I===9||I===32||I===10||I===13}function G(I){return I===44||I===91||I===93||I===123||I===125}function K(I){var ne;return 48<=I&&I<=57?I-48:(ne=I|32,97<=ne&&ne<=102?ne-97+10:-1)}function le(I){return I===120?2:I===117?4:I===85?8:0}function V(I){return 48<=I&&I<=57?I-48:-1}function X(I){return I===48?"\0":I===97?"\x07":I===98?"\b":I===116||I===9?"	":I===110?`
`:I===118?"\v":I===102?"\f":I===114?"\r":I===101?"\x1B":I===32?" ":I===34?'"':I===47?"/":I===92?"\\":I===78?"":I===95?"":I===76?"\u2028":I===80?"\u2029":""}function W(I){return I<=65535?String.fromCharCode(I):String.fromCharCode((I-65536>>10)+55296,(I-65536&1023)+56320)}for(var H=new Array(256),te=new Array(256),L=0;L<256;L++)H[L]=X(L)?1:0,te[L]=X(L);function ue(I,ne){this.input=I,this.filename=ne.filename||null,this.schema=ne.schema||l,this.onWarning=ne.onWarning||null,this.legacy=ne.legacy||!1,this.json=ne.json||!1,this.listener=ne.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=I.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function Ce(I,ne){return new e(ne,new o(I.filename,I.input,I.position,I.line,I.position-I.lineStart))}function fe(I,ne){throw Ce(I,ne)}function ye(I,ne){I.onWarning&&I.onWarning.call(null,Ce(I,ne))}var he={YAML:function(ne,J,me){var pe,ke,D;ne.version!==null&&fe(ne,"duplication of %YAML directive"),me.length!==1&&fe(ne,"YAML directive accepts exactly one argument"),pe=/^([0-9]+)\.([0-9]+)$/.exec(me[0]),pe===null&&fe(ne,"ill-formed argument of the YAML directive"),ke=parseInt(pe[1],10),D=parseInt(pe[2],10),ke!==1&&fe(ne,"unacceptable YAML version of the document"),ne.version=me[0],ne.checkLineBreaks=D<2,D!==1&&D!==2&&ye(ne,"unsupported YAML version of the document")},TAG:function(ne,J,me){var pe,ke;me.length!==2&&fe(ne,"TAG directive accepts exactly two arguments"),pe=me[0],ke=me[1],A.test(pe)||fe(ne,"ill-formed tag handle (first argument) of the TAG directive"),u.call(ne.tagMap,pe)&&fe(ne,'there is a previously declared suffix for "'+pe+'" tag handle'),w.test(ke)||fe(ne,"ill-formed tag prefix (second argument) of the TAG directive"),ne.tagMap[pe]=ke}};function j(I,ne,J,me){var pe,ke,D,k;if(ne<J){if(k=I.input.slice(ne,J),me)for(pe=0,ke=k.length;pe<ke;pe+=1)D=k.charCodeAt(pe),D===9||32<=D&&D<=1114111||fe(I,"expected valid JSON character");else y.test(k)&&fe(I,"the stream contains non-printable characters");I.result+=k}}function Y(I,ne,J,me){var pe,ke,D,k;for(n.isObject(J)||fe(I,"cannot merge mappings; the provided source object is unacceptable"),pe=Object.keys(J),D=0,k=pe.length;D<k;D+=1)ke=pe[D],u.call(ne,ke)||(ne[ke]=J[ke],me[ke]=!0)}function Z(I,ne,J,me,pe,ke,D,k){var N,z;if(Array.isArray(pe))for(pe=Array.prototype.slice.call(pe),N=0,z=pe.length;N<z;N+=1)Array.isArray(pe[N])&&fe(I,"nested arrays are not supported inside keys"),typeof pe=="object"&&R(pe[N])==="[object Object]"&&(pe[N]="[object Object]");if(typeof pe=="object"&&R(pe)==="[object Object]"&&(pe="[object Object]"),pe=String(pe),ne===null&&(ne={}),me==="tag:yaml.org,2002:merge")if(Array.isArray(ke))for(N=0,z=ke.length;N<z;N+=1)Y(I,ne,ke[N],J);else Y(I,ne,ke,J);else!I.json&&!u.call(J,pe)&&u.call(ne,pe)&&(I.line=D||I.line,I.position=k||I.position,fe(I,"duplicated mapping key")),ne[pe]=ke,delete J[pe];return ne}function Q(I){var ne;ne=I.input.charCodeAt(I.position),ne===10?I.position++:ne===13?(I.position++,I.input.charCodeAt(I.position)===10&&I.position++):fe(I,"a line break is expected"),I.line+=1,I.lineStart=I.position}function be(I,ne,J){for(var me=0,pe=I.input.charCodeAt(I.position);pe!==0;){for(;F(pe);)pe=I.input.charCodeAt(++I.position);if(ne&&pe===35)do pe=I.input.charCodeAt(++I.position);while(pe!==10&&pe!==13&&pe!==0);if(P(pe))for(Q(I),pe=I.input.charCodeAt(I.position),me++,I.lineIndent=0;pe===32;)I.lineIndent++,pe=I.input.charCodeAt(++I.position);else break}return J!==-1&&me!==0&&I.lineIndent<J&&ye(I,"deficient indentation"),me}function we(I){var ne=I.position,J;return J=I.input.charCodeAt(ne),!!((J===45||J===46)&&J===I.input.charCodeAt(ne+1)&&J===I.input.charCodeAt(ne+2)&&(ne+=3,J=I.input.charCodeAt(ne),J===0||B(J)))}function Ue(I,ne){ne===1?I.result+=" ":ne>1&&(I.result+=n.repeat(`
`,ne-1))}function Ye(I,ne,J){var me,pe,ke,D,k,N,z,ee,ae=I.kind,de=I.result,ve;if(ve=I.input.charCodeAt(I.position),B(ve)||G(ve)||ve===35||ve===38||ve===42||ve===33||ve===124||ve===62||ve===39||ve===34||ve===37||ve===64||ve===96||(ve===63||ve===45)&&(pe=I.input.charCodeAt(I.position+1),B(pe)||J&&G(pe)))return!1;for(I.kind="scalar",I.result="",ke=D=I.position,k=!1;ve!==0;){if(ve===58){if(pe=I.input.charCodeAt(I.position+1),B(pe)||J&&G(pe))break}else if(ve===35){if(me=I.input.charCodeAt(I.position-1),B(me))break}else{if(I.position===I.lineStart&&we(I)||J&&G(ve))break;if(P(ve))if(N=I.line,z=I.lineStart,ee=I.lineIndent,be(I,!1,-1),I.lineIndent>=ne){k=!0,ve=I.input.charCodeAt(I.position);continue}else{I.position=D,I.line=N,I.lineStart=z,I.lineIndent=ee;break}}k&&(j(I,ke,D,!1),Ue(I,I.line-N),ke=D=I.position,k=!1),F(ve)||(D=I.position+1),ve=I.input.charCodeAt(++I.position)}return j(I,ke,D,!1),I.result?!0:(I.kind=ae,I.result=de,!1)}function He(I,ne){var J,me,pe;if(J=I.input.charCodeAt(I.position),J!==39)return!1;for(I.kind="scalar",I.result="",I.position++,me=pe=I.position;(J=I.input.charCodeAt(I.position))!==0;)if(J===39)if(j(I,me,I.position,!0),J=I.input.charCodeAt(++I.position),J===39)me=I.position,I.position++,pe=I.position;else return!0;else P(J)?(j(I,me,pe,!0),Ue(I,be(I,!1,ne)),me=pe=I.position):I.position===I.lineStart&&we(I)?fe(I,"unexpected end of the document within a single quoted scalar"):(I.position++,pe=I.position);fe(I,"unexpected end of the stream within a single quoted scalar")}function je(I,ne){var J,me,pe,ke,D,k;if(k=I.input.charCodeAt(I.position),k!==34)return!1;for(I.kind="scalar",I.result="",I.position++,J=me=I.position;(k=I.input.charCodeAt(I.position))!==0;){if(k===34)return j(I,J,I.position,!0),I.position++,!0;if(k===92){if(j(I,J,I.position,!0),k=I.input.charCodeAt(++I.position),P(k))be(I,!1,ne);else if(k<256&&H[k])I.result+=te[k],I.position++;else if((D=le(k))>0){for(pe=D,ke=0;pe>0;pe--)k=I.input.charCodeAt(++I.position),(D=K(k))>=0?ke=(ke<<4)+D:fe(I,"expected hexadecimal character");I.result+=W(ke),I.position++}else fe(I,"unknown escape sequence");J=me=I.position}else P(k)?(j(I,J,me,!0),Ue(I,be(I,!1,ne)),J=me=I.position):I.position===I.lineStart&&we(I)?fe(I,"unexpected end of the document within a double quoted scalar"):(I.position++,me=I.position)}fe(I,"unexpected end of the stream within a double quoted scalar")}function Xe(I,ne){var J=!0,me,pe=I.tag,ke,D=I.anchor,k,N,z,ee,ae,de={},ve,Pe,Ge,ze;if(ze=I.input.charCodeAt(I.position),ze===91)N=93,ae=!1,ke=[];else if(ze===123)N=125,ae=!0,ke={};else return!1;for(I.anchor!==null&&(I.anchorMap[I.anchor]=ke),ze=I.input.charCodeAt(++I.position);ze!==0;){if(be(I,!0,ne),ze=I.input.charCodeAt(I.position),ze===N)return I.position++,I.tag=pe,I.anchor=D,I.kind=ae?"mapping":"sequence",I.result=ke,!0;J||fe(I,"missed comma between flow collection entries"),Pe=ve=Ge=null,z=ee=!1,ze===63&&(k=I.input.charCodeAt(I.position+1),B(k)&&(z=ee=!0,I.position++,be(I,!0,ne))),me=I.line,se(I,ne,c,!1,!0),Pe=I.tag,ve=I.result,be(I,!0,ne),ze=I.input.charCodeAt(I.position),(ee||I.line===me)&&ze===58&&(z=!0,ze=I.input.charCodeAt(++I.position),be(I,!0,ne),se(I,ne,c,!1,!0),Ge=I.result),ae?Z(I,ke,de,Pe,ve,Ge):z?ke.push(Z(I,null,de,Pe,ve,Ge)):ke.push(ve),be(I,!0,ne),ze=I.input.charCodeAt(I.position),ze===44?(J=!0,ze=I.input.charCodeAt(++I.position)):J=!1}fe(I,"unexpected end of the stream within a flow collection")}function et(I,ne){var J,me,pe=E,ke=!1,D=!1,k=ne,N=0,z=!1,ee,ae;if(ae=I.input.charCodeAt(I.position),ae===124)me=!1;else if(ae===62)me=!0;else return!1;for(I.kind="scalar",I.result="";ae!==0;)if(ae=I.input.charCodeAt(++I.position),ae===43||ae===45)E===pe?pe=ae===43?m:b:fe(I,"repeat of a chomping mode identifier");else if((ee=V(ae))>=0)ee===0?fe(I,"bad explicit indentation width of a block scalar; it cannot be less than one"):D?fe(I,"repeat of an indentation width identifier"):(k=ne+ee-1,D=!0);else break;if(F(ae)){do ae=I.input.charCodeAt(++I.position);while(F(ae));if(ae===35)do ae=I.input.charCodeAt(++I.position);while(!P(ae)&&ae!==0)}for(;ae!==0;){for(Q(I),I.lineIndent=0,ae=I.input.charCodeAt(I.position);(!D||I.lineIndent<k)&&ae===32;)I.lineIndent++,ae=I.input.charCodeAt(++I.position);if(!D&&I.lineIndent>k&&(k=I.lineIndent),P(ae)){N++;continue}if(I.lineIndent<k){pe===m?I.result+=n.repeat(`
`,ke?1+N:N):pe===E&&ke&&(I.result+=`
`);break}for(me?F(ae)?(z=!0,I.result+=n.repeat(`
`,ke?1+N:N)):z?(z=!1,I.result+=n.repeat(`
`,N+1)):N===0?ke&&(I.result+=" "):I.result+=n.repeat(`
`,N):I.result+=n.repeat(`
`,ke?1+N:N),ke=!0,D=!0,N=0,J=I.position;!P(ae)&&ae!==0;)ae=I.input.charCodeAt(++I.position);j(I,J,I.position,!1)}return!0}function it(I,ne){var J,me=I.tag,pe=I.anchor,ke=[],D,k=!1,N;for(I.anchor!==null&&(I.anchorMap[I.anchor]=ke),N=I.input.charCodeAt(I.position);N!==0&&!(N!==45||(D=I.input.charCodeAt(I.position+1),!B(D)));){if(k=!0,I.position++,be(I,!0,-1)&&I.lineIndent<=ne){ke.push(null),N=I.input.charCodeAt(I.position);continue}if(J=I.line,se(I,ne,p,!1,!0),ke.push(I.result),be(I,!0,-1),N=I.input.charCodeAt(I.position),(I.line===J||I.lineIndent>ne)&&N!==0)fe(I,"bad indentation of a sequence entry");else if(I.lineIndent<ne)break}return k?(I.tag=me,I.anchor=pe,I.kind="sequence",I.result=ke,!0):!1}function ct(I,ne,J){var me,pe,ke,D,k=I.tag,N=I.anchor,z={},ee={},ae=null,de=null,ve=null,Pe=!1,Ge=!1,ze;for(I.anchor!==null&&(I.anchorMap[I.anchor]=z),ze=I.input.charCodeAt(I.position);ze!==0;){if(me=I.input.charCodeAt(I.position+1),ke=I.line,D=I.position,(ze===63||ze===58)&&B(me))ze===63?(Pe&&(Z(I,z,ee,ae,de,null),ae=de=ve=null),Ge=!0,Pe=!0,pe=!0):Pe?(Pe=!1,pe=!0):fe(I,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),I.position+=1,ze=me;else if(se(I,J,f,!1,!0))if(I.line===ke){for(ze=I.input.charCodeAt(I.position);F(ze);)ze=I.input.charCodeAt(++I.position);if(ze===58)ze=I.input.charCodeAt(++I.position),B(ze)||fe(I,"a whitespace character is expected after the key-value separator within a block mapping"),Pe&&(Z(I,z,ee,ae,de,null),ae=de=ve=null),Ge=!0,Pe=!1,pe=!1,ae=I.tag,de=I.result;else if(Ge)fe(I,"can not read an implicit mapping pair; a colon is missed");else return I.tag=k,I.anchor=N,!0}else if(Ge)fe(I,"can not read a block mapping entry; a multiline key may not be an implicit key");else return I.tag=k,I.anchor=N,!0;else break;if((I.line===ke||I.lineIndent>ne)&&(se(I,ne,T,!0,pe)&&(Pe?de=I.result:ve=I.result),Pe||(Z(I,z,ee,ae,de,ve,ke,D),ae=de=ve=null),be(I,!0,-1),ze=I.input.charCodeAt(I.position)),I.lineIndent>ne&&ze!==0)fe(I,"bad indentation of a mapping entry");else if(I.lineIndent<ne)break}return Pe&&Z(I,z,ee,ae,de,null),Ge&&(I.tag=k,I.anchor=N,I.kind="mapping",I.result=z),Ge}function U(I){var ne,J=!1,me=!1,pe,ke,D;if(D=I.input.charCodeAt(I.position),D!==33)return!1;if(I.tag!==null&&fe(I,"duplication of a tag property"),D=I.input.charCodeAt(++I.position),D===60?(J=!0,D=I.input.charCodeAt(++I.position)):D===33?(me=!0,pe="!!",D=I.input.charCodeAt(++I.position)):pe="!",ne=I.position,J){do D=I.input.charCodeAt(++I.position);while(D!==0&&D!==62);I.position<I.length?(ke=I.input.slice(ne,I.position),D=I.input.charCodeAt(++I.position)):fe(I,"unexpected end of the stream within a verbatim tag")}else{for(;D!==0&&!B(D);)D===33&&(me?fe(I,"tag suffix cannot contain exclamation marks"):(pe=I.input.slice(ne-1,I.position+1),A.test(pe)||fe(I,"named tag handle cannot contain such characters"),me=!0,ne=I.position+1)),D=I.input.charCodeAt(++I.position);ke=I.input.slice(ne,I.position),v.test(ke)&&fe(I,"tag suffix cannot contain flow indicator characters")}return ke&&!w.test(ke)&&fe(I,"tag name cannot contain such characters: "+ke),J?I.tag=ke:u.call(I.tagMap,pe)?I.tag=I.tagMap[pe]+ke:pe==="!"?I.tag="!"+ke:pe==="!!"?I.tag="tag:yaml.org,2002:"+ke:fe(I,'undeclared tag handle "'+pe+'"'),!0}function De(I){var ne,J;if(J=I.input.charCodeAt(I.position),J!==38)return!1;for(I.anchor!==null&&fe(I,"duplication of an anchor property"),J=I.input.charCodeAt(++I.position),ne=I.position;J!==0&&!B(J)&&!G(J);)J=I.input.charCodeAt(++I.position);return I.position===ne&&fe(I,"name of an anchor node must contain at least one character"),I.anchor=I.input.slice(ne,I.position),!0}function Ae(I){var ne,J,me;if(me=I.input.charCodeAt(I.position),me!==42)return!1;for(me=I.input.charCodeAt(++I.position),ne=I.position;me!==0&&!B(me)&&!G(me);)me=I.input.charCodeAt(++I.position);return I.position===ne&&fe(I,"name of an alias node must contain at least one character"),J=I.input.slice(ne,I.position),u.call(I.anchorMap,J)||fe(I,'unidentified alias "'+J+'"'),I.result=I.anchorMap[J],be(I,!0,-1),!0}function se(I,ne,J,me,pe){var ke,D,k,N=1,z=!1,ee=!1,ae,de,ve,Pe,Ge;if(I.listener!==null&&I.listener("open",I),I.tag=null,I.anchor=null,I.kind=null,I.result=null,ke=D=k=T===J||p===J,me&&be(I,!0,-1)&&(z=!0,I.lineIndent>ne?N=1:I.lineIndent===ne?N=0:I.lineIndent<ne&&(N=-1)),N===1)for(;U(I)||De(I);)be(I,!0,-1)?(z=!0,k=ke,I.lineIndent>ne?N=1:I.lineIndent===ne?N=0:I.lineIndent<ne&&(N=-1)):k=!1;if(k&&(k=z||pe),(N===1||T===J)&&(c===J||f===J?Pe=ne:Pe=ne+1,Ge=I.position-I.lineStart,N===1?k&&(it(I,Ge)||ct(I,Ge,Pe))||Xe(I,Pe)?ee=!0:(D&&et(I,Pe)||He(I,Pe)||je(I,Pe)?ee=!0:Ae(I)?(ee=!0,(I.tag!==null||I.anchor!==null)&&fe(I,"alias node should not have any properties")):Ye(I,Pe,c===J)&&(ee=!0,I.tag===null&&(I.tag="?")),I.anchor!==null&&(I.anchorMap[I.anchor]=I.result)):N===0&&(ee=k&&it(I,Ge))),I.tag!==null&&I.tag!=="!")if(I.tag==="?"){for(I.result!==null&&I.kind!=="scalar"&&fe(I,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+I.kind+'"'),ae=0,de=I.implicitTypes.length;ae<de;ae+=1)if(ve=I.implicitTypes[ae],ve.resolve(I.result)){I.result=ve.construct(I.result),I.tag=ve.tag,I.anchor!==null&&(I.anchorMap[I.anchor]=I.result);break}}else u.call(I.typeMap[I.kind||"fallback"],I.tag)?(ve=I.typeMap[I.kind||"fallback"][I.tag],I.result!==null&&ve.kind!==I.kind&&fe(I,"unacceptable node kind for !<"+I.tag+'> tag; it should be "'+ve.kind+'", not "'+I.kind+'"'),ve.resolve(I.result)?(I.result=ve.construct(I.result),I.anchor!==null&&(I.anchorMap[I.anchor]=I.result)):fe(I,"cannot resolve a node with !<"+I.tag+"> explicit tag")):fe(I,"unknown tag !<"+I.tag+">");return I.listener!==null&&I.listener("close",I),I.tag!==null||I.anchor!==null||ee}function oe(I){var ne=I.position,J,me,pe,ke=!1,D;for(I.version=null,I.checkLineBreaks=I.legacy,I.tagMap={},I.anchorMap={};(D=I.input.charCodeAt(I.position))!==0&&(be(I,!0,-1),D=I.input.charCodeAt(I.position),!(I.lineIndent>0||D!==37));){for(ke=!0,D=I.input.charCodeAt(++I.position),J=I.position;D!==0&&!B(D);)D=I.input.charCodeAt(++I.position);for(me=I.input.slice(J,I.position),pe=[],me.length<1&&fe(I,"directive name must not be less than one character in length");D!==0;){for(;F(D);)D=I.input.charCodeAt(++I.position);if(D===35){do D=I.input.charCodeAt(++I.position);while(D!==0&&!P(D));break}if(P(D))break;for(J=I.position;D!==0&&!B(D);)D=I.input.charCodeAt(++I.position);pe.push(I.input.slice(J,I.position))}D!==0&&Q(I),u.call(he,me)?he[me](I,me,pe):ye(I,'unknown document directive "'+me+'"')}if(be(I,!0,-1),I.lineIndent===0&&I.input.charCodeAt(I.position)===45&&I.input.charCodeAt(I.position+1)===45&&I.input.charCodeAt(I.position+2)===45?(I.position+=3,be(I,!0,-1)):ke&&fe(I,"directives end mark is expected"),se(I,I.lineIndent-1,T,!1,!0),be(I,!0,-1),I.checkLineBreaks&&S.test(I.input.slice(ne,I.position))&&ye(I,"non-ASCII line breaks are interpreted as content"),I.documents.push(I.result),I.position===I.lineStart&&we(I)){I.input.charCodeAt(I.position)===46&&(I.position+=3,be(I,!0,-1));return}if(I.position<I.length-1)fe(I,"end of the stream or a document separator is expected");else return}function Ee(I,ne){I=String(I),ne=ne||{},I.length!==0&&(I.charCodeAt(I.length-1)!==10&&I.charCodeAt(I.length-1)!==13&&(I+=`
`),I.charCodeAt(0)===65279&&(I=I.slice(1)));var J=new ue(I,ne),me=I.indexOf("\0");for(me!==-1&&(J.position=me,fe(J,"null byte is not allowed in input")),J.input+="\0";J.input.charCodeAt(J.position)===32;)J.lineIndent+=1,J.position+=1;for(;J.position<J.length-1;)oe(J);return J.documents}function Oe(I,ne,J){ne!==null&&typeof ne=="object"&&typeof J>"u"&&(J=ne,ne=null);var me=Ee(I,J);if(typeof ne!="function")return me;for(var pe=0,ke=me.length;pe<ke;pe+=1)ne(me[pe])}function Re(I,ne){var J=Ee(I,ne);if(J.length!==0){if(J.length===1)return J[0];throw new e("expected a single document in the stream, but found more")}}function xe(I,ne,J){return typeof ne=="object"&&ne!==null&&typeof J>"u"&&(J=ne,ne=null),Oe(I,ne,n.extend({schema:a},J))}function Fe(I,ne){return Re(I,n.extend({schema:a},ne))}return loader.loadAll=Oe,loader.load=Re,loader.safeLoadAll=xe,loader.safeLoad=Fe,loader}var dumper$1={},hasRequiredDumper;function requireDumper(){if(hasRequiredDumper)return dumper$1;hasRequiredDumper=1;var n=requireCommon(),e=requireException(),o=requireDefault_full(),a=requireDefault_safe(),l=Object.prototype.toString,u=Object.prototype.hasOwnProperty,c=9,f=10,p=13,T=32,E=33,b=34,m=35,y=37,S=38,v=39,A=42,w=44,R=45,P=58,F=61,B=62,G=63,K=64,le=91,V=93,X=96,W=123,H=124,te=125,L={};L[0]="\\0",L[7]="\\a",L[8]="\\b",L[9]="\\t",L[10]="\\n",L[11]="\\v",L[12]="\\f",L[13]="\\r",L[27]="\\e",L[34]='\\"',L[92]="\\\\",L[133]="\\N",L[160]="\\_",L[8232]="\\L",L[8233]="\\P";var ue=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function Ce(D,k){var N,z,ee,ae,de,ve,Pe;if(k===null)return{};for(N={},z=Object.keys(k),ee=0,ae=z.length;ee<ae;ee+=1)de=z[ee],ve=String(k[de]),de.slice(0,2)==="!!"&&(de="tag:yaml.org,2002:"+de.slice(2)),Pe=D.compiledTypeMap.fallback[de],Pe&&u.call(Pe.styleAliases,ve)&&(ve=Pe.styleAliases[ve]),N[de]=ve;return N}function fe(D){var k,N,z;if(k=D.toString(16).toUpperCase(),D<=255)N="x",z=2;else if(D<=65535)N="u",z=4;else if(D<=4294967295)N="U",z=8;else throw new e("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+N+n.repeat("0",z-k.length)+k}function ye(D){this.schema=D.schema||o,this.indent=Math.max(1,D.indent||2),this.noArrayIndent=D.noArrayIndent||!1,this.skipInvalid=D.skipInvalid||!1,this.flowLevel=n.isNothing(D.flowLevel)?-1:D.flowLevel,this.styleMap=Ce(this.schema,D.styles||null),this.sortKeys=D.sortKeys||!1,this.lineWidth=D.lineWidth||80,this.noRefs=D.noRefs||!1,this.noCompatMode=D.noCompatMode||!1,this.condenseFlow=D.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function he(D,k){for(var N=n.repeat(" ",k),z=0,ee=-1,ae="",de,ve=D.length;z<ve;)ee=D.indexOf(`
`,z),ee===-1?(de=D.slice(z),z=ve):(de=D.slice(z,ee+1),z=ee+1),de.length&&de!==`
`&&(ae+=N),ae+=de;return ae}function j(D,k){return`
`+n.repeat(" ",D.indent*k)}function Y(D,k){var N,z,ee;for(N=0,z=D.implicitTypes.length;N<z;N+=1)if(ee=D.implicitTypes[N],ee.resolve(k))return!0;return!1}function Z(D){return D===T||D===c}function Q(D){return 32<=D&&D<=126||161<=D&&D<=55295&&D!==8232&&D!==8233||57344<=D&&D<=65533&&D!==65279||65536<=D&&D<=1114111}function be(D){return Q(D)&&!Z(D)&&D!==65279&&D!==p&&D!==f}function we(D,k){return Q(D)&&D!==65279&&D!==w&&D!==le&&D!==V&&D!==W&&D!==te&&D!==P&&(D!==m||k&&be(k))}function Ue(D){return Q(D)&&D!==65279&&!Z(D)&&D!==R&&D!==G&&D!==P&&D!==w&&D!==le&&D!==V&&D!==W&&D!==te&&D!==m&&D!==S&&D!==A&&D!==E&&D!==H&&D!==F&&D!==B&&D!==v&&D!==b&&D!==y&&D!==K&&D!==X}function Ye(D){var k=/^\n* /;return k.test(D)}var He=1,je=2,Xe=3,et=4,it=5;function ct(D,k,N,z,ee){var ae,de,ve,Pe=!1,Ge=!1,ze=z!==-1,tt=-1,lt=Ue(D.charCodeAt(0))&&!Z(D.charCodeAt(D.length-1));if(k)for(ae=0;ae<D.length;ae++){if(de=D.charCodeAt(ae),!Q(de))return it;ve=ae>0?D.charCodeAt(ae-1):null,lt=lt&&we(de,ve)}else{for(ae=0;ae<D.length;ae++){if(de=D.charCodeAt(ae),de===f)Pe=!0,ze&&(Ge=Ge||ae-tt-1>z&&D[tt+1]!==" ",tt=ae);else if(!Q(de))return it;ve=ae>0?D.charCodeAt(ae-1):null,lt=lt&&we(de,ve)}Ge=Ge||ze&&ae-tt-1>z&&D[tt+1]!==" "}return!Pe&&!Ge?lt&&!ee(D)?He:je:N>9&&Ye(D)?it:Ge?et:Xe}function U(D,k,N,z){D.dump=function(){if(k.length===0)return"''";if(!D.noCompatMode&&ue.indexOf(k)!==-1)return"'"+k+"'";var ee=D.indent*Math.max(1,N),ae=D.lineWidth===-1?-1:Math.max(Math.min(D.lineWidth,40),D.lineWidth-ee),de=z||D.flowLevel>-1&&N>=D.flowLevel;function ve(Pe){return Y(D,Pe)}switch(ct(k,de,D.indent,ae,ve)){case He:return k;case je:return"'"+k.replace(/'/g,"''")+"'";case Xe:return"|"+De(k,D.indent)+Ae(he(k,ee));case et:return">"+De(k,D.indent)+Ae(he(se(k,ae),ee));case it:return'"'+Ee(k)+'"';default:throw new e("impossible error: invalid scalar style")}}()}function De(D,k){var N=Ye(D)?String(k):"",z=D[D.length-1]===`
`,ee=z&&(D[D.length-2]===`
`||D===`
`),ae=ee?"+":z?"":"-";return N+ae+`
`}function Ae(D){return D[D.length-1]===`
`?D.slice(0,-1):D}function se(D,k){for(var N=/(\n+)([^\n]*)/g,z=function(){var Ge=D.indexOf(`
`);return Ge=Ge!==-1?Ge:D.length,N.lastIndex=Ge,oe(D.slice(0,Ge),k)}(),ee=D[0]===`
`||D[0]===" ",ae,de;de=N.exec(D);){var ve=de[1],Pe=de[2];ae=Pe[0]===" ",z+=ve+(!ee&&!ae&&Pe!==""?`
`:"")+oe(Pe,k),ee=ae}return z}function oe(D,k){if(D===""||D[0]===" ")return D;for(var N=/ [^ ]/g,z,ee=0,ae,de=0,ve=0,Pe="";z=N.exec(D);)ve=z.index,ve-ee>k&&(ae=de>ee?de:ve,Pe+=`
`+D.slice(ee,ae),ee=ae+1),de=ve;return Pe+=`
`,D.length-ee>k&&de>ee?Pe+=D.slice(ee,de)+`
`+D.slice(de+1):Pe+=D.slice(ee),Pe.slice(1)}function Ee(D){for(var k="",N,z,ee,ae=0;ae<D.length;ae++){if(N=D.charCodeAt(ae),N>=55296&&N<=56319&&(z=D.charCodeAt(ae+1),z>=56320&&z<=57343)){k+=fe((N-55296)*1024+z-56320+65536),ae++;continue}ee=L[N],k+=!ee&&Q(N)?D[ae]:ee||fe(N)}return k}function Oe(D,k,N){var z="",ee=D.tag,ae,de;for(ae=0,de=N.length;ae<de;ae+=1)ne(D,k,N[ae],!1,!1)&&(ae!==0&&(z+=","+(D.condenseFlow?"":" ")),z+=D.dump);D.tag=ee,D.dump="["+z+"]"}function Re(D,k,N,z){var ee="",ae=D.tag,de,ve;for(de=0,ve=N.length;de<ve;de+=1)ne(D,k+1,N[de],!0,!0)&&((!z||de!==0)&&(ee+=j(D,k)),D.dump&&f===D.dump.charCodeAt(0)?ee+="-":ee+="- ",ee+=D.dump);D.tag=ae,D.dump=ee||"[]"}function xe(D,k,N){var z="",ee=D.tag,ae=Object.keys(N),de,ve,Pe,Ge,ze;for(de=0,ve=ae.length;de<ve;de+=1)ze="",de!==0&&(ze+=", "),D.condenseFlow&&(ze+='"'),Pe=ae[de],Ge=N[Pe],ne(D,k,Pe,!1,!1)&&(D.dump.length>1024&&(ze+="? "),ze+=D.dump+(D.condenseFlow?'"':"")+":"+(D.condenseFlow?"":" "),ne(D,k,Ge,!1,!1)&&(ze+=D.dump,z+=ze));D.tag=ee,D.dump="{"+z+"}"}function Fe(D,k,N,z){var ee="",ae=D.tag,de=Object.keys(N),ve,Pe,Ge,ze,tt,lt;if(D.sortKeys===!0)de.sort();else if(typeof D.sortKeys=="function")de.sort(D.sortKeys);else if(D.sortKeys)throw new e("sortKeys must be a boolean or a function");for(ve=0,Pe=de.length;ve<Pe;ve+=1)lt="",(!z||ve!==0)&&(lt+=j(D,k)),Ge=de[ve],ze=N[Ge],ne(D,k+1,Ge,!0,!0,!0)&&(tt=D.tag!==null&&D.tag!=="?"||D.dump&&D.dump.length>1024,tt&&(D.dump&&f===D.dump.charCodeAt(0)?lt+="?":lt+="? "),lt+=D.dump,tt&&(lt+=j(D,k)),ne(D,k+1,ze,!0,tt)&&(D.dump&&f===D.dump.charCodeAt(0)?lt+=":":lt+=": ",lt+=D.dump,ee+=lt));D.tag=ae,D.dump=ee||"{}"}function I(D,k,N){var z,ee,ae,de,ve,Pe;for(ee=N?D.explicitTypes:D.implicitTypes,ae=0,de=ee.length;ae<de;ae+=1)if(ve=ee[ae],(ve.instanceOf||ve.predicate)&&(!ve.instanceOf||typeof k=="object"&&k instanceof ve.instanceOf)&&(!ve.predicate||ve.predicate(k))){if(D.tag=N?ve.tag:"?",ve.represent){if(Pe=D.styleMap[ve.tag]||ve.defaultStyle,l.call(ve.represent)==="[object Function]")z=ve.represent(k,Pe);else if(u.call(ve.represent,Pe))z=ve.represent[Pe](k,Pe);else throw new e("!<"+ve.tag+'> tag resolver accepts not "'+Pe+'" style');D.dump=z}return!0}return!1}function ne(D,k,N,z,ee,ae){D.tag=null,D.dump=N,I(D,N,!1)||I(D,N,!0);var de=l.call(D.dump);z&&(z=D.flowLevel<0||D.flowLevel>k);var ve=de==="[object Object]"||de==="[object Array]",Pe,Ge;if(ve&&(Pe=D.duplicates.indexOf(N),Ge=Pe!==-1),(D.tag!==null&&D.tag!=="?"||Ge||D.indent!==2&&k>0)&&(ee=!1),Ge&&D.usedDuplicates[Pe])D.dump="*ref_"+Pe;else{if(ve&&Ge&&!D.usedDuplicates[Pe]&&(D.usedDuplicates[Pe]=!0),de==="[object Object]")z&&Object.keys(D.dump).length!==0?(Fe(D,k,D.dump,ee),Ge&&(D.dump="&ref_"+Pe+D.dump)):(xe(D,k,D.dump),Ge&&(D.dump="&ref_"+Pe+" "+D.dump));else if(de==="[object Array]"){var ze=D.noArrayIndent&&k>0?k-1:k;z&&D.dump.length!==0?(Re(D,ze,D.dump,ee),Ge&&(D.dump="&ref_"+Pe+D.dump)):(Oe(D,ze,D.dump),Ge&&(D.dump="&ref_"+Pe+" "+D.dump))}else if(de==="[object String]")D.tag!=="?"&&U(D,D.dump,k,ae);else{if(D.skipInvalid)return!1;throw new e("unacceptable kind of an object to dump "+de)}D.tag!==null&&D.tag!=="?"&&(D.dump="!<"+D.tag+"> "+D.dump)}return!0}function J(D,k){var N=[],z=[],ee,ae;for(me(D,N,z),ee=0,ae=z.length;ee<ae;ee+=1)k.duplicates.push(N[z[ee]]);k.usedDuplicates=new Array(ae)}function me(D,k,N){var z,ee,ae;if(D!==null&&typeof D=="object")if(ee=k.indexOf(D),ee!==-1)N.indexOf(ee)===-1&&N.push(ee);else if(k.push(D),Array.isArray(D))for(ee=0,ae=D.length;ee<ae;ee+=1)me(D[ee],k,N);else for(z=Object.keys(D),ee=0,ae=z.length;ee<ae;ee+=1)me(D[z[ee]],k,N)}function pe(D,k){k=k||{};var N=new ye(k);return N.noRefs||J(D,N),ne(N,0,D,!0,!0)?N.dump+`
`:""}function ke(D,k){return pe(D,n.extend({schema:a},k))}return dumper$1.dump=pe,dumper$1.safeDump=ke,dumper$1}var hasRequiredJsYaml$1;function requireJsYaml$1(){if(hasRequiredJsYaml$1)return jsYaml$1;hasRequiredJsYaml$1=1;var n=requireLoader(),e=requireDumper();function o(a){return function(){throw new Error("Function "+a+" is deprecated and cannot be used.")}}return jsYaml$1.Type=requireType(),jsYaml$1.Schema=requireSchema(),jsYaml$1.FAILSAFE_SCHEMA=requireFailsafe(),jsYaml$1.JSON_SCHEMA=requireJson(),jsYaml$1.CORE_SCHEMA=requireCore(),jsYaml$1.DEFAULT_SAFE_SCHEMA=requireDefault_safe(),jsYaml$1.DEFAULT_FULL_SCHEMA=requireDefault_full(),jsYaml$1.load=n.load,jsYaml$1.loadAll=n.loadAll,jsYaml$1.safeLoad=n.safeLoad,jsYaml$1.safeLoadAll=n.safeLoadAll,jsYaml$1.dump=e.dump,jsYaml$1.safeDump=e.safeDump,jsYaml$1.YAMLException=requireException(),jsYaml$1.MINIMAL_SCHEMA=requireFailsafe(),jsYaml$1.SAFE_SCHEMA=requireDefault_safe(),jsYaml$1.DEFAULT_SCHEMA=requireDefault_full(),jsYaml$1.scan=o("scan"),jsYaml$1.parse=o("parse"),jsYaml$1.compose=o("compose"),jsYaml$1.addConstructor=o("addConstructor"),jsYaml$1}var jsYaml,hasRequiredJsYaml;function requireJsYaml(){if(hasRequiredJsYaml)return jsYaml;hasRequiredJsYaml=1;var n=requireJsYaml$1();return jsYaml=n,jsYaml}var hasRequiredEngines;function requireEngines(){return hasRequiredEngines||(hasRequiredEngines=1,function(module,exports){const yaml=requireJsYaml(),engines=module.exports;engines.yaml={parse:yaml.safeLoad.bind(yaml),stringify:yaml.safeDump.bind(yaml)},engines.json={parse:JSON.parse.bind(JSON),stringify:function(n,e){const o=Object.assign({replacer:null,space:2},e);return JSON.stringify(n,o.replacer,o.space)}},engines.javascript={parse:function parse(str,options,wrap){try{return wrap!==!1&&(str=`(function() {
return `+str.trim()+`;
}());`),eval(str)||{}}catch(n){if(wrap!==!1&&/(unexpected|identifier)/i.test(n.message))return parse(str,options,!1);throw new SyntaxError(n)}},stringify:function(){throw new Error("stringifying JavaScript is not supported")}}}(engines)),engines.exports}var buffer={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code$2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$2=0,len=code$2.length;i$2<len;++i$2)lookup[i$2]=code$2[i$2],revLookup[code$2.charCodeAt(i$2)]=i$2;revLookup[45]=62;revLookup[95]=63;function getLens(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var o=n.indexOf("=");o===-1&&(o=e);var a=o===e?0:4-o%4;return[o,a]}function byteLength(n){var e=getLens(n),o=e[0],a=e[1];return(o+a)*3/4-a}function _byteLength(n,e,o){return(e+o)*3/4-o}function toByteArray(n){var e,o=getLens(n),a=o[0],l=o[1],u=new Arr(_byteLength(n,a,l)),c=0,f=l>0?a-4:a,p;for(p=0;p<f;p+=4)e=revLookup[n.charCodeAt(p)]<<18|revLookup[n.charCodeAt(p+1)]<<12|revLookup[n.charCodeAt(p+2)]<<6|revLookup[n.charCodeAt(p+3)],u[c++]=e>>16&255,u[c++]=e>>8&255,u[c++]=e&255;return l===2&&(e=revLookup[n.charCodeAt(p)]<<2|revLookup[n.charCodeAt(p+1)]>>4,u[c++]=e&255),l===1&&(e=revLookup[n.charCodeAt(p)]<<10|revLookup[n.charCodeAt(p+1)]<<4|revLookup[n.charCodeAt(p+2)]>>2,u[c++]=e>>8&255,u[c++]=e&255),u}function tripletToBase64(n){return lookup[n>>18&63]+lookup[n>>12&63]+lookup[n>>6&63]+lookup[n&63]}function encodeChunk(n,e,o){for(var a,l=[],u=e;u<o;u+=3)a=(n[u]<<16&16711680)+(n[u+1]<<8&65280)+(n[u+2]&255),l.push(tripletToBase64(a));return l.join("")}function fromByteArray(n){for(var e,o=n.length,a=o%3,l=[],u=16383,c=0,f=o-a;c<f;c+=u)l.push(encodeChunk(n,c,c+u>f?f:c+u));return a===1?(e=n[o-1],l.push(lookup[e>>2]+lookup[e<<4&63]+"==")):a===2&&(e=(n[o-2]<<8)+n[o-1],l.push(lookup[e>>10]+lookup[e>>4&63]+lookup[e<<2&63]+"=")),l.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(n,e,o,a,l){var u,c,f=l*8-a-1,p=(1<<f)-1,T=p>>1,E=-7,b=o?l-1:0,m=o?-1:1,y=n[e+b];for(b+=m,u=y&(1<<-E)-1,y>>=-E,E+=f;E>0;u=u*256+n[e+b],b+=m,E-=8);for(c=u&(1<<-E)-1,u>>=-E,E+=a;E>0;c=c*256+n[e+b],b+=m,E-=8);if(u===0)u=1-T;else{if(u===p)return c?NaN:(y?-1:1)*(1/0);c=c+Math.pow(2,a),u=u-T}return(y?-1:1)*c*Math.pow(2,u-a)};ieee754.write=function(n,e,o,a,l,u){var c,f,p,T=u*8-l-1,E=(1<<T)-1,b=E>>1,m=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=a?0:u-1,S=a?1:-1,v=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(f=isNaN(e)?1:0,c=E):(c=Math.floor(Math.log(e)/Math.LN2),e*(p=Math.pow(2,-c))<1&&(c--,p*=2),c+b>=1?e+=m/p:e+=m*Math.pow(2,1-b),e*p>=2&&(c++,p/=2),c+b>=E?(f=0,c=E):c+b>=1?(f=(e*p-1)*Math.pow(2,l),c=c+b):(f=e*Math.pow(2,b-1)*Math.pow(2,l),c=0));l>=8;n[o+y]=f&255,y+=S,f/=256,l-=8);for(c=c<<l|f,T+=l;T>0;n[o+y]=c&255,y+=S,c/=256,T-=8);n[o+y-S]|=v*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const e=base64Js,o=ieee754,a=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=E,n.SlowBuffer=B,n.INSPECT_MAX_BYTES=50;const l=2147483647;n.kMaxLength=l;const{Uint8Array:u,ArrayBuffer:c,SharedArrayBuffer:f}=globalThis;E.TYPED_ARRAY_SUPPORT=p(),!E.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function p(){try{const D=new u(1),k={foo:function(){return 42}};return Object.setPrototypeOf(k,u.prototype),Object.setPrototypeOf(D,k),D.foo()===42}catch{return!1}}Object.defineProperty(E.prototype,"parent",{enumerable:!0,get:function(){if(E.isBuffer(this))return this.buffer}}),Object.defineProperty(E.prototype,"offset",{enumerable:!0,get:function(){if(E.isBuffer(this))return this.byteOffset}});function T(D){if(D>l)throw new RangeError('The value "'+D+'" is invalid for option "size"');const k=new u(D);return Object.setPrototypeOf(k,E.prototype),k}function E(D,k,N){if(typeof D=="number"){if(typeof k=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return S(D)}return b(D,k,N)}E.poolSize=8192;function b(D,k,N){if(typeof D=="string")return v(D,k);if(c.isView(D))return w(D);if(D==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof D);if(ne(D,c)||D&&ne(D.buffer,c)||typeof f<"u"&&(ne(D,f)||D&&ne(D.buffer,f)))return R(D,k,N);if(typeof D=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const z=D.valueOf&&D.valueOf();if(z!=null&&z!==D)return E.from(z,k,N);const ee=P(D);if(ee)return ee;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof D[Symbol.toPrimitive]=="function")return E.from(D[Symbol.toPrimitive]("string"),k,N);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof D)}E.from=function(D,k,N){return b(D,k,N)},Object.setPrototypeOf(E.prototype,u.prototype),Object.setPrototypeOf(E,u);function m(D){if(typeof D!="number")throw new TypeError('"size" argument must be of type number');if(D<0)throw new RangeError('The value "'+D+'" is invalid for option "size"')}function y(D,k,N){return m(D),D<=0?T(D):k!==void 0?typeof N=="string"?T(D).fill(k,N):T(D).fill(k):T(D)}E.alloc=function(D,k,N){return y(D,k,N)};function S(D){return m(D),T(D<0?0:F(D)|0)}E.allocUnsafe=function(D){return S(D)},E.allocUnsafeSlow=function(D){return S(D)};function v(D,k){if((typeof k!="string"||k==="")&&(k="utf8"),!E.isEncoding(k))throw new TypeError("Unknown encoding: "+k);const N=G(D,k)|0;let z=T(N);const ee=z.write(D,k);return ee!==N&&(z=z.slice(0,ee)),z}function A(D){const k=D.length<0?0:F(D.length)|0,N=T(k);for(let z=0;z<k;z+=1)N[z]=D[z]&255;return N}function w(D){if(ne(D,u)){const k=new u(D);return R(k.buffer,k.byteOffset,k.byteLength)}return A(D)}function R(D,k,N){if(k<0||D.byteLength<k)throw new RangeError('"offset" is outside of buffer bounds');if(D.byteLength<k+(N||0))throw new RangeError('"length" is outside of buffer bounds');let z;return k===void 0&&N===void 0?z=new u(D):N===void 0?z=new u(D,k):z=new u(D,k,N),Object.setPrototypeOf(z,E.prototype),z}function P(D){if(E.isBuffer(D)){const k=F(D.length)|0,N=T(k);return N.length===0||D.copy(N,0,0,k),N}if(D.length!==void 0)return typeof D.length!="number"||J(D.length)?T(0):A(D);if(D.type==="Buffer"&&Array.isArray(D.data))return A(D.data)}function F(D){if(D>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return D|0}function B(D){return+D!=D&&(D=0),E.alloc(+D)}E.isBuffer=function(k){return k!=null&&k._isBuffer===!0&&k!==E.prototype},E.compare=function(k,N){if(ne(k,u)&&(k=E.from(k,k.offset,k.byteLength)),ne(N,u)&&(N=E.from(N,N.offset,N.byteLength)),!E.isBuffer(k)||!E.isBuffer(N))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(k===N)return 0;let z=k.length,ee=N.length;for(let ae=0,de=Math.min(z,ee);ae<de;++ae)if(k[ae]!==N[ae]){z=k[ae],ee=N[ae];break}return z<ee?-1:ee<z?1:0},E.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},E.concat=function(k,N){if(!Array.isArray(k))throw new TypeError('"list" argument must be an Array of Buffers');if(k.length===0)return E.alloc(0);let z;if(N===void 0)for(N=0,z=0;z<k.length;++z)N+=k[z].length;const ee=E.allocUnsafe(N);let ae=0;for(z=0;z<k.length;++z){let de=k[z];if(ne(de,u))ae+de.length>ee.length?(E.isBuffer(de)||(de=E.from(de)),de.copy(ee,ae)):u.prototype.set.call(ee,de,ae);else if(E.isBuffer(de))de.copy(ee,ae);else throw new TypeError('"list" argument must be an Array of Buffers');ae+=de.length}return ee};function G(D,k){if(E.isBuffer(D))return D.length;if(c.isView(D)||ne(D,c))return D.byteLength;if(typeof D!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof D);const N=D.length,z=arguments.length>2&&arguments[2]===!0;if(!z&&N===0)return 0;let ee=!1;for(;;)switch(k){case"ascii":case"latin1":case"binary":return N;case"utf8":case"utf-8":return Oe(D).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N*2;case"hex":return N>>>1;case"base64":return Fe(D).length;default:if(ee)return z?-1:Oe(D).length;k=(""+k).toLowerCase(),ee=!0}}E.byteLength=G;function K(D,k,N){let z=!1;if((k===void 0||k<0)&&(k=0),k>this.length||((N===void 0||N>this.length)&&(N=this.length),N<=0)||(N>>>=0,k>>>=0,N<=k))return"";for(D||(D="utf8");;)switch(D){case"hex":return Z(this,k,N);case"utf8":case"utf-8":return fe(this,k,N);case"ascii":return j(this,k,N);case"latin1":case"binary":return Y(this,k,N);case"base64":return Ce(this,k,N);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,k,N);default:if(z)throw new TypeError("Unknown encoding: "+D);D=(D+"").toLowerCase(),z=!0}}E.prototype._isBuffer=!0;function le(D,k,N){const z=D[k];D[k]=D[N],D[N]=z}E.prototype.swap16=function(){const k=this.length;if(k%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let N=0;N<k;N+=2)le(this,N,N+1);return this},E.prototype.swap32=function(){const k=this.length;if(k%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let N=0;N<k;N+=4)le(this,N,N+3),le(this,N+1,N+2);return this},E.prototype.swap64=function(){const k=this.length;if(k%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let N=0;N<k;N+=8)le(this,N,N+7),le(this,N+1,N+6),le(this,N+2,N+5),le(this,N+3,N+4);return this},E.prototype.toString=function(){const k=this.length;return k===0?"":arguments.length===0?fe(this,0,k):K.apply(this,arguments)},E.prototype.toLocaleString=E.prototype.toString,E.prototype.equals=function(k){if(!E.isBuffer(k))throw new TypeError("Argument must be a Buffer");return this===k?!0:E.compare(this,k)===0},E.prototype.inspect=function(){let k="";const N=n.INSPECT_MAX_BYTES;return k=this.toString("hex",0,N).replace(/(.{2})/g,"$1 ").trim(),this.length>N&&(k+=" ... "),"<Buffer "+k+">"},a&&(E.prototype[a]=E.prototype.inspect),E.prototype.compare=function(k,N,z,ee,ae){if(ne(k,u)&&(k=E.from(k,k.offset,k.byteLength)),!E.isBuffer(k))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof k);if(N===void 0&&(N=0),z===void 0&&(z=k?k.length:0),ee===void 0&&(ee=0),ae===void 0&&(ae=this.length),N<0||z>k.length||ee<0||ae>this.length)throw new RangeError("out of range index");if(ee>=ae&&N>=z)return 0;if(ee>=ae)return-1;if(N>=z)return 1;if(N>>>=0,z>>>=0,ee>>>=0,ae>>>=0,this===k)return 0;let de=ae-ee,ve=z-N;const Pe=Math.min(de,ve),Ge=this.slice(ee,ae),ze=k.slice(N,z);for(let tt=0;tt<Pe;++tt)if(Ge[tt]!==ze[tt]){de=Ge[tt],ve=ze[tt];break}return de<ve?-1:ve<de?1:0};function V(D,k,N,z,ee){if(D.length===0)return-1;if(typeof N=="string"?(z=N,N=0):N>2147483647?N=2147483647:N<-2147483648&&(N=-2147483648),N=+N,J(N)&&(N=ee?0:D.length-1),N<0&&(N=D.length+N),N>=D.length){if(ee)return-1;N=D.length-1}else if(N<0)if(ee)N=0;else return-1;if(typeof k=="string"&&(k=E.from(k,z)),E.isBuffer(k))return k.length===0?-1:X(D,k,N,z,ee);if(typeof k=="number")return k=k&255,typeof u.prototype.indexOf=="function"?ee?u.prototype.indexOf.call(D,k,N):u.prototype.lastIndexOf.call(D,k,N):X(D,[k],N,z,ee);throw new TypeError("val must be string, number or Buffer")}function X(D,k,N,z,ee){let ae=1,de=D.length,ve=k.length;if(z!==void 0&&(z=String(z).toLowerCase(),z==="ucs2"||z==="ucs-2"||z==="utf16le"||z==="utf-16le")){if(D.length<2||k.length<2)return-1;ae=2,de/=2,ve/=2,N/=2}function Pe(ze,tt){return ae===1?ze[tt]:ze.readUInt16BE(tt*ae)}let Ge;if(ee){let ze=-1;for(Ge=N;Ge<de;Ge++)if(Pe(D,Ge)===Pe(k,ze===-1?0:Ge-ze)){if(ze===-1&&(ze=Ge),Ge-ze+1===ve)return ze*ae}else ze!==-1&&(Ge-=Ge-ze),ze=-1}else for(N+ve>de&&(N=de-ve),Ge=N;Ge>=0;Ge--){let ze=!0;for(let tt=0;tt<ve;tt++)if(Pe(D,Ge+tt)!==Pe(k,tt)){ze=!1;break}if(ze)return Ge}return-1}E.prototype.includes=function(k,N,z){return this.indexOf(k,N,z)!==-1},E.prototype.indexOf=function(k,N,z){return V(this,k,N,z,!0)},E.prototype.lastIndexOf=function(k,N,z){return V(this,k,N,z,!1)};function W(D,k,N,z){N=Number(N)||0;const ee=D.length-N;z?(z=Number(z),z>ee&&(z=ee)):z=ee;const ae=k.length;z>ae/2&&(z=ae/2);let de;for(de=0;de<z;++de){const ve=parseInt(k.substr(de*2,2),16);if(J(ve))return de;D[N+de]=ve}return de}function H(D,k,N,z){return I(Oe(k,D.length-N),D,N,z)}function te(D,k,N,z){return I(Re(k),D,N,z)}function L(D,k,N,z){return I(Fe(k),D,N,z)}function ue(D,k,N,z){return I(xe(k,D.length-N),D,N,z)}E.prototype.write=function(k,N,z,ee){if(N===void 0)ee="utf8",z=this.length,N=0;else if(z===void 0&&typeof N=="string")ee=N,z=this.length,N=0;else if(isFinite(N))N=N>>>0,isFinite(z)?(z=z>>>0,ee===void 0&&(ee="utf8")):(ee=z,z=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ae=this.length-N;if((z===void 0||z>ae)&&(z=ae),k.length>0&&(z<0||N<0)||N>this.length)throw new RangeError("Attempt to write outside buffer bounds");ee||(ee="utf8");let de=!1;for(;;)switch(ee){case"hex":return W(this,k,N,z);case"utf8":case"utf-8":return H(this,k,N,z);case"ascii":case"latin1":case"binary":return te(this,k,N,z);case"base64":return L(this,k,N,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ue(this,k,N,z);default:if(de)throw new TypeError("Unknown encoding: "+ee);ee=(""+ee).toLowerCase(),de=!0}},E.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ce(D,k,N){return k===0&&N===D.length?e.fromByteArray(D):e.fromByteArray(D.slice(k,N))}function fe(D,k,N){N=Math.min(D.length,N);const z=[];let ee=k;for(;ee<N;){const ae=D[ee];let de=null,ve=ae>239?4:ae>223?3:ae>191?2:1;if(ee+ve<=N){let Pe,Ge,ze,tt;switch(ve){case 1:ae<128&&(de=ae);break;case 2:Pe=D[ee+1],(Pe&192)===128&&(tt=(ae&31)<<6|Pe&63,tt>127&&(de=tt));break;case 3:Pe=D[ee+1],Ge=D[ee+2],(Pe&192)===128&&(Ge&192)===128&&(tt=(ae&15)<<12|(Pe&63)<<6|Ge&63,tt>2047&&(tt<55296||tt>57343)&&(de=tt));break;case 4:Pe=D[ee+1],Ge=D[ee+2],ze=D[ee+3],(Pe&192)===128&&(Ge&192)===128&&(ze&192)===128&&(tt=(ae&15)<<18|(Pe&63)<<12|(Ge&63)<<6|ze&63,tt>65535&&tt<1114112&&(de=tt))}}de===null?(de=65533,ve=1):de>65535&&(de-=65536,z.push(de>>>10&1023|55296),de=56320|de&1023),z.push(de),ee+=ve}return he(z)}const ye=4096;function he(D){const k=D.length;if(k<=ye)return String.fromCharCode.apply(String,D);let N="",z=0;for(;z<k;)N+=String.fromCharCode.apply(String,D.slice(z,z+=ye));return N}function j(D,k,N){let z="";N=Math.min(D.length,N);for(let ee=k;ee<N;++ee)z+=String.fromCharCode(D[ee]&127);return z}function Y(D,k,N){let z="";N=Math.min(D.length,N);for(let ee=k;ee<N;++ee)z+=String.fromCharCode(D[ee]);return z}function Z(D,k,N){const z=D.length;(!k||k<0)&&(k=0),(!N||N<0||N>z)&&(N=z);let ee="";for(let ae=k;ae<N;++ae)ee+=me[D[ae]];return ee}function Q(D,k,N){const z=D.slice(k,N);let ee="";for(let ae=0;ae<z.length-1;ae+=2)ee+=String.fromCharCode(z[ae]+z[ae+1]*256);return ee}E.prototype.slice=function(k,N){const z=this.length;k=~~k,N=N===void 0?z:~~N,k<0?(k+=z,k<0&&(k=0)):k>z&&(k=z),N<0?(N+=z,N<0&&(N=0)):N>z&&(N=z),N<k&&(N=k);const ee=this.subarray(k,N);return Object.setPrototypeOf(ee,E.prototype),ee};function be(D,k,N){if(D%1!==0||D<0)throw new RangeError("offset is not uint");if(D+k>N)throw new RangeError("Trying to access beyond buffer length")}E.prototype.readUintLE=E.prototype.readUIntLE=function(k,N,z){k=k>>>0,N=N>>>0,z||be(k,N,this.length);let ee=this[k],ae=1,de=0;for(;++de<N&&(ae*=256);)ee+=this[k+de]*ae;return ee},E.prototype.readUintBE=E.prototype.readUIntBE=function(k,N,z){k=k>>>0,N=N>>>0,z||be(k,N,this.length);let ee=this[k+--N],ae=1;for(;N>0&&(ae*=256);)ee+=this[k+--N]*ae;return ee},E.prototype.readUint8=E.prototype.readUInt8=function(k,N){return k=k>>>0,N||be(k,1,this.length),this[k]},E.prototype.readUint16LE=E.prototype.readUInt16LE=function(k,N){return k=k>>>0,N||be(k,2,this.length),this[k]|this[k+1]<<8},E.prototype.readUint16BE=E.prototype.readUInt16BE=function(k,N){return k=k>>>0,N||be(k,2,this.length),this[k]<<8|this[k+1]},E.prototype.readUint32LE=E.prototype.readUInt32LE=function(k,N){return k=k>>>0,N||be(k,4,this.length),(this[k]|this[k+1]<<8|this[k+2]<<16)+this[k+3]*16777216},E.prototype.readUint32BE=E.prototype.readUInt32BE=function(k,N){return k=k>>>0,N||be(k,4,this.length),this[k]*16777216+(this[k+1]<<16|this[k+2]<<8|this[k+3])},E.prototype.readBigUInt64LE=pe(function(k){k=k>>>0,Ae(k,"offset");const N=this[k],z=this[k+7];(N===void 0||z===void 0)&&se(k,this.length-8);const ee=N+this[++k]*2**8+this[++k]*2**16+this[++k]*2**24,ae=this[++k]+this[++k]*2**8+this[++k]*2**16+z*2**24;return BigInt(ee)+(BigInt(ae)<<BigInt(32))}),E.prototype.readBigUInt64BE=pe(function(k){k=k>>>0,Ae(k,"offset");const N=this[k],z=this[k+7];(N===void 0||z===void 0)&&se(k,this.length-8);const ee=N*2**24+this[++k]*2**16+this[++k]*2**8+this[++k],ae=this[++k]*2**24+this[++k]*2**16+this[++k]*2**8+z;return(BigInt(ee)<<BigInt(32))+BigInt(ae)}),E.prototype.readIntLE=function(k,N,z){k=k>>>0,N=N>>>0,z||be(k,N,this.length);let ee=this[k],ae=1,de=0;for(;++de<N&&(ae*=256);)ee+=this[k+de]*ae;return ae*=128,ee>=ae&&(ee-=Math.pow(2,8*N)),ee},E.prototype.readIntBE=function(k,N,z){k=k>>>0,N=N>>>0,z||be(k,N,this.length);let ee=N,ae=1,de=this[k+--ee];for(;ee>0&&(ae*=256);)de+=this[k+--ee]*ae;return ae*=128,de>=ae&&(de-=Math.pow(2,8*N)),de},E.prototype.readInt8=function(k,N){return k=k>>>0,N||be(k,1,this.length),this[k]&128?(255-this[k]+1)*-1:this[k]},E.prototype.readInt16LE=function(k,N){k=k>>>0,N||be(k,2,this.length);const z=this[k]|this[k+1]<<8;return z&32768?z|4294901760:z},E.prototype.readInt16BE=function(k,N){k=k>>>0,N||be(k,2,this.length);const z=this[k+1]|this[k]<<8;return z&32768?z|4294901760:z},E.prototype.readInt32LE=function(k,N){return k=k>>>0,N||be(k,4,this.length),this[k]|this[k+1]<<8|this[k+2]<<16|this[k+3]<<24},E.prototype.readInt32BE=function(k,N){return k=k>>>0,N||be(k,4,this.length),this[k]<<24|this[k+1]<<16|this[k+2]<<8|this[k+3]},E.prototype.readBigInt64LE=pe(function(k){k=k>>>0,Ae(k,"offset");const N=this[k],z=this[k+7];(N===void 0||z===void 0)&&se(k,this.length-8);const ee=this[k+4]+this[k+5]*2**8+this[k+6]*2**16+(z<<24);return(BigInt(ee)<<BigInt(32))+BigInt(N+this[++k]*2**8+this[++k]*2**16+this[++k]*2**24)}),E.prototype.readBigInt64BE=pe(function(k){k=k>>>0,Ae(k,"offset");const N=this[k],z=this[k+7];(N===void 0||z===void 0)&&se(k,this.length-8);const ee=(N<<24)+this[++k]*2**16+this[++k]*2**8+this[++k];return(BigInt(ee)<<BigInt(32))+BigInt(this[++k]*2**24+this[++k]*2**16+this[++k]*2**8+z)}),E.prototype.readFloatLE=function(k,N){return k=k>>>0,N||be(k,4,this.length),o.read(this,k,!0,23,4)},E.prototype.readFloatBE=function(k,N){return k=k>>>0,N||be(k,4,this.length),o.read(this,k,!1,23,4)},E.prototype.readDoubleLE=function(k,N){return k=k>>>0,N||be(k,8,this.length),o.read(this,k,!0,52,8)},E.prototype.readDoubleBE=function(k,N){return k=k>>>0,N||be(k,8,this.length),o.read(this,k,!1,52,8)};function we(D,k,N,z,ee,ae){if(!E.isBuffer(D))throw new TypeError('"buffer" argument must be a Buffer instance');if(k>ee||k<ae)throw new RangeError('"value" argument is out of bounds');if(N+z>D.length)throw new RangeError("Index out of range")}E.prototype.writeUintLE=E.prototype.writeUIntLE=function(k,N,z,ee){if(k=+k,N=N>>>0,z=z>>>0,!ee){const ve=Math.pow(2,8*z)-1;we(this,k,N,z,ve,0)}let ae=1,de=0;for(this[N]=k&255;++de<z&&(ae*=256);)this[N+de]=k/ae&255;return N+z},E.prototype.writeUintBE=E.prototype.writeUIntBE=function(k,N,z,ee){if(k=+k,N=N>>>0,z=z>>>0,!ee){const ve=Math.pow(2,8*z)-1;we(this,k,N,z,ve,0)}let ae=z-1,de=1;for(this[N+ae]=k&255;--ae>=0&&(de*=256);)this[N+ae]=k/de&255;return N+z},E.prototype.writeUint8=E.prototype.writeUInt8=function(k,N,z){return k=+k,N=N>>>0,z||we(this,k,N,1,255,0),this[N]=k&255,N+1},E.prototype.writeUint16LE=E.prototype.writeUInt16LE=function(k,N,z){return k=+k,N=N>>>0,z||we(this,k,N,2,65535,0),this[N]=k&255,this[N+1]=k>>>8,N+2},E.prototype.writeUint16BE=E.prototype.writeUInt16BE=function(k,N,z){return k=+k,N=N>>>0,z||we(this,k,N,2,65535,0),this[N]=k>>>8,this[N+1]=k&255,N+2},E.prototype.writeUint32LE=E.prototype.writeUInt32LE=function(k,N,z){return k=+k,N=N>>>0,z||we(this,k,N,4,4294967295,0),this[N+3]=k>>>24,this[N+2]=k>>>16,this[N+1]=k>>>8,this[N]=k&255,N+4},E.prototype.writeUint32BE=E.prototype.writeUInt32BE=function(k,N,z){return k=+k,N=N>>>0,z||we(this,k,N,4,4294967295,0),this[N]=k>>>24,this[N+1]=k>>>16,this[N+2]=k>>>8,this[N+3]=k&255,N+4};function Ue(D,k,N,z,ee){De(k,z,ee,D,N,7);let ae=Number(k&BigInt(4294967295));D[N++]=ae,ae=ae>>8,D[N++]=ae,ae=ae>>8,D[N++]=ae,ae=ae>>8,D[N++]=ae;let de=Number(k>>BigInt(32)&BigInt(4294967295));return D[N++]=de,de=de>>8,D[N++]=de,de=de>>8,D[N++]=de,de=de>>8,D[N++]=de,N}function Ye(D,k,N,z,ee){De(k,z,ee,D,N,7);let ae=Number(k&BigInt(4294967295));D[N+7]=ae,ae=ae>>8,D[N+6]=ae,ae=ae>>8,D[N+5]=ae,ae=ae>>8,D[N+4]=ae;let de=Number(k>>BigInt(32)&BigInt(4294967295));return D[N+3]=de,de=de>>8,D[N+2]=de,de=de>>8,D[N+1]=de,de=de>>8,D[N]=de,N+8}E.prototype.writeBigUInt64LE=pe(function(k,N=0){return Ue(this,k,N,BigInt(0),BigInt("0xffffffffffffffff"))}),E.prototype.writeBigUInt64BE=pe(function(k,N=0){return Ye(this,k,N,BigInt(0),BigInt("0xffffffffffffffff"))}),E.prototype.writeIntLE=function(k,N,z,ee){if(k=+k,N=N>>>0,!ee){const Pe=Math.pow(2,8*z-1);we(this,k,N,z,Pe-1,-Pe)}let ae=0,de=1,ve=0;for(this[N]=k&255;++ae<z&&(de*=256);)k<0&&ve===0&&this[N+ae-1]!==0&&(ve=1),this[N+ae]=(k/de>>0)-ve&255;return N+z},E.prototype.writeIntBE=function(k,N,z,ee){if(k=+k,N=N>>>0,!ee){const Pe=Math.pow(2,8*z-1);we(this,k,N,z,Pe-1,-Pe)}let ae=z-1,de=1,ve=0;for(this[N+ae]=k&255;--ae>=0&&(de*=256);)k<0&&ve===0&&this[N+ae+1]!==0&&(ve=1),this[N+ae]=(k/de>>0)-ve&255;return N+z},E.prototype.writeInt8=function(k,N,z){return k=+k,N=N>>>0,z||we(this,k,N,1,127,-128),k<0&&(k=255+k+1),this[N]=k&255,N+1},E.prototype.writeInt16LE=function(k,N,z){return k=+k,N=N>>>0,z||we(this,k,N,2,32767,-32768),this[N]=k&255,this[N+1]=k>>>8,N+2},E.prototype.writeInt16BE=function(k,N,z){return k=+k,N=N>>>0,z||we(this,k,N,2,32767,-32768),this[N]=k>>>8,this[N+1]=k&255,N+2},E.prototype.writeInt32LE=function(k,N,z){return k=+k,N=N>>>0,z||we(this,k,N,4,2147483647,-2147483648),this[N]=k&255,this[N+1]=k>>>8,this[N+2]=k>>>16,this[N+3]=k>>>24,N+4},E.prototype.writeInt32BE=function(k,N,z){return k=+k,N=N>>>0,z||we(this,k,N,4,2147483647,-2147483648),k<0&&(k=4294967295+k+1),this[N]=k>>>24,this[N+1]=k>>>16,this[N+2]=k>>>8,this[N+3]=k&255,N+4},E.prototype.writeBigInt64LE=pe(function(k,N=0){return Ue(this,k,N,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),E.prototype.writeBigInt64BE=pe(function(k,N=0){return Ye(this,k,N,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function He(D,k,N,z,ee,ae){if(N+z>D.length)throw new RangeError("Index out of range");if(N<0)throw new RangeError("Index out of range")}function je(D,k,N,z,ee){return k=+k,N=N>>>0,ee||He(D,k,N,4),o.write(D,k,N,z,23,4),N+4}E.prototype.writeFloatLE=function(k,N,z){return je(this,k,N,!0,z)},E.prototype.writeFloatBE=function(k,N,z){return je(this,k,N,!1,z)};function Xe(D,k,N,z,ee){return k=+k,N=N>>>0,ee||He(D,k,N,8),o.write(D,k,N,z,52,8),N+8}E.prototype.writeDoubleLE=function(k,N,z){return Xe(this,k,N,!0,z)},E.prototype.writeDoubleBE=function(k,N,z){return Xe(this,k,N,!1,z)},E.prototype.copy=function(k,N,z,ee){if(!E.isBuffer(k))throw new TypeError("argument should be a Buffer");if(z||(z=0),!ee&&ee!==0&&(ee=this.length),N>=k.length&&(N=k.length),N||(N=0),ee>0&&ee<z&&(ee=z),ee===z||k.length===0||this.length===0)return 0;if(N<0)throw new RangeError("targetStart out of bounds");if(z<0||z>=this.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("sourceEnd out of bounds");ee>this.length&&(ee=this.length),k.length-N<ee-z&&(ee=k.length-N+z);const ae=ee-z;return this===k&&typeof u.prototype.copyWithin=="function"?this.copyWithin(N,z,ee):u.prototype.set.call(k,this.subarray(z,ee),N),ae},E.prototype.fill=function(k,N,z,ee){if(typeof k=="string"){if(typeof N=="string"?(ee=N,N=0,z=this.length):typeof z=="string"&&(ee=z,z=this.length),ee!==void 0&&typeof ee!="string")throw new TypeError("encoding must be a string");if(typeof ee=="string"&&!E.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);if(k.length===1){const de=k.charCodeAt(0);(ee==="utf8"&&de<128||ee==="latin1")&&(k=de)}}else typeof k=="number"?k=k&255:typeof k=="boolean"&&(k=Number(k));if(N<0||this.length<N||this.length<z)throw new RangeError("Out of range index");if(z<=N)return this;N=N>>>0,z=z===void 0?this.length:z>>>0,k||(k=0);let ae;if(typeof k=="number")for(ae=N;ae<z;++ae)this[ae]=k;else{const de=E.isBuffer(k)?k:E.from(k,ee),ve=de.length;if(ve===0)throw new TypeError('The value "'+k+'" is invalid for argument "value"');for(ae=0;ae<z-N;++ae)this[ae+N]=de[ae%ve]}return this};const et={};function it(D,k,N){et[D]=class extends N{constructor(){super(),Object.defineProperty(this,"message",{value:k.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${D}]`,this.stack,delete this.name}get code(){return D}set code(ee){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ee,writable:!0})}toString(){return`${this.name} [${D}]: ${this.message}`}}}it("ERR_BUFFER_OUT_OF_BOUNDS",function(D){return D?`${D} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),it("ERR_INVALID_ARG_TYPE",function(D,k){return`The "${D}" argument must be of type number. Received type ${typeof k}`},TypeError),it("ERR_OUT_OF_RANGE",function(D,k,N){let z=`The value of "${D}" is out of range.`,ee=N;return Number.isInteger(N)&&Math.abs(N)>2**32?ee=ct(String(N)):typeof N=="bigint"&&(ee=String(N),(N>BigInt(2)**BigInt(32)||N<-(BigInt(2)**BigInt(32)))&&(ee=ct(ee)),ee+="n"),z+=` It must be ${k}. Received ${ee}`,z},RangeError);function ct(D){let k="",N=D.length;const z=D[0]==="-"?1:0;for(;N>=z+4;N-=3)k=`_${D.slice(N-3,N)}${k}`;return`${D.slice(0,N)}${k}`}function U(D,k,N){Ae(k,"offset"),(D[k]===void 0||D[k+N]===void 0)&&se(k,D.length-(N+1))}function De(D,k,N,z,ee,ae){if(D>N||D<k){const de=typeof k=="bigint"?"n":"";let ve;throw k===0||k===BigInt(0)?ve=`>= 0${de} and < 2${de} ** ${(ae+1)*8}${de}`:ve=`>= -(2${de} ** ${(ae+1)*8-1}${de}) and < 2 ** ${(ae+1)*8-1}${de}`,new et.ERR_OUT_OF_RANGE("value",ve,D)}U(z,ee,ae)}function Ae(D,k){if(typeof D!="number")throw new et.ERR_INVALID_ARG_TYPE(k,"number",D)}function se(D,k,N){throw Math.floor(D)!==D?(Ae(D,N),new et.ERR_OUT_OF_RANGE("offset","an integer",D)):k<0?new et.ERR_BUFFER_OUT_OF_BOUNDS:new et.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${k}`,D)}const oe=/[^+/0-9A-Za-z-_]/g;function Ee(D){if(D=D.split("=")[0],D=D.trim().replace(oe,""),D.length<2)return"";for(;D.length%4!==0;)D=D+"=";return D}function Oe(D,k){k=k||1/0;let N;const z=D.length;let ee=null;const ae=[];for(let de=0;de<z;++de){if(N=D.charCodeAt(de),N>55295&&N<57344){if(!ee){if(N>56319){(k-=3)>-1&&ae.push(239,191,189);continue}else if(de+1===z){(k-=3)>-1&&ae.push(239,191,189);continue}ee=N;continue}if(N<56320){(k-=3)>-1&&ae.push(239,191,189),ee=N;continue}N=(ee-55296<<10|N-56320)+65536}else ee&&(k-=3)>-1&&ae.push(239,191,189);if(ee=null,N<128){if((k-=1)<0)break;ae.push(N)}else if(N<2048){if((k-=2)<0)break;ae.push(N>>6|192,N&63|128)}else if(N<65536){if((k-=3)<0)break;ae.push(N>>12|224,N>>6&63|128,N&63|128)}else if(N<1114112){if((k-=4)<0)break;ae.push(N>>18|240,N>>12&63|128,N>>6&63|128,N&63|128)}else throw new Error("Invalid code point")}return ae}function Re(D){const k=[];for(let N=0;N<D.length;++N)k.push(D.charCodeAt(N)&255);return k}function xe(D,k){let N,z,ee;const ae=[];for(let de=0;de<D.length&&!((k-=2)<0);++de)N=D.charCodeAt(de),z=N>>8,ee=N%256,ae.push(ee),ae.push(z);return ae}function Fe(D){return e.toByteArray(Ee(D))}function I(D,k,N,z){let ee;for(ee=0;ee<z&&!(ee+N>=k.length||ee>=D.length);++ee)k[ee+N]=D[ee];return ee}function ne(D,k){return D instanceof k||D!=null&&D.constructor!=null&&D.constructor.name!=null&&D.constructor.name===k.name}function J(D){return D!==D}const me=function(){const D="0123456789abcdef",k=new Array(256);for(let N=0;N<16;++N){const z=N*16;for(let ee=0;ee<16;++ee)k[z+ee]=D[N]+D[ee]}return k}();function pe(D){return typeof BigInt>"u"?ke:D}function ke(){throw new Error("BigInt not supported")}})(buffer);const Buffer=buffer.Buffer;var utils={};/*!
 * strip-bom-string <https://github.com/jonschlinkert/strip-bom-string>
 *
 * Copyright (c) 2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var stripBomString,hasRequiredStripBomString;function requireStripBomString(){return hasRequiredStripBomString||(hasRequiredStripBomString=1,stripBomString=function(n){return typeof n=="string"&&n.charAt(0)==="\uFEFF"?n.slice(1):n}),stripBomString}var hasRequiredUtils;function requireUtils(){return hasRequiredUtils||(hasRequiredUtils=1,function(n){const e=requireStripBomString(),o=requireKindOf();n.define=function(a,l,u){Reflect.defineProperty(a,l,{enumerable:!1,configurable:!0,writable:!0,value:u})},n.isBuffer=function(a){return o(a)==="buffer"},n.isObject=function(a){return o(a)==="object"},n.toBuffer=function(a){return typeof a=="string"?Buffer.from(a):a},n.toString=function(a){if(n.isBuffer(a))return e(String(a));if(typeof a!="string")throw new TypeError("expected input to be a string or buffer");return e(a)},n.arrayify=function(a){return a?Array.isArray(a)?a:[a]:[]},n.startsWith=function(a,l,u){return typeof u!="number"&&(u=l.length),a.slice(0,u)===l}}(utils)),utils}var defaults$2,hasRequiredDefaults;function requireDefaults(){if(hasRequiredDefaults)return defaults$2;hasRequiredDefaults=1;const n=requireEngines(),e=requireUtils();return defaults$2=function(o){const a=Object.assign({},o);return a.delimiters=e.arrayify(a.delims||a.delimiters||"---"),a.delimiters.length===1&&a.delimiters.push(a.delimiters[0]),a.language=(a.language||a.lang||"yaml").toLowerCase(),a.engines=Object.assign({},n,a.parsers,a.engines),a},defaults$2}var engine,hasRequiredEngine;function requireEngine(){if(hasRequiredEngine)return engine;hasRequiredEngine=1,engine=function(e,o){let a=o.engines[e]||o.engines[n(e)];if(typeof a>"u")throw new Error('gray-matter engine "'+e+'" is not registered');return typeof a=="function"&&(a={parse:a}),a};function n(e){switch(e.toLowerCase()){case"js":case"javascript":return"javascript";case"coffee":case"coffeescript":case"cson":return"coffee";case"yaml":case"yml":return"yaml";default:return e}}return engine}var stringify$2,hasRequiredStringify;function requireStringify(){if(hasRequiredStringify)return stringify$2;hasRequiredStringify=1;const n=requireKindOf(),e=requireEngine(),o=requireDefaults();stringify$2=function(l,u,c){if(u==null&&c==null)switch(n(l)){case"object":u=l.data,c={};break;case"string":return l;default:throw new TypeError("expected file to be a string or object")}const f=l.content,p=o(c);if(u==null){if(!p.data)return l;u=p.data}const T=l.language||p.language,E=e(T,p);if(typeof E.stringify!="function")throw new TypeError('expected "'+T+'.stringify" to be a function');u=Object.assign({},l.data,u);const b=p.delimiters[0],m=p.delimiters[1],y=E.stringify(u,c).trim();let S="";return y!=="{}"&&(S=a(b)+a(y)+a(m)),typeof l.excerpt=="string"&&l.excerpt!==""&&f.indexOf(l.excerpt.trim())===-1&&(S+=a(l.excerpt)+a(m)),S+a(f)};function a(l){return l.slice(-1)!==`
`?l+`
`:l}return stringify$2}var excerpt,hasRequiredExcerpt;function requireExcerpt(){if(hasRequiredExcerpt)return excerpt;hasRequiredExcerpt=1;const n=requireDefaults();return excerpt=function(e,o){const a=n(o);if(e.data==null&&(e.data={}),typeof a.excerpt=="function")return a.excerpt(e,a);const l=e.data.excerpt_separator||a.excerpt_separator;if(l==null&&(a.excerpt===!1||a.excerpt==null))return e;const u=typeof a.excerpt=="string"?a.excerpt:l||a.delimiters[0],c=e.content.indexOf(u);return c!==-1&&(e.excerpt=e.content.slice(0,c)),e},excerpt}var toFile,hasRequiredToFile;function requireToFile(){if(hasRequiredToFile)return toFile;hasRequiredToFile=1;const n=requireKindOf(),e=requireStringify(),o=requireUtils();return toFile=function(a){return n(a)!=="object"&&(a={content:a}),n(a.data)!=="object"&&(a.data={}),a.contents&&a.content==null&&(a.content=a.contents),o.define(a,"orig",o.toBuffer(a.content)),o.define(a,"language",a.language||""),o.define(a,"matter",a.matter||""),o.define(a,"stringify",function(l,u){return u&&u.language&&(a.language=u.language),e(a,l,u)}),a.content=o.toString(a.content),a.isEmpty=!1,a.excerpt="",a},toFile}var parse$3,hasRequiredParse;function requireParse(){if(hasRequiredParse)return parse$3;hasRequiredParse=1;const n=requireEngine(),e=requireDefaults();return parse$3=function(o,a,l){const u=e(l),c=n(o,u);if(typeof c.parse!="function")throw new TypeError('expected "'+o+'.parse" to be a function');return c.parse(a,u)},parse$3}var grayMatter,hasRequiredGrayMatter;function requireGrayMatter(){if(hasRequiredGrayMatter)return grayMatter;hasRequiredGrayMatter=1;const n=require$$2,e=requireSectionMatter(),o=requireDefaults(),a=requireStringify(),l=requireExcerpt(),u=requireEngines(),c=requireToFile(),f=requireParse(),p=requireUtils();function T(b,m){if(b==="")return{data:{},content:b,excerpt:"",orig:b};let y=c(b);const S=T.cache[y.content];if(!m){if(S)return y=Object.assign({},S),y.orig=S.orig,y;T.cache[y.content]=y}return E(y,m)}function E(b,m){const y=o(m),S=y.delimiters[0],v=`
`+y.delimiters[1];let A=b.content;y.language&&(b.language=y.language);const w=S.length;if(!p.startsWith(A,S,w))return l(b,y),b;if(A.charAt(w)===S.slice(-1))return b;A=A.slice(w);const R=A.length,P=T.language(A,y);P.name&&(b.language=P.name,A=A.slice(P.raw.length));let F=A.indexOf(v);return F===-1&&(F=R),b.matter=A.slice(0,F),b.matter.replace(/^\s*#[^\n]+/gm,"").trim()===""?(b.isEmpty=!0,b.empty=b.content,b.data={}):b.data=f(b.language,b.matter,y),F===R?b.content="":(b.content=A.slice(F+v.length),b.content[0]==="\r"&&(b.content=b.content.slice(1)),b.content[0]===`
`&&(b.content=b.content.slice(1))),l(b,y),(y.sections===!0||typeof y.section=="function")&&e(b,y.section),b}return T.engines=u,T.stringify=function(b,m,y){return typeof b=="string"&&(b=T(b,y)),a(b,m,y)},T.read=function(b,m){const y=n.readFileSync(b,"utf8"),S=T(y,m);return S.path=b,S},T.test=function(b,m){return p.startsWith(b,o(m).delimiters[0])},T.language=function(b,m){const S=o(m).delimiters[0];T.test(b)&&(b=b.slice(S.length));const v=b.slice(0,b.search(/\r?\n/));return{raw:v,name:v?v.trim():""}},T.cache={},T.clearCache=function(){T.cache={}},grayMatter=T,grayMatter}var grayMatterExports=requireGrayMatter();const matter=getDefaultExportFromCjs$1(grayMatterExports);function ok$1(){}function unreachable(){}function parse$2(n){const e=[],o=String(n||"");let a=o.indexOf(","),l=0,u=!1;for(;!u;){a===-1&&(a=o.length,u=!0);const c=o.slice(l,a).trim();(c||!u)&&e.push(c),l=a+1,a=o.indexOf(",",l)}return e}function stringify$1(n,e){const o={};return(n[n.length-1]===""?[...n,""]:n).join((o.padRight?" ":"")+","+(o.padLeft===!1?"":" ")).trim()}const nameRe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,nameReJsx=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,emptyOptions$3={};function name$1(n,e){return(emptyOptions$3.jsx?nameReJsx:nameRe).test(n)}const re=/[ \t\n\f\r]/g;function whitespace(n){return typeof n=="object"?n.type==="text"?empty$2(n.value):!1:empty$2(n)}function empty$2(n){return n.replace(re,"")===""}let Schema$2=class{constructor(e,o,a){this.normal=o,this.property=e,a&&(this.space=a)}};Schema$2.prototype.normal={};Schema$2.prototype.property={};Schema$2.prototype.space=void 0;function merge$2(n,e){const o={},a={};for(const l of n)Object.assign(o,l.property),Object.assign(a,l.normal);return new Schema$2(o,a,e)}function normalize$2(n){return n.toLowerCase()}let Info$1=class{constructor(e,o){this.attribute=o,this.property=e}};Info$1.prototype.attribute="";Info$1.prototype.booleanish=!1;Info$1.prototype.boolean=!1;Info$1.prototype.commaOrSpaceSeparated=!1;Info$1.prototype.commaSeparated=!1;Info$1.prototype.defined=!1;Info$1.prototype.mustUseProperty=!1;Info$1.prototype.number=!1;Info$1.prototype.overloadedBoolean=!1;Info$1.prototype.property="";Info$1.prototype.spaceSeparated=!1;Info$1.prototype.space=void 0;let powers$1=0;const boolean$1=increment$1(),booleanish$1=increment$1(),overloadedBoolean$1=increment$1(),number$2=increment$1(),spaceSeparated$1=increment$1(),commaSeparated$1=increment$1(),commaOrSpaceSeparated$1=increment$1();function increment$1(){return 2**++powers$1}const types$2=Object.freeze(Object.defineProperty({__proto__:null,boolean:boolean$1,booleanish:booleanish$1,commaOrSpaceSeparated:commaOrSpaceSeparated$1,commaSeparated:commaSeparated$1,number:number$2,overloadedBoolean:overloadedBoolean$1,spaceSeparated:spaceSeparated$1},Symbol.toStringTag,{value:"Module"})),checks$1=Object.keys(types$2);let DefinedInfo$1=class extends Info$1{constructor(e,o,a,l){let u=-1;if(super(e,o),mark$1(this,"space",l),typeof a=="number")for(;++u<checks$1.length;){const c=checks$1[u];mark$1(this,checks$1[u],(a&types$2[c])===types$2[c])}}};DefinedInfo$1.prototype.defined=!0;function mark$1(n,e,o){o&&(n[e]=o)}function create$1(n){const e={},o={};for(const[a,l]of Object.entries(n.properties)){const u=new DefinedInfo$1(a,n.transform(n.attributes||{},a),l,n.space);n.mustUseProperty&&n.mustUseProperty.includes(a)&&(u.mustUseProperty=!0),e[a]=u,o[normalize$2(a)]=a,o[normalize$2(u.attribute)]=a}return new Schema$2(e,o,n.space)}const aria$1=create$1({properties:{ariaActiveDescendant:null,ariaAtomic:booleanish$1,ariaAutoComplete:null,ariaBusy:booleanish$1,ariaChecked:booleanish$1,ariaColCount:number$2,ariaColIndex:number$2,ariaColSpan:number$2,ariaControls:spaceSeparated$1,ariaCurrent:null,ariaDescribedBy:spaceSeparated$1,ariaDetails:null,ariaDisabled:booleanish$1,ariaDropEffect:spaceSeparated$1,ariaErrorMessage:null,ariaExpanded:booleanish$1,ariaFlowTo:spaceSeparated$1,ariaGrabbed:booleanish$1,ariaHasPopup:null,ariaHidden:booleanish$1,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:spaceSeparated$1,ariaLevel:number$2,ariaLive:null,ariaModal:booleanish$1,ariaMultiLine:booleanish$1,ariaMultiSelectable:booleanish$1,ariaOrientation:null,ariaOwns:spaceSeparated$1,ariaPlaceholder:null,ariaPosInSet:number$2,ariaPressed:booleanish$1,ariaReadOnly:booleanish$1,ariaRelevant:null,ariaRequired:booleanish$1,ariaRoleDescription:spaceSeparated$1,ariaRowCount:number$2,ariaRowIndex:number$2,ariaRowSpan:number$2,ariaSelected:booleanish$1,ariaSetSize:number$2,ariaSort:null,ariaValueMax:number$2,ariaValueMin:number$2,ariaValueNow:number$2,ariaValueText:null,role:null},transform(n,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function caseSensitiveTransform$1(n,e){return e in n?n[e]:e}function caseInsensitiveTransform$1(n,e){return caseSensitiveTransform$1(n,e.toLowerCase())}const html$4=create$1({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:commaSeparated$1,acceptCharset:spaceSeparated$1,accessKey:spaceSeparated$1,action:null,allow:null,allowFullScreen:boolean$1,allowPaymentRequest:boolean$1,allowUserMedia:boolean$1,alt:null,as:null,async:boolean$1,autoCapitalize:null,autoComplete:spaceSeparated$1,autoFocus:boolean$1,autoPlay:boolean$1,blocking:spaceSeparated$1,capture:null,charSet:null,checked:boolean$1,cite:null,className:spaceSeparated$1,cols:number$2,colSpan:null,content:null,contentEditable:booleanish$1,controls:boolean$1,controlsList:spaceSeparated$1,coords:number$2|commaSeparated$1,crossOrigin:null,data:null,dateTime:null,decoding:null,default:boolean$1,defer:boolean$1,dir:null,dirName:null,disabled:boolean$1,download:overloadedBoolean$1,draggable:booleanish$1,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:boolean$1,formTarget:null,headers:spaceSeparated$1,height:number$2,hidden:boolean$1,high:number$2,href:null,hrefLang:null,htmlFor:spaceSeparated$1,httpEquiv:spaceSeparated$1,id:null,imageSizes:null,imageSrcSet:null,inert:boolean$1,inputMode:null,integrity:null,is:null,isMap:boolean$1,itemId:null,itemProp:spaceSeparated$1,itemRef:spaceSeparated$1,itemScope:boolean$1,itemType:spaceSeparated$1,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:boolean$1,low:number$2,manifest:null,max:null,maxLength:number$2,media:null,method:null,min:null,minLength:number$2,multiple:boolean$1,muted:boolean$1,name:null,nonce:null,noModule:boolean$1,noValidate:boolean$1,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:boolean$1,optimum:number$2,pattern:null,ping:spaceSeparated$1,placeholder:null,playsInline:boolean$1,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:boolean$1,referrerPolicy:null,rel:spaceSeparated$1,required:boolean$1,reversed:boolean$1,rows:number$2,rowSpan:number$2,sandbox:spaceSeparated$1,scope:null,scoped:boolean$1,seamless:boolean$1,selected:boolean$1,shadowRootClonable:boolean$1,shadowRootDelegatesFocus:boolean$1,shadowRootMode:null,shape:null,size:number$2,sizes:null,slot:null,span:number$2,spellCheck:booleanish$1,src:null,srcDoc:null,srcLang:null,srcSet:null,start:number$2,step:null,style:null,tabIndex:number$2,target:null,title:null,translate:null,type:null,typeMustMatch:boolean$1,useMap:null,value:booleanish$1,width:number$2,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:spaceSeparated$1,axis:null,background:null,bgColor:null,border:number$2,borderColor:null,bottomMargin:number$2,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:boolean$1,declare:boolean$1,event:null,face:null,frame:null,frameBorder:null,hSpace:number$2,leftMargin:number$2,link:null,longDesc:null,lowSrc:null,marginHeight:number$2,marginWidth:number$2,noResize:boolean$1,noHref:boolean$1,noShade:boolean$1,noWrap:boolean$1,object:null,profile:null,prompt:null,rev:null,rightMargin:number$2,rules:null,scheme:null,scrolling:booleanish$1,standby:null,summary:null,text:null,topMargin:number$2,valueType:null,version:null,vAlign:null,vLink:null,vSpace:number$2,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:boolean$1,disableRemotePlayback:boolean$1,prefix:null,property:null,results:number$2,security:null,unselectable:null},space:"html",transform:caseInsensitiveTransform$1}),svg$4=create$1({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:commaOrSpaceSeparated$1,accentHeight:number$2,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:number$2,amplitude:number$2,arabicForm:null,ascent:number$2,attributeName:null,attributeType:null,azimuth:number$2,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:number$2,by:null,calcMode:null,capHeight:number$2,className:spaceSeparated$1,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:number$2,diffuseConstant:number$2,direction:null,display:null,dur:null,divisor:number$2,dominantBaseline:null,download:boolean$1,dx:null,dy:null,edgeMode:null,editable:null,elevation:number$2,enableBackground:null,end:null,event:null,exponent:number$2,externalResourcesRequired:null,fill:null,fillOpacity:number$2,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:commaSeparated$1,g2:commaSeparated$1,glyphName:commaSeparated$1,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:number$2,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:number$2,horizOriginX:number$2,horizOriginY:number$2,id:null,ideographic:number$2,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:number$2,k:number$2,k1:number$2,k2:number$2,k3:number$2,k4:number$2,kernelMatrix:commaOrSpaceSeparated$1,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:number$2,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:number$2,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:number$2,overlineThickness:number$2,paintOrder:null,panose1:null,path:null,pathLength:number$2,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:spaceSeparated$1,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:number$2,pointsAtY:number$2,pointsAtZ:number$2,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:commaOrSpaceSeparated$1,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:commaOrSpaceSeparated$1,rev:commaOrSpaceSeparated$1,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:commaOrSpaceSeparated$1,requiredFeatures:commaOrSpaceSeparated$1,requiredFonts:commaOrSpaceSeparated$1,requiredFormats:commaOrSpaceSeparated$1,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:number$2,specularExponent:number$2,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:number$2,strikethroughThickness:number$2,string:null,stroke:null,strokeDashArray:commaOrSpaceSeparated$1,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:number$2,strokeOpacity:number$2,strokeWidth:null,style:null,surfaceScale:number$2,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:commaOrSpaceSeparated$1,tabIndex:number$2,tableValues:null,target:null,targetX:number$2,targetY:number$2,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:commaOrSpaceSeparated$1,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:number$2,underlineThickness:number$2,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:number$2,values:null,vAlphabetic:number$2,vMathematical:number$2,vectorEffect:null,vHanging:number$2,vIdeographic:number$2,version:null,vertAdvY:number$2,vertOriginX:number$2,vertOriginY:number$2,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:number$2,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:caseSensitiveTransform$1}),xlink$1=create$1({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,e){return"xlink:"+e.slice(5).toLowerCase()}}),xmlns$1=create$1({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:caseInsensitiveTransform$1}),xml$1=create$1({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,e){return"xml:"+e.slice(3).toLowerCase()}}),hastToReact={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},cap$2=/[A-Z]/g,dash$1=/-[a-z]/g,valid$1=/^data[-\w.:]+$/i;function find$2(n,e){const o=normalize$2(e);let a=e,l=Info$1;if(o in n.normal)return n.property[n.normal[o]];if(o.length>4&&o.slice(0,4)==="data"&&valid$1.test(e)){if(e.charAt(4)==="-"){const u=e.slice(5).replace(dash$1,camelcase$1);a="data"+u.charAt(0).toUpperCase()+u.slice(1)}else{const u=e.slice(4);if(!dash$1.test(u)){let c=u.replace(cap$2,kebab$1);c.charAt(0)!=="-"&&(c="-"+c),e="data"+c}}l=DefinedInfo$1}return new l(a,e)}function kebab$1(n){return"-"+n.toLowerCase()}function camelcase$1(n){return n.charAt(1).toUpperCase()}const html$3=merge$2([aria$1,html$4,xlink$1,xmlns$1,xml$1],"html"),svg$3=merge$2([aria$1,svg$4,xlink$1,xmlns$1,xml$1],"svg");function parse$1(n){const e=String(n||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function stringify(n){return n.join(" ").trim()}var cjs$1={},inlineStyleParser,hasRequiredInlineStyleParser;function requireInlineStyleParser(){if(hasRequiredInlineStyleParser)return inlineStyleParser;hasRequiredInlineStyleParser=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,o=/^\s*/,a=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,l=/^:\s*/,u=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,f=/^\s+|\s+$/g,p=`
`,T="/",E="*",b="",m="comment",y="declaration";inlineStyleParser=function(v,A){if(typeof v!="string")throw new TypeError("First argument must be a string");if(!v)return[];A=A||{};var w=1,R=1;function P(te){var L=te.match(e);L&&(w+=L.length);var ue=te.lastIndexOf(p);R=~ue?te.length-ue:R+te.length}function F(){var te={line:w,column:R};return function(L){return L.position=new B(te),le(),L}}function B(te){this.start=te,this.end={line:w,column:R},this.source=A.source}B.prototype.content=v;function G(te){var L=new Error(A.source+":"+w+":"+R+": "+te);if(L.reason=te,L.filename=A.source,L.line=w,L.column=R,L.source=v,!A.silent)throw L}function K(te){var L=te.exec(v);if(L){var ue=L[0];return P(ue),v=v.slice(ue.length),L}}function le(){K(o)}function V(te){var L;for(te=te||[];L=X();)L!==!1&&te.push(L);return te}function X(){var te=F();if(!(T!=v.charAt(0)||E!=v.charAt(1))){for(var L=2;b!=v.charAt(L)&&(E!=v.charAt(L)||T!=v.charAt(L+1));)++L;if(L+=2,b===v.charAt(L-1))return G("End of comment missing");var ue=v.slice(2,L-2);return R+=2,P(ue),v=v.slice(L),R+=2,te({type:m,comment:ue})}}function W(){var te=F(),L=K(a);if(L){if(X(),!K(l))return G("property missing ':'");var ue=K(u),Ce=te({type:y,property:S(L[0].replace(n,b)),value:ue?S(ue[0].replace(n,b)):b});return K(c),Ce}}function H(){var te=[];V(te);for(var L;L=W();)L!==!1&&(te.push(L),V(te));return te}return le(),H()};function S(v){return v?v.replace(f,b):b}return inlineStyleParser}var hasRequiredCjs$1;function requireCjs$1(){if(hasRequiredCjs$1)return cjs$1;hasRequiredCjs$1=1;var n=cjs$1&&cjs$1.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(cjs$1,"__esModule",{value:!0}),cjs$1.default=o;var e=n(requireInlineStyleParser());function o(a,l){var u=null;if(!a||typeof a!="string")return u;var c=(0,e.default)(a),f=typeof l=="function";return c.forEach(function(p){if(p.type==="declaration"){var T=p.property,E=p.value;f?l(T,E,p):E&&(u=u||{},u[T]=E)}}),u}return cjs$1}var utilities={},hasRequiredUtilities;function requireUtilities(){if(hasRequiredUtilities)return utilities;hasRequiredUtilities=1,Object.defineProperty(utilities,"__esModule",{value:!0}),utilities.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,o=/^[^-]+$/,a=/^-(webkit|moz|ms|o|khtml)-/,l=/^-(ms)-/,u=function(T){return!T||o.test(T)||n.test(T)},c=function(T,E){return E.toUpperCase()},f=function(T,E){return"".concat(E,"-")},p=function(T,E){return E===void 0&&(E={}),u(T)?T:(T=T.toLowerCase(),E.reactCompat?T=T.replace(l,f):T=T.replace(a,f),T.replace(e,c))};return utilities.camelCase=p,utilities}var cjs,hasRequiredCjs;function requireCjs(){if(hasRequiredCjs)return cjs;hasRequiredCjs=1;var n=cjs&&cjs.__importDefault||function(l){return l&&l.__esModule?l:{default:l}},e=n(requireCjs$1()),o=requireUtilities();function a(l,u){var c={};return!l||typeof l!="string"||(0,e.default)(l,function(f,p){f&&p&&(c[(0,o.camelCase)(f,u)]=p)}),c}return a.default=a,cjs=a,cjs}var cjsExports=requireCjs();const styleToJs=getDefaultExportFromCjs$1(cjsExports),pointEnd=point$3("end"),pointStart=point$3("start");function point$3(n){return e;function e(o){const a=o&&o.position&&o.position[n]||{};if(typeof a.line=="number"&&a.line>0&&typeof a.column=="number"&&a.column>0)return{line:a.line,column:a.column,offset:typeof a.offset=="number"&&a.offset>-1?a.offset:void 0}}}function position$2(n){const e=pointStart(n),o=pointEnd(n);if(e&&o)return{start:e,end:o}}function stringifyPosition(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?position$1(n.position):"start"in n||"end"in n?position$1(n):"line"in n||"column"in n?point$2(n):""}function point$2(n){return index(n&&n.line)+":"+index(n&&n.column)}function position$1(n){return point$2(n&&n.start)+"-"+point$2(n&&n.end)}function index(n){return n&&typeof n=="number"?n:1}class VFileMessage extends Error{constructor(e,o,a){super(),typeof o=="string"&&(a=o,o=void 0);let l="",u={},c=!1;if(o&&("line"in o&&"column"in o?u={place:o}:"start"in o&&"end"in o?u={place:o}:"type"in o?u={ancestors:[o],place:o.position}:u={...o}),typeof e=="string"?l=e:!u.cause&&e&&(c=!0,l=e.message,u.cause=e),!u.ruleId&&!u.source&&typeof a=="string"){const p=a.indexOf(":");p===-1?u.ruleId=a:(u.source=a.slice(0,p),u.ruleId=a.slice(p+1))}if(!u.place&&u.ancestors&&u.ancestors){const p=u.ancestors[u.ancestors.length-1];p&&(u.place=p.position)}const f=u.place&&"start"in u.place?u.place.start:u.place;this.ancestors=u.ancestors||void 0,this.cause=u.cause||void 0,this.column=f?f.column:void 0,this.fatal=void 0,this.file,this.message=l,this.line=f?f.line:void 0,this.name=stringifyPosition(u.place)||"1:1",this.place=u.place||void 0,this.reason=this.message,this.ruleId=u.ruleId||void 0,this.source=u.source||void 0,this.stack=c&&u.cause&&typeof u.cause.stack=="string"?u.cause.stack:"",this.actual,this.expected,this.note,this.url}}VFileMessage.prototype.file="";VFileMessage.prototype.name="";VFileMessage.prototype.reason="";VFileMessage.prototype.message="";VFileMessage.prototype.stack="";VFileMessage.prototype.column=void 0;VFileMessage.prototype.line=void 0;VFileMessage.prototype.ancestors=void 0;VFileMessage.prototype.cause=void 0;VFileMessage.prototype.fatal=void 0;VFileMessage.prototype.place=void 0;VFileMessage.prototype.ruleId=void 0;VFileMessage.prototype.source=void 0;const own$7={}.hasOwnProperty,emptyMap=new Map,cap$1=/[A-Z]/g,tableElements=new Set(["table","tbody","thead","tfoot","tr"]),tableCellElement=new Set(["td","th"]),docs="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function toJsxRuntime(n,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const o=e.filePath||void 0;let a;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");a=developmentCreate(o,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");a=productionCreate(o,e.jsx,e.jsxs)}const l={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:a,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:o,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?svg$3:html$3,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},u=one$3(l,n,void 0);return u&&typeof u!="string"?u:l.create(n,l.Fragment,{children:u||void 0},void 0)}function one$3(n,e,o){if(e.type==="element")return element$4(n,e,o);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return mdxExpression(n,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return mdxJsxElement(n,e,o);if(e.type==="mdxjsEsm")return mdxEsm(n,e);if(e.type==="root")return root$3(n,e,o);if(e.type==="text")return text$5(n,e)}function element$4(n,e,o){const a=n.schema;let l=a;e.tagName.toLowerCase()==="svg"&&a.space==="html"&&(l=svg$3,n.schema=l),n.ancestors.push(e);const u=findComponentFromName(n,e.tagName,!1),c=createElementProps(n,e);let f=createChildren(n,e);return tableElements.has(e.tagName)&&(f=f.filter(function(p){return typeof p=="string"?!whitespace(p):!0})),addNode(n,c,u,e),addChildren(c,f),n.ancestors.pop(),n.schema=a,n.create(e,u,c,o)}function mdxExpression(n,e){if(e.data&&e.data.estree&&n.evaluater){const a=e.data.estree.body[0];return a.type,n.evaluater.evaluateExpression(a.expression)}crashEstree(n,e.position)}function mdxEsm(n,e){if(e.data&&e.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(e.data.estree);crashEstree(n,e.position)}function mdxJsxElement(n,e,o){const a=n.schema;let l=a;e.name==="svg"&&a.space==="html"&&(l=svg$3,n.schema=l),n.ancestors.push(e);const u=e.name===null?n.Fragment:findComponentFromName(n,e.name,!0),c=createJsxElementProps(n,e),f=createChildren(n,e);return addNode(n,c,u,e),addChildren(c,f),n.ancestors.pop(),n.schema=a,n.create(e,u,c,o)}function root$3(n,e,o){const a={};return addChildren(a,createChildren(n,e)),n.create(e,n.Fragment,a,o)}function text$5(n,e){return e.value}function addNode(n,e,o,a){typeof o!="string"&&o!==n.Fragment&&n.passNode&&(e.node=a)}function addChildren(n,e){if(e.length>0){const o=e.length>1?e:e[0];o&&(n.children=o)}}function productionCreate(n,e,o){return a;function a(l,u,c,f){const T=Array.isArray(c.children)?o:e;return f?T(u,c,f):T(u,c)}}function developmentCreate(n,e){return o;function o(a,l,u,c){const f=Array.isArray(u.children),p=pointStart(a);return e(l,u,c,f,{columnNumber:p?p.column-1:void 0,fileName:n,lineNumber:p?p.line:void 0},void 0)}}function createElementProps(n,e){const o={};let a,l;for(l in e.properties)if(l!=="children"&&own$7.call(e.properties,l)){const u=createProperty$1(n,l,e.properties[l]);if(u){const[c,f]=u;n.tableCellAlignToStyle&&c==="align"&&typeof f=="string"&&tableCellElement.has(e.tagName)?a=f:o[c]=f}}if(a){const u=o.style||(o.style={});u[n.stylePropertyNameCase==="css"?"text-align":"textAlign"]=a}return o}function createJsxElementProps(n,e){const o={};for(const a of e.attributes)if(a.type==="mdxJsxExpressionAttribute")if(a.data&&a.data.estree&&n.evaluater){const u=a.data.estree.body[0];u.type;const c=u.expression;c.type;const f=c.properties[0];f.type,Object.assign(o,n.evaluater.evaluateExpression(f.argument))}else crashEstree(n,e.position);else{const l=a.name;let u;if(a.value&&typeof a.value=="object")if(a.value.data&&a.value.data.estree&&n.evaluater){const f=a.value.data.estree.body[0];f.type,u=n.evaluater.evaluateExpression(f.expression)}else crashEstree(n,e.position);else u=a.value===null?!0:a.value;o[l]=u}return o}function createChildren(n,e){const o=[];let a=-1;const l=n.passKeys?new Map:emptyMap;for(;++a<e.children.length;){const u=e.children[a];let c;if(n.passKeys){const p=u.type==="element"?u.tagName:u.type==="mdxJsxFlowElement"||u.type==="mdxJsxTextElement"?u.name:void 0;if(p){const T=l.get(p)||0;c=p+"-"+T,l.set(p,T+1)}}const f=one$3(n,u,c);f!==void 0&&o.push(f)}return o}function createProperty$1(n,e,o){const a=find$2(n.schema,e);if(!(o==null||typeof o=="number"&&Number.isNaN(o))){if(Array.isArray(o)&&(o=a.commaSeparated?stringify$1(o):stringify(o)),a.property==="style"){let l=typeof o=="object"?o:parseStyle(n,String(o));return n.stylePropertyNameCase==="css"&&(l=transformStylesToCssCasing(l)),["style",l]}return[n.elementAttributeNameCase==="react"&&a.space?hastToReact[a.property]||a.property:a.attribute,o]}}function parseStyle(n,e){try{return styleToJs(e,{reactCompat:!0})}catch(o){if(n.ignoreInvalidStyle)return{};const a=o,l=new VFileMessage("Cannot parse `style` attribute",{ancestors:n.ancestors,cause:a,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw l.file=n.filePath||void 0,l.url=docs+"#cannot-parse-style-attribute",l}}function findComponentFromName(n,e,o){let a;if(!o)a={type:"Literal",value:e};else if(e.includes(".")){const l=e.split(".");let u=-1,c;for(;++u<l.length;){const f=name$1(l[u])?{type:"Identifier",name:l[u]}:{type:"Literal",value:l[u]};c=c?{type:"MemberExpression",object:c,property:f,computed:!!(u&&f.type==="Literal"),optional:!1}:f}a=c}else a=name$1(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(a.type==="Literal"){const l=a.value;return own$7.call(n.components,l)?n.components[l]:l}if(n.evaluater)return n.evaluater.evaluateExpression(a);crashEstree(n)}function crashEstree(n,e){const o=new VFileMessage("Cannot handle MDX estrees without `createEvaluater`",{ancestors:n.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw o.file=n.filePath||void 0,o.url=docs+"#cannot-handle-mdx-estrees-without-createevaluater",o}function transformStylesToCssCasing(n){const e={};let o;for(o in n)own$7.call(n,o)&&(e[transformStyleToCssCasing(o)]=n[o]);return e}function transformStyleToCssCasing(n){let e=n.replace(cap$1,toDash);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function toDash(n){return"-"+n.toLowerCase()}const urlAttributes={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},emptyOptions$2={};function toString$1(n,e){const o=emptyOptions$2,a=typeof o.includeImageAlt=="boolean"?o.includeImageAlt:!0,l=typeof o.includeHtml=="boolean"?o.includeHtml:!0;return one$2(n,a,l)}function one$2(n,e,o){if(node(n)){if("value"in n)return n.type==="html"&&!o?"":n.value;if(e&&"alt"in n&&n.alt)return n.alt;if("children"in n)return all$3(n.children,e,o)}return Array.isArray(n)?all$3(n,e,o):""}function all$3(n,e,o){const a=[];let l=-1;for(;++l<n.length;)a[l]=one$2(n[l],e,o);return a.join("")}function node(n){return!!(n&&typeof n=="object")}const element$3=document.createElement("i");function decodeNamedCharacterReference(n){const e="&"+n+";";element$3.innerHTML=e;const o=element$3.textContent;return o.charCodeAt(o.length-1)===59&&n!=="semi"||o===e?!1:o}function splice(n,e,o,a){const l=n.length;let u=0,c;if(e<0?e=-e>l?0:l+e:e=e>l?l:e,o=o>0?o:0,a.length<1e4)c=Array.from(a),c.unshift(e,o),n.splice(...c);else for(o&&n.splice(e,o);u<a.length;)c=a.slice(u,u+1e4),c.unshift(e,0),n.splice(...c),u+=1e4,e+=1e4}function push(n,e){return n.length>0?(splice(n,n.length,0,e),n):e}const hasOwnProperty={}.hasOwnProperty;function combineExtensions(n){const e={};let o=-1;for(;++o<n.length;)syntaxExtension(e,n[o]);return e}function syntaxExtension(n,e){let o;for(o in e){const l=(hasOwnProperty.call(n,o)?n[o]:void 0)||(n[o]={}),u=e[o];let c;if(u)for(c in u){hasOwnProperty.call(l,c)||(l[c]=[]);const f=u[c];constructs(l[c],Array.isArray(f)?f:f?[f]:[])}}}function constructs(n,e){let o=-1;const a=[];for(;++o<e.length;)(e[o].add==="after"?n:a).push(e[o]);splice(n,0,0,a)}function decodeNumericCharacterReference(n,e){const o=Number.parseInt(n,e);return o<9||o===11||o>13&&o<32||o>126&&o<160||o>55295&&o<57344||o>64975&&o<65008||(o&65535)===65535||(o&65535)===65534||o>1114111?"":String.fromCodePoint(o)}function normalizeIdentifier(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const asciiAlpha=regexCheck(/[A-Za-z]/),asciiAlphanumeric=regexCheck(/[\dA-Za-z]/),asciiAtext=regexCheck(/[#-'*+\--9=?A-Z^-~]/);function asciiControl(n){return n!==null&&(n<32||n===127)}const asciiDigit=regexCheck(/\d/),asciiHexDigit=regexCheck(/[\dA-Fa-f]/),asciiPunctuation=regexCheck(/[!-/:-@[-`{-~]/);function markdownLineEnding(n){return n!==null&&n<-2}function markdownLineEndingOrSpace(n){return n!==null&&(n<0||n===32)}function markdownSpace(n){return n===-2||n===-1||n===32}const unicodePunctuation=regexCheck(new RegExp("\\p{P}|\\p{S}","u")),unicodeWhitespace=regexCheck(/\s/);function regexCheck(n){return e;function e(o){return o!==null&&o>-1&&n.test(String.fromCharCode(o))}}function normalizeUri(n){const e=[];let o=-1,a=0,l=0;for(;++o<n.length;){const u=n.charCodeAt(o);let c="";if(u===37&&asciiAlphanumeric(n.charCodeAt(o+1))&&asciiAlphanumeric(n.charCodeAt(o+2)))l=2;else if(u<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(u))||(c=String.fromCharCode(u));else if(u>55295&&u<57344){const f=n.charCodeAt(o+1);u<56320&&f>56319&&f<57344?(c=String.fromCharCode(u,f),l=1):c=""}else c=String.fromCharCode(u);c&&(e.push(n.slice(a,o),encodeURIComponent(c)),a=o+l+1,c=""),l&&(o+=l,l=0)}return e.join("")+n.slice(a)}function factorySpace(n,e,o,a){const l=a?a-1:Number.POSITIVE_INFINITY;let u=0;return c;function c(p){return markdownSpace(p)?(n.enter(o),f(p)):e(p)}function f(p){return markdownSpace(p)&&u++<l?(n.consume(p),f):(n.exit(o),e(p))}}const content$2={tokenize:initializeContent};function initializeContent(n){const e=n.attempt(this.parser.constructs.contentInitial,a,l);let o;return e;function a(f){if(f===null){n.consume(f);return}return n.enter("lineEnding"),n.consume(f),n.exit("lineEnding"),factorySpace(n,e,"linePrefix")}function l(f){return n.enter("paragraph"),u(f)}function u(f){const p=n.enter("chunkText",{contentType:"text",previous:o});return o&&(o.next=p),o=p,c(f)}function c(f){if(f===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(f);return}return markdownLineEnding(f)?(n.consume(f),n.exit("chunkText"),u):(n.consume(f),c)}}const document$2={tokenize:initializeDocument},containerConstruct={tokenize:tokenizeContainer};function initializeDocument(n){const e=this,o=[];let a=0,l,u,c;return f;function f(P){if(a<o.length){const F=o[a];return e.containerState=F[1],n.attempt(F[0].continuation,p,T)(P)}return T(P)}function p(P){if(a++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,l&&R();const F=e.events.length;let B=F,G;for(;B--;)if(e.events[B][0]==="exit"&&e.events[B][1].type==="chunkFlow"){G=e.events[B][1].end;break}w(a);let K=F;for(;K<e.events.length;)e.events[K][1].end={...G},K++;return splice(e.events,B+1,0,e.events.slice(F)),e.events.length=K,T(P)}return f(P)}function T(P){if(a===o.length){if(!l)return m(P);if(l.currentConstruct&&l.currentConstruct.concrete)return S(P);e.interrupt=!!(l.currentConstruct&&!l._gfmTableDynamicInterruptHack)}return e.containerState={},n.check(containerConstruct,E,b)(P)}function E(P){return l&&R(),w(a),m(P)}function b(P){return e.parser.lazy[e.now().line]=a!==o.length,c=e.now().offset,S(P)}function m(P){return e.containerState={},n.attempt(containerConstruct,y,S)(P)}function y(P){return a++,o.push([e.currentConstruct,e.containerState]),m(P)}function S(P){if(P===null){l&&R(),w(0),n.consume(P);return}return l=l||e.parser.flow(e.now()),n.enter("chunkFlow",{_tokenizer:l,contentType:"flow",previous:u}),v(P)}function v(P){if(P===null){A(n.exit("chunkFlow"),!0),w(0),n.consume(P);return}return markdownLineEnding(P)?(n.consume(P),A(n.exit("chunkFlow")),a=0,e.interrupt=void 0,f):(n.consume(P),v)}function A(P,F){const B=e.sliceStream(P);if(F&&B.push(null),P.previous=u,u&&(u.next=P),u=P,l.defineSkip(P.start),l.write(B),e.parser.lazy[P.start.line]){let G=l.events.length;for(;G--;)if(l.events[G][1].start.offset<c&&(!l.events[G][1].end||l.events[G][1].end.offset>c))return;const K=e.events.length;let le=K,V,X;for(;le--;)if(e.events[le][0]==="exit"&&e.events[le][1].type==="chunkFlow"){if(V){X=e.events[le][1].end;break}V=!0}for(w(a),G=K;G<e.events.length;)e.events[G][1].end={...X},G++;splice(e.events,le+1,0,e.events.slice(K)),e.events.length=G}}function w(P){let F=o.length;for(;F-- >P;){const B=o[F];e.containerState=B[1],B[0].exit.call(e,n)}o.length=P}function R(){l.write([null]),u=void 0,l=void 0,e.containerState._closeFlow=void 0}}function tokenizeContainer(n,e,o){return factorySpace(n,n.attempt(this.parser.constructs.document,e,o),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function classifyCharacter(n){if(n===null||markdownLineEndingOrSpace(n)||unicodeWhitespace(n))return 1;if(unicodePunctuation(n))return 2}function resolveAll(n,e,o){const a=[];let l=-1;for(;++l<n.length;){const u=n[l].resolveAll;u&&!a.includes(u)&&(e=u(e,o),a.push(u))}return e}const attention={name:"attention",resolveAll:resolveAllAttention,tokenize:tokenizeAttention};function resolveAllAttention(n,e){let o=-1,a,l,u,c,f,p,T,E;for(;++o<n.length;)if(n[o][0]==="enter"&&n[o][1].type==="attentionSequence"&&n[o][1]._close){for(a=o;a--;)if(n[a][0]==="exit"&&n[a][1].type==="attentionSequence"&&n[a][1]._open&&e.sliceSerialize(n[a][1]).charCodeAt(0)===e.sliceSerialize(n[o][1]).charCodeAt(0)){if((n[a][1]._close||n[o][1]._open)&&(n[o][1].end.offset-n[o][1].start.offset)%3&&!((n[a][1].end.offset-n[a][1].start.offset+n[o][1].end.offset-n[o][1].start.offset)%3))continue;p=n[a][1].end.offset-n[a][1].start.offset>1&&n[o][1].end.offset-n[o][1].start.offset>1?2:1;const b={...n[a][1].end},m={...n[o][1].start};movePoint(b,-p),movePoint(m,p),c={type:p>1?"strongSequence":"emphasisSequence",start:b,end:{...n[a][1].end}},f={type:p>1?"strongSequence":"emphasisSequence",start:{...n[o][1].start},end:m},u={type:p>1?"strongText":"emphasisText",start:{...n[a][1].end},end:{...n[o][1].start}},l={type:p>1?"strong":"emphasis",start:{...c.start},end:{...f.end}},n[a][1].end={...c.start},n[o][1].start={...f.end},T=[],n[a][1].end.offset-n[a][1].start.offset&&(T=push(T,[["enter",n[a][1],e],["exit",n[a][1],e]])),T=push(T,[["enter",l,e],["enter",c,e],["exit",c,e],["enter",u,e]]),T=push(T,resolveAll(e.parser.constructs.insideSpan.null,n.slice(a+1,o),e)),T=push(T,[["exit",u,e],["enter",f,e],["exit",f,e],["exit",l,e]]),n[o][1].end.offset-n[o][1].start.offset?(E=2,T=push(T,[["enter",n[o][1],e],["exit",n[o][1],e]])):E=0,splice(n,a-1,o-a+3,T),o=a+T.length-E-2;break}}for(o=-1;++o<n.length;)n[o][1].type==="attentionSequence"&&(n[o][1].type="data");return n}function tokenizeAttention(n,e){const o=this.parser.constructs.attentionMarkers.null,a=this.previous,l=classifyCharacter(a);let u;return c;function c(p){return u=p,n.enter("attentionSequence"),f(p)}function f(p){if(p===u)return n.consume(p),f;const T=n.exit("attentionSequence"),E=classifyCharacter(p),b=!E||E===2&&l||o.includes(p),m=!l||l===2&&E||o.includes(a);return T._open=!!(u===42?b:b&&(l||!m)),T._close=!!(u===42?m:m&&(E||!b)),e(p)}}function movePoint(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}const autolink={name:"autolink",tokenize:tokenizeAutolink};function tokenizeAutolink(n,e,o){let a=0;return l;function l(y){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(y),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),u}function u(y){return asciiAlpha(y)?(n.consume(y),c):y===64?o(y):T(y)}function c(y){return y===43||y===45||y===46||asciiAlphanumeric(y)?(a=1,f(y)):T(y)}function f(y){return y===58?(n.consume(y),a=0,p):(y===43||y===45||y===46||asciiAlphanumeric(y))&&a++<32?(n.consume(y),f):(a=0,T(y))}function p(y){return y===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(y),n.exit("autolinkMarker"),n.exit("autolink"),e):y===null||y===32||y===60||asciiControl(y)?o(y):(n.consume(y),p)}function T(y){return y===64?(n.consume(y),E):asciiAtext(y)?(n.consume(y),T):o(y)}function E(y){return asciiAlphanumeric(y)?b(y):o(y)}function b(y){return y===46?(n.consume(y),a=0,E):y===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(y),n.exit("autolinkMarker"),n.exit("autolink"),e):m(y)}function m(y){if((y===45||asciiAlphanumeric(y))&&a++<63){const S=y===45?m:b;return n.consume(y),S}return o(y)}}const blankLine={partial:!0,tokenize:tokenizeBlankLine};function tokenizeBlankLine(n,e,o){return a;function a(u){return markdownSpace(u)?factorySpace(n,l,"linePrefix")(u):l(u)}function l(u){return u===null||markdownLineEnding(u)?e(u):o(u)}}const blockQuote={continuation:{tokenize:tokenizeBlockQuoteContinuation},exit,name:"blockQuote",tokenize:tokenizeBlockQuoteStart};function tokenizeBlockQuoteStart(n,e,o){const a=this;return l;function l(c){if(c===62){const f=a.containerState;return f.open||(n.enter("blockQuote",{_container:!0}),f.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(c),n.exit("blockQuoteMarker"),u}return o(c)}function u(c){return markdownSpace(c)?(n.enter("blockQuotePrefixWhitespace"),n.consume(c),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(c))}}function tokenizeBlockQuoteContinuation(n,e,o){const a=this;return l;function l(c){return markdownSpace(c)?factorySpace(n,u,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):u(c)}function u(c){return n.attempt(blockQuote,e,o)(c)}}function exit(n){n.exit("blockQuote")}const characterEscape={name:"characterEscape",tokenize:tokenizeCharacterEscape};function tokenizeCharacterEscape(n,e,o){return a;function a(u){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(u),n.exit("escapeMarker"),l}function l(u){return asciiPunctuation(u)?(n.enter("characterEscapeValue"),n.consume(u),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):o(u)}}const characterReference={name:"characterReference",tokenize:tokenizeCharacterReference};function tokenizeCharacterReference(n,e,o){const a=this;let l=0,u,c;return f;function f(b){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(b),n.exit("characterReferenceMarker"),p}function p(b){return b===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(b),n.exit("characterReferenceMarkerNumeric"),T):(n.enter("characterReferenceValue"),u=31,c=asciiAlphanumeric,E(b))}function T(b){return b===88||b===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(b),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),u=6,c=asciiHexDigit,E):(n.enter("characterReferenceValue"),u=7,c=asciiDigit,E(b))}function E(b){if(b===59&&l){const m=n.exit("characterReferenceValue");return c===asciiAlphanumeric&&!decodeNamedCharacterReference(a.sliceSerialize(m))?o(b):(n.enter("characterReferenceMarker"),n.consume(b),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)}return c(b)&&l++<u?(n.consume(b),E):o(b)}}const nonLazyContinuation={partial:!0,tokenize:tokenizeNonLazyContinuation},codeFenced={concrete:!0,name:"codeFenced",tokenize:tokenizeCodeFenced};function tokenizeCodeFenced(n,e,o){const a=this,l={partial:!0,tokenize:B};let u=0,c=0,f;return p;function p(G){return T(G)}function T(G){const K=a.events[a.events.length-1];return u=K&&K[1].type==="linePrefix"?K[2].sliceSerialize(K[1],!0).length:0,f=G,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),E(G)}function E(G){return G===f?(c++,n.consume(G),E):c<3?o(G):(n.exit("codeFencedFenceSequence"),markdownSpace(G)?factorySpace(n,b,"whitespace")(G):b(G))}function b(G){return G===null||markdownLineEnding(G)?(n.exit("codeFencedFence"),a.interrupt?e(G):n.check(nonLazyContinuation,v,F)(G)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),m(G))}function m(G){return G===null||markdownLineEnding(G)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),b(G)):markdownSpace(G)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),factorySpace(n,y,"whitespace")(G)):G===96&&G===f?o(G):(n.consume(G),m)}function y(G){return G===null||markdownLineEnding(G)?b(G):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),S(G))}function S(G){return G===null||markdownLineEnding(G)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),b(G)):G===96&&G===f?o(G):(n.consume(G),S)}function v(G){return n.attempt(l,F,A)(G)}function A(G){return n.enter("lineEnding"),n.consume(G),n.exit("lineEnding"),w}function w(G){return u>0&&markdownSpace(G)?factorySpace(n,R,"linePrefix",u+1)(G):R(G)}function R(G){return G===null||markdownLineEnding(G)?n.check(nonLazyContinuation,v,F)(G):(n.enter("codeFlowValue"),P(G))}function P(G){return G===null||markdownLineEnding(G)?(n.exit("codeFlowValue"),R(G)):(n.consume(G),P)}function F(G){return n.exit("codeFenced"),e(G)}function B(G,K,le){let V=0;return X;function X(ue){return G.enter("lineEnding"),G.consume(ue),G.exit("lineEnding"),W}function W(ue){return G.enter("codeFencedFence"),markdownSpace(ue)?factorySpace(G,H,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ue):H(ue)}function H(ue){return ue===f?(G.enter("codeFencedFenceSequence"),te(ue)):le(ue)}function te(ue){return ue===f?(V++,G.consume(ue),te):V>=c?(G.exit("codeFencedFenceSequence"),markdownSpace(ue)?factorySpace(G,L,"whitespace")(ue):L(ue)):le(ue)}function L(ue){return ue===null||markdownLineEnding(ue)?(G.exit("codeFencedFence"),K(ue)):le(ue)}}}function tokenizeNonLazyContinuation(n,e,o){const a=this;return l;function l(c){return c===null?o(c):(n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),u)}function u(c){return a.parser.lazy[a.now().line]?o(c):e(c)}}const codeIndented={name:"codeIndented",tokenize:tokenizeCodeIndented},furtherStart={partial:!0,tokenize:tokenizeFurtherStart};function tokenizeCodeIndented(n,e,o){const a=this;return l;function l(T){return n.enter("codeIndented"),factorySpace(n,u,"linePrefix",5)(T)}function u(T){const E=a.events[a.events.length-1];return E&&E[1].type==="linePrefix"&&E[2].sliceSerialize(E[1],!0).length>=4?c(T):o(T)}function c(T){return T===null?p(T):markdownLineEnding(T)?n.attempt(furtherStart,c,p)(T):(n.enter("codeFlowValue"),f(T))}function f(T){return T===null||markdownLineEnding(T)?(n.exit("codeFlowValue"),c(T)):(n.consume(T),f)}function p(T){return n.exit("codeIndented"),e(T)}}function tokenizeFurtherStart(n,e,o){const a=this;return l;function l(c){return a.parser.lazy[a.now().line]?o(c):markdownLineEnding(c)?(n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),l):factorySpace(n,u,"linePrefix",5)(c)}function u(c){const f=a.events[a.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?e(c):markdownLineEnding(c)?l(c):o(c)}}const codeText={name:"codeText",previous,resolve:resolveCodeText,tokenize:tokenizeCodeText};function resolveCodeText(n){let e=n.length-4,o=3,a,l;if((n[o][1].type==="lineEnding"||n[o][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(a=o;++a<e;)if(n[a][1].type==="codeTextData"){n[o][1].type="codeTextPadding",n[e][1].type="codeTextPadding",o+=2,e-=2;break}}for(a=o-1,e++;++a<=e;)l===void 0?a!==e&&n[a][1].type!=="lineEnding"&&(l=a):(a===e||n[a][1].type==="lineEnding")&&(n[l][1].type="codeTextData",a!==l+2&&(n[l][1].end=n[a-1][1].end,n.splice(l+2,a-l-2),e-=a-l-2,a=l+2),l=void 0);return n}function previous(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tokenizeCodeText(n,e,o){let a=0,l,u;return c;function c(b){return n.enter("codeText"),n.enter("codeTextSequence"),f(b)}function f(b){return b===96?(n.consume(b),a++,f):(n.exit("codeTextSequence"),p(b))}function p(b){return b===null?o(b):b===32?(n.enter("space"),n.consume(b),n.exit("space"),p):b===96?(u=n.enter("codeTextSequence"),l=0,E(b)):markdownLineEnding(b)?(n.enter("lineEnding"),n.consume(b),n.exit("lineEnding"),p):(n.enter("codeTextData"),T(b))}function T(b){return b===null||b===32||b===96||markdownLineEnding(b)?(n.exit("codeTextData"),p(b)):(n.consume(b),T)}function E(b){return b===96?(n.consume(b),l++,E):l===a?(n.exit("codeTextSequence"),n.exit("codeText"),e(b)):(u.type="codeTextData",T(b))}}class SpliceBuffer{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,o){const a=o??Number.POSITIVE_INFINITY;return a<this.left.length?this.left.slice(e,a):e>this.left.length?this.right.slice(this.right.length-a+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-a+this.left.length).reverse())}splice(e,o,a){const l=o||0;this.setCursor(Math.trunc(e));const u=this.right.splice(this.right.length-l,Number.POSITIVE_INFINITY);return a&&chunkedPush(this.left,a),u.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),chunkedPush(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),chunkedPush(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const o=this.left.splice(e,Number.POSITIVE_INFINITY);chunkedPush(this.right,o.reverse())}else{const o=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);chunkedPush(this.left,o.reverse())}}}function chunkedPush(n,e){let o=0;if(e.length<1e4)n.push(...e);else for(;o<e.length;)n.push(...e.slice(o,o+1e4)),o+=1e4}function subtokenize(n){const e={};let o=-1,a,l,u,c,f,p,T;const E=new SpliceBuffer(n);for(;++o<E.length;){for(;o in e;)o=e[o];if(a=E.get(o),o&&a[1].type==="chunkFlow"&&E.get(o-1)[1].type==="listItemPrefix"&&(p=a[1]._tokenizer.events,u=0,u<p.length&&p[u][1].type==="lineEndingBlank"&&(u+=2),u<p.length&&p[u][1].type==="content"))for(;++u<p.length&&p[u][1].type!=="content";)p[u][1].type==="chunkText"&&(p[u][1]._isInFirstContentOfListItem=!0,u++);if(a[0]==="enter")a[1].contentType&&(Object.assign(e,subcontent(E,o)),o=e[o],T=!0);else if(a[1]._container){for(u=o,l=void 0;u--;)if(c=E.get(u),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(l&&(E.get(l)[1].type="lineEndingBlank"),c[1].type="lineEnding",l=u);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;l&&(a[1].end={...E.get(l)[1].start},f=E.slice(l,o),f.unshift(a),E.splice(l,o-l+1,f))}}return splice(n,0,Number.POSITIVE_INFINITY,E.slice(0)),!T}function subcontent(n,e){const o=n.get(e)[1],a=n.get(e)[2];let l=e-1;const u=[];let c=o._tokenizer;c||(c=a.parser[o.contentType](o.start),o._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const f=c.events,p=[],T={};let E,b,m=-1,y=o,S=0,v=0;const A=[v];for(;y;){for(;n.get(++l)[1]!==y;);u.push(l),y._tokenizer||(E=a.sliceStream(y),y.next||E.push(null),b&&c.defineSkip(y.start),y._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(E),y._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),b=y,y=y.next}for(y=o;++m<f.length;)f[m][0]==="exit"&&f[m-1][0]==="enter"&&f[m][1].type===f[m-1][1].type&&f[m][1].start.line!==f[m][1].end.line&&(v=m+1,A.push(v),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(c.events=[],y?(y._tokenizer=void 0,y.previous=void 0):A.pop(),m=A.length;m--;){const w=f.slice(A[m],A[m+1]),R=u.pop();p.push([R,R+w.length-1]),n.splice(R,2,w)}for(p.reverse(),m=-1;++m<p.length;)T[S+p[m][0]]=S+p[m][1],S+=p[m][1]-p[m][0]-1;return T}const content$1={resolve:resolveContent,tokenize:tokenizeContent},continuationConstruct={partial:!0,tokenize:tokenizeContinuation};function resolveContent(n){return subtokenize(n),n}function tokenizeContent(n,e){let o;return a;function a(f){return n.enter("content"),o=n.enter("chunkContent",{contentType:"content"}),l(f)}function l(f){return f===null?u(f):markdownLineEnding(f)?n.check(continuationConstruct,c,u)(f):(n.consume(f),l)}function u(f){return n.exit("chunkContent"),n.exit("content"),e(f)}function c(f){return n.consume(f),n.exit("chunkContent"),o.next=n.enter("chunkContent",{contentType:"content",previous:o}),o=o.next,l}}function tokenizeContinuation(n,e,o){const a=this;return l;function l(c){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),factorySpace(n,u,"linePrefix")}function u(c){if(c===null||markdownLineEnding(c))return o(c);const f=a.events[a.events.length-1];return!a.parser.constructs.disable.null.includes("codeIndented")&&f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?e(c):n.interrupt(a.parser.constructs.flow,o,e)(c)}}function factoryDestination(n,e,o,a,l,u,c,f,p){const T=p||Number.POSITIVE_INFINITY;let E=0;return b;function b(w){return w===60?(n.enter(a),n.enter(l),n.enter(u),n.consume(w),n.exit(u),m):w===null||w===32||w===41||asciiControl(w)?o(w):(n.enter(a),n.enter(c),n.enter(f),n.enter("chunkString",{contentType:"string"}),v(w))}function m(w){return w===62?(n.enter(u),n.consume(w),n.exit(u),n.exit(l),n.exit(a),e):(n.enter(f),n.enter("chunkString",{contentType:"string"}),y(w))}function y(w){return w===62?(n.exit("chunkString"),n.exit(f),m(w)):w===null||w===60||markdownLineEnding(w)?o(w):(n.consume(w),w===92?S:y)}function S(w){return w===60||w===62||w===92?(n.consume(w),y):y(w)}function v(w){return!E&&(w===null||w===41||markdownLineEndingOrSpace(w))?(n.exit("chunkString"),n.exit(f),n.exit(c),n.exit(a),e(w)):E<T&&w===40?(n.consume(w),E++,v):w===41?(n.consume(w),E--,v):w===null||w===32||w===40||asciiControl(w)?o(w):(n.consume(w),w===92?A:v)}function A(w){return w===40||w===41||w===92?(n.consume(w),v):v(w)}}function factoryLabel(n,e,o,a,l,u){const c=this;let f=0,p;return T;function T(y){return n.enter(a),n.enter(l),n.consume(y),n.exit(l),n.enter(u),E}function E(y){return f>999||y===null||y===91||y===93&&!p||y===94&&!f&&"_hiddenFootnoteSupport"in c.parser.constructs?o(y):y===93?(n.exit(u),n.enter(l),n.consume(y),n.exit(l),n.exit(a),e):markdownLineEnding(y)?(n.enter("lineEnding"),n.consume(y),n.exit("lineEnding"),E):(n.enter("chunkString",{contentType:"string"}),b(y))}function b(y){return y===null||y===91||y===93||markdownLineEnding(y)||f++>999?(n.exit("chunkString"),E(y)):(n.consume(y),p||(p=!markdownSpace(y)),y===92?m:b)}function m(y){return y===91||y===92||y===93?(n.consume(y),f++,b):b(y)}}function factoryTitle(n,e,o,a,l,u){let c;return f;function f(m){return m===34||m===39||m===40?(n.enter(a),n.enter(l),n.consume(m),n.exit(l),c=m===40?41:m,p):o(m)}function p(m){return m===c?(n.enter(l),n.consume(m),n.exit(l),n.exit(a),e):(n.enter(u),T(m))}function T(m){return m===c?(n.exit(u),p(c)):m===null?o(m):markdownLineEnding(m)?(n.enter("lineEnding"),n.consume(m),n.exit("lineEnding"),factorySpace(n,T,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),E(m))}function E(m){return m===c||m===null||markdownLineEnding(m)?(n.exit("chunkString"),T(m)):(n.consume(m),m===92?b:E)}function b(m){return m===c||m===92?(n.consume(m),E):E(m)}}function factoryWhitespace(n,e){let o;return a;function a(l){return markdownLineEnding(l)?(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),o=!0,a):markdownSpace(l)?factorySpace(n,a,o?"linePrefix":"lineSuffix")(l):e(l)}}const definition={name:"definition",tokenize:tokenizeDefinition},titleBefore={partial:!0,tokenize:tokenizeTitleBefore};function tokenizeDefinition(n,e,o){const a=this;let l;return u;function u(y){return n.enter("definition"),c(y)}function c(y){return factoryLabel.call(a,n,f,o,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function f(y){return l=normalizeIdentifier(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)),y===58?(n.enter("definitionMarker"),n.consume(y),n.exit("definitionMarker"),p):o(y)}function p(y){return markdownLineEndingOrSpace(y)?factoryWhitespace(n,T)(y):T(y)}function T(y){return factoryDestination(n,E,o,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function E(y){return n.attempt(titleBefore,b,b)(y)}function b(y){return markdownSpace(y)?factorySpace(n,m,"whitespace")(y):m(y)}function m(y){return y===null||markdownLineEnding(y)?(n.exit("definition"),a.parser.defined.push(l),e(y)):o(y)}}function tokenizeTitleBefore(n,e,o){return a;function a(f){return markdownLineEndingOrSpace(f)?factoryWhitespace(n,l)(f):o(f)}function l(f){return factoryTitle(n,u,o,"definitionTitle","definitionTitleMarker","definitionTitleString")(f)}function u(f){return markdownSpace(f)?factorySpace(n,c,"whitespace")(f):c(f)}function c(f){return f===null||markdownLineEnding(f)?e(f):o(f)}}const hardBreakEscape={name:"hardBreakEscape",tokenize:tokenizeHardBreakEscape};function tokenizeHardBreakEscape(n,e,o){return a;function a(u){return n.enter("hardBreakEscape"),n.consume(u),l}function l(u){return markdownLineEnding(u)?(n.exit("hardBreakEscape"),e(u)):o(u)}}const headingAtx={name:"headingAtx",resolve:resolveHeadingAtx,tokenize:tokenizeHeadingAtx};function resolveHeadingAtx(n,e){let o=n.length-2,a=3,l,u;return n[a][1].type==="whitespace"&&(a+=2),o-2>a&&n[o][1].type==="whitespace"&&(o-=2),n[o][1].type==="atxHeadingSequence"&&(a===o-1||o-4>a&&n[o-2][1].type==="whitespace")&&(o-=a+1===o?2:4),o>a&&(l={type:"atxHeadingText",start:n[a][1].start,end:n[o][1].end},u={type:"chunkText",start:n[a][1].start,end:n[o][1].end,contentType:"text"},splice(n,a,o-a+1,[["enter",l,e],["enter",u,e],["exit",u,e],["exit",l,e]])),n}function tokenizeHeadingAtx(n,e,o){let a=0;return l;function l(E){return n.enter("atxHeading"),u(E)}function u(E){return n.enter("atxHeadingSequence"),c(E)}function c(E){return E===35&&a++<6?(n.consume(E),c):E===null||markdownLineEndingOrSpace(E)?(n.exit("atxHeadingSequence"),f(E)):o(E)}function f(E){return E===35?(n.enter("atxHeadingSequence"),p(E)):E===null||markdownLineEnding(E)?(n.exit("atxHeading"),e(E)):markdownSpace(E)?factorySpace(n,f,"whitespace")(E):(n.enter("atxHeadingText"),T(E))}function p(E){return E===35?(n.consume(E),p):(n.exit("atxHeadingSequence"),f(E))}function T(E){return E===null||E===35||markdownLineEndingOrSpace(E)?(n.exit("atxHeadingText"),f(E)):(n.consume(E),T)}}const htmlBlockNames=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],htmlRawNames=["pre","script","style","textarea"],htmlFlow={concrete:!0,name:"htmlFlow",resolveTo:resolveToHtmlFlow,tokenize:tokenizeHtmlFlow},blankLineBefore={partial:!0,tokenize:tokenizeBlankLineBefore},nonLazyContinuationStart={partial:!0,tokenize:tokenizeNonLazyContinuationStart};function resolveToHtmlFlow(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function tokenizeHtmlFlow(n,e,o){const a=this;let l,u,c,f,p;return T;function T(Q){return E(Q)}function E(Q){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(Q),b}function b(Q){return Q===33?(n.consume(Q),m):Q===47?(n.consume(Q),u=!0,v):Q===63?(n.consume(Q),l=3,a.interrupt?e:j):asciiAlpha(Q)?(n.consume(Q),c=String.fromCharCode(Q),A):o(Q)}function m(Q){return Q===45?(n.consume(Q),l=2,y):Q===91?(n.consume(Q),l=5,f=0,S):asciiAlpha(Q)?(n.consume(Q),l=4,a.interrupt?e:j):o(Q)}function y(Q){return Q===45?(n.consume(Q),a.interrupt?e:j):o(Q)}function S(Q){const be="CDATA[";return Q===be.charCodeAt(f++)?(n.consume(Q),f===be.length?a.interrupt?e:H:S):o(Q)}function v(Q){return asciiAlpha(Q)?(n.consume(Q),c=String.fromCharCode(Q),A):o(Q)}function A(Q){if(Q===null||Q===47||Q===62||markdownLineEndingOrSpace(Q)){const be=Q===47,we=c.toLowerCase();return!be&&!u&&htmlRawNames.includes(we)?(l=1,a.interrupt?e(Q):H(Q)):htmlBlockNames.includes(c.toLowerCase())?(l=6,be?(n.consume(Q),w):a.interrupt?e(Q):H(Q)):(l=7,a.interrupt&&!a.parser.lazy[a.now().line]?o(Q):u?R(Q):P(Q))}return Q===45||asciiAlphanumeric(Q)?(n.consume(Q),c+=String.fromCharCode(Q),A):o(Q)}function w(Q){return Q===62?(n.consume(Q),a.interrupt?e:H):o(Q)}function R(Q){return markdownSpace(Q)?(n.consume(Q),R):X(Q)}function P(Q){return Q===47?(n.consume(Q),X):Q===58||Q===95||asciiAlpha(Q)?(n.consume(Q),F):markdownSpace(Q)?(n.consume(Q),P):X(Q)}function F(Q){return Q===45||Q===46||Q===58||Q===95||asciiAlphanumeric(Q)?(n.consume(Q),F):B(Q)}function B(Q){return Q===61?(n.consume(Q),G):markdownSpace(Q)?(n.consume(Q),B):P(Q)}function G(Q){return Q===null||Q===60||Q===61||Q===62||Q===96?o(Q):Q===34||Q===39?(n.consume(Q),p=Q,K):markdownSpace(Q)?(n.consume(Q),G):le(Q)}function K(Q){return Q===p?(n.consume(Q),p=null,V):Q===null||markdownLineEnding(Q)?o(Q):(n.consume(Q),K)}function le(Q){return Q===null||Q===34||Q===39||Q===47||Q===60||Q===61||Q===62||Q===96||markdownLineEndingOrSpace(Q)?B(Q):(n.consume(Q),le)}function V(Q){return Q===47||Q===62||markdownSpace(Q)?P(Q):o(Q)}function X(Q){return Q===62?(n.consume(Q),W):o(Q)}function W(Q){return Q===null||markdownLineEnding(Q)?H(Q):markdownSpace(Q)?(n.consume(Q),W):o(Q)}function H(Q){return Q===45&&l===2?(n.consume(Q),Ce):Q===60&&l===1?(n.consume(Q),fe):Q===62&&l===4?(n.consume(Q),Y):Q===63&&l===3?(n.consume(Q),j):Q===93&&l===5?(n.consume(Q),he):markdownLineEnding(Q)&&(l===6||l===7)?(n.exit("htmlFlowData"),n.check(blankLineBefore,Z,te)(Q)):Q===null||markdownLineEnding(Q)?(n.exit("htmlFlowData"),te(Q)):(n.consume(Q),H)}function te(Q){return n.check(nonLazyContinuationStart,L,Z)(Q)}function L(Q){return n.enter("lineEnding"),n.consume(Q),n.exit("lineEnding"),ue}function ue(Q){return Q===null||markdownLineEnding(Q)?te(Q):(n.enter("htmlFlowData"),H(Q))}function Ce(Q){return Q===45?(n.consume(Q),j):H(Q)}function fe(Q){return Q===47?(n.consume(Q),c="",ye):H(Q)}function ye(Q){if(Q===62){const be=c.toLowerCase();return htmlRawNames.includes(be)?(n.consume(Q),Y):H(Q)}return asciiAlpha(Q)&&c.length<8?(n.consume(Q),c+=String.fromCharCode(Q),ye):H(Q)}function he(Q){return Q===93?(n.consume(Q),j):H(Q)}function j(Q){return Q===62?(n.consume(Q),Y):Q===45&&l===2?(n.consume(Q),j):H(Q)}function Y(Q){return Q===null||markdownLineEnding(Q)?(n.exit("htmlFlowData"),Z(Q)):(n.consume(Q),Y)}function Z(Q){return n.exit("htmlFlow"),e(Q)}}function tokenizeNonLazyContinuationStart(n,e,o){const a=this;return l;function l(c){return markdownLineEnding(c)?(n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),u):o(c)}function u(c){return a.parser.lazy[a.now().line]?o(c):e(c)}}function tokenizeBlankLineBefore(n,e,o){return a;function a(l){return n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),n.attempt(blankLine,e,o)}}const htmlText={name:"htmlText",tokenize:tokenizeHtmlText};function tokenizeHtmlText(n,e,o){const a=this;let l,u,c;return f;function f(j){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(j),p}function p(j){return j===33?(n.consume(j),T):j===47?(n.consume(j),B):j===63?(n.consume(j),P):asciiAlpha(j)?(n.consume(j),le):o(j)}function T(j){return j===45?(n.consume(j),E):j===91?(n.consume(j),u=0,S):asciiAlpha(j)?(n.consume(j),R):o(j)}function E(j){return j===45?(n.consume(j),y):o(j)}function b(j){return j===null?o(j):j===45?(n.consume(j),m):markdownLineEnding(j)?(c=b,fe(j)):(n.consume(j),b)}function m(j){return j===45?(n.consume(j),y):b(j)}function y(j){return j===62?Ce(j):j===45?m(j):b(j)}function S(j){const Y="CDATA[";return j===Y.charCodeAt(u++)?(n.consume(j),u===Y.length?v:S):o(j)}function v(j){return j===null?o(j):j===93?(n.consume(j),A):markdownLineEnding(j)?(c=v,fe(j)):(n.consume(j),v)}function A(j){return j===93?(n.consume(j),w):v(j)}function w(j){return j===62?Ce(j):j===93?(n.consume(j),w):v(j)}function R(j){return j===null||j===62?Ce(j):markdownLineEnding(j)?(c=R,fe(j)):(n.consume(j),R)}function P(j){return j===null?o(j):j===63?(n.consume(j),F):markdownLineEnding(j)?(c=P,fe(j)):(n.consume(j),P)}function F(j){return j===62?Ce(j):P(j)}function B(j){return asciiAlpha(j)?(n.consume(j),G):o(j)}function G(j){return j===45||asciiAlphanumeric(j)?(n.consume(j),G):K(j)}function K(j){return markdownLineEnding(j)?(c=K,fe(j)):markdownSpace(j)?(n.consume(j),K):Ce(j)}function le(j){return j===45||asciiAlphanumeric(j)?(n.consume(j),le):j===47||j===62||markdownLineEndingOrSpace(j)?V(j):o(j)}function V(j){return j===47?(n.consume(j),Ce):j===58||j===95||asciiAlpha(j)?(n.consume(j),X):markdownLineEnding(j)?(c=V,fe(j)):markdownSpace(j)?(n.consume(j),V):Ce(j)}function X(j){return j===45||j===46||j===58||j===95||asciiAlphanumeric(j)?(n.consume(j),X):W(j)}function W(j){return j===61?(n.consume(j),H):markdownLineEnding(j)?(c=W,fe(j)):markdownSpace(j)?(n.consume(j),W):V(j)}function H(j){return j===null||j===60||j===61||j===62||j===96?o(j):j===34||j===39?(n.consume(j),l=j,te):markdownLineEnding(j)?(c=H,fe(j)):markdownSpace(j)?(n.consume(j),H):(n.consume(j),L)}function te(j){return j===l?(n.consume(j),l=void 0,ue):j===null?o(j):markdownLineEnding(j)?(c=te,fe(j)):(n.consume(j),te)}function L(j){return j===null||j===34||j===39||j===60||j===61||j===96?o(j):j===47||j===62||markdownLineEndingOrSpace(j)?V(j):(n.consume(j),L)}function ue(j){return j===47||j===62||markdownLineEndingOrSpace(j)?V(j):o(j)}function Ce(j){return j===62?(n.consume(j),n.exit("htmlTextData"),n.exit("htmlText"),e):o(j)}function fe(j){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(j),n.exit("lineEnding"),ye}function ye(j){return markdownSpace(j)?factorySpace(n,he,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):he(j)}function he(j){return n.enter("htmlTextData"),c(j)}}const labelEnd={name:"labelEnd",resolveAll:resolveAllLabelEnd,resolveTo:resolveToLabelEnd,tokenize:tokenizeLabelEnd},resourceConstruct={tokenize:tokenizeResource},referenceFullConstruct={tokenize:tokenizeReferenceFull},referenceCollapsedConstruct={tokenize:tokenizeReferenceCollapsed};function resolveAllLabelEnd(n){let e=-1;const o=[];for(;++e<n.length;){const a=n[e][1];if(o.push(n[e]),a.type==="labelImage"||a.type==="labelLink"||a.type==="labelEnd"){const l=a.type==="labelImage"?4:2;a.type="data",e+=l}}return n.length!==o.length&&splice(n,0,n.length,o),n}function resolveToLabelEnd(n,e){let o=n.length,a=0,l,u,c,f;for(;o--;)if(l=n[o][1],u){if(l.type==="link"||l.type==="labelLink"&&l._inactive)break;n[o][0]==="enter"&&l.type==="labelLink"&&(l._inactive=!0)}else if(c){if(n[o][0]==="enter"&&(l.type==="labelImage"||l.type==="labelLink")&&!l._balanced&&(u=o,l.type!=="labelLink")){a=2;break}}else l.type==="labelEnd"&&(c=o);const p={type:n[u][1].type==="labelLink"?"link":"image",start:{...n[u][1].start},end:{...n[n.length-1][1].end}},T={type:"label",start:{...n[u][1].start},end:{...n[c][1].end}},E={type:"labelText",start:{...n[u+a+2][1].end},end:{...n[c-2][1].start}};return f=[["enter",p,e],["enter",T,e]],f=push(f,n.slice(u+1,u+a+3)),f=push(f,[["enter",E,e]]),f=push(f,resolveAll(e.parser.constructs.insideSpan.null,n.slice(u+a+4,c-3),e)),f=push(f,[["exit",E,e],n[c-2],n[c-1],["exit",T,e]]),f=push(f,n.slice(c+1)),f=push(f,[["exit",p,e]]),splice(n,u,n.length,f),n}function tokenizeLabelEnd(n,e,o){const a=this;let l=a.events.length,u,c;for(;l--;)if((a.events[l][1].type==="labelImage"||a.events[l][1].type==="labelLink")&&!a.events[l][1]._balanced){u=a.events[l][1];break}return f;function f(m){return u?u._inactive?b(m):(c=a.parser.defined.includes(normalizeIdentifier(a.sliceSerialize({start:u.end,end:a.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(m),n.exit("labelMarker"),n.exit("labelEnd"),p):o(m)}function p(m){return m===40?n.attempt(resourceConstruct,E,c?E:b)(m):m===91?n.attempt(referenceFullConstruct,E,c?T:b)(m):c?E(m):b(m)}function T(m){return n.attempt(referenceCollapsedConstruct,E,b)(m)}function E(m){return e(m)}function b(m){return u._balanced=!0,o(m)}}function tokenizeResource(n,e,o){return a;function a(b){return n.enter("resource"),n.enter("resourceMarker"),n.consume(b),n.exit("resourceMarker"),l}function l(b){return markdownLineEndingOrSpace(b)?factoryWhitespace(n,u)(b):u(b)}function u(b){return b===41?E(b):factoryDestination(n,c,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(b)}function c(b){return markdownLineEndingOrSpace(b)?factoryWhitespace(n,p)(b):E(b)}function f(b){return o(b)}function p(b){return b===34||b===39||b===40?factoryTitle(n,T,o,"resourceTitle","resourceTitleMarker","resourceTitleString")(b):E(b)}function T(b){return markdownLineEndingOrSpace(b)?factoryWhitespace(n,E)(b):E(b)}function E(b){return b===41?(n.enter("resourceMarker"),n.consume(b),n.exit("resourceMarker"),n.exit("resource"),e):o(b)}}function tokenizeReferenceFull(n,e,o){const a=this;return l;function l(f){return factoryLabel.call(a,n,u,c,"reference","referenceMarker","referenceString")(f)}function u(f){return a.parser.defined.includes(normalizeIdentifier(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)))?e(f):o(f)}function c(f){return o(f)}}function tokenizeReferenceCollapsed(n,e,o){return a;function a(u){return n.enter("reference"),n.enter("referenceMarker"),n.consume(u),n.exit("referenceMarker"),l}function l(u){return u===93?(n.enter("referenceMarker"),n.consume(u),n.exit("referenceMarker"),n.exit("reference"),e):o(u)}}const labelStartImage={name:"labelStartImage",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartImage};function tokenizeLabelStartImage(n,e,o){const a=this;return l;function l(f){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(f),n.exit("labelImageMarker"),u}function u(f){return f===91?(n.enter("labelMarker"),n.consume(f),n.exit("labelMarker"),n.exit("labelImage"),c):o(f)}function c(f){return f===94&&"_hiddenFootnoteSupport"in a.parser.constructs?o(f):e(f)}}const labelStartLink={name:"labelStartLink",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartLink};function tokenizeLabelStartLink(n,e,o){const a=this;return l;function l(c){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(c),n.exit("labelMarker"),n.exit("labelLink"),u}function u(c){return c===94&&"_hiddenFootnoteSupport"in a.parser.constructs?o(c):e(c)}}const lineEnding={name:"lineEnding",tokenize:tokenizeLineEnding};function tokenizeLineEnding(n,e){return o;function o(a){return n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),factorySpace(n,e,"linePrefix")}}const thematicBreak$1={name:"thematicBreak",tokenize:tokenizeThematicBreak};function tokenizeThematicBreak(n,e,o){let a=0,l;return u;function u(T){return n.enter("thematicBreak"),c(T)}function c(T){return l=T,f(T)}function f(T){return T===l?(n.enter("thematicBreakSequence"),p(T)):a>=3&&(T===null||markdownLineEnding(T))?(n.exit("thematicBreak"),e(T)):o(T)}function p(T){return T===l?(n.consume(T),a++,p):(n.exit("thematicBreakSequence"),markdownSpace(T)?factorySpace(n,f,"whitespace")(T):f(T))}}const list$1={continuation:{tokenize:tokenizeListContinuation},exit:tokenizeListEnd,name:"list",tokenize:tokenizeListStart},listItemPrefixWhitespaceConstruct={partial:!0,tokenize:tokenizeListItemPrefixWhitespace},indentConstruct={partial:!0,tokenize:tokenizeIndent};function tokenizeListStart(n,e,o){const a=this,l=a.events[a.events.length-1];let u=l&&l[1].type==="linePrefix"?l[2].sliceSerialize(l[1],!0).length:0,c=0;return f;function f(y){const S=a.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(S==="listUnordered"?!a.containerState.marker||y===a.containerState.marker:asciiDigit(y)){if(a.containerState.type||(a.containerState.type=S,n.enter(S,{_container:!0})),S==="listUnordered")return n.enter("listItemPrefix"),y===42||y===45?n.check(thematicBreak$1,o,T)(y):T(y);if(!a.interrupt||y===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),p(y)}return o(y)}function p(y){return asciiDigit(y)&&++c<10?(n.consume(y),p):(!a.interrupt||c<2)&&(a.containerState.marker?y===a.containerState.marker:y===41||y===46)?(n.exit("listItemValue"),T(y)):o(y)}function T(y){return n.enter("listItemMarker"),n.consume(y),n.exit("listItemMarker"),a.containerState.marker=a.containerState.marker||y,n.check(blankLine,a.interrupt?o:E,n.attempt(listItemPrefixWhitespaceConstruct,m,b))}function E(y){return a.containerState.initialBlankLine=!0,u++,m(y)}function b(y){return markdownSpace(y)?(n.enter("listItemPrefixWhitespace"),n.consume(y),n.exit("listItemPrefixWhitespace"),m):o(y)}function m(y){return a.containerState.size=u+a.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(y)}}function tokenizeListContinuation(n,e,o){const a=this;return a.containerState._closeFlow=void 0,n.check(blankLine,l,u);function l(f){return a.containerState.furtherBlankLines=a.containerState.furtherBlankLines||a.containerState.initialBlankLine,factorySpace(n,e,"listItemIndent",a.containerState.size+1)(f)}function u(f){return a.containerState.furtherBlankLines||!markdownSpace(f)?(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,c(f)):(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,n.attempt(indentConstruct,e,c)(f))}function c(f){return a.containerState._closeFlow=!0,a.interrupt=void 0,factorySpace(n,n.attempt(list$1,e,o),"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f)}}function tokenizeIndent(n,e,o){const a=this;return factorySpace(n,l,"listItemIndent",a.containerState.size+1);function l(u){const c=a.events[a.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===a.containerState.size?e(u):o(u)}}function tokenizeListEnd(n){n.exit(this.containerState.type)}function tokenizeListItemPrefixWhitespace(n,e,o){const a=this;return factorySpace(n,l,"listItemPrefixWhitespace",a.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function l(u){const c=a.events[a.events.length-1];return!markdownSpace(u)&&c&&c[1].type==="listItemPrefixWhitespace"?e(u):o(u)}}const setextUnderline={name:"setextUnderline",resolveTo:resolveToSetextUnderline,tokenize:tokenizeSetextUnderline};function resolveToSetextUnderline(n,e){let o=n.length,a,l,u;for(;o--;)if(n[o][0]==="enter"){if(n[o][1].type==="content"){a=o;break}n[o][1].type==="paragraph"&&(l=o)}else n[o][1].type==="content"&&n.splice(o,1),!u&&n[o][1].type==="definition"&&(u=o);const c={type:"setextHeading",start:{...n[a][1].start},end:{...n[n.length-1][1].end}};return n[l][1].type="setextHeadingText",u?(n.splice(l,0,["enter",c,e]),n.splice(u+1,0,["exit",n[a][1],e]),n[a][1].end={...n[u][1].end}):n[a][1]=c,n.push(["exit",c,e]),n}function tokenizeSetextUnderline(n,e,o){const a=this;let l;return u;function u(T){let E=a.events.length,b;for(;E--;)if(a.events[E][1].type!=="lineEnding"&&a.events[E][1].type!=="linePrefix"&&a.events[E][1].type!=="content"){b=a.events[E][1].type==="paragraph";break}return!a.parser.lazy[a.now().line]&&(a.interrupt||b)?(n.enter("setextHeadingLine"),l=T,c(T)):o(T)}function c(T){return n.enter("setextHeadingLineSequence"),f(T)}function f(T){return T===l?(n.consume(T),f):(n.exit("setextHeadingLineSequence"),markdownSpace(T)?factorySpace(n,p,"lineSuffix")(T):p(T))}function p(T){return T===null||markdownLineEnding(T)?(n.exit("setextHeadingLine"),e(T)):o(T)}}const flow$1={tokenize:initializeFlow};function initializeFlow(n){const e=this,o=n.attempt(blankLine,a,n.attempt(this.parser.constructs.flowInitial,l,factorySpace(n,n.attempt(this.parser.constructs.flow,l,n.attempt(content$1,l)),"linePrefix")));return o;function a(u){if(u===null){n.consume(u);return}return n.enter("lineEndingBlank"),n.consume(u),n.exit("lineEndingBlank"),e.currentConstruct=void 0,o}function l(u){if(u===null){n.consume(u);return}return n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),e.currentConstruct=void 0,o}}const resolver={resolveAll:createResolver()},string$2=initializeFactory("string"),text$4=initializeFactory("text");function initializeFactory(n){return{resolveAll:createResolver(n==="text"?resolveAllLineSuffixes:void 0),tokenize:e};function e(o){const a=this,l=this.parser.constructs[n],u=o.attempt(l,c,f);return c;function c(E){return T(E)?u(E):f(E)}function f(E){if(E===null){o.consume(E);return}return o.enter("data"),o.consume(E),p}function p(E){return T(E)?(o.exit("data"),u(E)):(o.consume(E),p)}function T(E){if(E===null)return!0;const b=l[E];let m=-1;if(b)for(;++m<b.length;){const y=b[m];if(!y.previous||y.previous.call(a,a.previous))return!0}return!1}}}function createResolver(n){return e;function e(o,a){let l=-1,u;for(;++l<=o.length;)u===void 0?o[l]&&o[l][1].type==="data"&&(u=l,l++):(!o[l]||o[l][1].type!=="data")&&(l!==u+2&&(o[u][1].end=o[l-1][1].end,o.splice(u+2,l-u-2),l=u+2),u=void 0);return n?n(o,a):o}}function resolveAllLineSuffixes(n,e){let o=0;for(;++o<=n.length;)if((o===n.length||n[o][1].type==="lineEnding")&&n[o-1][1].type==="data"){const a=n[o-1][1],l=e.sliceStream(a);let u=l.length,c=-1,f=0,p;for(;u--;){const T=l[u];if(typeof T=="string"){for(c=T.length;T.charCodeAt(c-1)===32;)f++,c--;if(c)break;c=-1}else if(T===-2)p=!0,f++;else if(T!==-1){u++;break}}if(e._contentTypeTextTrailing&&o===n.length&&(f=0),f){const T={type:o===n.length||p||f<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:u?c:a.start._bufferIndex+c,_index:a.start._index+u,line:a.end.line,column:a.end.column-f,offset:a.end.offset-f},end:{...a.end}};a.end={...T.start},a.start.offset===a.end.offset?Object.assign(a,T):(n.splice(o,0,["enter",T,e],["exit",T,e]),o+=2)}o++}return n}const document$1={42:list$1,43:list$1,45:list$1,48:list$1,49:list$1,50:list$1,51:list$1,52:list$1,53:list$1,54:list$1,55:list$1,56:list$1,57:list$1,62:blockQuote},contentInitial={91:definition},flowInitial={[-2]:codeIndented,[-1]:codeIndented,32:codeIndented},flow={35:headingAtx,42:thematicBreak$1,45:[setextUnderline,thematicBreak$1],60:htmlFlow,61:setextUnderline,95:thematicBreak$1,96:codeFenced,126:codeFenced},string$1={38:characterReference,92:characterEscape},text$3={[-5]:lineEnding,[-4]:lineEnding,[-3]:lineEnding,33:labelStartImage,38:characterReference,42:attention,60:[autolink,htmlText],91:labelStartLink,92:[hardBreakEscape,characterEscape],93:labelEnd,95:attention,96:codeText},insideSpan={null:[attention,resolver]},attentionMarkers={null:[42,95]},disable={null:[]},defaultConstructs=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers,contentInitial,disable,document:document$1,flow,flowInitial,insideSpan,string:string$1,text:text$3},Symbol.toStringTag,{value:"Module"}));function createTokenizer(n,e,o){let a={_bufferIndex:-1,_index:0,line:o&&o.line||1,column:o&&o.column||1,offset:o&&o.offset||0};const l={},u=[];let c=[],f=[];const p={attempt:K(B),check:K(G),consume:R,enter:P,exit:F,interrupt:K(G,{interrupt:!0})},T={code:null,containerState:{},defineSkip:v,events:[],now:S,parser:n,previous:null,sliceSerialize:m,sliceStream:y,write:b};let E=e.tokenize.call(T,p);return e.resolveAll&&u.push(e),T;function b(W){return c=push(c,W),A(),c[c.length-1]!==null?[]:(le(e,0),T.events=resolveAll(u,T.events,T),T.events)}function m(W,H){return serializeChunks(y(W),H)}function y(W){return sliceChunks(c,W)}function S(){const{_bufferIndex:W,_index:H,line:te,column:L,offset:ue}=a;return{_bufferIndex:W,_index:H,line:te,column:L,offset:ue}}function v(W){l[W.line]=W.column,X()}function A(){let W;for(;a._index<c.length;){const H=c[a._index];if(typeof H=="string")for(W=a._index,a._bufferIndex<0&&(a._bufferIndex=0);a._index===W&&a._bufferIndex<H.length;)w(H.charCodeAt(a._bufferIndex));else w(H)}}function w(W){E=E(W)}function R(W){markdownLineEnding(W)?(a.line++,a.column=1,a.offset+=W===-3?2:1,X()):W!==-1&&(a.column++,a.offset++),a._bufferIndex<0?a._index++:(a._bufferIndex++,a._bufferIndex===c[a._index].length&&(a._bufferIndex=-1,a._index++)),T.previous=W}function P(W,H){const te=H||{};return te.type=W,te.start=S(),T.events.push(["enter",te,T]),f.push(te),te}function F(W){const H=f.pop();return H.end=S(),T.events.push(["exit",H,T]),H}function B(W,H){le(W,H.from)}function G(W,H){H.restore()}function K(W,H){return te;function te(L,ue,Ce){let fe,ye,he,j;return Array.isArray(L)?Z(L):"tokenize"in L?Z([L]):Y(L);function Y(Ue){return Ye;function Ye(He){const je=He!==null&&Ue[He],Xe=He!==null&&Ue.null,et=[...Array.isArray(je)?je:je?[je]:[],...Array.isArray(Xe)?Xe:Xe?[Xe]:[]];return Z(et)(He)}}function Z(Ue){return fe=Ue,ye=0,Ue.length===0?Ce:Q(Ue[ye])}function Q(Ue){return Ye;function Ye(He){return j=V(),he=Ue,Ue.partial||(T.currentConstruct=Ue),Ue.name&&T.parser.constructs.disable.null.includes(Ue.name)?we():Ue.tokenize.call(H?Object.assign(Object.create(T),H):T,p,be,we)(He)}}function be(Ue){return W(he,j),ue}function we(Ue){return j.restore(),++ye<fe.length?Q(fe[ye]):Ce}}}function le(W,H){W.resolveAll&&!u.includes(W)&&u.push(W),W.resolve&&splice(T.events,H,T.events.length-H,W.resolve(T.events.slice(H),T)),W.resolveTo&&(T.events=W.resolveTo(T.events,T))}function V(){const W=S(),H=T.previous,te=T.currentConstruct,L=T.events.length,ue=Array.from(f);return{from:L,restore:Ce};function Ce(){a=W,T.previous=H,T.currentConstruct=te,T.events.length=L,f=ue,X()}}function X(){a.line in l&&a.column<2&&(a.column=l[a.line],a.offset+=l[a.line]-1)}}function sliceChunks(n,e){const o=e.start._index,a=e.start._bufferIndex,l=e.end._index,u=e.end._bufferIndex;let c;if(o===l)c=[n[o].slice(a,u)];else{if(c=n.slice(o,l),a>-1){const f=c[0];typeof f=="string"?c[0]=f.slice(a):c.shift()}u>0&&c.push(n[l].slice(0,u))}return c}function serializeChunks(n,e){let o=-1;const a=[];let l;for(;++o<n.length;){const u=n[o];let c;if(typeof u=="string")c=u;else switch(u){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=e?" ":"	";break}case-1:{if(!e&&l)continue;c=" ";break}default:c=String.fromCharCode(u)}l=u===-2,a.push(c)}return a.join("")}function parse(n){const a={constructs:combineExtensions([defaultConstructs,...(n||{}).extensions||[]]),content:l(content$2),defined:[],document:l(document$2),flow:l(flow$1),lazy:{},string:l(string$2),text:l(text$4)};return a;function l(u){return c;function c(f){return createTokenizer(a,u,f)}}}function postprocess(n){for(;!subtokenize(n););return n}const search$1=/[\0\t\n\r]/g;function preprocess(){let n=1,e="",o=!0,a;return l;function l(u,c,f){const p=[];let T,E,b,m,y;for(u=e+(typeof u=="string"?u.toString():new TextDecoder(c||void 0).decode(u)),b=0,e="",o&&(u.charCodeAt(0)===65279&&b++,o=void 0);b<u.length;){if(search$1.lastIndex=b,T=search$1.exec(u),m=T&&T.index!==void 0?T.index:u.length,y=u.charCodeAt(m),!T){e=u.slice(b);break}if(y===10&&b===m&&a)p.push(-3),a=void 0;else switch(a&&(p.push(-5),a=void 0),b<m&&(p.push(u.slice(b,m)),n+=m-b),y){case 0:{p.push(65533),n++;break}case 9:{for(E=Math.ceil(n/4)*4,p.push(-2);n++<E;)p.push(-1);break}case 10:{p.push(-4),n=1;break}default:a=!0,n=1}b=m+1}return f&&(a&&p.push(-5),e&&p.push(e),p.push(null)),p}}const characterEscapeOrReference=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decodeString(n){return n.replace(characterEscapeOrReference,decode)}function decode(n,e,o){if(e)return e;if(o.charCodeAt(0)===35){const l=o.charCodeAt(1),u=l===120||l===88;return decodeNumericCharacterReference(o.slice(u?2:1),u?16:10)}return decodeNamedCharacterReference(o)||n}const own$6={}.hasOwnProperty;function fromMarkdown(n,e,o){return typeof e!="string"&&(o=e,e=void 0),compiler(o)(postprocess(parse(o).document().write(preprocess()(n,e,!0))))}function compiler(n){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(Ee),autolinkProtocol:V,autolinkEmail:V,atxHeading:u(De),blockQuote:u(Xe),characterEscape:V,characterReference:V,codeFenced:u(et),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:u(et,c),codeText:u(it,c),codeTextData:V,data:V,codeFlowValue:V,definition:u(ct),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:u(U),hardBreakEscape:u(Ae),hardBreakTrailing:u(Ae),htmlFlow:u(se,c),htmlFlowData:V,htmlText:u(se,c),htmlTextData:V,image:u(oe),label:c,link:u(Ee),listItem:u(Re),listItemValue:m,listOrdered:u(Oe,b),listUnordered:u(Oe),paragraph:u(xe),reference:Q,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:u(De),strong:u(Fe),thematicBreak:u(ne)},exit:{atxHeading:p(),atxHeadingSequence:B,autolink:p(),autolinkEmail:je,autolinkProtocol:He,blockQuote:p(),characterEscapeValue:X,characterReferenceMarkerHexadecimal:we,characterReferenceMarkerNumeric:we,characterReferenceValue:Ue,characterReference:Ye,codeFenced:p(A),codeFencedFence:v,codeFencedFenceInfo:y,codeFencedFenceMeta:S,codeFlowValue:X,codeIndented:p(w),codeText:p(ue),codeTextData:X,data:X,definition:p(),definitionDestinationString:F,definitionLabelString:R,definitionTitleString:P,emphasis:p(),hardBreakEscape:p(H),hardBreakTrailing:p(H),htmlFlow:p(te),htmlFlowData:X,htmlText:p(L),htmlTextData:X,image:p(fe),label:he,labelText:ye,lineEnding:W,link:p(Ce),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:be,resourceDestinationString:j,resourceTitleString:Y,resource:Z,setextHeading:p(le),setextHeadingLineSequence:K,setextHeadingText:G,strong:p(),thematicBreak:p()}};configure(e,(n||{}).mdastExtensions||[]);const o={};return a;function a(J){let me={type:"root",children:[]};const pe={stack:[me],tokenStack:[],config:e,enter:f,exit:T,buffer:c,resume:E,data:o},ke=[];let D=-1;for(;++D<J.length;)if(J[D][1].type==="listOrdered"||J[D][1].type==="listUnordered")if(J[D][0]==="enter")ke.push(D);else{const k=ke.pop();D=l(J,k,D)}for(D=-1;++D<J.length;){const k=e[J[D][0]];own$6.call(k,J[D][1].type)&&k[J[D][1].type].call(Object.assign({sliceSerialize:J[D][2].sliceSerialize},pe),J[D][1])}if(pe.tokenStack.length>0){const k=pe.tokenStack[pe.tokenStack.length-1];(k[1]||defaultOnError).call(pe,void 0,k[0])}for(me.position={start:point$1(J.length>0?J[0][1].start:{line:1,column:1,offset:0}),end:point$1(J.length>0?J[J.length-2][1].end:{line:1,column:1,offset:0})},D=-1;++D<e.transforms.length;)me=e.transforms[D](me)||me;return me}function l(J,me,pe){let ke=me-1,D=-1,k=!1,N,z,ee,ae;for(;++ke<=pe;){const de=J[ke];switch(de[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{de[0]==="enter"?D++:D--,ae=void 0;break}case"lineEndingBlank":{de[0]==="enter"&&(N&&!ae&&!D&&!ee&&(ee=ke),ae=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ae=void 0}if(!D&&de[0]==="enter"&&de[1].type==="listItemPrefix"||D===-1&&de[0]==="exit"&&(de[1].type==="listUnordered"||de[1].type==="listOrdered")){if(N){let ve=ke;for(z=void 0;ve--;){const Pe=J[ve];if(Pe[1].type==="lineEnding"||Pe[1].type==="lineEndingBlank"){if(Pe[0]==="exit")continue;z&&(J[z][1].type="lineEndingBlank",k=!0),Pe[1].type="lineEnding",z=ve}else if(!(Pe[1].type==="linePrefix"||Pe[1].type==="blockQuotePrefix"||Pe[1].type==="blockQuotePrefixWhitespace"||Pe[1].type==="blockQuoteMarker"||Pe[1].type==="listItemIndent"))break}ee&&(!z||ee<z)&&(N._spread=!0),N.end=Object.assign({},z?J[z][1].start:de[1].end),J.splice(z||ke,0,["exit",N,de[2]]),ke++,pe++}if(de[1].type==="listItemPrefix"){const ve={type:"listItem",_spread:!1,start:Object.assign({},de[1].start),end:void 0};N=ve,J.splice(ke,0,["enter",ve,de[2]]),ke++,pe++,ee=void 0,ae=!0}}}return J[me][1]._spread=k,pe}function u(J,me){return pe;function pe(ke){f.call(this,J(ke),ke),me&&me.call(this,ke)}}function c(){this.stack.push({type:"fragment",children:[]})}function f(J,me,pe){this.stack[this.stack.length-1].children.push(J),this.stack.push(J),this.tokenStack.push([me,pe||void 0]),J.position={start:point$1(me.start),end:void 0}}function p(J){return me;function me(pe){J&&J.call(this,pe),T.call(this,pe)}}function T(J,me){const pe=this.stack.pop(),ke=this.tokenStack.pop();if(ke)ke[0].type!==J.type&&(me?me.call(this,J,ke[0]):(ke[1]||defaultOnError).call(this,J,ke[0]));else throw new Error("Cannot close `"+J.type+"` ("+stringifyPosition({start:J.start,end:J.end})+"): its not open");pe.position.end=point$1(J.end)}function E(){return toString$1(this.stack.pop())}function b(){this.data.expectingFirstListItemValue=!0}function m(J){if(this.data.expectingFirstListItemValue){const me=this.stack[this.stack.length-2];me.start=Number.parseInt(this.sliceSerialize(J),10),this.data.expectingFirstListItemValue=void 0}}function y(){const J=this.resume(),me=this.stack[this.stack.length-1];me.lang=J}function S(){const J=this.resume(),me=this.stack[this.stack.length-1];me.meta=J}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function A(){const J=this.resume(),me=this.stack[this.stack.length-1];me.value=J.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function w(){const J=this.resume(),me=this.stack[this.stack.length-1];me.value=J.replace(/(\r?\n|\r)$/g,"")}function R(J){const me=this.resume(),pe=this.stack[this.stack.length-1];pe.label=me,pe.identifier=normalizeIdentifier(this.sliceSerialize(J)).toLowerCase()}function P(){const J=this.resume(),me=this.stack[this.stack.length-1];me.title=J}function F(){const J=this.resume(),me=this.stack[this.stack.length-1];me.url=J}function B(J){const me=this.stack[this.stack.length-1];if(!me.depth){const pe=this.sliceSerialize(J).length;me.depth=pe}}function G(){this.data.setextHeadingSlurpLineEnding=!0}function K(J){const me=this.stack[this.stack.length-1];me.depth=this.sliceSerialize(J).codePointAt(0)===61?1:2}function le(){this.data.setextHeadingSlurpLineEnding=void 0}function V(J){const pe=this.stack[this.stack.length-1].children;let ke=pe[pe.length-1];(!ke||ke.type!=="text")&&(ke=I(),ke.position={start:point$1(J.start),end:void 0},pe.push(ke)),this.stack.push(ke)}function X(J){const me=this.stack.pop();me.value+=this.sliceSerialize(J),me.position.end=point$1(J.end)}function W(J){const me=this.stack[this.stack.length-1];if(this.data.atHardBreak){const pe=me.children[me.children.length-1];pe.position.end=point$1(J.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(me.type)&&(V.call(this,J),X.call(this,J))}function H(){this.data.atHardBreak=!0}function te(){const J=this.resume(),me=this.stack[this.stack.length-1];me.value=J}function L(){const J=this.resume(),me=this.stack[this.stack.length-1];me.value=J}function ue(){const J=this.resume(),me=this.stack[this.stack.length-1];me.value=J}function Ce(){const J=this.stack[this.stack.length-1];if(this.data.inReference){const me=this.data.referenceType||"shortcut";J.type+="Reference",J.referenceType=me,delete J.url,delete J.title}else delete J.identifier,delete J.label;this.data.referenceType=void 0}function fe(){const J=this.stack[this.stack.length-1];if(this.data.inReference){const me=this.data.referenceType||"shortcut";J.type+="Reference",J.referenceType=me,delete J.url,delete J.title}else delete J.identifier,delete J.label;this.data.referenceType=void 0}function ye(J){const me=this.sliceSerialize(J),pe=this.stack[this.stack.length-2];pe.label=decodeString(me),pe.identifier=normalizeIdentifier(me).toLowerCase()}function he(){const J=this.stack[this.stack.length-1],me=this.resume(),pe=this.stack[this.stack.length-1];if(this.data.inReference=!0,pe.type==="link"){const ke=J.children;pe.children=ke}else pe.alt=me}function j(){const J=this.resume(),me=this.stack[this.stack.length-1];me.url=J}function Y(){const J=this.resume(),me=this.stack[this.stack.length-1];me.title=J}function Z(){this.data.inReference=void 0}function Q(){this.data.referenceType="collapsed"}function be(J){const me=this.resume(),pe=this.stack[this.stack.length-1];pe.label=me,pe.identifier=normalizeIdentifier(this.sliceSerialize(J)).toLowerCase(),this.data.referenceType="full"}function we(J){this.data.characterReferenceType=J.type}function Ue(J){const me=this.sliceSerialize(J),pe=this.data.characterReferenceType;let ke;pe?(ke=decodeNumericCharacterReference(me,pe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ke=decodeNamedCharacterReference(me);const D=this.stack[this.stack.length-1];D.value+=ke}function Ye(J){const me=this.stack.pop();me.position.end=point$1(J.end)}function He(J){X.call(this,J);const me=this.stack[this.stack.length-1];me.url=this.sliceSerialize(J)}function je(J){X.call(this,J);const me=this.stack[this.stack.length-1];me.url="mailto:"+this.sliceSerialize(J)}function Xe(){return{type:"blockquote",children:[]}}function et(){return{type:"code",lang:null,meta:null,value:""}}function it(){return{type:"inlineCode",value:""}}function ct(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function U(){return{type:"emphasis",children:[]}}function De(){return{type:"heading",depth:0,children:[]}}function Ae(){return{type:"break"}}function se(){return{type:"html",value:""}}function oe(){return{type:"image",title:null,url:"",alt:null}}function Ee(){return{type:"link",title:null,url:"",children:[]}}function Oe(J){return{type:"list",ordered:J.type==="listOrdered",start:null,spread:J._spread,children:[]}}function Re(J){return{type:"listItem",spread:J._spread,checked:null,children:[]}}function xe(){return{type:"paragraph",children:[]}}function Fe(){return{type:"strong",children:[]}}function I(){return{type:"text",value:""}}function ne(){return{type:"thematicBreak"}}}function point$1(n){return{line:n.line,column:n.column,offset:n.offset}}function configure(n,e){let o=-1;for(;++o<e.length;){const a=e[o];Array.isArray(a)?configure(n,a):extension(n,a)}}function extension(n,e){let o;for(o in e)if(own$6.call(e,o))switch(o){case"canContainEols":{const a=e[o];a&&n[o].push(...a);break}case"transforms":{const a=e[o];a&&n[o].push(...a);break}case"enter":case"exit":{const a=e[o];a&&Object.assign(n[o],a);break}}}function defaultOnError(n,e){throw n?new Error("Cannot close `"+n.type+"` ("+stringifyPosition({start:n.start,end:n.end})+"): a different token (`"+e.type+"`, "+stringifyPosition({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+stringifyPosition({start:e.start,end:e.end})+") is still open")}function remarkParse(n){const e=this;e.parser=o;function o(a){return fromMarkdown(a,{...e.data("settings"),...n,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function blockquote(n,e){const o={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(e),!0)};return n.patch(e,o),n.applyData(e,o)}function hardBreak(n,e){const o={type:"element",tagName:"br",properties:{},children:[]};return n.patch(e,o),[n.applyData(e,o),{type:"text",value:`
`}]}function code$1(n,e){const o=e.value?e.value+`
`:"",a={};e.lang&&(a.className=["language-"+e.lang]);let l={type:"element",tagName:"code",properties:a,children:[{type:"text",value:o}]};return e.meta&&(l.data={meta:e.meta}),n.patch(e,l),l=n.applyData(e,l),l={type:"element",tagName:"pre",properties:{},children:[l]},n.patch(e,l),l}function strikethrough(n,e){const o={type:"element",tagName:"del",properties:{},children:n.all(e)};return n.patch(e,o),n.applyData(e,o)}function emphasis(n,e){const o={type:"element",tagName:"em",properties:{},children:n.all(e)};return n.patch(e,o),n.applyData(e,o)}function footnoteReference(n,e){const o=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",a=String(e.identifier).toUpperCase(),l=normalizeUri(a.toLowerCase()),u=n.footnoteOrder.indexOf(a);let c,f=n.footnoteCounts.get(a);f===void 0?(f=0,n.footnoteOrder.push(a),c=n.footnoteOrder.length):c=u+1,f+=1,n.footnoteCounts.set(a,f);const p={type:"element",tagName:"a",properties:{href:"#"+o+"fn-"+l,id:o+"fnref-"+l+(f>1?"-"+f:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};n.patch(e,p);const T={type:"element",tagName:"sup",properties:{},children:[p]};return n.patch(e,T),n.applyData(e,T)}function heading$1(n,e){const o={type:"element",tagName:"h"+e.depth,properties:{},children:n.all(e)};return n.patch(e,o),n.applyData(e,o)}function html$2(n,e){if(n.options.allowDangerousHtml){const o={type:"raw",value:e.value};return n.patch(e,o),n.applyData(e,o)}}function revert(n,e){const o=e.referenceType;let a="]";if(o==="collapsed"?a+="[]":o==="full"&&(a+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+a}];const l=n.all(e),u=l[0];u&&u.type==="text"?u.value="["+u.value:l.unshift({type:"text",value:"["});const c=l[l.length-1];return c&&c.type==="text"?c.value+=a:l.push({type:"text",value:a}),l}function imageReference(n,e){const o=String(e.identifier).toUpperCase(),a=n.definitionById.get(o);if(!a)return revert(n,e);const l={src:normalizeUri(a.url||""),alt:e.alt};a.title!==null&&a.title!==void 0&&(l.title=a.title);const u={type:"element",tagName:"img",properties:l,children:[]};return n.patch(e,u),n.applyData(e,u)}function image(n,e){const o={src:normalizeUri(e.url)};e.alt!==null&&e.alt!==void 0&&(o.alt=e.alt),e.title!==null&&e.title!==void 0&&(o.title=e.title);const a={type:"element",tagName:"img",properties:o,children:[]};return n.patch(e,a),n.applyData(e,a)}function inlineCode(n,e){const o={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};n.patch(e,o);const a={type:"element",tagName:"code",properties:{},children:[o]};return n.patch(e,a),n.applyData(e,a)}function linkReference(n,e){const o=String(e.identifier).toUpperCase(),a=n.definitionById.get(o);if(!a)return revert(n,e);const l={href:normalizeUri(a.url||"")};a.title!==null&&a.title!==void 0&&(l.title=a.title);const u={type:"element",tagName:"a",properties:l,children:n.all(e)};return n.patch(e,u),n.applyData(e,u)}function link(n,e){const o={href:normalizeUri(e.url)};e.title!==null&&e.title!==void 0&&(o.title=e.title);const a={type:"element",tagName:"a",properties:o,children:n.all(e)};return n.patch(e,a),n.applyData(e,a)}function listItem(n,e,o){const a=n.all(e),l=o?listLoose(o):listItemLoose(e),u={},c=[];if(typeof e.checked=="boolean"){const E=a[0];let b;E&&E.type==="element"&&E.tagName==="p"?b=E:(b={type:"element",tagName:"p",properties:{},children:[]},a.unshift(b)),b.children.length>0&&b.children.unshift({type:"text",value:" "}),b.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),u.className=["task-list-item"]}let f=-1;for(;++f<a.length;){const E=a[f];(l||f!==0||E.type!=="element"||E.tagName!=="p")&&c.push({type:"text",value:`
`}),E.type==="element"&&E.tagName==="p"&&!l?c.push(...E.children):c.push(E)}const p=a[a.length-1];p&&(l||p.type!=="element"||p.tagName!=="p")&&c.push({type:"text",value:`
`});const T={type:"element",tagName:"li",properties:u,children:c};return n.patch(e,T),n.applyData(e,T)}function listLoose(n){let e=!1;if(n.type==="list"){e=n.spread||!1;const o=n.children;let a=-1;for(;!e&&++a<o.length;)e=listItemLoose(o[a])}return e}function listItemLoose(n){const e=n.spread;return e??n.children.length>1}function list(n,e){const o={},a=n.all(e);let l=-1;for(typeof e.start=="number"&&e.start!==1&&(o.start=e.start);++l<a.length;){const c=a[l];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){o.className=["contains-task-list"];break}}const u={type:"element",tagName:e.ordered?"ol":"ul",properties:o,children:n.wrap(a,!0)};return n.patch(e,u),n.applyData(e,u)}function paragraph(n,e){const o={type:"element",tagName:"p",properties:{},children:n.all(e)};return n.patch(e,o),n.applyData(e,o)}function root$2(n,e){const o={type:"root",children:n.wrap(n.all(e))};return n.patch(e,o),n.applyData(e,o)}function strong(n,e){const o={type:"element",tagName:"strong",properties:{},children:n.all(e)};return n.patch(e,o),n.applyData(e,o)}function table(n,e){const o=n.all(e),a=o.shift(),l=[];if(a){const c={type:"element",tagName:"thead",properties:{},children:n.wrap([a],!0)};n.patch(e.children[0],c),l.push(c)}if(o.length>0){const c={type:"element",tagName:"tbody",properties:{},children:n.wrap(o,!0)},f=pointStart(e.children[1]),p=pointEnd(e.children[e.children.length-1]);f&&p&&(c.position={start:f,end:p}),l.push(c)}const u={type:"element",tagName:"table",properties:{},children:n.wrap(l,!0)};return n.patch(e,u),n.applyData(e,u)}function tableRow(n,e,o){const a=o?o.children:void 0,u=(a?a.indexOf(e):1)===0?"th":"td",c=o&&o.type==="table"?o.align:void 0,f=c?c.length:e.children.length;let p=-1;const T=[];for(;++p<f;){const b=e.children[p],m={},y=c?c[p]:void 0;y&&(m.align=y);let S={type:"element",tagName:u,properties:m,children:[]};b&&(S.children=n.all(b),n.patch(b,S),S=n.applyData(b,S)),T.push(S)}const E={type:"element",tagName:"tr",properties:{},children:n.wrap(T,!0)};return n.patch(e,E),n.applyData(e,E)}function tableCell(n,e){const o={type:"element",tagName:"td",properties:{},children:n.all(e)};return n.patch(e,o),n.applyData(e,o)}const tab=9,space=32;function trimLines(n){const e=String(n),o=/\r?\n|\r/g;let a=o.exec(e),l=0;const u=[];for(;a;)u.push(trimLine(e.slice(l,a.index),l>0,!0),a[0]),l=a.index+a[0].length,a=o.exec(e);return u.push(trimLine(e.slice(l),l>0,!1)),u.join("")}function trimLine(n,e,o){let a=0,l=n.length;if(e){let u=n.codePointAt(a);for(;u===tab||u===space;)a++,u=n.codePointAt(a)}if(o){let u=n.codePointAt(l-1);for(;u===tab||u===space;)l--,u=n.codePointAt(l-1)}return l>a?n.slice(a,l):""}function text$2(n,e){const o={type:"text",value:trimLines(String(e.value))};return n.patch(e,o),n.applyData(e,o)}function thematicBreak(n,e){const o={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(e,o),n.applyData(e,o)}const handlers$1={blockquote,break:hardBreak,code:code$1,delete:strikethrough,emphasis,footnoteReference,heading:heading$1,html:html$2,imageReference,image,inlineCode,linkReference,link,listItem,list,paragraph,root:root$2,strong,table,tableCell,tableRow,text:text$2,thematicBreak,toml:ignore,yaml:ignore,definition:ignore,footnoteDefinition:ignore};function ignore(){}const VOID=-1,PRIMITIVE=0,ARRAY=1,OBJECT=2,DATE=3,REGEXP=4,MAP=5,SET$1=6,ERROR=7,BIGINT=8,env=typeof self=="object"?self:globalThis,deserializer=(n,e)=>{const o=(l,u)=>(n.set(u,l),l),a=l=>{if(n.has(l))return n.get(l);const[u,c]=e[l];switch(u){case PRIMITIVE:case VOID:return o(c,l);case ARRAY:{const f=o([],l);for(const p of c)f.push(a(p));return f}case OBJECT:{const f=o({},l);for(const[p,T]of c)f[a(p)]=a(T);return f}case DATE:return o(new Date(c),l);case REGEXP:{const{source:f,flags:p}=c;return o(new RegExp(f,p),l)}case MAP:{const f=o(new Map,l);for(const[p,T]of c)f.set(a(p),a(T));return f}case SET$1:{const f=o(new Set,l);for(const p of c)f.add(a(p));return f}case ERROR:{const{name:f,message:p}=c;return o(new env[f](p),l)}case BIGINT:return o(BigInt(c),l);case"BigInt":return o(Object(BigInt(c)),l);case"ArrayBuffer":return o(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:f}=new Uint8Array(c);return o(new DataView(f),c)}}return o(new env[u](c),l)};return a},deserialize=n=>deserializer(new Map,n)(0),EMPTY="",{toString}={},{keys:keys$1}=Object,typeOf=n=>{const e=typeof n;if(e!=="object"||!n)return[PRIMITIVE,e];const o=toString.call(n).slice(8,-1);switch(o){case"Array":return[ARRAY,EMPTY];case"Object":return[OBJECT,EMPTY];case"Date":return[DATE,EMPTY];case"RegExp":return[REGEXP,EMPTY];case"Map":return[MAP,EMPTY];case"Set":return[SET$1,EMPTY];case"DataView":return[ARRAY,o]}return o.includes("Array")?[ARRAY,o]:o.includes("Error")?[ERROR,o]:[OBJECT,o]},shouldSkip=([n,e])=>n===PRIMITIVE&&(e==="function"||e==="symbol"),serializer=(n,e,o,a)=>{const l=(c,f)=>{const p=a.push(c)-1;return o.set(f,p),p},u=c=>{if(o.has(c))return o.get(c);let[f,p]=typeOf(c);switch(f){case PRIMITIVE:{let E=c;switch(p){case"bigint":f=BIGINT,E=c.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+p);E=null;break;case"undefined":return l([VOID],c)}return l([f,E],c)}case ARRAY:{if(p){let m=c;return p==="DataView"?m=new Uint8Array(c.buffer):p==="ArrayBuffer"&&(m=new Uint8Array(c)),l([p,[...m]],c)}const E=[],b=l([f,E],c);for(const m of c)E.push(u(m));return b}case OBJECT:{if(p)switch(p){case"BigInt":return l([p,c.toString()],c);case"Boolean":case"Number":case"String":return l([p,c.valueOf()],c)}if(e&&"toJSON"in c)return u(c.toJSON());const E=[],b=l([f,E],c);for(const m of keys$1(c))(n||!shouldSkip(typeOf(c[m])))&&E.push([u(m),u(c[m])]);return b}case DATE:return l([f,c.toISOString()],c);case REGEXP:{const{source:E,flags:b}=c;return l([f,{source:E,flags:b}],c)}case MAP:{const E=[],b=l([f,E],c);for(const[m,y]of c)(n||!(shouldSkip(typeOf(m))||shouldSkip(typeOf(y))))&&E.push([u(m),u(y)]);return b}case SET$1:{const E=[],b=l([f,E],c);for(const m of c)(n||!shouldSkip(typeOf(m)))&&E.push(u(m));return b}}const{message:T}=c;return l([f,{name:p,message:T}],c)};return u},serialize=(n,{json:e,lossy:o}={})=>{const a=[];return serializer(!(e||o),!!e,new Map,a)(n),a},structuredClone$1=typeof structuredClone=="function"?(n,e)=>e&&("json"in e||"lossy"in e)?deserialize(serialize(n,e)):structuredClone(n):(n,e)=>deserialize(serialize(n,e));function defaultFootnoteBackContent(n,e){const o=[{type:"text",value:""}];return e>1&&o.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),o}function defaultFootnoteBackLabel(n,e){return"Back to reference "+(n+1)+(e>1?"-"+e:"")}function footer(n){const e=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",o=n.options.footnoteBackContent||defaultFootnoteBackContent,a=n.options.footnoteBackLabel||defaultFootnoteBackLabel,l=n.options.footnoteLabel||"Footnotes",u=n.options.footnoteLabelTagName||"h2",c=n.options.footnoteLabelProperties||{className:["sr-only"]},f=[];let p=-1;for(;++p<n.footnoteOrder.length;){const T=n.footnoteById.get(n.footnoteOrder[p]);if(!T)continue;const E=n.all(T),b=String(T.identifier).toUpperCase(),m=normalizeUri(b.toLowerCase());let y=0;const S=[],v=n.footnoteCounts.get(b);for(;v!==void 0&&++y<=v;){S.length>0&&S.push({type:"text",value:" "});let R=typeof o=="string"?o:o(p,y);typeof R=="string"&&(R={type:"text",value:R}),S.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+m+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof a=="string"?a:a(p,y),className:["data-footnote-backref"]},children:Array.isArray(R)?R:[R]})}const A=E[E.length-1];if(A&&A.type==="element"&&A.tagName==="p"){const R=A.children[A.children.length-1];R&&R.type==="text"?R.value+=" ":A.children.push({type:"text",value:" "}),A.children.push(...S)}else E.push(...S);const w={type:"element",tagName:"li",properties:{id:e+"fn-"+m},children:n.wrap(E,!0)};n.patch(T,w),f.push(w)}if(f.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:u,properties:{...structuredClone$1(c),id:"footnote-label"},children:[{type:"text",value:l}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(f,!0)},{type:"text",value:`
`}]}}const convert=function(n){if(n==null)return ok;if(typeof n=="function")return castFactory(n);if(typeof n=="object")return Array.isArray(n)?anyFactory(n):propsFactory(n);if(typeof n=="string")return typeFactory(n);throw new Error("Expected function, string, or object as test")};function anyFactory(n){const e=[];let o=-1;for(;++o<n.length;)e[o]=convert(n[o]);return castFactory(a);function a(...l){let u=-1;for(;++u<e.length;)if(e[u].apply(this,l))return!0;return!1}}function propsFactory(n){const e=n;return castFactory(o);function o(a){const l=a;let u;for(u in n)if(l[u]!==e[u])return!1;return!0}}function typeFactory(n){return castFactory(e);function e(o){return o&&o.type===n}}function castFactory(n){return e;function e(o,a,l){return!!(looksLikeANode(o)&&n.call(this,o,typeof a=="number"?a:void 0,l||void 0))}}function ok(){return!0}function looksLikeANode(n){return n!==null&&typeof n=="object"&&"type"in n}function color(n){return n}const empty$1=[],CONTINUE=!0,EXIT=!1,SKIP="skip";function visitParents(n,e,o,a){let l;typeof e=="function"&&typeof o!="function"?(a=o,o=e):l=e;const u=convert(l),c=a?-1:1;f(n,void 0,[])();function f(p,T,E){const b=p&&typeof p=="object"?p:{};if(typeof b.type=="string"){const y=typeof b.tagName=="string"?b.tagName:typeof b.name=="string"?b.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(p.type+(y?"<"+y+">":""))+")"})}return m;function m(){let y=empty$1,S,v,A;if((!e||u(p,T,E[E.length-1]||void 0))&&(y=toResult(o(p,E)),y[0]===EXIT))return y;if("children"in p&&p.children){const w=p;if(w.children&&y[0]!==SKIP)for(v=(a?w.children.length:-1)+c,A=E.concat(w);v>-1&&v<w.children.length;){const R=w.children[v];if(S=f(R,v,A)(),S[0]===EXIT)return S;v=typeof S[1]=="number"?S[1]:v+c}}return y}}}function toResult(n){return Array.isArray(n)?n:typeof n=="number"?[CONTINUE,n]:n==null?empty$1:[n]}function visit(n,e,o,a){let l,u,c;typeof e=="function"&&typeof o!="function"?(u=void 0,c=e,l=o):(u=e,c=o,l=a),visitParents(n,u,f,l);function f(p,T){const E=T[T.length-1],b=E?E.children.indexOf(p):void 0;return c(p,b,E)}}const own$5={}.hasOwnProperty,emptyOptions$1={};function createState(n,e){const o=e||emptyOptions$1,a=new Map,l=new Map,u=new Map,c={...handlers$1,...o.handlers},f={all:T,applyData,definitionById:a,footnoteById:l,footnoteCounts:u,footnoteOrder:[],handlers:c,one:p,options:o,patch:patch$2,wrap:wrap$1};return visit(n,function(E){if(E.type==="definition"||E.type==="footnoteDefinition"){const b=E.type==="definition"?a:l,m=String(E.identifier).toUpperCase();b.has(m)||b.set(m,E)}}),f;function p(E,b){const m=E.type,y=f.handlers[m];if(own$5.call(f.handlers,m)&&y)return y(f,E,b);if(f.options.passThrough&&f.options.passThrough.includes(m)){if("children"in E){const{children:v,...A}=E,w=structuredClone$1(A);return w.children=f.all(E),w}return structuredClone$1(E)}return(f.options.unknownHandler||defaultUnknownHandler)(f,E,b)}function T(E){const b=[];if("children"in E){const m=E.children;let y=-1;for(;++y<m.length;){const S=f.one(m[y],E);if(S){if(y&&m[y-1].type==="break"&&(!Array.isArray(S)&&S.type==="text"&&(S.value=trimMarkdownSpaceStart(S.value)),!Array.isArray(S)&&S.type==="element")){const v=S.children[0];v&&v.type==="text"&&(v.value=trimMarkdownSpaceStart(v.value))}Array.isArray(S)?b.push(...S):b.push(S)}}}return b}}function patch$2(n,e){n.position&&(e.position=position$2(n))}function applyData(n,e){let o=e;if(n&&n.data){const a=n.data.hName,l=n.data.hChildren,u=n.data.hProperties;if(typeof a=="string")if(o.type==="element")o.tagName=a;else{const c="children"in o?o.children:[o];o={type:"element",tagName:a,properties:{},children:c}}o.type==="element"&&u&&Object.assign(o.properties,structuredClone$1(u)),"children"in o&&o.children&&l!==null&&l!==void 0&&(o.children=l)}return o}function defaultUnknownHandler(n,e){const o=e.data||{},a="value"in e&&!(own$5.call(o,"hProperties")||own$5.call(o,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:n.all(e)};return n.patch(e,a),n.applyData(e,a)}function wrap$1(n,e){const o=[];let a=-1;for(e&&o.push({type:"text",value:`
`});++a<n.length;)a&&o.push({type:"text",value:`
`}),o.push(n[a]);return e&&n.length>0&&o.push({type:"text",value:`
`}),o}function trimMarkdownSpaceStart(n){let e=0,o=n.charCodeAt(e);for(;o===9||o===32;)e++,o=n.charCodeAt(e);return n.slice(e)}function toHast(n,e){const o=createState(n,e),a=o.one(n,void 0),l=footer(o),u=Array.isArray(a)?{type:"root",children:a}:a||{type:"root",children:[]};return l&&u.children.push({type:"text",value:`
`},l),u}function remarkRehype(n,e){return n&&"run"in n?async function(o,a){const l=toHast(o,{file:a,...e});await n.run(l,a)}:function(o,a){return toHast(o,{file:a,...n||e})}}function bail(n){if(n)throw n}var extend$2,hasRequiredExtend;function requireExtend(){if(hasRequiredExtend)return extend$2;hasRequiredExtend=1;var n=Object.prototype.hasOwnProperty,e=Object.prototype.toString,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(T){return typeof Array.isArray=="function"?Array.isArray(T):e.call(T)==="[object Array]"},u=function(T){if(!T||e.call(T)!=="[object Object]")return!1;var E=n.call(T,"constructor"),b=T.constructor&&T.constructor.prototype&&n.call(T.constructor.prototype,"isPrototypeOf");if(T.constructor&&!E&&!b)return!1;var m;for(m in T);return typeof m>"u"||n.call(T,m)},c=function(T,E){o&&E.name==="__proto__"?o(T,E.name,{enumerable:!0,configurable:!0,value:E.newValue,writable:!0}):T[E.name]=E.newValue},f=function(T,E){if(E==="__proto__")if(n.call(T,E)){if(a)return a(T,E).value}else return;return T[E]};return extend$2=function p(){var T,E,b,m,y,S,v=arguments[0],A=1,w=arguments.length,R=!1;for(typeof v=="boolean"&&(R=v,v=arguments[1]||{},A=2),(v==null||typeof v!="object"&&typeof v!="function")&&(v={});A<w;++A)if(T=arguments[A],T!=null)for(E in T)b=f(v,E),m=f(T,E),v!==m&&(R&&m&&(u(m)||(y=l(m)))?(y?(y=!1,S=b&&l(b)?b:[]):S=b&&u(b)?b:{},c(v,{name:E,newValue:p(R,S,m)})):typeof m<"u"&&c(v,{name:E,newValue:m}));return v},extend$2}var extendExports=requireExtend();const extend$1=getDefaultExportFromCjs$1(extendExports);function isPlainObject(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function trough(){const n=[],e={run:o,use:a};return e;function o(...l){let u=-1;const c=l.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);f(null,...l);function f(p,...T){const E=n[++u];let b=-1;if(p){c(p);return}for(;++b<l.length;)(T[b]===null||T[b]===void 0)&&(T[b]=l[b]);l=T,E?wrap(E,f)(...T):c(null,...T)}}function a(l){if(typeof l!="function")throw new TypeError("Expected `middelware` to be a function, not "+l);return n.push(l),e}}function wrap(n,e){let o;return a;function a(...c){const f=n.length>c.length;let p;f&&c.push(l);try{p=n.apply(this,c)}catch(T){const E=T;if(f&&o)throw E;return l(E)}f||(p&&p.then&&typeof p.then=="function"?p.then(u,l):p instanceof Error?l(p):u(p))}function l(c,...f){o||(o=!0,e(c,...f))}function u(c){l(null,c)}}const minpath={basename,dirname,extname,join,sep:"/"};function basename(n,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');assertPath$1(n);let o=0,a=-1,l=n.length,u;if(e===void 0||e.length===0||e.length>n.length){for(;l--;)if(n.codePointAt(l)===47){if(u){o=l+1;break}}else a<0&&(u=!0,a=l+1);return a<0?"":n.slice(o,a)}if(e===n)return"";let c=-1,f=e.length-1;for(;l--;)if(n.codePointAt(l)===47){if(u){o=l+1;break}}else c<0&&(u=!0,c=l+1),f>-1&&(n.codePointAt(l)===e.codePointAt(f--)?f<0&&(a=l):(f=-1,a=c));return o===a?a=c:a<0&&(a=n.length),n.slice(o,a)}function dirname(n){if(assertPath$1(n),n.length===0)return".";let e=-1,o=n.length,a;for(;--o;)if(n.codePointAt(o)===47){if(a){e=o;break}}else a||(a=!0);return e<0?n.codePointAt(0)===47?"/":".":e===1&&n.codePointAt(0)===47?"//":n.slice(0,e)}function extname(n){assertPath$1(n);let e=n.length,o=-1,a=0,l=-1,u=0,c;for(;e--;){const f=n.codePointAt(e);if(f===47){if(c){a=e+1;break}continue}o<0&&(c=!0,o=e+1),f===46?l<0?l=e:u!==1&&(u=1):l>-1&&(u=-1)}return l<0||o<0||u===0||u===1&&l===o-1&&l===a+1?"":n.slice(l,o)}function join(...n){let e=-1,o;for(;++e<n.length;)assertPath$1(n[e]),n[e]&&(o=o===void 0?n[e]:o+"/"+n[e]);return o===void 0?".":normalize$1(o)}function normalize$1(n){assertPath$1(n);const e=n.codePointAt(0)===47;let o=normalizeString(n,!e);return o.length===0&&!e&&(o="."),o.length>0&&n.codePointAt(n.length-1)===47&&(o+="/"),e?"/"+o:o}function normalizeString(n,e){let o="",a=0,l=-1,u=0,c=-1,f,p;for(;++c<=n.length;){if(c<n.length)f=n.codePointAt(c);else{if(f===47)break;f=47}if(f===47){if(!(l===c-1||u===1))if(l!==c-1&&u===2){if(o.length<2||a!==2||o.codePointAt(o.length-1)!==46||o.codePointAt(o.length-2)!==46){if(o.length>2){if(p=o.lastIndexOf("/"),p!==o.length-1){p<0?(o="",a=0):(o=o.slice(0,p),a=o.length-1-o.lastIndexOf("/")),l=c,u=0;continue}}else if(o.length>0){o="",a=0,l=c,u=0;continue}}e&&(o=o.length>0?o+"/..":"..",a=2)}else o.length>0?o+="/"+n.slice(l+1,c):o=n.slice(l+1,c),a=c-l-1;l=c,u=0}else f===46&&u>-1?u++:u=-1}return o}function assertPath$1(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const minproc={cwd};function cwd(){return"/"}function isUrl(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function urlToPath(n){if(typeof n=="string")n=new URL(n);else if(!isUrl(n)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(n.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return getPathFromURLPosix(n)}function getPathFromURLPosix(n){if(n.hostname!==""){const a=new TypeError('File URL host must be "localhost" or empty on darwin');throw a.code="ERR_INVALID_FILE_URL_HOST",a}const e=n.pathname;let o=-1;for(;++o<e.length;)if(e.codePointAt(o)===37&&e.codePointAt(o+1)===50){const a=e.codePointAt(o+2);if(a===70||a===102){const l=new TypeError("File URL path must not include encoded / characters");throw l.code="ERR_INVALID_FILE_URL_PATH",l}}return decodeURIComponent(e)}const order=["history","path","basename","stem","extname","dirname"];class VFile{constructor(e){let o;e?isUrl(e)?o={path:e}:typeof e=="string"||isUint8Array$1(e)?o={value:e}:o=e:o={},this.cwd="cwd"in o?"":minproc.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let a=-1;for(;++a<order.length;){const u=order[a];u in o&&o[u]!==void 0&&o[u]!==null&&(this[u]=u==="history"?[...o[u]]:o[u])}let l;for(l in o)order.includes(l)||(this[l]=o[l])}get basename(){return typeof this.path=="string"?minpath.basename(this.path):void 0}set basename(e){assertNonEmpty(e,"basename"),assertPart(e,"basename"),this.path=minpath.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?minpath.dirname(this.path):void 0}set dirname(e){assertPath(this.basename,"dirname"),this.path=minpath.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?minpath.extname(this.path):void 0}set extname(e){if(assertPart(e,"extname"),assertPath(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=minpath.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){isUrl(e)&&(e=urlToPath(e)),assertNonEmpty(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?minpath.basename(this.path,this.extname):void 0}set stem(e){assertNonEmpty(e,"stem"),assertPart(e,"stem"),this.path=minpath.join(this.dirname||"",e+(this.extname||""))}fail(e,o,a){const l=this.message(e,o,a);throw l.fatal=!0,l}info(e,o,a){const l=this.message(e,o,a);return l.fatal=void 0,l}message(e,o,a){const l=new VFileMessage(e,o,a);return this.path&&(l.name=this.path+":"+l.name,l.file=this.path),l.fatal=!1,this.messages.push(l),l}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function assertPart(n,e){if(n&&n.includes(minpath.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+minpath.sep+"`")}function assertNonEmpty(n,e){if(!n)throw new Error("`"+e+"` cannot be empty")}function assertPath(n,e){if(!n)throw new Error("Setting `"+e+"` requires `path` to be set too")}function isUint8Array$1(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const CallableInstance=function(n){const a=this.constructor.prototype,l=a[n],u=function(){return l.apply(u,arguments)};return Object.setPrototypeOf(u,a),u},own$4={}.hasOwnProperty;class Processor extends CallableInstance{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=trough()}copy(){const e=new Processor;let o=-1;for(;++o<this.attachers.length;){const a=this.attachers[o];e.use(...a)}return e.data(extend$1(!0,{},this.namespace)),e}data(e,o){return typeof e=="string"?arguments.length===2?(assertUnfrozen("data",this.frozen),this.namespace[e]=o,this):own$4.call(this.namespace,e)&&this.namespace[e]||void 0:e?(assertUnfrozen("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[o,...a]=this.attachers[this.freezeIndex];if(a[0]===!1)continue;a[0]===!0&&(a[0]=void 0);const l=o.call(e,...a);typeof l=="function"&&this.transformers.use(l)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const o=vfile(e),a=this.parser||this.Parser;return assertParser("parse",a),a(String(o),o)}process(e,o){const a=this;return this.freeze(),assertParser("process",this.parser||this.Parser),assertCompiler("process",this.compiler||this.Compiler),o?l(void 0,o):new Promise(l);function l(u,c){const f=vfile(e),p=a.parse(f);a.run(p,f,function(E,b,m){if(E||!b||!m)return T(E);const y=b,S=a.stringify(y,m);looksLikeAValue(S)?m.value=S:m.result=S,T(E,m)});function T(E,b){E||!b?c(E):u?u(b):o(void 0,b)}}}processSync(e){let o=!1,a;return this.freeze(),assertParser("processSync",this.parser||this.Parser),assertCompiler("processSync",this.compiler||this.Compiler),this.process(e,l),assertDone("processSync","process",o),a;function l(u,c){o=!0,bail(u),a=c}}run(e,o,a){assertNode(e),this.freeze();const l=this.transformers;return!a&&typeof o=="function"&&(a=o,o=void 0),a?u(void 0,a):new Promise(u);function u(c,f){const p=vfile(o);l.run(e,p,T);function T(E,b,m){const y=b||e;E?f(E):c?c(y):a(void 0,y,m)}}}runSync(e,o){let a=!1,l;return this.run(e,o,u),assertDone("runSync","run",a),l;function u(c,f){bail(c),l=f,a=!0}}stringify(e,o){this.freeze();const a=vfile(o),l=this.compiler||this.Compiler;return assertCompiler("stringify",l),assertNode(e),l(e,a)}use(e,...o){const a=this.attachers,l=this.namespace;if(assertUnfrozen("use",this.frozen),e!=null)if(typeof e=="function")p(e,o);else if(typeof e=="object")Array.isArray(e)?f(e):c(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function u(T){if(typeof T=="function")p(T,[]);else if(typeof T=="object")if(Array.isArray(T)){const[E,...b]=T;p(E,b)}else c(T);else throw new TypeError("Expected usable value, not `"+T+"`")}function c(T){if(!("plugins"in T)&&!("settings"in T))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");f(T.plugins),T.settings&&(l.settings=extend$1(!0,l.settings,T.settings))}function f(T){let E=-1;if(T!=null)if(Array.isArray(T))for(;++E<T.length;){const b=T[E];u(b)}else throw new TypeError("Expected a list of plugins, not `"+T+"`")}function p(T,E){let b=-1,m=-1;for(;++b<a.length;)if(a[b][0]===T){m=b;break}if(m===-1)a.push([T,...E]);else if(E.length>0){let[y,...S]=E;const v=a[m][1];isPlainObject(v)&&isPlainObject(y)&&(y=extend$1(!0,v,y)),a[m]=[T,y,...S]}}}}const unified=new Processor().freeze();function assertParser(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function assertCompiler(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function assertUnfrozen(n,e){if(e)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(n){if(!isPlainObject(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function assertDone(n,e,o){if(!o)throw new Error("`"+n+"` finished async. Use `"+e+"` instead")}function vfile(n){return looksLikeAVFile(n)?n:new VFile(n)}function looksLikeAVFile(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function looksLikeAValue(n){return typeof n=="string"||isUint8Array(n)}function isUint8Array(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const changelog="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",emptyPlugins=[],emptyRemarkRehypeOptions={allowDangerousHtml:!0},safeProtocol=/^(https?|ircs?|mailto|xmpp)$/i,deprecations=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Markdown(n){const e=createProcessor(n),o=createFile(n);return post(e.runSync(e.parse(o),o),n)}function createProcessor(n){const e=n.rehypePlugins||emptyPlugins,o=n.remarkPlugins||emptyPlugins,a=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...emptyRemarkRehypeOptions}:emptyRemarkRehypeOptions;return unified().use(remarkParse).use(o).use(remarkRehype,a).use(e)}function createFile(n){const e=n.children||"",o=new VFile;return typeof e=="string"&&(o.value=e),o}function post(n,e){const o=e.allowedElements,a=e.allowElement,l=e.components,u=e.disallowedElements,c=e.skipHtml,f=e.unwrapDisallowed,p=e.urlTransform||defaultUrlTransform;for(const E of deprecations)Object.hasOwn(e,E.from)&&(""+E.from+(E.to?"use `"+E.to+"` instead":"remove it")+changelog+E.id,void 0);return visit(n,T),toJsxRuntime(n,{Fragment:jsxRuntimeExports.Fragment,components:l,ignoreInvalidStyle:!0,jsx:jsxRuntimeExports.jsx,jsxs:jsxRuntimeExports.jsxs,passKeys:!0,passNode:!0});function T(E,b,m){if(E.type==="raw"&&m&&typeof b=="number")return c?m.children.splice(b,1):m.children[b]={type:"text",value:E.value},b;if(E.type==="element"){let y;for(y in urlAttributes)if(Object.hasOwn(urlAttributes,y)&&Object.hasOwn(E.properties,y)){const S=E.properties[y],v=urlAttributes[y];(v===null||v.includes(E.tagName))&&(E.properties[y]=p(String(S||""),y,E))}}if(E.type==="element"){let y=o?!o.includes(E.tagName):u?u.includes(E.tagName):!1;if(!y&&a&&typeof b=="number"&&(y=!a(E,b,m)),y&&m&&typeof b=="number")return f&&E.children?m.children.splice(b,1,...E.children):m.children.splice(b,1),b}}}function defaultUrlTransform(n){const e=n.indexOf(":"),o=n.indexOf("?"),a=n.indexOf("#"),l=n.indexOf("/");return e===-1||l!==-1&&e>l||o!==-1&&e>o||a!==-1&&e>a||safeProtocol.test(n.slice(0,e))?n:""}const search=/[#.]/g;function parseSelector(n,e){const o=n||"",a={};let l=0,u,c;for(;l<o.length;){search.lastIndex=l;const f=search.exec(o),p=o.slice(l,f?f.index:o.length);p&&(u?u==="#"?a.id=p:Array.isArray(a.className)?a.className.push(p):a.className=[p]:c=p,l+=p.length),f&&(u=f[0],l++)}return{type:"element",tagName:c||e||"div",properties:a,children:[]}}function createH(n,e,o){const a=o?createAdjustMap(o):void 0;function l(u,c,...f){let p;if(u==null){p={type:"root",children:[]};const T=c;f.unshift(T)}else{p=parseSelector(u,e);const T=p.tagName.toLowerCase(),E=a?a.get(T):void 0;if(p.tagName=E||T,isChild(c))f.unshift(c);else for(const[b,m]of Object.entries(c))addProperty(n,p.properties,b,m)}for(const T of f)addChild(p.children,T);return p.type==="element"&&p.tagName==="template"&&(p.content={type:"root",children:p.children},p.children=[]),p}return l}function isChild(n){if(n===null||typeof n!="object"||Array.isArray(n))return!0;if(typeof n.type!="string")return!1;const e=n,o=Object.keys(n);for(const a of o){const l=e[a];if(l&&typeof l=="object"){if(!Array.isArray(l))return!0;const u=l;for(const c of u)if(typeof c!="number"&&typeof c!="string")return!0}}return!!("children"in n&&Array.isArray(n.children))}function addProperty(n,e,o,a){const l=find$2(n,o);let u;if(a!=null){if(typeof a=="number"){if(Number.isNaN(a))return;u=a}else typeof a=="boolean"?u=a:typeof a=="string"?l.spaceSeparated?u=parse$1(a):l.commaSeparated?u=parse$2(a):l.commaOrSpaceSeparated?u=parse$1(parse$2(a).join(" ")):u=parsePrimitive(l,l.property,a):Array.isArray(a)?u=[...a]:u=l.property==="style"?style(a):String(a);if(Array.isArray(u)){const c=[];for(const f of u)c.push(parsePrimitive(l,l.property,f));u=c}l.property==="className"&&Array.isArray(e.className)&&(u=e.className.concat(u)),e[l.property]=u}}function addChild(n,e){if(e!=null)if(typeof e=="number"||typeof e=="string")n.push({type:"text",value:String(e)});else if(Array.isArray(e))for(const o of e)addChild(n,o);else if(typeof e=="object"&&"type"in e)e.type==="root"?addChild(n,e.children):n.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function parsePrimitive(n,e,o){if(typeof o=="string"){if(n.number&&o&&!Number.isNaN(Number(o)))return Number(o);if((n.boolean||n.overloadedBoolean)&&(o===""||normalize$2(o)===normalize$2(e)))return!0}return o}function style(n){const e=[];for(const[o,a]of Object.entries(n))e.push([o,a].join(": "));return e.join("; ")}function createAdjustMap(n){const e=new Map;for(const o of n)e.set(o.toLowerCase(),o);return e}const svgCaseSensitiveTagNames=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],h=createH(html$3,"div"),s=createH(svg$3,"g",svgCaseSensitiveTagNames);function location$1(n){const e=String(n),o=[];return{toOffset:l,toPoint:a};function a(u){if(typeof u=="number"&&u>-1&&u<=e.length){let c=0;for(;;){let f=o[c];if(f===void 0){const p=next(e,o[c-1]);f=p===-1?e.length+1:p+1,o[c]=f}if(f>u)return{line:c+1,column:u-(c>0?o[c-1]:0)+1,offset:u};c++}}}function l(u){if(u&&typeof u.line=="number"&&typeof u.column=="number"&&!Number.isNaN(u.line)&&!Number.isNaN(u.column)){for(;o.length<u.line;){const f=o[o.length-1],p=next(e,f),T=p===-1?e.length+1:p+1;if(f===T)break;o.push(T)}const c=(u.line>1?o[u.line-2]:0)+u.column-1;if(c<o[u.line-1])return c}}}function next(n,e){const o=n.indexOf("\r",e),a=n.indexOf(`
`,e);return a===-1?o:o===-1||o+1===a?a:o<a?o:a}const webNamespaces={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},own$3={}.hasOwnProperty,proto=Object.prototype;function fromParse5(n,e){const o=e||{};return one$1({file:o.file||void 0,location:!1,schema:o.space==="svg"?svg$3:html$3,verbose:o.verbose||!1},n)}function one$1(n,e){let o;switch(e.nodeName){case"#comment":{const a=e;return o={type:"comment",value:a.data},patch$1(n,a,o),o}case"#document":case"#document-fragment":{const a=e,l="mode"in a?a.mode==="quirks"||a.mode==="limited-quirks":!1;if(o={type:"root",children:all$2(n,e.childNodes),data:{quirksMode:l}},n.file&&n.location){const u=String(n.file),c=location$1(u),f=c.toPoint(0),p=c.toPoint(u.length);o.position={start:f,end:p}}return o}case"#documentType":{const a=e;return o={type:"doctype"},patch$1(n,a,o),o}case"#text":{const a=e;return o={type:"text",value:a.value},patch$1(n,a,o),o}default:return o=element$2(n,e),o}}function all$2(n,e){let o=-1;const a=[];for(;++o<e.length;){const l=one$1(n,e[o]);a.push(l)}return a}function element$2(n,e){const o=n.schema;n.schema=e.namespaceURI===webNamespaces.svg?svg$3:html$3;let a=-1;const l={};for(;++a<e.attrs.length;){const f=e.attrs[a],p=(f.prefix?f.prefix+":":"")+f.name;own$3.call(proto,p)||(l[p]=f.value)}const c=(n.schema.space==="svg"?s:h)(e.tagName,l,all$2(n,e.childNodes));if(patch$1(n,e,c),c.tagName==="template"){const f=e,p=f.sourceCodeLocation,T=p&&p.startTag&&position(p.startTag),E=p&&p.endTag&&position(p.endTag),b=one$1(n,f.content);T&&E&&n.file&&(b.position={start:T.end,end:E.start}),c.content=b}return n.schema=o,c}function patch$1(n,e,o){if("sourceCodeLocation"in e&&e.sourceCodeLocation&&n.file){const a=createLocation(n,o,e.sourceCodeLocation);a&&(n.location=!0,o.position=a)}}function createLocation(n,e,o){const a=position(o);if(e.type==="element"){const l=e.children[e.children.length-1];if(a&&!o.endTag&&l&&l.position&&l.position.end&&(a.end=Object.assign({},l.position.end)),n.verbose){const u={};let c;if(o.attrs)for(c in o.attrs)own$3.call(o.attrs,c)&&(u[find$2(n.schema,c).property]=position(o.attrs[c]));o.startTag;const f=position(o.startTag),p=o.endTag?position(o.endTag):void 0,T={opening:f};p&&(T.closing=p),T.properties=u,e.data={position:T}}}return a}function position(n){const e=point({line:n.startLine,column:n.startCol,offset:n.startOffset}),o=point({line:n.endLine,column:n.endCol,offset:n.endOffset});return e||o?{start:e,end:o}:void 0}function point(n){return n.line&&n.column?n:void 0}class Schema{constructor(e,o,a){this.property=e,this.normal=o,a&&(this.space=a)}}Schema.prototype.property={};Schema.prototype.normal={};Schema.prototype.space=null;function merge$1(n,e){const o={},a={};let l=-1;for(;++l<n.length;)Object.assign(o,n[l].property),Object.assign(a,n[l].normal);return new Schema(o,a,e)}function normalize(n){return n.toLowerCase()}class Info{constructor(e,o){this.property=e,this.attribute=o}}Info.prototype.space=null;Info.prototype.boolean=!1;Info.prototype.booleanish=!1;Info.prototype.overloadedBoolean=!1;Info.prototype.number=!1;Info.prototype.commaSeparated=!1;Info.prototype.spaceSeparated=!1;Info.prototype.commaOrSpaceSeparated=!1;Info.prototype.mustUseProperty=!1;Info.prototype.defined=!1;let powers=0;const boolean=increment(),booleanish=increment(),overloadedBoolean=increment(),number$1=increment(),spaceSeparated=increment(),commaSeparated=increment(),commaOrSpaceSeparated=increment();function increment(){return 2**++powers}const types$1=Object.freeze(Object.defineProperty({__proto__:null,boolean,booleanish,commaOrSpaceSeparated,commaSeparated,number:number$1,overloadedBoolean,spaceSeparated},Symbol.toStringTag,{value:"Module"})),checks=Object.keys(types$1);class DefinedInfo extends Info{constructor(e,o,a,l){let u=-1;if(super(e,o),mark(this,"space",l),typeof a=="number")for(;++u<checks.length;){const c=checks[u];mark(this,checks[u],(a&types$1[c])===types$1[c])}}}DefinedInfo.prototype.defined=!0;function mark(n,e,o){o&&(n[e]=o)}const own$2={}.hasOwnProperty;function create(n){const e={},o={};let a;for(a in n.properties)if(own$2.call(n.properties,a)){const l=n.properties[a],u=new DefinedInfo(a,n.transform(n.attributes||{},a),l,n.space);n.mustUseProperty&&n.mustUseProperty.includes(a)&&(u.mustUseProperty=!0),e[a]=u,o[normalize(a)]=a,o[normalize(u.attribute)]=a}return new Schema(e,o,n.space)}const xlink=create({space:"xlink",transform(n,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),xml=create({space:"xml",transform(n,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function caseSensitiveTransform(n,e){return e in n?n[e]:e}function caseInsensitiveTransform(n,e){return caseSensitiveTransform(n,e.toLowerCase())}const xmlns=create({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:caseInsensitiveTransform,properties:{xmlns:null,xmlnsXLink:null}}),aria=create({transform(n,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:booleanish,ariaAutoComplete:null,ariaBusy:booleanish,ariaChecked:booleanish,ariaColCount:number$1,ariaColIndex:number$1,ariaColSpan:number$1,ariaControls:spaceSeparated,ariaCurrent:null,ariaDescribedBy:spaceSeparated,ariaDetails:null,ariaDisabled:booleanish,ariaDropEffect:spaceSeparated,ariaErrorMessage:null,ariaExpanded:booleanish,ariaFlowTo:spaceSeparated,ariaGrabbed:booleanish,ariaHasPopup:null,ariaHidden:booleanish,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:spaceSeparated,ariaLevel:number$1,ariaLive:null,ariaModal:booleanish,ariaMultiLine:booleanish,ariaMultiSelectable:booleanish,ariaOrientation:null,ariaOwns:spaceSeparated,ariaPlaceholder:null,ariaPosInSet:number$1,ariaPressed:booleanish,ariaReadOnly:booleanish,ariaRelevant:null,ariaRequired:booleanish,ariaRoleDescription:spaceSeparated,ariaRowCount:number$1,ariaRowIndex:number$1,ariaRowSpan:number$1,ariaSelected:booleanish,ariaSetSize:number$1,ariaSort:null,ariaValueMax:number$1,ariaValueMin:number$1,ariaValueNow:number$1,ariaValueText:null,role:null}}),html$1=create({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:caseInsensitiveTransform,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:commaSeparated,acceptCharset:spaceSeparated,accessKey:spaceSeparated,action:null,allow:null,allowFullScreen:boolean,allowPaymentRequest:boolean,allowUserMedia:boolean,alt:null,as:null,async:boolean,autoCapitalize:null,autoComplete:spaceSeparated,autoFocus:boolean,autoPlay:boolean,blocking:spaceSeparated,capture:null,charSet:null,checked:boolean,cite:null,className:spaceSeparated,cols:number$1,colSpan:null,content:null,contentEditable:booleanish,controls:boolean,controlsList:spaceSeparated,coords:number$1|commaSeparated,crossOrigin:null,data:null,dateTime:null,decoding:null,default:boolean,defer:boolean,dir:null,dirName:null,disabled:boolean,download:overloadedBoolean,draggable:booleanish,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:boolean,formTarget:null,headers:spaceSeparated,height:number$1,hidden:boolean,high:number$1,href:null,hrefLang:null,htmlFor:spaceSeparated,httpEquiv:spaceSeparated,id:null,imageSizes:null,imageSrcSet:null,inert:boolean,inputMode:null,integrity:null,is:null,isMap:boolean,itemId:null,itemProp:spaceSeparated,itemRef:spaceSeparated,itemScope:boolean,itemType:spaceSeparated,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:boolean,low:number$1,manifest:null,max:null,maxLength:number$1,media:null,method:null,min:null,minLength:number$1,multiple:boolean,muted:boolean,name:null,nonce:null,noModule:boolean,noValidate:boolean,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:boolean,optimum:number$1,pattern:null,ping:spaceSeparated,placeholder:null,playsInline:boolean,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:boolean,referrerPolicy:null,rel:spaceSeparated,required:boolean,reversed:boolean,rows:number$1,rowSpan:number$1,sandbox:spaceSeparated,scope:null,scoped:boolean,seamless:boolean,selected:boolean,shadowRootClonable:boolean,shadowRootDelegatesFocus:boolean,shadowRootMode:null,shape:null,size:number$1,sizes:null,slot:null,span:number$1,spellCheck:booleanish,src:null,srcDoc:null,srcLang:null,srcSet:null,start:number$1,step:null,style:null,tabIndex:number$1,target:null,title:null,translate:null,type:null,typeMustMatch:boolean,useMap:null,value:booleanish,width:number$1,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:spaceSeparated,axis:null,background:null,bgColor:null,border:number$1,borderColor:null,bottomMargin:number$1,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:boolean,declare:boolean,event:null,face:null,frame:null,frameBorder:null,hSpace:number$1,leftMargin:number$1,link:null,longDesc:null,lowSrc:null,marginHeight:number$1,marginWidth:number$1,noResize:boolean,noHref:boolean,noShade:boolean,noWrap:boolean,object:null,profile:null,prompt:null,rev:null,rightMargin:number$1,rules:null,scheme:null,scrolling:booleanish,standby:null,summary:null,text:null,topMargin:number$1,valueType:null,version:null,vAlign:null,vLink:null,vSpace:number$1,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:boolean,disableRemotePlayback:boolean,prefix:null,property:null,results:number$1,security:null,unselectable:null}}),svg$2=create({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:caseSensitiveTransform,properties:{about:commaOrSpaceSeparated,accentHeight:number$1,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:number$1,amplitude:number$1,arabicForm:null,ascent:number$1,attributeName:null,attributeType:null,azimuth:number$1,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:number$1,by:null,calcMode:null,capHeight:number$1,className:spaceSeparated,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:number$1,diffuseConstant:number$1,direction:null,display:null,dur:null,divisor:number$1,dominantBaseline:null,download:boolean,dx:null,dy:null,edgeMode:null,editable:null,elevation:number$1,enableBackground:null,end:null,event:null,exponent:number$1,externalResourcesRequired:null,fill:null,fillOpacity:number$1,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:commaSeparated,g2:commaSeparated,glyphName:commaSeparated,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:number$1,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:number$1,horizOriginX:number$1,horizOriginY:number$1,id:null,ideographic:number$1,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:number$1,k:number$1,k1:number$1,k2:number$1,k3:number$1,k4:number$1,kernelMatrix:commaOrSpaceSeparated,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:number$1,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:number$1,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:number$1,overlineThickness:number$1,paintOrder:null,panose1:null,path:null,pathLength:number$1,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:spaceSeparated,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:number$1,pointsAtY:number$1,pointsAtZ:number$1,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:commaOrSpaceSeparated,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:commaOrSpaceSeparated,rev:commaOrSpaceSeparated,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:commaOrSpaceSeparated,requiredFeatures:commaOrSpaceSeparated,requiredFonts:commaOrSpaceSeparated,requiredFormats:commaOrSpaceSeparated,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:number$1,specularExponent:number$1,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:number$1,strikethroughThickness:number$1,string:null,stroke:null,strokeDashArray:commaOrSpaceSeparated,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:number$1,strokeOpacity:number$1,strokeWidth:null,style:null,surfaceScale:number$1,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:commaOrSpaceSeparated,tabIndex:number$1,tableValues:null,target:null,targetX:number$1,targetY:number$1,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:commaOrSpaceSeparated,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:number$1,underlineThickness:number$1,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:number$1,values:null,vAlphabetic:number$1,vMathematical:number$1,vectorEffect:null,vHanging:number$1,vIdeographic:number$1,version:null,vertAdvY:number$1,vertOriginX:number$1,vertOriginY:number$1,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:number$1,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),valid=/^data[-\w.:]+$/i,dash=/-[a-z]/g,cap=/[A-Z]/g;function find$1(n,e){const o=normalize(e);let a=e,l=Info;if(o in n.normal)return n.property[n.normal[o]];if(o.length>4&&o.slice(0,4)==="data"&&valid.test(e)){if(e.charAt(4)==="-"){const u=e.slice(5).replace(dash,camelcase);a="data"+u.charAt(0).toUpperCase()+u.slice(1)}else{const u=e.slice(4);if(!dash.test(u)){let c=u.replace(cap,kebab);c.charAt(0)!=="-"&&(c="-"+c),e="data"+c}}l=DefinedInfo}return new l(a,e)}function kebab(n){return"-"+n.toLowerCase()}function camelcase(n){return n.charAt(1).toUpperCase()}const html=merge$1([xml,xlink,xmlns,aria,html$1],"html"),svg$1=merge$1([xml,xlink,xmlns,aria,svg$2],"svg"),own$1={}.hasOwnProperty;function zwitch(n,e){const o=e||{};function a(l,...u){let c=a.invalid;const f=a.handlers;if(l&&own$1.call(l,n)){const p=String(l[n]);c=own$1.call(f,p)?f[p]:a.unknown}if(c)return c.call(this,l,...u)}return a.handlers=o.handlers||{},a.invalid=o.invalid,a.unknown=o.unknown,a}const emptyOptions={},own={}.hasOwnProperty,one=zwitch("type",{handlers:{root:root$1,element:element$1,text:text$1,comment:comment$2,doctype:doctype$1}});function toParse5(n,e){const a=(e||emptyOptions).space;return one(n,a==="svg"?svg$1:html)}function root$1(n,e){const o={nodeName:"#document",mode:(n.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return o.childNodes=all$1(n.children,o,e),patch(n,o),o}function fragment(n,e){const o={nodeName:"#document-fragment",childNodes:[]};return o.childNodes=all$1(n.children,o,e),patch(n,o),o}function doctype$1(n){const e={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return patch(n,e),e}function text$1(n){const e={nodeName:"#text",value:n.value,parentNode:null};return patch(n,e),e}function comment$2(n){const e={nodeName:"#comment",data:n.value,parentNode:null};return patch(n,e),e}function element$1(n,e){const o=e;let a=o;n.type==="element"&&n.tagName.toLowerCase()==="svg"&&o.space==="html"&&(a=svg$1);const l=[];let u;if(n.properties){for(u in n.properties)if(u!=="children"&&own.call(n.properties,u)){const p=createProperty(a,u,n.properties[u]);p&&l.push(p)}}const c=a.space,f={nodeName:n.tagName,tagName:n.tagName,attrs:l,namespaceURI:webNamespaces[c],childNodes:[],parentNode:null};return f.childNodes=all$1(n.children,f,a),patch(n,f),n.tagName==="template"&&n.content&&(f.content=fragment(n.content,a)),f}function createProperty(n,e,o){const a=find$1(n,e);if(o===!1||o===null||o===void 0||typeof o=="number"&&Number.isNaN(o)||!o&&a.boolean)return;Array.isArray(o)&&(o=a.commaSeparated?stringify$1(o):stringify(o));const l={name:a.attribute,value:o===!0?"":String(o)};if(a.space&&a.space!=="html"&&a.space!=="svg"){const u=l.name.indexOf(":");u<0?l.prefix="":(l.name=l.name.slice(u+1),l.prefix=a.attribute.slice(0,u)),l.namespace=webNamespaces[a.space]}return l}function all$1(n,e,o){let a=-1;const l=[];if(n)for(;++a<n.length;){const u=one(n[a],o);u.parentNode=e,l.push(u)}return l}function patch(n,e){const o=n.position;o&&o.start&&o.end&&(o.start.offset,o.end.offset,e.sourceCodeLocation={startLine:o.start.line,startCol:o.start.column,startOffset:o.start.offset,endLine:o.end.line,endCol:o.end.column,endOffset:o.end.offset})}const htmlVoidElements=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],UNDEFINED_CODE_POINTS=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),REPLACEMENT_CHARACTER="";var CODE_POINTS;(function(n){n[n.EOF=-1]="EOF",n[n.NULL=0]="NULL",n[n.TABULATION=9]="TABULATION",n[n.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",n[n.LINE_FEED=10]="LINE_FEED",n[n.FORM_FEED=12]="FORM_FEED",n[n.SPACE=32]="SPACE",n[n.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",n[n.QUOTATION_MARK=34]="QUOTATION_MARK",n[n.AMPERSAND=38]="AMPERSAND",n[n.APOSTROPHE=39]="APOSTROPHE",n[n.HYPHEN_MINUS=45]="HYPHEN_MINUS",n[n.SOLIDUS=47]="SOLIDUS",n[n.DIGIT_0=48]="DIGIT_0",n[n.DIGIT_9=57]="DIGIT_9",n[n.SEMICOLON=59]="SEMICOLON",n[n.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",n[n.EQUALS_SIGN=61]="EQUALS_SIGN",n[n.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",n[n.QUESTION_MARK=63]="QUESTION_MARK",n[n.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",n[n.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",n[n.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",n[n.GRAVE_ACCENT=96]="GRAVE_ACCENT",n[n.LATIN_SMALL_A=97]="LATIN_SMALL_A",n[n.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(CODE_POINTS||(CODE_POINTS={}));const SEQUENCES={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function isSurrogate(n){return n>=55296&&n<=57343}function isSurrogatePair(n){return n>=56320&&n<=57343}function getSurrogatePairCodePoint(n,e){return(n-55296)*1024+9216+e}function isControlCodePoint(n){return n!==32&&n!==10&&n!==13&&n!==9&&n!==12&&n>=1&&n<=31||n>=127&&n<=159}function isUndefinedCodePoint(n){return n>=64976&&n<=65007||UNDEFINED_CODE_POINTS.has(n)}var ERR;(function(n){n.controlCharacterInInputStream="control-character-in-input-stream",n.noncharacterInInputStream="noncharacter-in-input-stream",n.surrogateInInputStream="surrogate-in-input-stream",n.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",n.endTagWithAttributes="end-tag-with-attributes",n.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",n.unexpectedSolidusInTag="unexpected-solidus-in-tag",n.unexpectedNullCharacter="unexpected-null-character",n.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",n.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",n.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",n.missingEndTagName="missing-end-tag-name",n.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",n.unknownNamedCharacterReference="unknown-named-character-reference",n.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",n.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",n.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",n.eofBeforeTagName="eof-before-tag-name",n.eofInTag="eof-in-tag",n.missingAttributeValue="missing-attribute-value",n.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",n.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",n.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",n.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",n.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",n.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",n.missingDoctypePublicIdentifier="missing-doctype-public-identifier",n.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",n.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",n.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",n.cdataInHtmlContent="cdata-in-html-content",n.incorrectlyOpenedComment="incorrectly-opened-comment",n.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",n.eofInDoctype="eof-in-doctype",n.nestedComment="nested-comment",n.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",n.eofInComment="eof-in-comment",n.incorrectlyClosedComment="incorrectly-closed-comment",n.eofInCdata="eof-in-cdata",n.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",n.nullCharacterReference="null-character-reference",n.surrogateCharacterReference="surrogate-character-reference",n.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",n.controlCharacterReference="control-character-reference",n.noncharacterCharacterReference="noncharacter-character-reference",n.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",n.missingDoctypeName="missing-doctype-name",n.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",n.duplicateAttribute="duplicate-attribute",n.nonConformingDoctype="non-conforming-doctype",n.missingDoctype="missing-doctype",n.misplacedDoctype="misplaced-doctype",n.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",n.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",n.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",n.openElementsLeftAfterEof="open-elements-left-after-eof",n.abandonedHeadElementChild="abandoned-head-element-child",n.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",n.nestedNoscriptInHead="nested-noscript-in-head",n.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(ERR||(ERR={}));const DEFAULT_BUFFER_WATERLINE=65536;class Preprocessor{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=DEFAULT_BUFFER_WATERLINE,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e,o){const{line:a,col:l,offset:u}=this,c=l+o,f=u+o;return{code:e,startLine:a,endLine:a,startCol:c,endCol:c,startOffset:f,endOffset:f}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const o=this.html.charCodeAt(this.pos+1);if(isSurrogatePair(o))return this.pos++,this._addGap(),getSurrogatePairCodePoint(e,o)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,CODE_POINTS.EOF;return this._err(ERR.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,o){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=o}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,o){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(o)return this.html.startsWith(e,this.pos);for(let a=0;a<e.length;a++)if((this.html.charCodeAt(this.pos+a)|32)!==e.charCodeAt(a))return!1;return!0}peek(e){const o=this.pos+e;if(o>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,CODE_POINTS.EOF;const a=this.html.charCodeAt(o);return a===CODE_POINTS.CARRIAGE_RETURN?CODE_POINTS.LINE_FEED:a}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,CODE_POINTS.EOF;let e=this.html.charCodeAt(this.pos);return e===CODE_POINTS.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,CODE_POINTS.LINE_FEED):e===CODE_POINTS.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,isSurrogate(e)&&(e=this._processSurrogate(e)),this.handler.onParseError===null||e>31&&e<127||e===CODE_POINTS.LINE_FEED||e===CODE_POINTS.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){isControlCodePoint(e)?this._err(ERR.controlCharacterInInputStream):isUndefinedCodePoint(e)&&this._err(ERR.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var TokenType;(function(n){n[n.CHARACTER=0]="CHARACTER",n[n.NULL_CHARACTER=1]="NULL_CHARACTER",n[n.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",n[n.START_TAG=3]="START_TAG",n[n.END_TAG=4]="END_TAG",n[n.COMMENT=5]="COMMENT",n[n.DOCTYPE=6]="DOCTYPE",n[n.EOF=7]="EOF",n[n.HIBERNATION=8]="HIBERNATION"})(TokenType||(TokenType={}));function getTokenAttr(n,e){for(let o=n.attrs.length-1;o>=0;o--)if(n.attrs[o].name===e)return n.attrs[o].value;return null}const htmlDecodeTree=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(n=>n.charCodeAt(0))),xmlDecodeTree=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(n=>n.charCodeAt(0)));var _a$1;const decodeMap=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),fromCodePoint$1=(_a$1=String.fromCodePoint)!==null&&_a$1!==void 0?_a$1:function(n){let e="";return n>65535&&(n-=65536,e+=String.fromCharCode(n>>>10&1023|55296),n=56320|n&1023),e+=String.fromCharCode(n),e};function replaceCodePoint(n){var e;return n>=55296&&n<=57343||n>1114111?65533:(e=decodeMap.get(n))!==null&&e!==void 0?e:n}var CharCodes;(function(n){n[n.NUM=35]="NUM",n[n.SEMI=59]="SEMI",n[n.EQUALS=61]="EQUALS",n[n.ZERO=48]="ZERO",n[n.NINE=57]="NINE",n[n.LOWER_A=97]="LOWER_A",n[n.LOWER_F=102]="LOWER_F",n[n.LOWER_X=120]="LOWER_X",n[n.LOWER_Z=122]="LOWER_Z",n[n.UPPER_A=65]="UPPER_A",n[n.UPPER_F=70]="UPPER_F",n[n.UPPER_Z=90]="UPPER_Z"})(CharCodes||(CharCodes={}));const TO_LOWER_BIT=32;var BinTrieFlags;(function(n){n[n.VALUE_LENGTH=49152]="VALUE_LENGTH",n[n.BRANCH_LENGTH=16256]="BRANCH_LENGTH",n[n.JUMP_TABLE=127]="JUMP_TABLE"})(BinTrieFlags||(BinTrieFlags={}));function isNumber(n){return n>=CharCodes.ZERO&&n<=CharCodes.NINE}function isHexadecimalCharacter(n){return n>=CharCodes.UPPER_A&&n<=CharCodes.UPPER_F||n>=CharCodes.LOWER_A&&n<=CharCodes.LOWER_F}function isAsciiAlphaNumeric$1(n){return n>=CharCodes.UPPER_A&&n<=CharCodes.UPPER_Z||n>=CharCodes.LOWER_A&&n<=CharCodes.LOWER_Z||isNumber(n)}function isEntityInAttributeInvalidEnd(n){return n===CharCodes.EQUALS||isAsciiAlphaNumeric$1(n)}var EntityDecoderState;(function(n){n[n.EntityStart=0]="EntityStart",n[n.NumericStart=1]="NumericStart",n[n.NumericDecimal=2]="NumericDecimal",n[n.NumericHex=3]="NumericHex",n[n.NamedEntity=4]="NamedEntity"})(EntityDecoderState||(EntityDecoderState={}));var DecodingMode;(function(n){n[n.Legacy=0]="Legacy",n[n.Strict=1]="Strict",n[n.Attribute=2]="Attribute"})(DecodingMode||(DecodingMode={}));class EntityDecoder{constructor(e,o,a){this.decodeTree=e,this.emitCodePoint=o,this.errors=a,this.state=EntityDecoderState.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=DecodingMode.Strict}startEntity(e){this.decodeMode=e,this.state=EntityDecoderState.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,o){switch(this.state){case EntityDecoderState.EntityStart:return e.charCodeAt(o)===CharCodes.NUM?(this.state=EntityDecoderState.NumericStart,this.consumed+=1,this.stateNumericStart(e,o+1)):(this.state=EntityDecoderState.NamedEntity,this.stateNamedEntity(e,o));case EntityDecoderState.NumericStart:return this.stateNumericStart(e,o);case EntityDecoderState.NumericDecimal:return this.stateNumericDecimal(e,o);case EntityDecoderState.NumericHex:return this.stateNumericHex(e,o);case EntityDecoderState.NamedEntity:return this.stateNamedEntity(e,o)}}stateNumericStart(e,o){return o>=e.length?-1:(e.charCodeAt(o)|TO_LOWER_BIT)===CharCodes.LOWER_X?(this.state=EntityDecoderState.NumericHex,this.consumed+=1,this.stateNumericHex(e,o+1)):(this.state=EntityDecoderState.NumericDecimal,this.stateNumericDecimal(e,o))}addToNumericResult(e,o,a,l){if(o!==a){const u=a-o;this.result=this.result*Math.pow(l,u)+parseInt(e.substr(o,u),l),this.consumed+=u}}stateNumericHex(e,o){const a=o;for(;o<e.length;){const l=e.charCodeAt(o);if(isNumber(l)||isHexadecimalCharacter(l))o+=1;else return this.addToNumericResult(e,a,o,16),this.emitNumericEntity(l,3)}return this.addToNumericResult(e,a,o,16),-1}stateNumericDecimal(e,o){const a=o;for(;o<e.length;){const l=e.charCodeAt(o);if(isNumber(l))o+=1;else return this.addToNumericResult(e,a,o,10),this.emitNumericEntity(l,2)}return this.addToNumericResult(e,a,o,10),-1}emitNumericEntity(e,o){var a;if(this.consumed<=o)return(a=this.errors)===null||a===void 0||a.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===CharCodes.SEMI)this.consumed+=1;else if(this.decodeMode===DecodingMode.Strict)return 0;return this.emitCodePoint(replaceCodePoint(this.result),this.consumed),this.errors&&(e!==CharCodes.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,o){const{decodeTree:a}=this;let l=a[this.treeIndex],u=(l&BinTrieFlags.VALUE_LENGTH)>>14;for(;o<e.length;o++,this.excess++){const c=e.charCodeAt(o);if(this.treeIndex=determineBranch(a,l,this.treeIndex+Math.max(1,u),c),this.treeIndex<0)return this.result===0||this.decodeMode===DecodingMode.Attribute&&(u===0||isEntityInAttributeInvalidEnd(c))?0:this.emitNotTerminatedNamedEntity();if(l=a[this.treeIndex],u=(l&BinTrieFlags.VALUE_LENGTH)>>14,u!==0){if(c===CharCodes.SEMI)return this.emitNamedEntityData(this.treeIndex,u,this.consumed+this.excess);this.decodeMode!==DecodingMode.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:o,decodeTree:a}=this,l=(a[o]&BinTrieFlags.VALUE_LENGTH)>>14;return this.emitNamedEntityData(o,l,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,o,a){const{decodeTree:l}=this;return this.emitCodePoint(o===1?l[e]&~BinTrieFlags.VALUE_LENGTH:l[e+1],a),o===3&&this.emitCodePoint(l[e+2],a),a}end(){var e;switch(this.state){case EntityDecoderState.NamedEntity:return this.result!==0&&(this.decodeMode!==DecodingMode.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case EntityDecoderState.NumericDecimal:return this.emitNumericEntity(0,2);case EntityDecoderState.NumericHex:return this.emitNumericEntity(0,3);case EntityDecoderState.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case EntityDecoderState.EntityStart:return 0}}}function getDecoder(n){let e="";const o=new EntityDecoder(n,a=>e+=fromCodePoint$1(a));return function(l,u){let c=0,f=0;for(;(f=l.indexOf("&",f))>=0;){e+=l.slice(c,f),o.startEntity(u);const T=o.write(l,f+1);if(T<0){c=f+o.end();break}c=f+T,f=T===0?c+1:c}const p=e+l.slice(c);return e="",p}}function determineBranch(n,e,o,a){const l=(e&BinTrieFlags.BRANCH_LENGTH)>>7,u=e&BinTrieFlags.JUMP_TABLE;if(l===0)return u!==0&&a===u?o:-1;if(u){const p=a-u;return p<0||p>=l?-1:n[o+p]-1}let c=o,f=c+l-1;for(;c<=f;){const p=c+f>>>1,T=n[p];if(T<a)c=p+1;else if(T>a)f=p-1;else return n[p+l]}return-1}getDecoder(htmlDecodeTree);getDecoder(xmlDecodeTree);var NS;(function(n){n.HTML="http://www.w3.org/1999/xhtml",n.MATHML="http://www.w3.org/1998/Math/MathML",n.SVG="http://www.w3.org/2000/svg",n.XLINK="http://www.w3.org/1999/xlink",n.XML="http://www.w3.org/XML/1998/namespace",n.XMLNS="http://www.w3.org/2000/xmlns/"})(NS||(NS={}));var ATTRS;(function(n){n.TYPE="type",n.ACTION="action",n.ENCODING="encoding",n.PROMPT="prompt",n.NAME="name",n.COLOR="color",n.FACE="face",n.SIZE="size"})(ATTRS||(ATTRS={}));var DOCUMENT_MODE;(function(n){n.NO_QUIRKS="no-quirks",n.QUIRKS="quirks",n.LIMITED_QUIRKS="limited-quirks"})(DOCUMENT_MODE||(DOCUMENT_MODE={}));var TAG_NAMES$1;(function(n){n.A="a",n.ADDRESS="address",n.ANNOTATION_XML="annotation-xml",n.APPLET="applet",n.AREA="area",n.ARTICLE="article",n.ASIDE="aside",n.B="b",n.BASE="base",n.BASEFONT="basefont",n.BGSOUND="bgsound",n.BIG="big",n.BLOCKQUOTE="blockquote",n.BODY="body",n.BR="br",n.BUTTON="button",n.CAPTION="caption",n.CENTER="center",n.CODE="code",n.COL="col",n.COLGROUP="colgroup",n.DD="dd",n.DESC="desc",n.DETAILS="details",n.DIALOG="dialog",n.DIR="dir",n.DIV="div",n.DL="dl",n.DT="dt",n.EM="em",n.EMBED="embed",n.FIELDSET="fieldset",n.FIGCAPTION="figcaption",n.FIGURE="figure",n.FONT="font",n.FOOTER="footer",n.FOREIGN_OBJECT="foreignObject",n.FORM="form",n.FRAME="frame",n.FRAMESET="frameset",n.H1="h1",n.H2="h2",n.H3="h3",n.H4="h4",n.H5="h5",n.H6="h6",n.HEAD="head",n.HEADER="header",n.HGROUP="hgroup",n.HR="hr",n.HTML="html",n.I="i",n.IMG="img",n.IMAGE="image",n.INPUT="input",n.IFRAME="iframe",n.KEYGEN="keygen",n.LABEL="label",n.LI="li",n.LINK="link",n.LISTING="listing",n.MAIN="main",n.MALIGNMARK="malignmark",n.MARQUEE="marquee",n.MATH="math",n.MENU="menu",n.META="meta",n.MGLYPH="mglyph",n.MI="mi",n.MO="mo",n.MN="mn",n.MS="ms",n.MTEXT="mtext",n.NAV="nav",n.NOBR="nobr",n.NOFRAMES="noframes",n.NOEMBED="noembed",n.NOSCRIPT="noscript",n.OBJECT="object",n.OL="ol",n.OPTGROUP="optgroup",n.OPTION="option",n.P="p",n.PARAM="param",n.PLAINTEXT="plaintext",n.PRE="pre",n.RB="rb",n.RP="rp",n.RT="rt",n.RTC="rtc",n.RUBY="ruby",n.S="s",n.SCRIPT="script",n.SEARCH="search",n.SECTION="section",n.SELECT="select",n.SOURCE="source",n.SMALL="small",n.SPAN="span",n.STRIKE="strike",n.STRONG="strong",n.STYLE="style",n.SUB="sub",n.SUMMARY="summary",n.SUP="sup",n.TABLE="table",n.TBODY="tbody",n.TEMPLATE="template",n.TEXTAREA="textarea",n.TFOOT="tfoot",n.TD="td",n.TH="th",n.THEAD="thead",n.TITLE="title",n.TR="tr",n.TRACK="track",n.TT="tt",n.U="u",n.UL="ul",n.SVG="svg",n.VAR="var",n.WBR="wbr",n.XMP="xmp"})(TAG_NAMES$1||(TAG_NAMES$1={}));var TAG_ID;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.A=1]="A",n[n.ADDRESS=2]="ADDRESS",n[n.ANNOTATION_XML=3]="ANNOTATION_XML",n[n.APPLET=4]="APPLET",n[n.AREA=5]="AREA",n[n.ARTICLE=6]="ARTICLE",n[n.ASIDE=7]="ASIDE",n[n.B=8]="B",n[n.BASE=9]="BASE",n[n.BASEFONT=10]="BASEFONT",n[n.BGSOUND=11]="BGSOUND",n[n.BIG=12]="BIG",n[n.BLOCKQUOTE=13]="BLOCKQUOTE",n[n.BODY=14]="BODY",n[n.BR=15]="BR",n[n.BUTTON=16]="BUTTON",n[n.CAPTION=17]="CAPTION",n[n.CENTER=18]="CENTER",n[n.CODE=19]="CODE",n[n.COL=20]="COL",n[n.COLGROUP=21]="COLGROUP",n[n.DD=22]="DD",n[n.DESC=23]="DESC",n[n.DETAILS=24]="DETAILS",n[n.DIALOG=25]="DIALOG",n[n.DIR=26]="DIR",n[n.DIV=27]="DIV",n[n.DL=28]="DL",n[n.DT=29]="DT",n[n.EM=30]="EM",n[n.EMBED=31]="EMBED",n[n.FIELDSET=32]="FIELDSET",n[n.FIGCAPTION=33]="FIGCAPTION",n[n.FIGURE=34]="FIGURE",n[n.FONT=35]="FONT",n[n.FOOTER=36]="FOOTER",n[n.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",n[n.FORM=38]="FORM",n[n.FRAME=39]="FRAME",n[n.FRAMESET=40]="FRAMESET",n[n.H1=41]="H1",n[n.H2=42]="H2",n[n.H3=43]="H3",n[n.H4=44]="H4",n[n.H5=45]="H5",n[n.H6=46]="H6",n[n.HEAD=47]="HEAD",n[n.HEADER=48]="HEADER",n[n.HGROUP=49]="HGROUP",n[n.HR=50]="HR",n[n.HTML=51]="HTML",n[n.I=52]="I",n[n.IMG=53]="IMG",n[n.IMAGE=54]="IMAGE",n[n.INPUT=55]="INPUT",n[n.IFRAME=56]="IFRAME",n[n.KEYGEN=57]="KEYGEN",n[n.LABEL=58]="LABEL",n[n.LI=59]="LI",n[n.LINK=60]="LINK",n[n.LISTING=61]="LISTING",n[n.MAIN=62]="MAIN",n[n.MALIGNMARK=63]="MALIGNMARK",n[n.MARQUEE=64]="MARQUEE",n[n.MATH=65]="MATH",n[n.MENU=66]="MENU",n[n.META=67]="META",n[n.MGLYPH=68]="MGLYPH",n[n.MI=69]="MI",n[n.MO=70]="MO",n[n.MN=71]="MN",n[n.MS=72]="MS",n[n.MTEXT=73]="MTEXT",n[n.NAV=74]="NAV",n[n.NOBR=75]="NOBR",n[n.NOFRAMES=76]="NOFRAMES",n[n.NOEMBED=77]="NOEMBED",n[n.NOSCRIPT=78]="NOSCRIPT",n[n.OBJECT=79]="OBJECT",n[n.OL=80]="OL",n[n.OPTGROUP=81]="OPTGROUP",n[n.OPTION=82]="OPTION",n[n.P=83]="P",n[n.PARAM=84]="PARAM",n[n.PLAINTEXT=85]="PLAINTEXT",n[n.PRE=86]="PRE",n[n.RB=87]="RB",n[n.RP=88]="RP",n[n.RT=89]="RT",n[n.RTC=90]="RTC",n[n.RUBY=91]="RUBY",n[n.S=92]="S",n[n.SCRIPT=93]="SCRIPT",n[n.SEARCH=94]="SEARCH",n[n.SECTION=95]="SECTION",n[n.SELECT=96]="SELECT",n[n.SOURCE=97]="SOURCE",n[n.SMALL=98]="SMALL",n[n.SPAN=99]="SPAN",n[n.STRIKE=100]="STRIKE",n[n.STRONG=101]="STRONG",n[n.STYLE=102]="STYLE",n[n.SUB=103]="SUB",n[n.SUMMARY=104]="SUMMARY",n[n.SUP=105]="SUP",n[n.TABLE=106]="TABLE",n[n.TBODY=107]="TBODY",n[n.TEMPLATE=108]="TEMPLATE",n[n.TEXTAREA=109]="TEXTAREA",n[n.TFOOT=110]="TFOOT",n[n.TD=111]="TD",n[n.TH=112]="TH",n[n.THEAD=113]="THEAD",n[n.TITLE=114]="TITLE",n[n.TR=115]="TR",n[n.TRACK=116]="TRACK",n[n.TT=117]="TT",n[n.U=118]="U",n[n.UL=119]="UL",n[n.SVG=120]="SVG",n[n.VAR=121]="VAR",n[n.WBR=122]="WBR",n[n.XMP=123]="XMP"})(TAG_ID||(TAG_ID={}));const TAG_NAME_TO_ID=new Map([[TAG_NAMES$1.A,TAG_ID.A],[TAG_NAMES$1.ADDRESS,TAG_ID.ADDRESS],[TAG_NAMES$1.ANNOTATION_XML,TAG_ID.ANNOTATION_XML],[TAG_NAMES$1.APPLET,TAG_ID.APPLET],[TAG_NAMES$1.AREA,TAG_ID.AREA],[TAG_NAMES$1.ARTICLE,TAG_ID.ARTICLE],[TAG_NAMES$1.ASIDE,TAG_ID.ASIDE],[TAG_NAMES$1.B,TAG_ID.B],[TAG_NAMES$1.BASE,TAG_ID.BASE],[TAG_NAMES$1.BASEFONT,TAG_ID.BASEFONT],[TAG_NAMES$1.BGSOUND,TAG_ID.BGSOUND],[TAG_NAMES$1.BIG,TAG_ID.BIG],[TAG_NAMES$1.BLOCKQUOTE,TAG_ID.BLOCKQUOTE],[TAG_NAMES$1.BODY,TAG_ID.BODY],[TAG_NAMES$1.BR,TAG_ID.BR],[TAG_NAMES$1.BUTTON,TAG_ID.BUTTON],[TAG_NAMES$1.CAPTION,TAG_ID.CAPTION],[TAG_NAMES$1.CENTER,TAG_ID.CENTER],[TAG_NAMES$1.CODE,TAG_ID.CODE],[TAG_NAMES$1.COL,TAG_ID.COL],[TAG_NAMES$1.COLGROUP,TAG_ID.COLGROUP],[TAG_NAMES$1.DD,TAG_ID.DD],[TAG_NAMES$1.DESC,TAG_ID.DESC],[TAG_NAMES$1.DETAILS,TAG_ID.DETAILS],[TAG_NAMES$1.DIALOG,TAG_ID.DIALOG],[TAG_NAMES$1.DIR,TAG_ID.DIR],[TAG_NAMES$1.DIV,TAG_ID.DIV],[TAG_NAMES$1.DL,TAG_ID.DL],[TAG_NAMES$1.DT,TAG_ID.DT],[TAG_NAMES$1.EM,TAG_ID.EM],[TAG_NAMES$1.EMBED,TAG_ID.EMBED],[TAG_NAMES$1.FIELDSET,TAG_ID.FIELDSET],[TAG_NAMES$1.FIGCAPTION,TAG_ID.FIGCAPTION],[TAG_NAMES$1.FIGURE,TAG_ID.FIGURE],[TAG_NAMES$1.FONT,TAG_ID.FONT],[TAG_NAMES$1.FOOTER,TAG_ID.FOOTER],[TAG_NAMES$1.FOREIGN_OBJECT,TAG_ID.FOREIGN_OBJECT],[TAG_NAMES$1.FORM,TAG_ID.FORM],[TAG_NAMES$1.FRAME,TAG_ID.FRAME],[TAG_NAMES$1.FRAMESET,TAG_ID.FRAMESET],[TAG_NAMES$1.H1,TAG_ID.H1],[TAG_NAMES$1.H2,TAG_ID.H2],[TAG_NAMES$1.H3,TAG_ID.H3],[TAG_NAMES$1.H4,TAG_ID.H4],[TAG_NAMES$1.H5,TAG_ID.H5],[TAG_NAMES$1.H6,TAG_ID.H6],[TAG_NAMES$1.HEAD,TAG_ID.HEAD],[TAG_NAMES$1.HEADER,TAG_ID.HEADER],[TAG_NAMES$1.HGROUP,TAG_ID.HGROUP],[TAG_NAMES$1.HR,TAG_ID.HR],[TAG_NAMES$1.HTML,TAG_ID.HTML],[TAG_NAMES$1.I,TAG_ID.I],[TAG_NAMES$1.IMG,TAG_ID.IMG],[TAG_NAMES$1.IMAGE,TAG_ID.IMAGE],[TAG_NAMES$1.INPUT,TAG_ID.INPUT],[TAG_NAMES$1.IFRAME,TAG_ID.IFRAME],[TAG_NAMES$1.KEYGEN,TAG_ID.KEYGEN],[TAG_NAMES$1.LABEL,TAG_ID.LABEL],[TAG_NAMES$1.LI,TAG_ID.LI],[TAG_NAMES$1.LINK,TAG_ID.LINK],[TAG_NAMES$1.LISTING,TAG_ID.LISTING],[TAG_NAMES$1.MAIN,TAG_ID.MAIN],[TAG_NAMES$1.MALIGNMARK,TAG_ID.MALIGNMARK],[TAG_NAMES$1.MARQUEE,TAG_ID.MARQUEE],[TAG_NAMES$1.MATH,TAG_ID.MATH],[TAG_NAMES$1.MENU,TAG_ID.MENU],[TAG_NAMES$1.META,TAG_ID.META],[TAG_NAMES$1.MGLYPH,TAG_ID.MGLYPH],[TAG_NAMES$1.MI,TAG_ID.MI],[TAG_NAMES$1.MO,TAG_ID.MO],[TAG_NAMES$1.MN,TAG_ID.MN],[TAG_NAMES$1.MS,TAG_ID.MS],[TAG_NAMES$1.MTEXT,TAG_ID.MTEXT],[TAG_NAMES$1.NAV,TAG_ID.NAV],[TAG_NAMES$1.NOBR,TAG_ID.NOBR],[TAG_NAMES$1.NOFRAMES,TAG_ID.NOFRAMES],[TAG_NAMES$1.NOEMBED,TAG_ID.NOEMBED],[TAG_NAMES$1.NOSCRIPT,TAG_ID.NOSCRIPT],[TAG_NAMES$1.OBJECT,TAG_ID.OBJECT],[TAG_NAMES$1.OL,TAG_ID.OL],[TAG_NAMES$1.OPTGROUP,TAG_ID.OPTGROUP],[TAG_NAMES$1.OPTION,TAG_ID.OPTION],[TAG_NAMES$1.P,TAG_ID.P],[TAG_NAMES$1.PARAM,TAG_ID.PARAM],[TAG_NAMES$1.PLAINTEXT,TAG_ID.PLAINTEXT],[TAG_NAMES$1.PRE,TAG_ID.PRE],[TAG_NAMES$1.RB,TAG_ID.RB],[TAG_NAMES$1.RP,TAG_ID.RP],[TAG_NAMES$1.RT,TAG_ID.RT],[TAG_NAMES$1.RTC,TAG_ID.RTC],[TAG_NAMES$1.RUBY,TAG_ID.RUBY],[TAG_NAMES$1.S,TAG_ID.S],[TAG_NAMES$1.SCRIPT,TAG_ID.SCRIPT],[TAG_NAMES$1.SEARCH,TAG_ID.SEARCH],[TAG_NAMES$1.SECTION,TAG_ID.SECTION],[TAG_NAMES$1.SELECT,TAG_ID.SELECT],[TAG_NAMES$1.SOURCE,TAG_ID.SOURCE],[TAG_NAMES$1.SMALL,TAG_ID.SMALL],[TAG_NAMES$1.SPAN,TAG_ID.SPAN],[TAG_NAMES$1.STRIKE,TAG_ID.STRIKE],[TAG_NAMES$1.STRONG,TAG_ID.STRONG],[TAG_NAMES$1.STYLE,TAG_ID.STYLE],[TAG_NAMES$1.SUB,TAG_ID.SUB],[TAG_NAMES$1.SUMMARY,TAG_ID.SUMMARY],[TAG_NAMES$1.SUP,TAG_ID.SUP],[TAG_NAMES$1.TABLE,TAG_ID.TABLE],[TAG_NAMES$1.TBODY,TAG_ID.TBODY],[TAG_NAMES$1.TEMPLATE,TAG_ID.TEMPLATE],[TAG_NAMES$1.TEXTAREA,TAG_ID.TEXTAREA],[TAG_NAMES$1.TFOOT,TAG_ID.TFOOT],[TAG_NAMES$1.TD,TAG_ID.TD],[TAG_NAMES$1.TH,TAG_ID.TH],[TAG_NAMES$1.THEAD,TAG_ID.THEAD],[TAG_NAMES$1.TITLE,TAG_ID.TITLE],[TAG_NAMES$1.TR,TAG_ID.TR],[TAG_NAMES$1.TRACK,TAG_ID.TRACK],[TAG_NAMES$1.TT,TAG_ID.TT],[TAG_NAMES$1.U,TAG_ID.U],[TAG_NAMES$1.UL,TAG_ID.UL],[TAG_NAMES$1.SVG,TAG_ID.SVG],[TAG_NAMES$1.VAR,TAG_ID.VAR],[TAG_NAMES$1.WBR,TAG_ID.WBR],[TAG_NAMES$1.XMP,TAG_ID.XMP]]);function getTagID(n){var e;return(e=TAG_NAME_TO_ID.get(n))!==null&&e!==void 0?e:TAG_ID.UNKNOWN}const $=TAG_ID,SPECIAL_ELEMENTS={[NS.HTML]:new Set([$.ADDRESS,$.APPLET,$.AREA,$.ARTICLE,$.ASIDE,$.BASE,$.BASEFONT,$.BGSOUND,$.BLOCKQUOTE,$.BODY,$.BR,$.BUTTON,$.CAPTION,$.CENTER,$.COL,$.COLGROUP,$.DD,$.DETAILS,$.DIR,$.DIV,$.DL,$.DT,$.EMBED,$.FIELDSET,$.FIGCAPTION,$.FIGURE,$.FOOTER,$.FORM,$.FRAME,$.FRAMESET,$.H1,$.H2,$.H3,$.H4,$.H5,$.H6,$.HEAD,$.HEADER,$.HGROUP,$.HR,$.HTML,$.IFRAME,$.IMG,$.INPUT,$.LI,$.LINK,$.LISTING,$.MAIN,$.MARQUEE,$.MENU,$.META,$.NAV,$.NOEMBED,$.NOFRAMES,$.NOSCRIPT,$.OBJECT,$.OL,$.P,$.PARAM,$.PLAINTEXT,$.PRE,$.SCRIPT,$.SECTION,$.SELECT,$.SOURCE,$.STYLE,$.SUMMARY,$.TABLE,$.TBODY,$.TD,$.TEMPLATE,$.TEXTAREA,$.TFOOT,$.TH,$.THEAD,$.TITLE,$.TR,$.TRACK,$.UL,$.WBR,$.XMP]),[NS.MATHML]:new Set([$.MI,$.MO,$.MN,$.MS,$.MTEXT,$.ANNOTATION_XML]),[NS.SVG]:new Set([$.TITLE,$.FOREIGN_OBJECT,$.DESC]),[NS.XLINK]:new Set,[NS.XML]:new Set,[NS.XMLNS]:new Set},NUMBERED_HEADERS=new Set([$.H1,$.H2,$.H3,$.H4,$.H5,$.H6]);TAG_NAMES$1.STYLE,TAG_NAMES$1.SCRIPT,TAG_NAMES$1.XMP,TAG_NAMES$1.IFRAME,TAG_NAMES$1.NOEMBED,TAG_NAMES$1.NOFRAMES,TAG_NAMES$1.PLAINTEXT;var State$1;(function(n){n[n.DATA=0]="DATA",n[n.RCDATA=1]="RCDATA",n[n.RAWTEXT=2]="RAWTEXT",n[n.SCRIPT_DATA=3]="SCRIPT_DATA",n[n.PLAINTEXT=4]="PLAINTEXT",n[n.TAG_OPEN=5]="TAG_OPEN",n[n.END_TAG_OPEN=6]="END_TAG_OPEN",n[n.TAG_NAME=7]="TAG_NAME",n[n.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",n[n.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",n[n.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",n[n.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",n[n.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",n[n.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",n[n.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",n[n.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",n[n.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",n[n.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",n[n.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",n[n.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",n[n.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",n[n.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",n[n.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",n[n.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",n[n.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",n[n.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",n[n.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",n[n.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",n[n.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",n[n.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",n[n.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",n[n.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",n[n.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",n[n.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",n[n.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",n[n.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",n[n.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",n[n.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",n[n.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",n[n.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",n[n.BOGUS_COMMENT=40]="BOGUS_COMMENT",n[n.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",n[n.COMMENT_START=42]="COMMENT_START",n[n.COMMENT_START_DASH=43]="COMMENT_START_DASH",n[n.COMMENT=44]="COMMENT",n[n.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",n[n.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",n[n.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",n[n.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",n[n.COMMENT_END_DASH=49]="COMMENT_END_DASH",n[n.COMMENT_END=50]="COMMENT_END",n[n.COMMENT_END_BANG=51]="COMMENT_END_BANG",n[n.DOCTYPE=52]="DOCTYPE",n[n.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",n[n.DOCTYPE_NAME=54]="DOCTYPE_NAME",n[n.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",n[n.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",n[n.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",n[n.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",n[n.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",n[n.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",n[n.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",n[n.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",n[n.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",n[n.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",n[n.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",n[n.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",n[n.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",n[n.CDATA_SECTION=68]="CDATA_SECTION",n[n.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",n[n.CDATA_SECTION_END=70]="CDATA_SECTION_END",n[n.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",n[n.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(State$1||(State$1={}));const TokenizerMode={DATA:State$1.DATA,RCDATA:State$1.RCDATA,RAWTEXT:State$1.RAWTEXT,SCRIPT_DATA:State$1.SCRIPT_DATA,PLAINTEXT:State$1.PLAINTEXT,CDATA_SECTION:State$1.CDATA_SECTION};function isAsciiDigit(n){return n>=CODE_POINTS.DIGIT_0&&n<=CODE_POINTS.DIGIT_9}function isAsciiUpper(n){return n>=CODE_POINTS.LATIN_CAPITAL_A&&n<=CODE_POINTS.LATIN_CAPITAL_Z}function isAsciiLower(n){return n>=CODE_POINTS.LATIN_SMALL_A&&n<=CODE_POINTS.LATIN_SMALL_Z}function isAsciiLetter(n){return isAsciiLower(n)||isAsciiUpper(n)}function isAsciiAlphaNumeric(n){return isAsciiLetter(n)||isAsciiDigit(n)}function toAsciiLower(n){return n+32}function isWhitespace$1(n){return n===CODE_POINTS.SPACE||n===CODE_POINTS.LINE_FEED||n===CODE_POINTS.TABULATION||n===CODE_POINTS.FORM_FEED}function isScriptDataDoubleEscapeSequenceEnd(n){return isWhitespace$1(n)||n===CODE_POINTS.SOLIDUS||n===CODE_POINTS.GREATER_THAN_SIGN}function getErrorForNumericCharacterReference(n){return n===CODE_POINTS.NULL?ERR.nullCharacterReference:n>1114111?ERR.characterReferenceOutsideUnicodeRange:isSurrogate(n)?ERR.surrogateCharacterReference:isUndefinedCodePoint(n)?ERR.noncharacterCharacterReference:isControlCodePoint(n)||n===CODE_POINTS.CARRIAGE_RETURN?ERR.controlCharacterReference:null}class Tokenizer{constructor(e,o){this.options=e,this.handler=o,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=State$1.DATA,this.returnState=State$1.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new Preprocessor(o),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new EntityDecoder(htmlDecodeTree,(a,l)=>{this.preprocessor.pos=this.entityStartPos+l-1,this._flushCodePointConsumedAsCharacterReference(a)},o.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(ERR.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:a=>{this._err(ERR.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+a)},validateNumericCharacterReference:a=>{const l=getErrorForNumericCharacterReference(a);l&&this._err(l,1)}}:void 0)}_err(e,o=0){var a,l;(l=(a=this.handler).onParseError)===null||l===void 0||l.call(a,this.preprocessor.getError(e,o))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||e==null||e())}write(e,o,a){this.active=!0,this.preprocessor.write(e,o),this._runParsingLoop(),this.paused||a==null||a()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let o=0;o<e;o++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,o){return this.preprocessor.startsWith(e,o)?(this._advanceBy(e.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:TokenType.START_TAG,tagName:"",tagID:TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:TokenType.END_TAG,tagName:"",tagID:TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:TokenType.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:TokenType.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,o){this.currentCharacterToken={type:e,chars:o,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,o;const a=this.currentToken;if(getTokenAttr(a,this.currentAttr.name)===null){if(a.attrs.push(this.currentAttr),a.location&&this.currentLocation){const l=(e=(o=a.location).attrs)!==null&&e!==void 0?e:o.attrs=Object.create(null);l[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(ERR.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=getTagID(e.tagName),e.type===TokenType.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(ERR.endTagWithAttributes),e.selfClosing&&this._err(ERR.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case TokenType.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case TokenType.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case TokenType.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:TokenType.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,o){if(this.currentCharacterToken)if(this.currentCharacterToken.type===e){this.currentCharacterToken.chars+=o;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(e,o)}_emitCodePoint(e){const o=isWhitespace$1(e)?TokenType.WHITESPACE_CHARACTER:e===CODE_POINTS.NULL?TokenType.NULL_CHARACTER:TokenType.CHARACTER;this._appendCharToCurrentCharacterToken(o,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(TokenType.CHARACTER,e)}_startCharacterReference(){this.returnState=this.state,this.state=State$1.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?DecodingMode.Attribute:DecodingMode.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===State$1.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===State$1.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===State$1.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case State$1.DATA:{this._stateData(e);break}case State$1.RCDATA:{this._stateRcdata(e);break}case State$1.RAWTEXT:{this._stateRawtext(e);break}case State$1.SCRIPT_DATA:{this._stateScriptData(e);break}case State$1.PLAINTEXT:{this._statePlaintext(e);break}case State$1.TAG_OPEN:{this._stateTagOpen(e);break}case State$1.END_TAG_OPEN:{this._stateEndTagOpen(e);break}case State$1.TAG_NAME:{this._stateTagName(e);break}case State$1.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(e);break}case State$1.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(e);break}case State$1.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(e);break}case State$1.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(e);break}case State$1.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(e);break}case State$1.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(e);break}case State$1.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(e);break}case State$1.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(e);break}case State$1.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(e);break}case State$1.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(e);break}case State$1.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(e);break}case State$1.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(e);break}case State$1.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(e);break}case State$1.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(e);break}case State$1.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(e);break}case State$1.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(e);break}case State$1.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(e);break}case State$1.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(e);break}case State$1.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(e);break}case State$1.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(e);break}case State$1.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(e);break}case State$1.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(e);break}case State$1.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(e);break}case State$1.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(e);break}case State$1.ATTRIBUTE_NAME:{this._stateAttributeName(e);break}case State$1.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(e);break}case State$1.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(e);break}case State$1.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(e);break}case State$1.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(e);break}case State$1.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(e);break}case State$1.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(e);break}case State$1.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(e);break}case State$1.BOGUS_COMMENT:{this._stateBogusComment(e);break}case State$1.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(e);break}case State$1.COMMENT_START:{this._stateCommentStart(e);break}case State$1.COMMENT_START_DASH:{this._stateCommentStartDash(e);break}case State$1.COMMENT:{this._stateComment(e);break}case State$1.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(e);break}case State$1.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(e);break}case State$1.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(e);break}case State$1.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(e);break}case State$1.COMMENT_END_DASH:{this._stateCommentEndDash(e);break}case State$1.COMMENT_END:{this._stateCommentEnd(e);break}case State$1.COMMENT_END_BANG:{this._stateCommentEndBang(e);break}case State$1.DOCTYPE:{this._stateDoctype(e);break}case State$1.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(e);break}case State$1.DOCTYPE_NAME:{this._stateDoctypeName(e);break}case State$1.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(e);break}case State$1.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(e);break}case State$1.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(e);break}case State$1.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(e);break}case State$1.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(e);break}case State$1.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(e);break}case State$1.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break}case State$1.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(e);break}case State$1.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(e);break}case State$1.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(e);break}case State$1.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(e);break}case State$1.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(e);break}case State$1.BOGUS_DOCTYPE:{this._stateBogusDoctype(e);break}case State$1.CDATA_SECTION:{this._stateCdataSection(e);break}case State$1.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(e);break}case State$1.CDATA_SECTION_END:{this._stateCdataSectionEnd(e);break}case State$1.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case State$1.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(e);break}default:throw new Error("Unknown state")}}_stateData(e){switch(e){case CODE_POINTS.LESS_THAN_SIGN:{this.state=State$1.TAG_OPEN;break}case CODE_POINTS.AMPERSAND:{this._startCharacterReference();break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitCodePoint(e);break}case CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case CODE_POINTS.AMPERSAND:{this._startCharacterReference();break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State$1.RCDATA_LESS_THAN_SIGN;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case CODE_POINTS.LESS_THAN_SIGN:{this.state=State$1.RAWTEXT_LESS_THAN_SIGN;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case CODE_POINTS.LESS_THAN_SIGN:{this.state=State$1.SCRIPT_DATA_LESS_THAN_SIGN;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateTagOpen(e){if(isAsciiLetter(e))this._createStartTagToken(),this.state=State$1.TAG_NAME,this._stateTagName(e);else switch(e){case CODE_POINTS.EXCLAMATION_MARK:{this.state=State$1.MARKUP_DECLARATION_OPEN;break}case CODE_POINTS.SOLIDUS:{this.state=State$1.END_TAG_OPEN;break}case CODE_POINTS.QUESTION_MARK:{this._err(ERR.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=State$1.BOGUS_COMMENT,this._stateBogusComment(e);break}case CODE_POINTS.EOF:{this._err(ERR.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(ERR.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=State$1.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(isAsciiLetter(e))this._createEndTagToken(),this.state=State$1.TAG_NAME,this._stateTagName(e);else switch(e){case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingEndTagName),this.state=State$1.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(ERR.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=State$1.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const o=this.currentToken;switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this.state=State$1.BEFORE_ATTRIBUTE_NAME;break}case CODE_POINTS.SOLIDUS:{this.state=State$1.SELF_CLOSING_START_TAG;break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State$1.DATA,this.emitCurrentTagToken();break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),o.tagName+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:o.tagName+=String.fromCodePoint(isAsciiUpper(e)?toAsciiLower(e):e)}}_stateRcdataLessThanSign(e){e===CODE_POINTS.SOLIDUS?this.state=State$1.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=State$1.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){isAsciiLetter(e)?(this.state=State$1.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=State$1.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const o=this.currentToken;switch(o.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=State$1.BEFORE_ATTRIBUTE_NAME,!1;case CODE_POINTS.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=State$1.SELF_CLOSING_START_TAG,!1;case CODE_POINTS.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=State$1.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=State$1.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===CODE_POINTS.SOLIDUS?this.state=State$1.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=State$1.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){isAsciiLetter(e)?(this.state=State$1.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=State$1.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=State$1.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case CODE_POINTS.SOLIDUS:{this.state=State$1.SCRIPT_DATA_END_TAG_OPEN;break}case CODE_POINTS.EXCLAMATION_MARK:{this.state=State$1.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=State$1.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){isAsciiLetter(e)?(this.state=State$1.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=State$1.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=State$1.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===CODE_POINTS.HYPHEN_MINUS?(this.state=State$1.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=State$1.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===CODE_POINTS.HYPHEN_MINUS?(this.state=State$1.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=State$1.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case CODE_POINTS.HYPHEN_MINUS:{this.state=State$1.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State$1.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._err(ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case CODE_POINTS.HYPHEN_MINUS:{this.state=State$1.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State$1.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.state=State$1.SCRIPT_DATA_ESCAPED,this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._err(ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=State$1.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case CODE_POINTS.HYPHEN_MINUS:{this._emitChars("-");break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State$1.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State$1.SCRIPT_DATA,this._emitChars(">");break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.state=State$1.SCRIPT_DATA_ESCAPED,this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._err(ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=State$1.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===CODE_POINTS.SOLIDUS?this.state=State$1.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:isAsciiLetter(e)?(this._emitChars("<"),this.state=State$1.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=State$1.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){isAsciiLetter(e)?(this.state=State$1.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=State$1.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=State$1.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(SEQUENCES.SCRIPT,!1)&&isScriptDataDoubleEscapeSequenceEnd(this.preprocessor.peek(SEQUENCES.SCRIPT.length))){this._emitCodePoint(e);for(let o=0;o<SEQUENCES.SCRIPT.length;o++)this._emitCodePoint(this._consume());this.state=State$1.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=State$1.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case CODE_POINTS.HYPHEN_MINUS:{this.state=State$1.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State$1.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._err(ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case CODE_POINTS.HYPHEN_MINUS:{this.state=State$1.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State$1.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.state=State$1.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._err(ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=State$1.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case CODE_POINTS.HYPHEN_MINUS:{this._emitChars("-");break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State$1.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State$1.SCRIPT_DATA,this._emitChars(">");break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.state=State$1.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._err(ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=State$1.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===CODE_POINTS.SOLIDUS?(this.state=State$1.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=State$1.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(SEQUENCES.SCRIPT,!1)&&isScriptDataDoubleEscapeSequenceEnd(this.preprocessor.peek(SEQUENCES.SCRIPT.length))){this._emitCodePoint(e);for(let o=0;o<SEQUENCES.SCRIPT.length;o++)this._emitCodePoint(this._consume());this.state=State$1.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=State$1.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.SOLIDUS:case CODE_POINTS.GREATER_THAN_SIGN:case CODE_POINTS.EOF:{this.state=State$1.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case CODE_POINTS.EQUALS_SIGN:{this._err(ERR.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=State$1.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=State$1.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:case CODE_POINTS.SOLIDUS:case CODE_POINTS.GREATER_THAN_SIGN:case CODE_POINTS.EOF:{this._leaveAttrName(),this.state=State$1.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case CODE_POINTS.EQUALS_SIGN:{this._leaveAttrName(),this.state=State$1.BEFORE_ATTRIBUTE_VALUE;break}case CODE_POINTS.QUOTATION_MARK:case CODE_POINTS.APOSTROPHE:case CODE_POINTS.LESS_THAN_SIGN:{this._err(ERR.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.currentAttr.name+=REPLACEMENT_CHARACTER;break}default:this.currentAttr.name+=String.fromCodePoint(isAsciiUpper(e)?toAsciiLower(e):e)}}_stateAfterAttributeName(e){switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.SOLIDUS:{this.state=State$1.SELF_CLOSING_START_TAG;break}case CODE_POINTS.EQUALS_SIGN:{this.state=State$1.BEFORE_ATTRIBUTE_VALUE;break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State$1.DATA,this.emitCurrentTagToken();break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=State$1.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.QUOTATION_MARK:{this.state=State$1.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{this.state=State$1.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingAttributeValue),this.state=State$1.DATA,this.emitCurrentTagToken();break}default:this.state=State$1.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case CODE_POINTS.QUOTATION_MARK:{this.state=State$1.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case CODE_POINTS.AMPERSAND:{this._startCharacterReference();break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.currentAttr.value+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case CODE_POINTS.APOSTROPHE:{this.state=State$1.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case CODE_POINTS.AMPERSAND:{this._startCharacterReference();break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.currentAttr.value+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this._leaveAttrValue(),this.state=State$1.BEFORE_ATTRIBUTE_NAME;break}case CODE_POINTS.AMPERSAND:{this._startCharacterReference();break}case CODE_POINTS.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=State$1.DATA,this.emitCurrentTagToken();break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.currentAttr.value+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.QUOTATION_MARK:case CODE_POINTS.APOSTROPHE:case CODE_POINTS.LESS_THAN_SIGN:case CODE_POINTS.EQUALS_SIGN:case CODE_POINTS.GRAVE_ACCENT:{this._err(ERR.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this._leaveAttrValue(),this.state=State$1.BEFORE_ATTRIBUTE_NAME;break}case CODE_POINTS.SOLIDUS:{this._leaveAttrValue(),this.state=State$1.SELF_CLOSING_START_TAG;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=State$1.DATA,this.emitCurrentTagToken();break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:this._err(ERR.missingWhitespaceBetweenAttributes),this.state=State$1.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case CODE_POINTS.GREATER_THAN_SIGN:{const o=this.currentToken;o.selfClosing=!0,this.state=State$1.DATA,this.emitCurrentTagToken();break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:this._err(ERR.unexpectedSolidusInTag),this.state=State$1.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const o=this.currentToken;switch(e){case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State$1.DATA,this.emitCurrentComment(o);break}case CODE_POINTS.EOF:{this.emitCurrentComment(o),this._emitEOFToken();break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),o.data+=REPLACEMENT_CHARACTER;break}default:o.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(SEQUENCES.DASH_DASH,!0)?(this._createCommentToken(SEQUENCES.DASH_DASH.length+1),this.state=State$1.COMMENT_START):this._consumeSequenceIfMatch(SEQUENCES.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(SEQUENCES.DOCTYPE.length+1),this.state=State$1.DOCTYPE):this._consumeSequenceIfMatch(SEQUENCES.CDATA_START,!0)?this.inForeignNode?this.state=State$1.CDATA_SECTION:(this._err(ERR.cdataInHtmlContent),this._createCommentToken(SEQUENCES.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=State$1.BOGUS_COMMENT):this._ensureHibernation()||(this._err(ERR.incorrectlyOpenedComment),this._createCommentToken(2),this.state=State$1.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case CODE_POINTS.HYPHEN_MINUS:{this.state=State$1.COMMENT_START_DASH;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.abruptClosingOfEmptyComment),this.state=State$1.DATA;const o=this.currentToken;this.emitCurrentComment(o);break}default:this.state=State$1.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const o=this.currentToken;switch(e){case CODE_POINTS.HYPHEN_MINUS:{this.state=State$1.COMMENT_END;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.abruptClosingOfEmptyComment),this.state=State$1.DATA,this.emitCurrentComment(o);break}case CODE_POINTS.EOF:{this._err(ERR.eofInComment),this.emitCurrentComment(o),this._emitEOFToken();break}default:o.data+="-",this.state=State$1.COMMENT,this._stateComment(e)}}_stateComment(e){const o=this.currentToken;switch(e){case CODE_POINTS.HYPHEN_MINUS:{this.state=State$1.COMMENT_END_DASH;break}case CODE_POINTS.LESS_THAN_SIGN:{o.data+="<",this.state=State$1.COMMENT_LESS_THAN_SIGN;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),o.data+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.EOF:{this._err(ERR.eofInComment),this.emitCurrentComment(o),this._emitEOFToken();break}default:o.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const o=this.currentToken;switch(e){case CODE_POINTS.EXCLAMATION_MARK:{o.data+="!",this.state=State$1.COMMENT_LESS_THAN_SIGN_BANG;break}case CODE_POINTS.LESS_THAN_SIGN:{o.data+="<";break}default:this.state=State$1.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===CODE_POINTS.HYPHEN_MINUS?this.state=State$1.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=State$1.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===CODE_POINTS.HYPHEN_MINUS?this.state=State$1.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=State$1.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==CODE_POINTS.GREATER_THAN_SIGN&&e!==CODE_POINTS.EOF&&this._err(ERR.nestedComment),this.state=State$1.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const o=this.currentToken;switch(e){case CODE_POINTS.HYPHEN_MINUS:{this.state=State$1.COMMENT_END;break}case CODE_POINTS.EOF:{this._err(ERR.eofInComment),this.emitCurrentComment(o),this._emitEOFToken();break}default:o.data+="-",this.state=State$1.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const o=this.currentToken;switch(e){case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State$1.DATA,this.emitCurrentComment(o);break}case CODE_POINTS.EXCLAMATION_MARK:{this.state=State$1.COMMENT_END_BANG;break}case CODE_POINTS.HYPHEN_MINUS:{o.data+="-";break}case CODE_POINTS.EOF:{this._err(ERR.eofInComment),this.emitCurrentComment(o),this._emitEOFToken();break}default:o.data+="--",this.state=State$1.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const o=this.currentToken;switch(e){case CODE_POINTS.HYPHEN_MINUS:{o.data+="--!",this.state=State$1.COMMENT_END_DASH;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.incorrectlyClosedComment),this.state=State$1.DATA,this.emitCurrentComment(o);break}case CODE_POINTS.EOF:{this._err(ERR.eofInComment),this.emitCurrentComment(o),this._emitEOFToken();break}default:o.data+="--!",this.state=State$1.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this.state=State$1.BEFORE_DOCTYPE_NAME;break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State$1.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),this._createDoctypeToken(null);const o=this.currentToken;o.forceQuirks=!0,this.emitCurrentDoctype(o),this._emitEOFToken();break}default:this._err(ERR.missingWhitespaceBeforeDoctypeName),this.state=State$1.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(isAsciiUpper(e))this._createDoctypeToken(String.fromCharCode(toAsciiLower(e))),this.state=State$1.DOCTYPE_NAME;else switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._createDoctypeToken(REPLACEMENT_CHARACTER),this.state=State$1.DOCTYPE_NAME;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingDoctypeName),this._createDoctypeToken(null);const o=this.currentToken;o.forceQuirks=!0,this.emitCurrentDoctype(o),this.state=State$1.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),this._createDoctypeToken(null);const o=this.currentToken;o.forceQuirks=!0,this.emitCurrentDoctype(o),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=State$1.DOCTYPE_NAME}}_stateDoctypeName(e){const o=this.currentToken;switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this.state=State$1.AFTER_DOCTYPE_NAME;break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State$1.DATA,this.emitCurrentDoctype(o);break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),o.name+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),o.forceQuirks=!0,this.emitCurrentDoctype(o),this._emitEOFToken();break}default:o.name+=String.fromCodePoint(isAsciiUpper(e)?toAsciiLower(e):e)}}_stateAfterDoctypeName(e){const o=this.currentToken;switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State$1.DATA,this.emitCurrentDoctype(o);break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),o.forceQuirks=!0,this.emitCurrentDoctype(o),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(SEQUENCES.PUBLIC,!1)?this.state=State$1.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(SEQUENCES.SYSTEM,!1)?this.state=State$1.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(ERR.invalidCharacterSequenceAfterDoctypeName),o.forceQuirks=!0,this.state=State$1.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const o=this.currentToken;switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this.state=State$1.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case CODE_POINTS.QUOTATION_MARK:{this._err(ERR.missingWhitespaceAfterDoctypePublicKeyword),o.publicId="",this.state=State$1.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{this._err(ERR.missingWhitespaceAfterDoctypePublicKeyword),o.publicId="",this.state=State$1.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingDoctypePublicIdentifier),o.forceQuirks=!0,this.state=State$1.DATA,this.emitCurrentDoctype(o);break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),o.forceQuirks=!0,this.emitCurrentDoctype(o),this._emitEOFToken();break}default:this._err(ERR.missingQuoteBeforeDoctypePublicIdentifier),o.forceQuirks=!0,this.state=State$1.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const o=this.currentToken;switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.QUOTATION_MARK:{o.publicId="",this.state=State$1.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{o.publicId="",this.state=State$1.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingDoctypePublicIdentifier),o.forceQuirks=!0,this.state=State$1.DATA,this.emitCurrentDoctype(o);break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),o.forceQuirks=!0,this.emitCurrentDoctype(o),this._emitEOFToken();break}default:this._err(ERR.missingQuoteBeforeDoctypePublicIdentifier),o.forceQuirks=!0,this.state=State$1.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const o=this.currentToken;switch(e){case CODE_POINTS.QUOTATION_MARK:{this.state=State$1.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),o.publicId+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.abruptDoctypePublicIdentifier),o.forceQuirks=!0,this.emitCurrentDoctype(o),this.state=State$1.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),o.forceQuirks=!0,this.emitCurrentDoctype(o),this._emitEOFToken();break}default:o.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const o=this.currentToken;switch(e){case CODE_POINTS.APOSTROPHE:{this.state=State$1.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),o.publicId+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.abruptDoctypePublicIdentifier),o.forceQuirks=!0,this.emitCurrentDoctype(o),this.state=State$1.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),o.forceQuirks=!0,this.emitCurrentDoctype(o),this._emitEOFToken();break}default:o.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const o=this.currentToken;switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this.state=State$1.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State$1.DATA,this.emitCurrentDoctype(o);break}case CODE_POINTS.QUOTATION_MARK:{this._err(ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),o.systemId="",this.state=State$1.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{this._err(ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),o.systemId="",this.state=State$1.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),o.forceQuirks=!0,this.emitCurrentDoctype(o),this._emitEOFToken();break}default:this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier),o.forceQuirks=!0,this.state=State$1.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const o=this.currentToken;switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(o),this.state=State$1.DATA;break}case CODE_POINTS.QUOTATION_MARK:{o.systemId="",this.state=State$1.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{o.systemId="",this.state=State$1.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),o.forceQuirks=!0,this.emitCurrentDoctype(o),this._emitEOFToken();break}default:this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier),o.forceQuirks=!0,this.state=State$1.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const o=this.currentToken;switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this.state=State$1.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case CODE_POINTS.QUOTATION_MARK:{this._err(ERR.missingWhitespaceAfterDoctypeSystemKeyword),o.systemId="",this.state=State$1.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{this._err(ERR.missingWhitespaceAfterDoctypeSystemKeyword),o.systemId="",this.state=State$1.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingDoctypeSystemIdentifier),o.forceQuirks=!0,this.state=State$1.DATA,this.emitCurrentDoctype(o);break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),o.forceQuirks=!0,this.emitCurrentDoctype(o),this._emitEOFToken();break}default:this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier),o.forceQuirks=!0,this.state=State$1.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const o=this.currentToken;switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.QUOTATION_MARK:{o.systemId="",this.state=State$1.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{o.systemId="",this.state=State$1.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingDoctypeSystemIdentifier),o.forceQuirks=!0,this.state=State$1.DATA,this.emitCurrentDoctype(o);break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),o.forceQuirks=!0,this.emitCurrentDoctype(o),this._emitEOFToken();break}default:this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier),o.forceQuirks=!0,this.state=State$1.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const o=this.currentToken;switch(e){case CODE_POINTS.QUOTATION_MARK:{this.state=State$1.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),o.systemId+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.abruptDoctypeSystemIdentifier),o.forceQuirks=!0,this.emitCurrentDoctype(o),this.state=State$1.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),o.forceQuirks=!0,this.emitCurrentDoctype(o),this._emitEOFToken();break}default:o.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const o=this.currentToken;switch(e){case CODE_POINTS.APOSTROPHE:{this.state=State$1.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),o.systemId+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.abruptDoctypeSystemIdentifier),o.forceQuirks=!0,this.emitCurrentDoctype(o),this.state=State$1.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),o.forceQuirks=!0,this.emitCurrentDoctype(o),this._emitEOFToken();break}default:o.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const o=this.currentToken;switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(o),this.state=State$1.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),o.forceQuirks=!0,this.emitCurrentDoctype(o),this._emitEOFToken();break}default:this._err(ERR.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=State$1.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const o=this.currentToken;switch(e){case CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(o),this.state=State$1.DATA;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter);break}case CODE_POINTS.EOF:{this.emitCurrentDoctype(o),this._emitEOFToken();break}}}_stateCdataSection(e){switch(e){case CODE_POINTS.RIGHT_SQUARE_BRACKET:{this.state=State$1.CDATA_SECTION_BRACKET;break}case CODE_POINTS.EOF:{this._err(ERR.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===CODE_POINTS.RIGHT_SQUARE_BRACKET?this.state=State$1.CDATA_SECTION_END:(this._emitChars("]"),this.state=State$1.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State$1.DATA;break}case CODE_POINTS.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=State$1.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(){let e=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(e<0)if(this.preprocessor.lastChunkWritten)e=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}e===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(CODE_POINTS.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&isAsciiAlphaNumeric(this.preprocessor.peek(1))?State$1.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(e){isAsciiAlphaNumeric(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===CODE_POINTS.SEMICOLON&&this._err(ERR.unknownNamedCharacterReference),this.state=this.returnState,this._callState(e))}}const IMPLICIT_END_TAG_REQUIRED=new Set([TAG_ID.DD,TAG_ID.DT,TAG_ID.LI,TAG_ID.OPTGROUP,TAG_ID.OPTION,TAG_ID.P,TAG_ID.RB,TAG_ID.RP,TAG_ID.RT,TAG_ID.RTC]),IMPLICIT_END_TAG_REQUIRED_THOROUGHLY=new Set([...IMPLICIT_END_TAG_REQUIRED,TAG_ID.CAPTION,TAG_ID.COLGROUP,TAG_ID.TBODY,TAG_ID.TD,TAG_ID.TFOOT,TAG_ID.TH,TAG_ID.THEAD,TAG_ID.TR]),SCOPING_ELEMENTS_HTML=new Set([TAG_ID.APPLET,TAG_ID.CAPTION,TAG_ID.HTML,TAG_ID.MARQUEE,TAG_ID.OBJECT,TAG_ID.TABLE,TAG_ID.TD,TAG_ID.TEMPLATE,TAG_ID.TH]),SCOPING_ELEMENTS_HTML_LIST=new Set([...SCOPING_ELEMENTS_HTML,TAG_ID.OL,TAG_ID.UL]),SCOPING_ELEMENTS_HTML_BUTTON=new Set([...SCOPING_ELEMENTS_HTML,TAG_ID.BUTTON]),SCOPING_ELEMENTS_MATHML=new Set([TAG_ID.ANNOTATION_XML,TAG_ID.MI,TAG_ID.MN,TAG_ID.MO,TAG_ID.MS,TAG_ID.MTEXT]),SCOPING_ELEMENTS_SVG=new Set([TAG_ID.DESC,TAG_ID.FOREIGN_OBJECT,TAG_ID.TITLE]),TABLE_ROW_CONTEXT=new Set([TAG_ID.TR,TAG_ID.TEMPLATE,TAG_ID.HTML]),TABLE_BODY_CONTEXT=new Set([TAG_ID.TBODY,TAG_ID.TFOOT,TAG_ID.THEAD,TAG_ID.TEMPLATE,TAG_ID.HTML]),TABLE_CONTEXT=new Set([TAG_ID.TABLE,TAG_ID.TEMPLATE,TAG_ID.HTML]),TABLE_CELLS=new Set([TAG_ID.TD,TAG_ID.TH]);class OpenElementStack{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,o,a){this.treeAdapter=o,this.handler=a,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=TAG_ID.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===TAG_ID.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===NS.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,o){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=o,this.currentTagId=o,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,o,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,o){const a=this._indexOf(e);this.items[a]=o,a===this.stackTop&&(this.current=o)}insertAfter(e,o,a){const l=this._indexOf(e)+1;this.items.splice(l,0,o),this.tagIDs.splice(l,0,a),this.stackTop++,l===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,l===this.stackTop)}popUntilTagNamePopped(e){let o=this.stackTop+1;do o=this.tagIDs.lastIndexOf(e,o-1);while(o>0&&this.treeAdapter.getNamespaceURI(this.items[o])!==NS.HTML);this.shortenToLength(o<0?0:o)}shortenToLength(e){for(;this.stackTop>=e;){const o=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(o,this.stackTop<e)}}popUntilElementPopped(e){const o=this._indexOf(e);this.shortenToLength(o<0?0:o)}popUntilPopped(e,o){const a=this._indexOfTagNames(e,o);this.shortenToLength(a<0?0:a)}popUntilNumberedHeaderPopped(){this.popUntilPopped(NUMBERED_HEADERS,NS.HTML)}popUntilTableCellPopped(){this.popUntilPopped(TABLE_CELLS,NS.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,o){for(let a=this.stackTop;a>=0;a--)if(e.has(this.tagIDs[a])&&this.treeAdapter.getNamespaceURI(this.items[a])===o)return a;return-1}clearBackTo(e,o){const a=this._indexOfTagNames(e,o);this.shortenToLength(a+1)}clearBackToTableContext(){this.clearBackTo(TABLE_CONTEXT,NS.HTML)}clearBackToTableBodyContext(){this.clearBackTo(TABLE_BODY_CONTEXT,NS.HTML)}clearBackToTableRowContext(){this.clearBackTo(TABLE_ROW_CONTEXT,NS.HTML)}remove(e){const o=this._indexOf(e);o>=0&&(o===this.stackTop?this.pop():(this.items.splice(o,1),this.tagIDs.splice(o,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===TAG_ID.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const o=this._indexOf(e)-1;return o>=0?this.items[o]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===TAG_ID.HTML}hasInDynamicScope(e,o){for(let a=this.stackTop;a>=0;a--){const l=this.tagIDs[a];switch(this.treeAdapter.getNamespaceURI(this.items[a])){case NS.HTML:{if(l===e)return!0;if(o.has(l))return!1;break}case NS.SVG:{if(SCOPING_ELEMENTS_SVG.has(l))return!1;break}case NS.MATHML:{if(SCOPING_ELEMENTS_MATHML.has(l))return!1;break}}}return!0}hasInScope(e){return this.hasInDynamicScope(e,SCOPING_ELEMENTS_HTML)}hasInListItemScope(e){return this.hasInDynamicScope(e,SCOPING_ELEMENTS_HTML_LIST)}hasInButtonScope(e){return this.hasInDynamicScope(e,SCOPING_ELEMENTS_HTML_BUTTON)}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const o=this.tagIDs[e];switch(this.treeAdapter.getNamespaceURI(this.items[e])){case NS.HTML:{if(NUMBERED_HEADERS.has(o))return!0;if(SCOPING_ELEMENTS_HTML.has(o))return!1;break}case NS.SVG:{if(SCOPING_ELEMENTS_SVG.has(o))return!1;break}case NS.MATHML:{if(SCOPING_ELEMENTS_MATHML.has(o))return!1;break}}}return!0}hasInTableScope(e){for(let o=this.stackTop;o>=0;o--)if(this.treeAdapter.getNamespaceURI(this.items[o])===NS.HTML)switch(this.tagIDs[o]){case e:return!0;case TAG_ID.TABLE:case TAG_ID.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===NS.HTML)switch(this.tagIDs[e]){case TAG_ID.TBODY:case TAG_ID.THEAD:case TAG_ID.TFOOT:return!0;case TAG_ID.TABLE:case TAG_ID.HTML:return!1}return!0}hasInSelectScope(e){for(let o=this.stackTop;o>=0;o--)if(this.treeAdapter.getNamespaceURI(this.items[o])===NS.HTML)switch(this.tagIDs[o]){case e:return!0;case TAG_ID.OPTION:case TAG_ID.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;IMPLICIT_END_TAG_REQUIRED.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;IMPLICIT_END_TAG_REQUIRED_THOROUGHLY.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==e&&IMPLICIT_END_TAG_REQUIRED_THOROUGHLY.has(this.currentTagId);)this.pop()}}const NOAH_ARK_CAPACITY=3;var EntryType;(function(n){n[n.Marker=0]="Marker",n[n.Element=1]="Element"})(EntryType||(EntryType={}));const MARKER={type:EntryType.Marker};class FormattingElementList{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,o){const a=[],l=o.length,u=this.treeAdapter.getTagName(e),c=this.treeAdapter.getNamespaceURI(e);for(let f=0;f<this.entries.length;f++){const p=this.entries[f];if(p.type===EntryType.Marker)break;const{element:T}=p;if(this.treeAdapter.getTagName(T)===u&&this.treeAdapter.getNamespaceURI(T)===c){const E=this.treeAdapter.getAttrList(T);E.length===l&&a.push({idx:f,attrs:E})}}return a}_ensureNoahArkCondition(e){if(this.entries.length<NOAH_ARK_CAPACITY)return;const o=this.treeAdapter.getAttrList(e),a=this._getNoahArkConditionCandidates(e,o);if(a.length<NOAH_ARK_CAPACITY)return;const l=new Map(o.map(c=>[c.name,c.value]));let u=0;for(let c=0;c<a.length;c++){const f=a[c];f.attrs.every(p=>l.get(p.name)===p.value)&&(u+=1,u>=NOAH_ARK_CAPACITY&&this.entries.splice(f.idx,1))}}insertMarker(){this.entries.unshift(MARKER)}pushElement(e,o){this._ensureNoahArkCondition(e),this.entries.unshift({type:EntryType.Element,element:e,token:o})}insertElementAfterBookmark(e,o){const a=this.entries.indexOf(this.bookmark);this.entries.splice(a,0,{type:EntryType.Element,element:e,token:o})}removeEntry(e){const o=this.entries.indexOf(e);o>=0&&this.entries.splice(o,1)}clearToLastMarker(){const e=this.entries.indexOf(MARKER);e>=0?this.entries.splice(0,e+1):this.entries.length=0}getElementEntryInScopeWithTagName(e){const o=this.entries.find(a=>a.type===EntryType.Marker||this.treeAdapter.getTagName(a.element)===e);return o&&o.type===EntryType.Element?o:null}getElementEntry(e){return this.entries.find(o=>o.type===EntryType.Element&&o.element===e)}}const defaultTreeAdapter={createDocument(){return{nodeName:"#document",mode:DOCUMENT_MODE.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(n,e,o){return{nodeName:n,tagName:n,attrs:o,namespaceURI:e,childNodes:[],parentNode:null}},createCommentNode(n){return{nodeName:"#comment",data:n,parentNode:null}},createTextNode(n){return{nodeName:"#text",value:n,parentNode:null}},appendChild(n,e){n.childNodes.push(e),e.parentNode=n},insertBefore(n,e,o){const a=n.childNodes.indexOf(o);n.childNodes.splice(a,0,e),e.parentNode=n},setTemplateContent(n,e){n.content=e},getTemplateContent(n){return n.content},setDocumentType(n,e,o,a){const l=n.childNodes.find(u=>u.nodeName==="#documentType");if(l)l.name=e,l.publicId=o,l.systemId=a;else{const u={nodeName:"#documentType",name:e,publicId:o,systemId:a,parentNode:null};defaultTreeAdapter.appendChild(n,u)}},setDocumentMode(n,e){n.mode=e},getDocumentMode(n){return n.mode},detachNode(n){if(n.parentNode){const e=n.parentNode.childNodes.indexOf(n);n.parentNode.childNodes.splice(e,1),n.parentNode=null}},insertText(n,e){if(n.childNodes.length>0){const o=n.childNodes[n.childNodes.length-1];if(defaultTreeAdapter.isTextNode(o)){o.value+=e;return}}defaultTreeAdapter.appendChild(n,defaultTreeAdapter.createTextNode(e))},insertTextBefore(n,e,o){const a=n.childNodes[n.childNodes.indexOf(o)-1];a&&defaultTreeAdapter.isTextNode(a)?a.value+=e:defaultTreeAdapter.insertBefore(n,defaultTreeAdapter.createTextNode(e),o)},adoptAttributes(n,e){const o=new Set(n.attrs.map(a=>a.name));for(let a=0;a<e.length;a++)o.has(e[a].name)||n.attrs.push(e[a])},getFirstChild(n){return n.childNodes[0]},getChildNodes(n){return n.childNodes},getParentNode(n){return n.parentNode},getAttrList(n){return n.attrs},getTagName(n){return n.tagName},getNamespaceURI(n){return n.namespaceURI},getTextNodeContent(n){return n.value},getCommentNodeContent(n){return n.data},getDocumentTypeNodeName(n){return n.name},getDocumentTypeNodePublicId(n){return n.publicId},getDocumentTypeNodeSystemId(n){return n.systemId},isTextNode(n){return n.nodeName==="#text"},isCommentNode(n){return n.nodeName==="#comment"},isDocumentTypeNode(n){return n.nodeName==="#documentType"},isElementNode(n){return Object.prototype.hasOwnProperty.call(n,"tagName")},setNodeSourceCodeLocation(n,e){n.sourceCodeLocation=e},getNodeSourceCodeLocation(n){return n.sourceCodeLocation},updateNodeSourceCodeLocation(n,e){n.sourceCodeLocation={...n.sourceCodeLocation,...e}}},VALID_DOCTYPE_NAME="html",VALID_SYSTEM_ID="about:legacy-compat",QUIRKS_MODE_SYSTEM_ID="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",QUIRKS_MODE_PUBLIC_ID_PREFIXES=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],QUIRKS_MODE_NO_SYSTEM_ID_PUBLIC_ID_PREFIXES=[...QUIRKS_MODE_PUBLIC_ID_PREFIXES,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],QUIRKS_MODE_PUBLIC_IDS=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),LIMITED_QUIRKS_PUBLIC_ID_PREFIXES=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],LIMITED_QUIRKS_WITH_SYSTEM_ID_PUBLIC_ID_PREFIXES=[...LIMITED_QUIRKS_PUBLIC_ID_PREFIXES,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function hasPrefix(n,e){return e.some(o=>n.startsWith(o))}function isConforming(n){return n.name===VALID_DOCTYPE_NAME&&n.publicId===null&&(n.systemId===null||n.systemId===VALID_SYSTEM_ID)}function getDocumentMode(n){if(n.name!==VALID_DOCTYPE_NAME)return DOCUMENT_MODE.QUIRKS;const{systemId:e}=n;if(e&&e.toLowerCase()===QUIRKS_MODE_SYSTEM_ID)return DOCUMENT_MODE.QUIRKS;let{publicId:o}=n;if(o!==null){if(o=o.toLowerCase(),QUIRKS_MODE_PUBLIC_IDS.has(o))return DOCUMENT_MODE.QUIRKS;let a=e===null?QUIRKS_MODE_NO_SYSTEM_ID_PUBLIC_ID_PREFIXES:QUIRKS_MODE_PUBLIC_ID_PREFIXES;if(hasPrefix(o,a))return DOCUMENT_MODE.QUIRKS;if(a=e===null?LIMITED_QUIRKS_PUBLIC_ID_PREFIXES:LIMITED_QUIRKS_WITH_SYSTEM_ID_PUBLIC_ID_PREFIXES,hasPrefix(o,a))return DOCUMENT_MODE.LIMITED_QUIRKS}return DOCUMENT_MODE.NO_QUIRKS}const MIME_TYPES={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},DEFINITION_URL_ATTR="definitionurl",ADJUSTED_DEFINITION_URL_ATTR="definitionURL",SVG_ATTRS_ADJUSTMENT_MAP=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(n=>[n.toLowerCase(),n])),XML_ATTRS_ADJUSTMENT_MAP=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:NS.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:NS.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:NS.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:NS.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:NS.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:NS.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:NS.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:NS.XML}],["xml:space",{prefix:"xml",name:"space",namespace:NS.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:NS.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:NS.XMLNS}]]),SVG_TAG_NAMES_ADJUSTMENT_MAP=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(n=>[n.toLowerCase(),n])),EXITS_FOREIGN_CONTENT=new Set([TAG_ID.B,TAG_ID.BIG,TAG_ID.BLOCKQUOTE,TAG_ID.BODY,TAG_ID.BR,TAG_ID.CENTER,TAG_ID.CODE,TAG_ID.DD,TAG_ID.DIV,TAG_ID.DL,TAG_ID.DT,TAG_ID.EM,TAG_ID.EMBED,TAG_ID.H1,TAG_ID.H2,TAG_ID.H3,TAG_ID.H4,TAG_ID.H5,TAG_ID.H6,TAG_ID.HEAD,TAG_ID.HR,TAG_ID.I,TAG_ID.IMG,TAG_ID.LI,TAG_ID.LISTING,TAG_ID.MENU,TAG_ID.META,TAG_ID.NOBR,TAG_ID.OL,TAG_ID.P,TAG_ID.PRE,TAG_ID.RUBY,TAG_ID.S,TAG_ID.SMALL,TAG_ID.SPAN,TAG_ID.STRONG,TAG_ID.STRIKE,TAG_ID.SUB,TAG_ID.SUP,TAG_ID.TABLE,TAG_ID.TT,TAG_ID.U,TAG_ID.UL,TAG_ID.VAR]);function causesExit(n){const e=n.tagID;return e===TAG_ID.FONT&&n.attrs.some(({name:a})=>a===ATTRS.COLOR||a===ATTRS.SIZE||a===ATTRS.FACE)||EXITS_FOREIGN_CONTENT.has(e)}function adjustTokenMathMLAttrs(n){for(let e=0;e<n.attrs.length;e++)if(n.attrs[e].name===DEFINITION_URL_ATTR){n.attrs[e].name=ADJUSTED_DEFINITION_URL_ATTR;break}}function adjustTokenSVGAttrs(n){for(let e=0;e<n.attrs.length;e++){const o=SVG_ATTRS_ADJUSTMENT_MAP.get(n.attrs[e].name);o!=null&&(n.attrs[e].name=o)}}function adjustTokenXMLAttrs(n){for(let e=0;e<n.attrs.length;e++){const o=XML_ATTRS_ADJUSTMENT_MAP.get(n.attrs[e].name);o&&(n.attrs[e].prefix=o.prefix,n.attrs[e].name=o.name,n.attrs[e].namespace=o.namespace)}}function adjustTokenSVGTagName(n){const e=SVG_TAG_NAMES_ADJUSTMENT_MAP.get(n.tagName);e!=null&&(n.tagName=e,n.tagID=getTagID(n.tagName))}function isMathMLTextIntegrationPoint(n,e){return e===NS.MATHML&&(n===TAG_ID.MI||n===TAG_ID.MO||n===TAG_ID.MN||n===TAG_ID.MS||n===TAG_ID.MTEXT)}function isHtmlIntegrationPoint(n,e,o){if(e===NS.MATHML&&n===TAG_ID.ANNOTATION_XML){for(let a=0;a<o.length;a++)if(o[a].name===ATTRS.ENCODING){const l=o[a].value.toLowerCase();return l===MIME_TYPES.TEXT_HTML||l===MIME_TYPES.APPLICATION_XML}}return e===NS.SVG&&(n===TAG_ID.FOREIGN_OBJECT||n===TAG_ID.DESC||n===TAG_ID.TITLE)}function isIntegrationPoint(n,e,o,a){return(!a||a===NS.HTML)&&isHtmlIntegrationPoint(n,e,o)||(!a||a===NS.MATHML)&&isMathMLTextIntegrationPoint(n,e)}const HIDDEN_INPUT_TYPE="hidden",AA_OUTER_LOOP_ITER=8,AA_INNER_LOOP_ITER=3;var InsertionMode;(function(n){n[n.INITIAL=0]="INITIAL",n[n.BEFORE_HTML=1]="BEFORE_HTML",n[n.BEFORE_HEAD=2]="BEFORE_HEAD",n[n.IN_HEAD=3]="IN_HEAD",n[n.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",n[n.AFTER_HEAD=5]="AFTER_HEAD",n[n.IN_BODY=6]="IN_BODY",n[n.TEXT=7]="TEXT",n[n.IN_TABLE=8]="IN_TABLE",n[n.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",n[n.IN_CAPTION=10]="IN_CAPTION",n[n.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",n[n.IN_TABLE_BODY=12]="IN_TABLE_BODY",n[n.IN_ROW=13]="IN_ROW",n[n.IN_CELL=14]="IN_CELL",n[n.IN_SELECT=15]="IN_SELECT",n[n.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",n[n.IN_TEMPLATE=17]="IN_TEMPLATE",n[n.AFTER_BODY=18]="AFTER_BODY",n[n.IN_FRAMESET=19]="IN_FRAMESET",n[n.AFTER_FRAMESET=20]="AFTER_FRAMESET",n[n.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",n[n.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(InsertionMode||(InsertionMode={}));const BASE_LOC={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},TABLE_STRUCTURE_TAGS=new Set([TAG_ID.TABLE,TAG_ID.TBODY,TAG_ID.TFOOT,TAG_ID.THEAD,TAG_ID.TR]),defaultParserOptions={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:defaultTreeAdapter,onParseError:null};let Parser$1=class{constructor(e,o,a=null,l=null){this.fragmentContext=a,this.scriptHandler=l,this.currentToken=null,this.stopped=!1,this.insertionMode=InsertionMode.INITIAL,this.originalInsertionMode=InsertionMode.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...defaultParserOptions,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=o??this.treeAdapter.createDocument(),this.tokenizer=new Tokenizer(this.options,this),this.activeFormattingElements=new FormattingElementList(this.treeAdapter),this.fragmentContextID=a?getTagID(this.treeAdapter.getTagName(a)):TAG_ID.UNKNOWN,this._setContextModes(a??this.document,this.fragmentContextID),this.openElements=new OpenElementStack(this.document,this.treeAdapter,this)}static parse(e,o){const a=new this(o);return a.tokenizer.write(e,!0),a.document}static getFragmentParser(e,o){const a={...defaultParserOptions,...o};e??(e=a.treeAdapter.createElement(TAG_NAMES$1.TEMPLATE,NS.HTML,[]));const l=a.treeAdapter.createElement("documentmock",NS.HTML,[]),u=new this(a,l,e);return u.fragmentContextID===TAG_ID.TEMPLATE&&u.tmplInsertionModeStack.unshift(InsertionMode.IN_TEMPLATE),u._initTokenizerForFragmentParsing(),u._insertFakeRootElement(),u._resetInsertionMode(),u._findFormInFragmentContext(),u}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),o=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,o),o}_err(e,o,a){var l;if(!this.onParseError)return;const u=(l=e.location)!==null&&l!==void 0?l:BASE_LOC,c={code:o,startLine:u.startLine,startCol:u.startCol,startOffset:u.startOffset,endLine:a?u.startLine:u.endLine,endCol:a?u.startCol:u.endCol,endOffset:a?u.startOffset:u.endOffset};this.onParseError(c)}onItemPush(e,o,a){var l,u;(u=(l=this.treeAdapter).onItemPush)===null||u===void 0||u.call(l,e),a&&this.openElements.stackTop>0&&this._setContextModes(e,o)}onItemPop(e,o){var a,l;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),(l=(a=this.treeAdapter).onItemPop)===null||l===void 0||l.call(a,e,this.openElements.current),o){let u,c;this.openElements.stackTop===0&&this.fragmentContext?(u=this.fragmentContext,c=this.fragmentContextID):{current:u,currentTagId:c}=this.openElements,this._setContextModes(u,c)}}_setContextModes(e,o){const a=e===this.document||this.treeAdapter.getNamespaceURI(e)===NS.HTML;this.currentNotInHTML=!a,this.tokenizer.inForeignNode=!a&&!this._isIntegrationPoint(o,e)}_switchToTextParsing(e,o){this._insertElement(e,NS.HTML),this.tokenizer.state=o,this.originalInsertionMode=this.insertionMode,this.insertionMode=InsertionMode.TEXT}switchToPlaintextParsing(){this.insertionMode=InsertionMode.TEXT,this.originalInsertionMode=InsertionMode.IN_BODY,this.tokenizer.state=TokenizerMode.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===TAG_NAMES$1.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==NS.HTML))switch(this.fragmentContextID){case TAG_ID.TITLE:case TAG_ID.TEXTAREA:{this.tokenizer.state=TokenizerMode.RCDATA;break}case TAG_ID.STYLE:case TAG_ID.XMP:case TAG_ID.IFRAME:case TAG_ID.NOEMBED:case TAG_ID.NOFRAMES:case TAG_ID.NOSCRIPT:{this.tokenizer.state=TokenizerMode.RAWTEXT;break}case TAG_ID.SCRIPT:{this.tokenizer.state=TokenizerMode.SCRIPT_DATA;break}case TAG_ID.PLAINTEXT:{this.tokenizer.state=TokenizerMode.PLAINTEXT;break}}}_setDocumentType(e){const o=e.name||"",a=e.publicId||"",l=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,o,a,l),e.location){const c=this.treeAdapter.getChildNodes(this.document).find(f=>this.treeAdapter.isDocumentTypeNode(f));c&&this.treeAdapter.setNodeSourceCodeLocation(c,e.location)}}_attachElementToTree(e,o){if(this.options.sourceCodeLocationInfo){const a=o&&{...o,startTag:o};this.treeAdapter.setNodeSourceCodeLocation(e,a)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const a=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(a,e)}}_appendElement(e,o){const a=this.treeAdapter.createElement(e.tagName,o,e.attrs);this._attachElementToTree(a,e.location)}_insertElement(e,o){const a=this.treeAdapter.createElement(e.tagName,o,e.attrs);this._attachElementToTree(a,e.location),this.openElements.push(a,e.tagID)}_insertFakeElement(e,o){const a=this.treeAdapter.createElement(e,NS.HTML,[]);this._attachElementToTree(a,null),this.openElements.push(a,o)}_insertTemplate(e){const o=this.treeAdapter.createElement(e.tagName,NS.HTML,e.attrs),a=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(o,a),this._attachElementToTree(o,e.location),this.openElements.push(o,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(TAG_NAMES$1.HTML,NS.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,TAG_ID.HTML)}_appendCommentNode(e,o){const a=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(o,a),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,e.location)}_insertCharacters(e){let o,a;if(this._shouldFosterParentOnInsertion()?({parent:o,beforeElement:a}=this._findFosterParentingLocation(),a?this.treeAdapter.insertTextBefore(o,e.chars,a):this.treeAdapter.insertText(o,e.chars)):(o=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(o,e.chars)),!e.location)return;const l=this.treeAdapter.getChildNodes(o),u=a?l.lastIndexOf(a):l.length,c=l[u-1];if(this.treeAdapter.getNodeSourceCodeLocation(c)){const{endLine:p,endCol:T,endOffset:E}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(c,{endLine:p,endCol:T,endOffset:E})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(c,e.location)}_adoptNodes(e,o){for(let a=this.treeAdapter.getFirstChild(e);a;a=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(a),this.treeAdapter.appendChild(o,a)}_setEndLocation(e,o){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&o.location){const a=o.location,l=this.treeAdapter.getTagName(e),u=o.type===TokenType.END_TAG&&l===o.tagName?{endTag:{...a},endLine:a.endLine,endCol:a.endCol,endOffset:a.endOffset}:{endLine:a.startLine,endCol:a.startCol,endOffset:a.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,u)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let o,a;return this.openElements.stackTop===0&&this.fragmentContext?(o=this.fragmentContext,a=this.fragmentContextID):{current:o,currentTagId:a}=this.openElements,e.tagID===TAG_ID.SVG&&this.treeAdapter.getTagName(o)===TAG_NAMES$1.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(o)===NS.MATHML?!1:this.tokenizer.inForeignNode||(e.tagID===TAG_ID.MGLYPH||e.tagID===TAG_ID.MALIGNMARK)&&!this._isIntegrationPoint(a,o,NS.HTML)}_processToken(e){switch(e.type){case TokenType.CHARACTER:{this.onCharacter(e);break}case TokenType.NULL_CHARACTER:{this.onNullCharacter(e);break}case TokenType.COMMENT:{this.onComment(e);break}case TokenType.DOCTYPE:{this.onDoctype(e);break}case TokenType.START_TAG:{this._processStartTag(e);break}case TokenType.END_TAG:{this.onEndTag(e);break}case TokenType.EOF:{this.onEof(e);break}case TokenType.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(e);break}}}_isIntegrationPoint(e,o,a){const l=this.treeAdapter.getNamespaceURI(o),u=this.treeAdapter.getAttrList(o);return isIntegrationPoint(e,l,u,a)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const o=this.activeFormattingElements.entries.findIndex(l=>l.type===EntryType.Marker||this.openElements.contains(l.element)),a=o<0?e-1:o-1;for(let l=a;l>=0;l--){const u=this.activeFormattingElements.entries[l];this._insertElement(u.token,this.treeAdapter.getNamespaceURI(u.element)),u.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=InsertionMode.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(TAG_ID.P),this.openElements.popUntilTagNamePopped(TAG_ID.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(e===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case TAG_ID.TR:{this.insertionMode=InsertionMode.IN_ROW;return}case TAG_ID.TBODY:case TAG_ID.THEAD:case TAG_ID.TFOOT:{this.insertionMode=InsertionMode.IN_TABLE_BODY;return}case TAG_ID.CAPTION:{this.insertionMode=InsertionMode.IN_CAPTION;return}case TAG_ID.COLGROUP:{this.insertionMode=InsertionMode.IN_COLUMN_GROUP;return}case TAG_ID.TABLE:{this.insertionMode=InsertionMode.IN_TABLE;return}case TAG_ID.BODY:{this.insertionMode=InsertionMode.IN_BODY;return}case TAG_ID.FRAMESET:{this.insertionMode=InsertionMode.IN_FRAMESET;return}case TAG_ID.SELECT:{this._resetInsertionModeForSelect(e);return}case TAG_ID.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case TAG_ID.HTML:{this.insertionMode=this.headElement?InsertionMode.AFTER_HEAD:InsertionMode.BEFORE_HEAD;return}case TAG_ID.TD:case TAG_ID.TH:{if(e>0){this.insertionMode=InsertionMode.IN_CELL;return}break}case TAG_ID.HEAD:{if(e>0){this.insertionMode=InsertionMode.IN_HEAD;return}break}}this.insertionMode=InsertionMode.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let o=e-1;o>0;o--){const a=this.openElements.tagIDs[o];if(a===TAG_ID.TEMPLATE)break;if(a===TAG_ID.TABLE){this.insertionMode=InsertionMode.IN_SELECT_IN_TABLE;return}}this.insertionMode=InsertionMode.IN_SELECT}_isElementCausesFosterParenting(e){return TABLE_STRUCTURE_TAGS.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const o=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case TAG_ID.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(o)===NS.HTML)return{parent:this.treeAdapter.getTemplateContent(o),beforeElement:null};break}case TAG_ID.TABLE:{const a=this.treeAdapter.getParentNode(o);return a?{parent:a,beforeElement:o}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const o=this._findFosterParentingLocation();o.beforeElement?this.treeAdapter.insertBefore(o.parent,e,o.beforeElement):this.treeAdapter.appendChild(o.parent,e)}_isSpecialElement(e,o){const a=this.treeAdapter.getNamespaceURI(e);return SPECIAL_ELEMENTS[a].has(o)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){characterInForeignContent(this,e);return}switch(this.insertionMode){case InsertionMode.INITIAL:{tokenInInitialMode(this,e);break}case InsertionMode.BEFORE_HTML:{tokenBeforeHtml(this,e);break}case InsertionMode.BEFORE_HEAD:{tokenBeforeHead(this,e);break}case InsertionMode.IN_HEAD:{tokenInHead(this,e);break}case InsertionMode.IN_HEAD_NO_SCRIPT:{tokenInHeadNoScript(this,e);break}case InsertionMode.AFTER_HEAD:{tokenAfterHead(this,e);break}case InsertionMode.IN_BODY:case InsertionMode.IN_CAPTION:case InsertionMode.IN_CELL:case InsertionMode.IN_TEMPLATE:{characterInBody(this,e);break}case InsertionMode.TEXT:case InsertionMode.IN_SELECT:case InsertionMode.IN_SELECT_IN_TABLE:{this._insertCharacters(e);break}case InsertionMode.IN_TABLE:case InsertionMode.IN_TABLE_BODY:case InsertionMode.IN_ROW:{characterInTable(this,e);break}case InsertionMode.IN_TABLE_TEXT:{characterInTableText(this,e);break}case InsertionMode.IN_COLUMN_GROUP:{tokenInColumnGroup(this,e);break}case InsertionMode.AFTER_BODY:{tokenAfterBody(this,e);break}case InsertionMode.AFTER_AFTER_BODY:{tokenAfterAfterBody(this,e);break}}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){nullCharacterInForeignContent(this,e);return}switch(this.insertionMode){case InsertionMode.INITIAL:{tokenInInitialMode(this,e);break}case InsertionMode.BEFORE_HTML:{tokenBeforeHtml(this,e);break}case InsertionMode.BEFORE_HEAD:{tokenBeforeHead(this,e);break}case InsertionMode.IN_HEAD:{tokenInHead(this,e);break}case InsertionMode.IN_HEAD_NO_SCRIPT:{tokenInHeadNoScript(this,e);break}case InsertionMode.AFTER_HEAD:{tokenAfterHead(this,e);break}case InsertionMode.TEXT:{this._insertCharacters(e);break}case InsertionMode.IN_TABLE:case InsertionMode.IN_TABLE_BODY:case InsertionMode.IN_ROW:{characterInTable(this,e);break}case InsertionMode.IN_COLUMN_GROUP:{tokenInColumnGroup(this,e);break}case InsertionMode.AFTER_BODY:{tokenAfterBody(this,e);break}case InsertionMode.AFTER_AFTER_BODY:{tokenAfterAfterBody(this,e);break}}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){appendComment(this,e);return}switch(this.insertionMode){case InsertionMode.INITIAL:case InsertionMode.BEFORE_HTML:case InsertionMode.BEFORE_HEAD:case InsertionMode.IN_HEAD:case InsertionMode.IN_HEAD_NO_SCRIPT:case InsertionMode.AFTER_HEAD:case InsertionMode.IN_BODY:case InsertionMode.IN_TABLE:case InsertionMode.IN_CAPTION:case InsertionMode.IN_COLUMN_GROUP:case InsertionMode.IN_TABLE_BODY:case InsertionMode.IN_ROW:case InsertionMode.IN_CELL:case InsertionMode.IN_SELECT:case InsertionMode.IN_SELECT_IN_TABLE:case InsertionMode.IN_TEMPLATE:case InsertionMode.IN_FRAMESET:case InsertionMode.AFTER_FRAMESET:{appendComment(this,e);break}case InsertionMode.IN_TABLE_TEXT:{tokenInTableText(this,e);break}case InsertionMode.AFTER_BODY:{appendCommentToRootHtmlElement(this,e);break}case InsertionMode.AFTER_AFTER_BODY:case InsertionMode.AFTER_AFTER_FRAMESET:{appendCommentToDocument(this,e);break}}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case InsertionMode.INITIAL:{doctypeInInitialMode(this,e);break}case InsertionMode.BEFORE_HEAD:case InsertionMode.IN_HEAD:case InsertionMode.IN_HEAD_NO_SCRIPT:case InsertionMode.AFTER_HEAD:{this._err(e,ERR.misplacedDoctype);break}case InsertionMode.IN_TABLE_TEXT:{tokenInTableText(this,e);break}}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,ERR.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?startTagInForeignContent(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case InsertionMode.INITIAL:{tokenInInitialMode(this,e);break}case InsertionMode.BEFORE_HTML:{startTagBeforeHtml(this,e);break}case InsertionMode.BEFORE_HEAD:{startTagBeforeHead(this,e);break}case InsertionMode.IN_HEAD:{startTagInHead(this,e);break}case InsertionMode.IN_HEAD_NO_SCRIPT:{startTagInHeadNoScript(this,e);break}case InsertionMode.AFTER_HEAD:{startTagAfterHead(this,e);break}case InsertionMode.IN_BODY:{startTagInBody(this,e);break}case InsertionMode.IN_TABLE:{startTagInTable(this,e);break}case InsertionMode.IN_TABLE_TEXT:{tokenInTableText(this,e);break}case InsertionMode.IN_CAPTION:{startTagInCaption(this,e);break}case InsertionMode.IN_COLUMN_GROUP:{startTagInColumnGroup(this,e);break}case InsertionMode.IN_TABLE_BODY:{startTagInTableBody(this,e);break}case InsertionMode.IN_ROW:{startTagInRow(this,e);break}case InsertionMode.IN_CELL:{startTagInCell(this,e);break}case InsertionMode.IN_SELECT:{startTagInSelect(this,e);break}case InsertionMode.IN_SELECT_IN_TABLE:{startTagInSelectInTable(this,e);break}case InsertionMode.IN_TEMPLATE:{startTagInTemplate(this,e);break}case InsertionMode.AFTER_BODY:{startTagAfterBody(this,e);break}case InsertionMode.IN_FRAMESET:{startTagInFrameset(this,e);break}case InsertionMode.AFTER_FRAMESET:{startTagAfterFrameset(this,e);break}case InsertionMode.AFTER_AFTER_BODY:{startTagAfterAfterBody(this,e);break}case InsertionMode.AFTER_AFTER_FRAMESET:{startTagAfterAfterFrameset(this,e);break}}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?endTagInForeignContent(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case InsertionMode.INITIAL:{tokenInInitialMode(this,e);break}case InsertionMode.BEFORE_HTML:{endTagBeforeHtml(this,e);break}case InsertionMode.BEFORE_HEAD:{endTagBeforeHead(this,e);break}case InsertionMode.IN_HEAD:{endTagInHead(this,e);break}case InsertionMode.IN_HEAD_NO_SCRIPT:{endTagInHeadNoScript(this,e);break}case InsertionMode.AFTER_HEAD:{endTagAfterHead(this,e);break}case InsertionMode.IN_BODY:{endTagInBody(this,e);break}case InsertionMode.TEXT:{endTagInText(this,e);break}case InsertionMode.IN_TABLE:{endTagInTable(this,e);break}case InsertionMode.IN_TABLE_TEXT:{tokenInTableText(this,e);break}case InsertionMode.IN_CAPTION:{endTagInCaption(this,e);break}case InsertionMode.IN_COLUMN_GROUP:{endTagInColumnGroup(this,e);break}case InsertionMode.IN_TABLE_BODY:{endTagInTableBody(this,e);break}case InsertionMode.IN_ROW:{endTagInRow(this,e);break}case InsertionMode.IN_CELL:{endTagInCell(this,e);break}case InsertionMode.IN_SELECT:{endTagInSelect(this,e);break}case InsertionMode.IN_SELECT_IN_TABLE:{endTagInSelectInTable(this,e);break}case InsertionMode.IN_TEMPLATE:{endTagInTemplate(this,e);break}case InsertionMode.AFTER_BODY:{endTagAfterBody(this,e);break}case InsertionMode.IN_FRAMESET:{endTagInFrameset(this,e);break}case InsertionMode.AFTER_FRAMESET:{endTagAfterFrameset(this,e);break}case InsertionMode.AFTER_AFTER_BODY:{tokenAfterAfterBody(this,e);break}}}onEof(e){switch(this.insertionMode){case InsertionMode.INITIAL:{tokenInInitialMode(this,e);break}case InsertionMode.BEFORE_HTML:{tokenBeforeHtml(this,e);break}case InsertionMode.BEFORE_HEAD:{tokenBeforeHead(this,e);break}case InsertionMode.IN_HEAD:{tokenInHead(this,e);break}case InsertionMode.IN_HEAD_NO_SCRIPT:{tokenInHeadNoScript(this,e);break}case InsertionMode.AFTER_HEAD:{tokenAfterHead(this,e);break}case InsertionMode.IN_BODY:case InsertionMode.IN_TABLE:case InsertionMode.IN_CAPTION:case InsertionMode.IN_COLUMN_GROUP:case InsertionMode.IN_TABLE_BODY:case InsertionMode.IN_ROW:case InsertionMode.IN_CELL:case InsertionMode.IN_SELECT:case InsertionMode.IN_SELECT_IN_TABLE:{eofInBody(this,e);break}case InsertionMode.TEXT:{eofInText(this,e);break}case InsertionMode.IN_TABLE_TEXT:{tokenInTableText(this,e);break}case InsertionMode.IN_TEMPLATE:{eofInTemplate(this,e);break}case InsertionMode.AFTER_BODY:case InsertionMode.IN_FRAMESET:case InsertionMode.AFTER_FRAMESET:case InsertionMode.AFTER_AFTER_BODY:case InsertionMode.AFTER_AFTER_FRAMESET:{stopParsing(this,e);break}}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===CODE_POINTS.LINE_FEED)){if(e.chars.length===1)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return}switch(this.insertionMode){case InsertionMode.IN_HEAD:case InsertionMode.IN_HEAD_NO_SCRIPT:case InsertionMode.AFTER_HEAD:case InsertionMode.TEXT:case InsertionMode.IN_COLUMN_GROUP:case InsertionMode.IN_SELECT:case InsertionMode.IN_SELECT_IN_TABLE:case InsertionMode.IN_FRAMESET:case InsertionMode.AFTER_FRAMESET:{this._insertCharacters(e);break}case InsertionMode.IN_BODY:case InsertionMode.IN_CAPTION:case InsertionMode.IN_CELL:case InsertionMode.IN_TEMPLATE:case InsertionMode.AFTER_BODY:case InsertionMode.AFTER_AFTER_BODY:case InsertionMode.AFTER_AFTER_FRAMESET:{whitespaceCharacterInBody(this,e);break}case InsertionMode.IN_TABLE:case InsertionMode.IN_TABLE_BODY:case InsertionMode.IN_ROW:{characterInTable(this,e);break}case InsertionMode.IN_TABLE_TEXT:{whitespaceCharacterInTableText(this,e);break}}}};function aaObtainFormattingElementEntry(n,e){let o=n.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return o?n.openElements.contains(o.element)?n.openElements.hasInScope(e.tagID)||(o=null):(n.activeFormattingElements.removeEntry(o),o=null):genericEndTagInBody(n,e),o}function aaObtainFurthestBlock(n,e){let o=null,a=n.openElements.stackTop;for(;a>=0;a--){const l=n.openElements.items[a];if(l===e.element)break;n._isSpecialElement(l,n.openElements.tagIDs[a])&&(o=l)}return o||(n.openElements.shortenToLength(a<0?0:a),n.activeFormattingElements.removeEntry(e)),o}function aaInnerLoop(n,e,o){let a=e,l=n.openElements.getCommonAncestor(e);for(let u=0,c=l;c!==o;u++,c=l){l=n.openElements.getCommonAncestor(c);const f=n.activeFormattingElements.getElementEntry(c),p=f&&u>=AA_INNER_LOOP_ITER;!f||p?(p&&n.activeFormattingElements.removeEntry(f),n.openElements.remove(c)):(c=aaRecreateElementFromEntry(n,f),a===e&&(n.activeFormattingElements.bookmark=f),n.treeAdapter.detachNode(a),n.treeAdapter.appendChild(c,a),a=c)}return a}function aaRecreateElementFromEntry(n,e){const o=n.treeAdapter.getNamespaceURI(e.element),a=n.treeAdapter.createElement(e.token.tagName,o,e.token.attrs);return n.openElements.replace(e.element,a),e.element=a,a}function aaInsertLastNodeInCommonAncestor(n,e,o){const a=n.treeAdapter.getTagName(e),l=getTagID(a);if(n._isElementCausesFosterParenting(l))n._fosterParentElement(o);else{const u=n.treeAdapter.getNamespaceURI(e);l===TAG_ID.TEMPLATE&&u===NS.HTML&&(e=n.treeAdapter.getTemplateContent(e)),n.treeAdapter.appendChild(e,o)}}function aaReplaceFormattingElement(n,e,o){const a=n.treeAdapter.getNamespaceURI(o.element),{token:l}=o,u=n.treeAdapter.createElement(l.tagName,a,l.attrs);n._adoptNodes(e,u),n.treeAdapter.appendChild(e,u),n.activeFormattingElements.insertElementAfterBookmark(u,l),n.activeFormattingElements.removeEntry(o),n.openElements.remove(o.element),n.openElements.insertAfter(e,u,l.tagID)}function callAdoptionAgency(n,e){for(let o=0;o<AA_OUTER_LOOP_ITER;o++){const a=aaObtainFormattingElementEntry(n,e);if(!a)break;const l=aaObtainFurthestBlock(n,a);if(!l)break;n.activeFormattingElements.bookmark=a;const u=aaInnerLoop(n,l,a.element),c=n.openElements.getCommonAncestor(a.element);n.treeAdapter.detachNode(u),c&&aaInsertLastNodeInCommonAncestor(n,c,u),aaReplaceFormattingElement(n,l,a)}}function appendComment(n,e){n._appendCommentNode(e,n.openElements.currentTmplContentOrNode)}function appendCommentToRootHtmlElement(n,e){n._appendCommentNode(e,n.openElements.items[0])}function appendCommentToDocument(n,e){n._appendCommentNode(e,n.document)}function stopParsing(n,e){if(n.stopped=!0,e.location){const o=n.fragmentContext?0:2;for(let a=n.openElements.stackTop;a>=o;a--)n._setEndLocation(n.openElements.items[a],e);if(!n.fragmentContext&&n.openElements.stackTop>=0){const a=n.openElements.items[0],l=n.treeAdapter.getNodeSourceCodeLocation(a);if(l&&!l.endTag&&(n._setEndLocation(a,e),n.openElements.stackTop>=1)){const u=n.openElements.items[1],c=n.treeAdapter.getNodeSourceCodeLocation(u);c&&!c.endTag&&n._setEndLocation(u,e)}}}}function doctypeInInitialMode(n,e){n._setDocumentType(e);const o=e.forceQuirks?DOCUMENT_MODE.QUIRKS:getDocumentMode(e);isConforming(e)||n._err(e,ERR.nonConformingDoctype),n.treeAdapter.setDocumentMode(n.document,o),n.insertionMode=InsertionMode.BEFORE_HTML}function tokenInInitialMode(n,e){n._err(e,ERR.missingDoctype,!0),n.treeAdapter.setDocumentMode(n.document,DOCUMENT_MODE.QUIRKS),n.insertionMode=InsertionMode.BEFORE_HTML,n._processToken(e)}function startTagBeforeHtml(n,e){e.tagID===TAG_ID.HTML?(n._insertElement(e,NS.HTML),n.insertionMode=InsertionMode.BEFORE_HEAD):tokenBeforeHtml(n,e)}function endTagBeforeHtml(n,e){const o=e.tagID;(o===TAG_ID.HTML||o===TAG_ID.HEAD||o===TAG_ID.BODY||o===TAG_ID.BR)&&tokenBeforeHtml(n,e)}function tokenBeforeHtml(n,e){n._insertFakeRootElement(),n.insertionMode=InsertionMode.BEFORE_HEAD,n._processToken(e)}function startTagBeforeHead(n,e){switch(e.tagID){case TAG_ID.HTML:{startTagInBody(n,e);break}case TAG_ID.HEAD:{n._insertElement(e,NS.HTML),n.headElement=n.openElements.current,n.insertionMode=InsertionMode.IN_HEAD;break}default:tokenBeforeHead(n,e)}}function endTagBeforeHead(n,e){const o=e.tagID;o===TAG_ID.HEAD||o===TAG_ID.BODY||o===TAG_ID.HTML||o===TAG_ID.BR?tokenBeforeHead(n,e):n._err(e,ERR.endTagWithoutMatchingOpenElement)}function tokenBeforeHead(n,e){n._insertFakeElement(TAG_NAMES$1.HEAD,TAG_ID.HEAD),n.headElement=n.openElements.current,n.insertionMode=InsertionMode.IN_HEAD,n._processToken(e)}function startTagInHead(n,e){switch(e.tagID){case TAG_ID.HTML:{startTagInBody(n,e);break}case TAG_ID.BASE:case TAG_ID.BASEFONT:case TAG_ID.BGSOUND:case TAG_ID.LINK:case TAG_ID.META:{n._appendElement(e,NS.HTML),e.ackSelfClosing=!0;break}case TAG_ID.TITLE:{n._switchToTextParsing(e,TokenizerMode.RCDATA);break}case TAG_ID.NOSCRIPT:{n.options.scriptingEnabled?n._switchToTextParsing(e,TokenizerMode.RAWTEXT):(n._insertElement(e,NS.HTML),n.insertionMode=InsertionMode.IN_HEAD_NO_SCRIPT);break}case TAG_ID.NOFRAMES:case TAG_ID.STYLE:{n._switchToTextParsing(e,TokenizerMode.RAWTEXT);break}case TAG_ID.SCRIPT:{n._switchToTextParsing(e,TokenizerMode.SCRIPT_DATA);break}case TAG_ID.TEMPLATE:{n._insertTemplate(e),n.activeFormattingElements.insertMarker(),n.framesetOk=!1,n.insertionMode=InsertionMode.IN_TEMPLATE,n.tmplInsertionModeStack.unshift(InsertionMode.IN_TEMPLATE);break}case TAG_ID.HEAD:{n._err(e,ERR.misplacedStartTagForHeadElement);break}default:tokenInHead(n,e)}}function endTagInHead(n,e){switch(e.tagID){case TAG_ID.HEAD:{n.openElements.pop(),n.insertionMode=InsertionMode.AFTER_HEAD;break}case TAG_ID.BODY:case TAG_ID.BR:case TAG_ID.HTML:{tokenInHead(n,e);break}case TAG_ID.TEMPLATE:{templateEndTagInHead(n,e);break}default:n._err(e,ERR.endTagWithoutMatchingOpenElement)}}function templateEndTagInHead(n,e){n.openElements.tmplCount>0?(n.openElements.generateImpliedEndTagsThoroughly(),n.openElements.currentTagId!==TAG_ID.TEMPLATE&&n._err(e,ERR.closingOfElementWithOpenChildElements),n.openElements.popUntilTagNamePopped(TAG_ID.TEMPLATE),n.activeFormattingElements.clearToLastMarker(),n.tmplInsertionModeStack.shift(),n._resetInsertionMode()):n._err(e,ERR.endTagWithoutMatchingOpenElement)}function tokenInHead(n,e){n.openElements.pop(),n.insertionMode=InsertionMode.AFTER_HEAD,n._processToken(e)}function startTagInHeadNoScript(n,e){switch(e.tagID){case TAG_ID.HTML:{startTagInBody(n,e);break}case TAG_ID.BASEFONT:case TAG_ID.BGSOUND:case TAG_ID.HEAD:case TAG_ID.LINK:case TAG_ID.META:case TAG_ID.NOFRAMES:case TAG_ID.STYLE:{startTagInHead(n,e);break}case TAG_ID.NOSCRIPT:{n._err(e,ERR.nestedNoscriptInHead);break}default:tokenInHeadNoScript(n,e)}}function endTagInHeadNoScript(n,e){switch(e.tagID){case TAG_ID.NOSCRIPT:{n.openElements.pop(),n.insertionMode=InsertionMode.IN_HEAD;break}case TAG_ID.BR:{tokenInHeadNoScript(n,e);break}default:n._err(e,ERR.endTagWithoutMatchingOpenElement)}}function tokenInHeadNoScript(n,e){const o=e.type===TokenType.EOF?ERR.openElementsLeftAfterEof:ERR.disallowedContentInNoscriptInHead;n._err(e,o),n.openElements.pop(),n.insertionMode=InsertionMode.IN_HEAD,n._processToken(e)}function startTagAfterHead(n,e){switch(e.tagID){case TAG_ID.HTML:{startTagInBody(n,e);break}case TAG_ID.BODY:{n._insertElement(e,NS.HTML),n.framesetOk=!1,n.insertionMode=InsertionMode.IN_BODY;break}case TAG_ID.FRAMESET:{n._insertElement(e,NS.HTML),n.insertionMode=InsertionMode.IN_FRAMESET;break}case TAG_ID.BASE:case TAG_ID.BASEFONT:case TAG_ID.BGSOUND:case TAG_ID.LINK:case TAG_ID.META:case TAG_ID.NOFRAMES:case TAG_ID.SCRIPT:case TAG_ID.STYLE:case TAG_ID.TEMPLATE:case TAG_ID.TITLE:{n._err(e,ERR.abandonedHeadElementChild),n.openElements.push(n.headElement,TAG_ID.HEAD),startTagInHead(n,e),n.openElements.remove(n.headElement);break}case TAG_ID.HEAD:{n._err(e,ERR.misplacedStartTagForHeadElement);break}default:tokenAfterHead(n,e)}}function endTagAfterHead(n,e){switch(e.tagID){case TAG_ID.BODY:case TAG_ID.HTML:case TAG_ID.BR:{tokenAfterHead(n,e);break}case TAG_ID.TEMPLATE:{templateEndTagInHead(n,e);break}default:n._err(e,ERR.endTagWithoutMatchingOpenElement)}}function tokenAfterHead(n,e){n._insertFakeElement(TAG_NAMES$1.BODY,TAG_ID.BODY),n.insertionMode=InsertionMode.IN_BODY,modeInBody(n,e)}function modeInBody(n,e){switch(e.type){case TokenType.CHARACTER:{characterInBody(n,e);break}case TokenType.WHITESPACE_CHARACTER:{whitespaceCharacterInBody(n,e);break}case TokenType.COMMENT:{appendComment(n,e);break}case TokenType.START_TAG:{startTagInBody(n,e);break}case TokenType.END_TAG:{endTagInBody(n,e);break}case TokenType.EOF:{eofInBody(n,e);break}}}function whitespaceCharacterInBody(n,e){n._reconstructActiveFormattingElements(),n._insertCharacters(e)}function characterInBody(n,e){n._reconstructActiveFormattingElements(),n._insertCharacters(e),n.framesetOk=!1}function htmlStartTagInBody(n,e){n.openElements.tmplCount===0&&n.treeAdapter.adoptAttributes(n.openElements.items[0],e.attrs)}function bodyStartTagInBody(n,e){const o=n.openElements.tryPeekProperlyNestedBodyElement();o&&n.openElements.tmplCount===0&&(n.framesetOk=!1,n.treeAdapter.adoptAttributes(o,e.attrs))}function framesetStartTagInBody(n,e){const o=n.openElements.tryPeekProperlyNestedBodyElement();n.framesetOk&&o&&(n.treeAdapter.detachNode(o),n.openElements.popAllUpToHtmlElement(),n._insertElement(e,NS.HTML),n.insertionMode=InsertionMode.IN_FRAMESET)}function addressStartTagInBody(n,e){n.openElements.hasInButtonScope(TAG_ID.P)&&n._closePElement(),n._insertElement(e,NS.HTML)}function numberedHeaderStartTagInBody(n,e){n.openElements.hasInButtonScope(TAG_ID.P)&&n._closePElement(),NUMBERED_HEADERS.has(n.openElements.currentTagId)&&n.openElements.pop(),n._insertElement(e,NS.HTML)}function preStartTagInBody(n,e){n.openElements.hasInButtonScope(TAG_ID.P)&&n._closePElement(),n._insertElement(e,NS.HTML),n.skipNextNewLine=!0,n.framesetOk=!1}function formStartTagInBody(n,e){const o=n.openElements.tmplCount>0;(!n.formElement||o)&&(n.openElements.hasInButtonScope(TAG_ID.P)&&n._closePElement(),n._insertElement(e,NS.HTML),o||(n.formElement=n.openElements.current))}function listItemStartTagInBody(n,e){n.framesetOk=!1;const o=e.tagID;for(let a=n.openElements.stackTop;a>=0;a--){const l=n.openElements.tagIDs[a];if(o===TAG_ID.LI&&l===TAG_ID.LI||(o===TAG_ID.DD||o===TAG_ID.DT)&&(l===TAG_ID.DD||l===TAG_ID.DT)){n.openElements.generateImpliedEndTagsWithExclusion(l),n.openElements.popUntilTagNamePopped(l);break}if(l!==TAG_ID.ADDRESS&&l!==TAG_ID.DIV&&l!==TAG_ID.P&&n._isSpecialElement(n.openElements.items[a],l))break}n.openElements.hasInButtonScope(TAG_ID.P)&&n._closePElement(),n._insertElement(e,NS.HTML)}function plaintextStartTagInBody(n,e){n.openElements.hasInButtonScope(TAG_ID.P)&&n._closePElement(),n._insertElement(e,NS.HTML),n.tokenizer.state=TokenizerMode.PLAINTEXT}function buttonStartTagInBody(n,e){n.openElements.hasInScope(TAG_ID.BUTTON)&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilTagNamePopped(TAG_ID.BUTTON)),n._reconstructActiveFormattingElements(),n._insertElement(e,NS.HTML),n.framesetOk=!1}function aStartTagInBody(n,e){const o=n.activeFormattingElements.getElementEntryInScopeWithTagName(TAG_NAMES$1.A);o&&(callAdoptionAgency(n,e),n.openElements.remove(o.element),n.activeFormattingElements.removeEntry(o)),n._reconstructActiveFormattingElements(),n._insertElement(e,NS.HTML),n.activeFormattingElements.pushElement(n.openElements.current,e)}function bStartTagInBody(n,e){n._reconstructActiveFormattingElements(),n._insertElement(e,NS.HTML),n.activeFormattingElements.pushElement(n.openElements.current,e)}function nobrStartTagInBody(n,e){n._reconstructActiveFormattingElements(),n.openElements.hasInScope(TAG_ID.NOBR)&&(callAdoptionAgency(n,e),n._reconstructActiveFormattingElements()),n._insertElement(e,NS.HTML),n.activeFormattingElements.pushElement(n.openElements.current,e)}function appletStartTagInBody(n,e){n._reconstructActiveFormattingElements(),n._insertElement(e,NS.HTML),n.activeFormattingElements.insertMarker(),n.framesetOk=!1}function tableStartTagInBody(n,e){n.treeAdapter.getDocumentMode(n.document)!==DOCUMENT_MODE.QUIRKS&&n.openElements.hasInButtonScope(TAG_ID.P)&&n._closePElement(),n._insertElement(e,NS.HTML),n.framesetOk=!1,n.insertionMode=InsertionMode.IN_TABLE}function areaStartTagInBody(n,e){n._reconstructActiveFormattingElements(),n._appendElement(e,NS.HTML),n.framesetOk=!1,e.ackSelfClosing=!0}function isHiddenInput(n){const e=getTokenAttr(n,ATTRS.TYPE);return e!=null&&e.toLowerCase()===HIDDEN_INPUT_TYPE}function inputStartTagInBody(n,e){n._reconstructActiveFormattingElements(),n._appendElement(e,NS.HTML),isHiddenInput(e)||(n.framesetOk=!1),e.ackSelfClosing=!0}function paramStartTagInBody(n,e){n._appendElement(e,NS.HTML),e.ackSelfClosing=!0}function hrStartTagInBody(n,e){n.openElements.hasInButtonScope(TAG_ID.P)&&n._closePElement(),n._appendElement(e,NS.HTML),n.framesetOk=!1,e.ackSelfClosing=!0}function imageStartTagInBody(n,e){e.tagName=TAG_NAMES$1.IMG,e.tagID=TAG_ID.IMG,areaStartTagInBody(n,e)}function textareaStartTagInBody(n,e){n._insertElement(e,NS.HTML),n.skipNextNewLine=!0,n.tokenizer.state=TokenizerMode.RCDATA,n.originalInsertionMode=n.insertionMode,n.framesetOk=!1,n.insertionMode=InsertionMode.TEXT}function xmpStartTagInBody(n,e){n.openElements.hasInButtonScope(TAG_ID.P)&&n._closePElement(),n._reconstructActiveFormattingElements(),n.framesetOk=!1,n._switchToTextParsing(e,TokenizerMode.RAWTEXT)}function iframeStartTagInBody(n,e){n.framesetOk=!1,n._switchToTextParsing(e,TokenizerMode.RAWTEXT)}function rawTextStartTagInBody(n,e){n._switchToTextParsing(e,TokenizerMode.RAWTEXT)}function selectStartTagInBody(n,e){n._reconstructActiveFormattingElements(),n._insertElement(e,NS.HTML),n.framesetOk=!1,n.insertionMode=n.insertionMode===InsertionMode.IN_TABLE||n.insertionMode===InsertionMode.IN_CAPTION||n.insertionMode===InsertionMode.IN_TABLE_BODY||n.insertionMode===InsertionMode.IN_ROW||n.insertionMode===InsertionMode.IN_CELL?InsertionMode.IN_SELECT_IN_TABLE:InsertionMode.IN_SELECT}function optgroupStartTagInBody(n,e){n.openElements.currentTagId===TAG_ID.OPTION&&n.openElements.pop(),n._reconstructActiveFormattingElements(),n._insertElement(e,NS.HTML)}function rbStartTagInBody(n,e){n.openElements.hasInScope(TAG_ID.RUBY)&&n.openElements.generateImpliedEndTags(),n._insertElement(e,NS.HTML)}function rtStartTagInBody(n,e){n.openElements.hasInScope(TAG_ID.RUBY)&&n.openElements.generateImpliedEndTagsWithExclusion(TAG_ID.RTC),n._insertElement(e,NS.HTML)}function mathStartTagInBody(n,e){n._reconstructActiveFormattingElements(),adjustTokenMathMLAttrs(e),adjustTokenXMLAttrs(e),e.selfClosing?n._appendElement(e,NS.MATHML):n._insertElement(e,NS.MATHML),e.ackSelfClosing=!0}function svgStartTagInBody(n,e){n._reconstructActiveFormattingElements(),adjustTokenSVGAttrs(e),adjustTokenXMLAttrs(e),e.selfClosing?n._appendElement(e,NS.SVG):n._insertElement(e,NS.SVG),e.ackSelfClosing=!0}function genericStartTagInBody(n,e){n._reconstructActiveFormattingElements(),n._insertElement(e,NS.HTML)}function startTagInBody(n,e){switch(e.tagID){case TAG_ID.I:case TAG_ID.S:case TAG_ID.B:case TAG_ID.U:case TAG_ID.EM:case TAG_ID.TT:case TAG_ID.BIG:case TAG_ID.CODE:case TAG_ID.FONT:case TAG_ID.SMALL:case TAG_ID.STRIKE:case TAG_ID.STRONG:{bStartTagInBody(n,e);break}case TAG_ID.A:{aStartTagInBody(n,e);break}case TAG_ID.H1:case TAG_ID.H2:case TAG_ID.H3:case TAG_ID.H4:case TAG_ID.H5:case TAG_ID.H6:{numberedHeaderStartTagInBody(n,e);break}case TAG_ID.P:case TAG_ID.DL:case TAG_ID.OL:case TAG_ID.UL:case TAG_ID.DIV:case TAG_ID.DIR:case TAG_ID.NAV:case TAG_ID.MAIN:case TAG_ID.MENU:case TAG_ID.ASIDE:case TAG_ID.CENTER:case TAG_ID.FIGURE:case TAG_ID.FOOTER:case TAG_ID.HEADER:case TAG_ID.HGROUP:case TAG_ID.DIALOG:case TAG_ID.DETAILS:case TAG_ID.ADDRESS:case TAG_ID.ARTICLE:case TAG_ID.SEARCH:case TAG_ID.SECTION:case TAG_ID.SUMMARY:case TAG_ID.FIELDSET:case TAG_ID.BLOCKQUOTE:case TAG_ID.FIGCAPTION:{addressStartTagInBody(n,e);break}case TAG_ID.LI:case TAG_ID.DD:case TAG_ID.DT:{listItemStartTagInBody(n,e);break}case TAG_ID.BR:case TAG_ID.IMG:case TAG_ID.WBR:case TAG_ID.AREA:case TAG_ID.EMBED:case TAG_ID.KEYGEN:{areaStartTagInBody(n,e);break}case TAG_ID.HR:{hrStartTagInBody(n,e);break}case TAG_ID.RB:case TAG_ID.RTC:{rbStartTagInBody(n,e);break}case TAG_ID.RT:case TAG_ID.RP:{rtStartTagInBody(n,e);break}case TAG_ID.PRE:case TAG_ID.LISTING:{preStartTagInBody(n,e);break}case TAG_ID.XMP:{xmpStartTagInBody(n,e);break}case TAG_ID.SVG:{svgStartTagInBody(n,e);break}case TAG_ID.HTML:{htmlStartTagInBody(n,e);break}case TAG_ID.BASE:case TAG_ID.LINK:case TAG_ID.META:case TAG_ID.STYLE:case TAG_ID.TITLE:case TAG_ID.SCRIPT:case TAG_ID.BGSOUND:case TAG_ID.BASEFONT:case TAG_ID.TEMPLATE:{startTagInHead(n,e);break}case TAG_ID.BODY:{bodyStartTagInBody(n,e);break}case TAG_ID.FORM:{formStartTagInBody(n,e);break}case TAG_ID.NOBR:{nobrStartTagInBody(n,e);break}case TAG_ID.MATH:{mathStartTagInBody(n,e);break}case TAG_ID.TABLE:{tableStartTagInBody(n,e);break}case TAG_ID.INPUT:{inputStartTagInBody(n,e);break}case TAG_ID.PARAM:case TAG_ID.TRACK:case TAG_ID.SOURCE:{paramStartTagInBody(n,e);break}case TAG_ID.IMAGE:{imageStartTagInBody(n,e);break}case TAG_ID.BUTTON:{buttonStartTagInBody(n,e);break}case TAG_ID.APPLET:case TAG_ID.OBJECT:case TAG_ID.MARQUEE:{appletStartTagInBody(n,e);break}case TAG_ID.IFRAME:{iframeStartTagInBody(n,e);break}case TAG_ID.SELECT:{selectStartTagInBody(n,e);break}case TAG_ID.OPTION:case TAG_ID.OPTGROUP:{optgroupStartTagInBody(n,e);break}case TAG_ID.NOEMBED:case TAG_ID.NOFRAMES:{rawTextStartTagInBody(n,e);break}case TAG_ID.FRAMESET:{framesetStartTagInBody(n,e);break}case TAG_ID.TEXTAREA:{textareaStartTagInBody(n,e);break}case TAG_ID.NOSCRIPT:{n.options.scriptingEnabled?rawTextStartTagInBody(n,e):genericStartTagInBody(n,e);break}case TAG_ID.PLAINTEXT:{plaintextStartTagInBody(n,e);break}case TAG_ID.COL:case TAG_ID.TH:case TAG_ID.TD:case TAG_ID.TR:case TAG_ID.HEAD:case TAG_ID.FRAME:case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:case TAG_ID.CAPTION:case TAG_ID.COLGROUP:break;default:genericStartTagInBody(n,e)}}function bodyEndTagInBody(n,e){if(n.openElements.hasInScope(TAG_ID.BODY)&&(n.insertionMode=InsertionMode.AFTER_BODY,n.options.sourceCodeLocationInfo)){const o=n.openElements.tryPeekProperlyNestedBodyElement();o&&n._setEndLocation(o,e)}}function htmlEndTagInBody(n,e){n.openElements.hasInScope(TAG_ID.BODY)&&(n.insertionMode=InsertionMode.AFTER_BODY,endTagAfterBody(n,e))}function addressEndTagInBody(n,e){const o=e.tagID;n.openElements.hasInScope(o)&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilTagNamePopped(o))}function formEndTagInBody(n){const e=n.openElements.tmplCount>0,{formElement:o}=n;e||(n.formElement=null),(o||e)&&n.openElements.hasInScope(TAG_ID.FORM)&&(n.openElements.generateImpliedEndTags(),e?n.openElements.popUntilTagNamePopped(TAG_ID.FORM):o&&n.openElements.remove(o))}function pEndTagInBody(n){n.openElements.hasInButtonScope(TAG_ID.P)||n._insertFakeElement(TAG_NAMES$1.P,TAG_ID.P),n._closePElement()}function liEndTagInBody(n){n.openElements.hasInListItemScope(TAG_ID.LI)&&(n.openElements.generateImpliedEndTagsWithExclusion(TAG_ID.LI),n.openElements.popUntilTagNamePopped(TAG_ID.LI))}function ddEndTagInBody(n,e){const o=e.tagID;n.openElements.hasInScope(o)&&(n.openElements.generateImpliedEndTagsWithExclusion(o),n.openElements.popUntilTagNamePopped(o))}function numberedHeaderEndTagInBody(n){n.openElements.hasNumberedHeaderInScope()&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilNumberedHeaderPopped())}function appletEndTagInBody(n,e){const o=e.tagID;n.openElements.hasInScope(o)&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilTagNamePopped(o),n.activeFormattingElements.clearToLastMarker())}function brEndTagInBody(n){n._reconstructActiveFormattingElements(),n._insertFakeElement(TAG_NAMES$1.BR,TAG_ID.BR),n.openElements.pop(),n.framesetOk=!1}function genericEndTagInBody(n,e){const o=e.tagName,a=e.tagID;for(let l=n.openElements.stackTop;l>0;l--){const u=n.openElements.items[l],c=n.openElements.tagIDs[l];if(a===c&&(a!==TAG_ID.UNKNOWN||n.treeAdapter.getTagName(u)===o)){n.openElements.generateImpliedEndTagsWithExclusion(a),n.openElements.stackTop>=l&&n.openElements.shortenToLength(l);break}if(n._isSpecialElement(u,c))break}}function endTagInBody(n,e){switch(e.tagID){case TAG_ID.A:case TAG_ID.B:case TAG_ID.I:case TAG_ID.S:case TAG_ID.U:case TAG_ID.EM:case TAG_ID.TT:case TAG_ID.BIG:case TAG_ID.CODE:case TAG_ID.FONT:case TAG_ID.NOBR:case TAG_ID.SMALL:case TAG_ID.STRIKE:case TAG_ID.STRONG:{callAdoptionAgency(n,e);break}case TAG_ID.P:{pEndTagInBody(n);break}case TAG_ID.DL:case TAG_ID.UL:case TAG_ID.OL:case TAG_ID.DIR:case TAG_ID.DIV:case TAG_ID.NAV:case TAG_ID.PRE:case TAG_ID.MAIN:case TAG_ID.MENU:case TAG_ID.ASIDE:case TAG_ID.BUTTON:case TAG_ID.CENTER:case TAG_ID.FIGURE:case TAG_ID.FOOTER:case TAG_ID.HEADER:case TAG_ID.HGROUP:case TAG_ID.DIALOG:case TAG_ID.ADDRESS:case TAG_ID.ARTICLE:case TAG_ID.DETAILS:case TAG_ID.SEARCH:case TAG_ID.SECTION:case TAG_ID.SUMMARY:case TAG_ID.LISTING:case TAG_ID.FIELDSET:case TAG_ID.BLOCKQUOTE:case TAG_ID.FIGCAPTION:{addressEndTagInBody(n,e);break}case TAG_ID.LI:{liEndTagInBody(n);break}case TAG_ID.DD:case TAG_ID.DT:{ddEndTagInBody(n,e);break}case TAG_ID.H1:case TAG_ID.H2:case TAG_ID.H3:case TAG_ID.H4:case TAG_ID.H5:case TAG_ID.H6:{numberedHeaderEndTagInBody(n);break}case TAG_ID.BR:{brEndTagInBody(n);break}case TAG_ID.BODY:{bodyEndTagInBody(n,e);break}case TAG_ID.HTML:{htmlEndTagInBody(n,e);break}case TAG_ID.FORM:{formEndTagInBody(n);break}case TAG_ID.APPLET:case TAG_ID.OBJECT:case TAG_ID.MARQUEE:{appletEndTagInBody(n,e);break}case TAG_ID.TEMPLATE:{templateEndTagInHead(n,e);break}default:genericEndTagInBody(n,e)}}function eofInBody(n,e){n.tmplInsertionModeStack.length>0?eofInTemplate(n,e):stopParsing(n,e)}function endTagInText(n,e){var o;e.tagID===TAG_ID.SCRIPT&&((o=n.scriptHandler)===null||o===void 0||o.call(n,n.openElements.current)),n.openElements.pop(),n.insertionMode=n.originalInsertionMode}function eofInText(n,e){n._err(e,ERR.eofInElementThatCanContainOnlyText),n.openElements.pop(),n.insertionMode=n.originalInsertionMode,n.onEof(e)}function characterInTable(n,e){if(TABLE_STRUCTURE_TAGS.has(n.openElements.currentTagId))switch(n.pendingCharacterTokens.length=0,n.hasNonWhitespacePendingCharacterToken=!1,n.originalInsertionMode=n.insertionMode,n.insertionMode=InsertionMode.IN_TABLE_TEXT,e.type){case TokenType.CHARACTER:{characterInTableText(n,e);break}case TokenType.WHITESPACE_CHARACTER:{whitespaceCharacterInTableText(n,e);break}}else tokenInTable(n,e)}function captionStartTagInTable(n,e){n.openElements.clearBackToTableContext(),n.activeFormattingElements.insertMarker(),n._insertElement(e,NS.HTML),n.insertionMode=InsertionMode.IN_CAPTION}function colgroupStartTagInTable(n,e){n.openElements.clearBackToTableContext(),n._insertElement(e,NS.HTML),n.insertionMode=InsertionMode.IN_COLUMN_GROUP}function colStartTagInTable(n,e){n.openElements.clearBackToTableContext(),n._insertFakeElement(TAG_NAMES$1.COLGROUP,TAG_ID.COLGROUP),n.insertionMode=InsertionMode.IN_COLUMN_GROUP,startTagInColumnGroup(n,e)}function tbodyStartTagInTable(n,e){n.openElements.clearBackToTableContext(),n._insertElement(e,NS.HTML),n.insertionMode=InsertionMode.IN_TABLE_BODY}function tdStartTagInTable(n,e){n.openElements.clearBackToTableContext(),n._insertFakeElement(TAG_NAMES$1.TBODY,TAG_ID.TBODY),n.insertionMode=InsertionMode.IN_TABLE_BODY,startTagInTableBody(n,e)}function tableStartTagInTable(n,e){n.openElements.hasInTableScope(TAG_ID.TABLE)&&(n.openElements.popUntilTagNamePopped(TAG_ID.TABLE),n._resetInsertionMode(),n._processStartTag(e))}function inputStartTagInTable(n,e){isHiddenInput(e)?n._appendElement(e,NS.HTML):tokenInTable(n,e),e.ackSelfClosing=!0}function formStartTagInTable(n,e){!n.formElement&&n.openElements.tmplCount===0&&(n._insertElement(e,NS.HTML),n.formElement=n.openElements.current,n.openElements.pop())}function startTagInTable(n,e){switch(e.tagID){case TAG_ID.TD:case TAG_ID.TH:case TAG_ID.TR:{tdStartTagInTable(n,e);break}case TAG_ID.STYLE:case TAG_ID.SCRIPT:case TAG_ID.TEMPLATE:{startTagInHead(n,e);break}case TAG_ID.COL:{colStartTagInTable(n,e);break}case TAG_ID.FORM:{formStartTagInTable(n,e);break}case TAG_ID.TABLE:{tableStartTagInTable(n,e);break}case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:{tbodyStartTagInTable(n,e);break}case TAG_ID.INPUT:{inputStartTagInTable(n,e);break}case TAG_ID.CAPTION:{captionStartTagInTable(n,e);break}case TAG_ID.COLGROUP:{colgroupStartTagInTable(n,e);break}default:tokenInTable(n,e)}}function endTagInTable(n,e){switch(e.tagID){case TAG_ID.TABLE:{n.openElements.hasInTableScope(TAG_ID.TABLE)&&(n.openElements.popUntilTagNamePopped(TAG_ID.TABLE),n._resetInsertionMode());break}case TAG_ID.TEMPLATE:{templateEndTagInHead(n,e);break}case TAG_ID.BODY:case TAG_ID.CAPTION:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.HTML:case TAG_ID.TBODY:case TAG_ID.TD:case TAG_ID.TFOOT:case TAG_ID.TH:case TAG_ID.THEAD:case TAG_ID.TR:break;default:tokenInTable(n,e)}}function tokenInTable(n,e){const o=n.fosterParentingEnabled;n.fosterParentingEnabled=!0,modeInBody(n,e),n.fosterParentingEnabled=o}function whitespaceCharacterInTableText(n,e){n.pendingCharacterTokens.push(e)}function characterInTableText(n,e){n.pendingCharacterTokens.push(e),n.hasNonWhitespacePendingCharacterToken=!0}function tokenInTableText(n,e){let o=0;if(n.hasNonWhitespacePendingCharacterToken)for(;o<n.pendingCharacterTokens.length;o++)tokenInTable(n,n.pendingCharacterTokens[o]);else for(;o<n.pendingCharacterTokens.length;o++)n._insertCharacters(n.pendingCharacterTokens[o]);n.insertionMode=n.originalInsertionMode,n._processToken(e)}const TABLE_VOID_ELEMENTS=new Set([TAG_ID.CAPTION,TAG_ID.COL,TAG_ID.COLGROUP,TAG_ID.TBODY,TAG_ID.TD,TAG_ID.TFOOT,TAG_ID.TH,TAG_ID.THEAD,TAG_ID.TR]);function startTagInCaption(n,e){const o=e.tagID;TABLE_VOID_ELEMENTS.has(o)?n.openElements.hasInTableScope(TAG_ID.CAPTION)&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilTagNamePopped(TAG_ID.CAPTION),n.activeFormattingElements.clearToLastMarker(),n.insertionMode=InsertionMode.IN_TABLE,startTagInTable(n,e)):startTagInBody(n,e)}function endTagInCaption(n,e){const o=e.tagID;switch(o){case TAG_ID.CAPTION:case TAG_ID.TABLE:{n.openElements.hasInTableScope(TAG_ID.CAPTION)&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilTagNamePopped(TAG_ID.CAPTION),n.activeFormattingElements.clearToLastMarker(),n.insertionMode=InsertionMode.IN_TABLE,o===TAG_ID.TABLE&&endTagInTable(n,e));break}case TAG_ID.BODY:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.HTML:case TAG_ID.TBODY:case TAG_ID.TD:case TAG_ID.TFOOT:case TAG_ID.TH:case TAG_ID.THEAD:case TAG_ID.TR:break;default:endTagInBody(n,e)}}function startTagInColumnGroup(n,e){switch(e.tagID){case TAG_ID.HTML:{startTagInBody(n,e);break}case TAG_ID.COL:{n._appendElement(e,NS.HTML),e.ackSelfClosing=!0;break}case TAG_ID.TEMPLATE:{startTagInHead(n,e);break}default:tokenInColumnGroup(n,e)}}function endTagInColumnGroup(n,e){switch(e.tagID){case TAG_ID.COLGROUP:{n.openElements.currentTagId===TAG_ID.COLGROUP&&(n.openElements.pop(),n.insertionMode=InsertionMode.IN_TABLE);break}case TAG_ID.TEMPLATE:{templateEndTagInHead(n,e);break}case TAG_ID.COL:break;default:tokenInColumnGroup(n,e)}}function tokenInColumnGroup(n,e){n.openElements.currentTagId===TAG_ID.COLGROUP&&(n.openElements.pop(),n.insertionMode=InsertionMode.IN_TABLE,n._processToken(e))}function startTagInTableBody(n,e){switch(e.tagID){case TAG_ID.TR:{n.openElements.clearBackToTableBodyContext(),n._insertElement(e,NS.HTML),n.insertionMode=InsertionMode.IN_ROW;break}case TAG_ID.TH:case TAG_ID.TD:{n.openElements.clearBackToTableBodyContext(),n._insertFakeElement(TAG_NAMES$1.TR,TAG_ID.TR),n.insertionMode=InsertionMode.IN_ROW,startTagInRow(n,e);break}case TAG_ID.CAPTION:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:{n.openElements.hasTableBodyContextInTableScope()&&(n.openElements.clearBackToTableBodyContext(),n.openElements.pop(),n.insertionMode=InsertionMode.IN_TABLE,startTagInTable(n,e));break}default:startTagInTable(n,e)}}function endTagInTableBody(n,e){const o=e.tagID;switch(e.tagID){case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:{n.openElements.hasInTableScope(o)&&(n.openElements.clearBackToTableBodyContext(),n.openElements.pop(),n.insertionMode=InsertionMode.IN_TABLE);break}case TAG_ID.TABLE:{n.openElements.hasTableBodyContextInTableScope()&&(n.openElements.clearBackToTableBodyContext(),n.openElements.pop(),n.insertionMode=InsertionMode.IN_TABLE,endTagInTable(n,e));break}case TAG_ID.BODY:case TAG_ID.CAPTION:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.HTML:case TAG_ID.TD:case TAG_ID.TH:case TAG_ID.TR:break;default:endTagInTable(n,e)}}function startTagInRow(n,e){switch(e.tagID){case TAG_ID.TH:case TAG_ID.TD:{n.openElements.clearBackToTableRowContext(),n._insertElement(e,NS.HTML),n.insertionMode=InsertionMode.IN_CELL,n.activeFormattingElements.insertMarker();break}case TAG_ID.CAPTION:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:case TAG_ID.TR:{n.openElements.hasInTableScope(TAG_ID.TR)&&(n.openElements.clearBackToTableRowContext(),n.openElements.pop(),n.insertionMode=InsertionMode.IN_TABLE_BODY,startTagInTableBody(n,e));break}default:startTagInTable(n,e)}}function endTagInRow(n,e){switch(e.tagID){case TAG_ID.TR:{n.openElements.hasInTableScope(TAG_ID.TR)&&(n.openElements.clearBackToTableRowContext(),n.openElements.pop(),n.insertionMode=InsertionMode.IN_TABLE_BODY);break}case TAG_ID.TABLE:{n.openElements.hasInTableScope(TAG_ID.TR)&&(n.openElements.clearBackToTableRowContext(),n.openElements.pop(),n.insertionMode=InsertionMode.IN_TABLE_BODY,endTagInTableBody(n,e));break}case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:{(n.openElements.hasInTableScope(e.tagID)||n.openElements.hasInTableScope(TAG_ID.TR))&&(n.openElements.clearBackToTableRowContext(),n.openElements.pop(),n.insertionMode=InsertionMode.IN_TABLE_BODY,endTagInTableBody(n,e));break}case TAG_ID.BODY:case TAG_ID.CAPTION:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.HTML:case TAG_ID.TD:case TAG_ID.TH:break;default:endTagInTable(n,e)}}function startTagInCell(n,e){const o=e.tagID;TABLE_VOID_ELEMENTS.has(o)?(n.openElements.hasInTableScope(TAG_ID.TD)||n.openElements.hasInTableScope(TAG_ID.TH))&&(n._closeTableCell(),startTagInRow(n,e)):startTagInBody(n,e)}function endTagInCell(n,e){const o=e.tagID;switch(o){case TAG_ID.TD:case TAG_ID.TH:{n.openElements.hasInTableScope(o)&&(n.openElements.generateImpliedEndTags(),n.openElements.popUntilTagNamePopped(o),n.activeFormattingElements.clearToLastMarker(),n.insertionMode=InsertionMode.IN_ROW);break}case TAG_ID.TABLE:case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:case TAG_ID.TR:{n.openElements.hasInTableScope(o)&&(n._closeTableCell(),endTagInRow(n,e));break}case TAG_ID.BODY:case TAG_ID.CAPTION:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.HTML:break;default:endTagInBody(n,e)}}function startTagInSelect(n,e){switch(e.tagID){case TAG_ID.HTML:{startTagInBody(n,e);break}case TAG_ID.OPTION:{n.openElements.currentTagId===TAG_ID.OPTION&&n.openElements.pop(),n._insertElement(e,NS.HTML);break}case TAG_ID.OPTGROUP:{n.openElements.currentTagId===TAG_ID.OPTION&&n.openElements.pop(),n.openElements.currentTagId===TAG_ID.OPTGROUP&&n.openElements.pop(),n._insertElement(e,NS.HTML);break}case TAG_ID.HR:{n.openElements.currentTagId===TAG_ID.OPTION&&n.openElements.pop(),n.openElements.currentTagId===TAG_ID.OPTGROUP&&n.openElements.pop(),n._appendElement(e,NS.HTML),e.ackSelfClosing=!0;break}case TAG_ID.INPUT:case TAG_ID.KEYGEN:case TAG_ID.TEXTAREA:case TAG_ID.SELECT:{n.openElements.hasInSelectScope(TAG_ID.SELECT)&&(n.openElements.popUntilTagNamePopped(TAG_ID.SELECT),n._resetInsertionMode(),e.tagID!==TAG_ID.SELECT&&n._processStartTag(e));break}case TAG_ID.SCRIPT:case TAG_ID.TEMPLATE:{startTagInHead(n,e);break}}}function endTagInSelect(n,e){switch(e.tagID){case TAG_ID.OPTGROUP:{n.openElements.stackTop>0&&n.openElements.currentTagId===TAG_ID.OPTION&&n.openElements.tagIDs[n.openElements.stackTop-1]===TAG_ID.OPTGROUP&&n.openElements.pop(),n.openElements.currentTagId===TAG_ID.OPTGROUP&&n.openElements.pop();break}case TAG_ID.OPTION:{n.openElements.currentTagId===TAG_ID.OPTION&&n.openElements.pop();break}case TAG_ID.SELECT:{n.openElements.hasInSelectScope(TAG_ID.SELECT)&&(n.openElements.popUntilTagNamePopped(TAG_ID.SELECT),n._resetInsertionMode());break}case TAG_ID.TEMPLATE:{templateEndTagInHead(n,e);break}}}function startTagInSelectInTable(n,e){const o=e.tagID;o===TAG_ID.CAPTION||o===TAG_ID.TABLE||o===TAG_ID.TBODY||o===TAG_ID.TFOOT||o===TAG_ID.THEAD||o===TAG_ID.TR||o===TAG_ID.TD||o===TAG_ID.TH?(n.openElements.popUntilTagNamePopped(TAG_ID.SELECT),n._resetInsertionMode(),n._processStartTag(e)):startTagInSelect(n,e)}function endTagInSelectInTable(n,e){const o=e.tagID;o===TAG_ID.CAPTION||o===TAG_ID.TABLE||o===TAG_ID.TBODY||o===TAG_ID.TFOOT||o===TAG_ID.THEAD||o===TAG_ID.TR||o===TAG_ID.TD||o===TAG_ID.TH?n.openElements.hasInTableScope(o)&&(n.openElements.popUntilTagNamePopped(TAG_ID.SELECT),n._resetInsertionMode(),n.onEndTag(e)):endTagInSelect(n,e)}function startTagInTemplate(n,e){switch(e.tagID){case TAG_ID.BASE:case TAG_ID.BASEFONT:case TAG_ID.BGSOUND:case TAG_ID.LINK:case TAG_ID.META:case TAG_ID.NOFRAMES:case TAG_ID.SCRIPT:case TAG_ID.STYLE:case TAG_ID.TEMPLATE:case TAG_ID.TITLE:{startTagInHead(n,e);break}case TAG_ID.CAPTION:case TAG_ID.COLGROUP:case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:{n.tmplInsertionModeStack[0]=InsertionMode.IN_TABLE,n.insertionMode=InsertionMode.IN_TABLE,startTagInTable(n,e);break}case TAG_ID.COL:{n.tmplInsertionModeStack[0]=InsertionMode.IN_COLUMN_GROUP,n.insertionMode=InsertionMode.IN_COLUMN_GROUP,startTagInColumnGroup(n,e);break}case TAG_ID.TR:{n.tmplInsertionModeStack[0]=InsertionMode.IN_TABLE_BODY,n.insertionMode=InsertionMode.IN_TABLE_BODY,startTagInTableBody(n,e);break}case TAG_ID.TD:case TAG_ID.TH:{n.tmplInsertionModeStack[0]=InsertionMode.IN_ROW,n.insertionMode=InsertionMode.IN_ROW,startTagInRow(n,e);break}default:n.tmplInsertionModeStack[0]=InsertionMode.IN_BODY,n.insertionMode=InsertionMode.IN_BODY,startTagInBody(n,e)}}function endTagInTemplate(n,e){e.tagID===TAG_ID.TEMPLATE&&templateEndTagInHead(n,e)}function eofInTemplate(n,e){n.openElements.tmplCount>0?(n.openElements.popUntilTagNamePopped(TAG_ID.TEMPLATE),n.activeFormattingElements.clearToLastMarker(),n.tmplInsertionModeStack.shift(),n._resetInsertionMode(),n.onEof(e)):stopParsing(n,e)}function startTagAfterBody(n,e){e.tagID===TAG_ID.HTML?startTagInBody(n,e):tokenAfterBody(n,e)}function endTagAfterBody(n,e){var o;if(e.tagID===TAG_ID.HTML){if(n.fragmentContext||(n.insertionMode=InsertionMode.AFTER_AFTER_BODY),n.options.sourceCodeLocationInfo&&n.openElements.tagIDs[0]===TAG_ID.HTML){n._setEndLocation(n.openElements.items[0],e);const a=n.openElements.items[1];a&&!(!((o=n.treeAdapter.getNodeSourceCodeLocation(a))===null||o===void 0)&&o.endTag)&&n._setEndLocation(a,e)}}else tokenAfterBody(n,e)}function tokenAfterBody(n,e){n.insertionMode=InsertionMode.IN_BODY,modeInBody(n,e)}function startTagInFrameset(n,e){switch(e.tagID){case TAG_ID.HTML:{startTagInBody(n,e);break}case TAG_ID.FRAMESET:{n._insertElement(e,NS.HTML);break}case TAG_ID.FRAME:{n._appendElement(e,NS.HTML),e.ackSelfClosing=!0;break}case TAG_ID.NOFRAMES:{startTagInHead(n,e);break}}}function endTagInFrameset(n,e){e.tagID===TAG_ID.FRAMESET&&!n.openElements.isRootHtmlElementCurrent()&&(n.openElements.pop(),!n.fragmentContext&&n.openElements.currentTagId!==TAG_ID.FRAMESET&&(n.insertionMode=InsertionMode.AFTER_FRAMESET))}function startTagAfterFrameset(n,e){switch(e.tagID){case TAG_ID.HTML:{startTagInBody(n,e);break}case TAG_ID.NOFRAMES:{startTagInHead(n,e);break}}}function endTagAfterFrameset(n,e){e.tagID===TAG_ID.HTML&&(n.insertionMode=InsertionMode.AFTER_AFTER_FRAMESET)}function startTagAfterAfterBody(n,e){e.tagID===TAG_ID.HTML?startTagInBody(n,e):tokenAfterAfterBody(n,e)}function tokenAfterAfterBody(n,e){n.insertionMode=InsertionMode.IN_BODY,modeInBody(n,e)}function startTagAfterAfterFrameset(n,e){switch(e.tagID){case TAG_ID.HTML:{startTagInBody(n,e);break}case TAG_ID.NOFRAMES:{startTagInHead(n,e);break}}}function nullCharacterInForeignContent(n,e){e.chars=REPLACEMENT_CHARACTER,n._insertCharacters(e)}function characterInForeignContent(n,e){n._insertCharacters(e),n.framesetOk=!1}function popUntilHtmlOrIntegrationPoint(n){for(;n.treeAdapter.getNamespaceURI(n.openElements.current)!==NS.HTML&&!n._isIntegrationPoint(n.openElements.currentTagId,n.openElements.current);)n.openElements.pop()}function startTagInForeignContent(n,e){if(causesExit(e))popUntilHtmlOrIntegrationPoint(n),n._startTagOutsideForeignContent(e);else{const o=n._getAdjustedCurrentElement(),a=n.treeAdapter.getNamespaceURI(o);a===NS.MATHML?adjustTokenMathMLAttrs(e):a===NS.SVG&&(adjustTokenSVGTagName(e),adjustTokenSVGAttrs(e)),adjustTokenXMLAttrs(e),e.selfClosing?n._appendElement(e,a):n._insertElement(e,a),e.ackSelfClosing=!0}}function endTagInForeignContent(n,e){if(e.tagID===TAG_ID.P||e.tagID===TAG_ID.BR){popUntilHtmlOrIntegrationPoint(n),n._endTagOutsideForeignContent(e);return}for(let o=n.openElements.stackTop;o>0;o--){const a=n.openElements.items[o];if(n.treeAdapter.getNamespaceURI(a)===NS.HTML){n._endTagOutsideForeignContent(e);break}const l=n.treeAdapter.getTagName(a);if(l.toLowerCase()===e.tagName){e.tagName=l,n.openElements.shortenToLength(o);break}}}TAG_NAMES$1.AREA,TAG_NAMES$1.BASE,TAG_NAMES$1.BASEFONT,TAG_NAMES$1.BGSOUND,TAG_NAMES$1.BR,TAG_NAMES$1.COL,TAG_NAMES$1.EMBED,TAG_NAMES$1.FRAME,TAG_NAMES$1.HR,TAG_NAMES$1.IMG,TAG_NAMES$1.INPUT,TAG_NAMES$1.KEYGEN,TAG_NAMES$1.LINK,TAG_NAMES$1.META,TAG_NAMES$1.PARAM,TAG_NAMES$1.SOURCE,TAG_NAMES$1.TRACK,TAG_NAMES$1.WBR;const gfmTagfilterExpression=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,knownMdxNames=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),parseOptions={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function raw(n,e){const o=documentMode(n),a=zwitch("type",{handlers:{root,element,text,comment:comment$1,doctype,raw:handleRaw},unknown}),l={parser:o?new Parser$1(parseOptions):Parser$1.getFragmentParser(void 0,parseOptions),handle(f){a(f,l)},stitches:!1,options:e||{}};a(n,l),resetTokenizer(l,pointStart());const u=o?l.parser.document:l.parser.getFragment(),c=fromParse5(u,{file:l.options.file});return l.stitches&&visit(c,"comment",function(f,p,T){const E=f;if(E.value.stitch&&T&&p!==void 0){const b=T.children;return b[p]=E.value.stitch,p}}),c.type==="root"&&c.children.length===1&&c.children[0].type===n.type?c.children[0]:c}function all(n,e){let o=-1;if(n)for(;++o<n.length;)e.handle(n[o])}function root(n,e){all(n.children,e)}function element(n,e){startTag(n,e),all(n.children,e),endTag(n,e)}function text(n,e){e.parser.tokenizer.state>4&&(e.parser.tokenizer.state=0);const o={type:TokenType.CHARACTER,chars:n.value,location:createParse5Location(n)};resetTokenizer(e,pointStart(n)),e.parser.currentToken=o,e.parser._processToken(e.parser.currentToken)}function doctype(n,e){const o={type:TokenType.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:createParse5Location(n)};resetTokenizer(e,pointStart(n)),e.parser.currentToken=o,e.parser._processToken(e.parser.currentToken)}function stitch(n,e){e.stitches=!0;const o=cloneWithoutChildren(n);if("children"in n&&"children"in o){const a=raw({type:"root",children:n.children},e.options);o.children=a.children}comment$1({type:"comment",value:{stitch:o}},e)}function comment$1(n,e){const o=n.value,a={type:TokenType.COMMENT,data:o,location:createParse5Location(n)};resetTokenizer(e,pointStart(n)),e.parser.currentToken=a,e.parser._processToken(e.parser.currentToken)}function handleRaw(n,e){if(e.parser.tokenizer.preprocessor.html="",e.parser.tokenizer.preprocessor.pos=-1,e.parser.tokenizer.preprocessor.lastGapPos=-2,e.parser.tokenizer.preprocessor.gapStack=[],e.parser.tokenizer.preprocessor.skipNextNewLine=!1,e.parser.tokenizer.preprocessor.lastChunkWritten=!1,e.parser.tokenizer.preprocessor.endOfChunkHit=!1,e.parser.tokenizer.preprocessor.isEol=!1,setPoint(e,pointStart(n)),e.parser.tokenizer.write(e.options.tagfilter?n.value.replace(gfmTagfilterExpression,"&lt;$1$2"):n.value,!1),e.parser.tokenizer._runParsingLoop(),e.parser.tokenizer.state===72||e.parser.tokenizer.state===78){e.parser.tokenizer.preprocessor.lastChunkWritten=!0;const o=e.parser.tokenizer._consume();e.parser.tokenizer._callState(o)}}function unknown(n,e){const o=n;if(e.options.passThrough&&e.options.passThrough.includes(o.type))stitch(o,e);else{let a="";throw knownMdxNames.has(o.type)&&(a=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+o.type+"` node"+a)}}function resetTokenizer(n,e){setPoint(n,e);const o=n.parser.tokenizer.currentCharacterToken;o&&o.location&&(o.location.endLine=n.parser.tokenizer.preprocessor.line,o.location.endCol=n.parser.tokenizer.preprocessor.col+1,o.location.endOffset=n.parser.tokenizer.preprocessor.offset+1,n.parser.currentToken=o,n.parser._processToken(n.parser.currentToken)),n.parser.tokenizer.paused=!1,n.parser.tokenizer.inLoop=!1,n.parser.tokenizer.active=!1,n.parser.tokenizer.returnState=TokenizerMode.DATA,n.parser.tokenizer.charRefCode=-1,n.parser.tokenizer.consumedAfterSnapshot=-1,n.parser.tokenizer.currentLocation=null,n.parser.tokenizer.currentCharacterToken=null,n.parser.tokenizer.currentToken=null,n.parser.tokenizer.currentAttr={name:"",value:""}}function setPoint(n,e){if(e&&e.offset!==void 0){const o={startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:-1,endCol:-1,endOffset:-1};n.parser.tokenizer.preprocessor.lineStartPos=-e.column+1,n.parser.tokenizer.preprocessor.droppedBufferSize=e.offset,n.parser.tokenizer.preprocessor.line=e.line,n.parser.tokenizer.currentLocation=o}}function startTag(n,e){const o=n.tagName.toLowerCase();if(e.parser.tokenizer.state===TokenizerMode.PLAINTEXT)return;resetTokenizer(e,pointStart(n));const a=e.parser.openElements.current;let l="namespaceURI"in a?a.namespaceURI:webNamespaces.html;l===webNamespaces.html&&o==="svg"&&(l=webNamespaces.svg);const u=toParse5({...n,children:[]},{space:l===webNamespaces.svg?"svg":"html"}),c={type:TokenType.START_TAG,tagName:o,tagID:getTagID(o),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in u?u.attrs:[],location:createParse5Location(n)};e.parser.currentToken=c,e.parser._processToken(e.parser.currentToken),e.parser.tokenizer.lastStartTagName=o}function endTag(n,e){const o=n.tagName.toLowerCase();if(!e.parser.tokenizer.inForeignNode&&htmlVoidElements.includes(o)||e.parser.tokenizer.state===TokenizerMode.PLAINTEXT)return;resetTokenizer(e,pointEnd(n));const a={type:TokenType.END_TAG,tagName:o,tagID:getTagID(o),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:createParse5Location(n)};e.parser.currentToken=a,e.parser._processToken(e.parser.currentToken),o===e.parser.tokenizer.lastStartTagName&&(e.parser.tokenizer.state===TokenizerMode.RCDATA||e.parser.tokenizer.state===TokenizerMode.RAWTEXT||e.parser.tokenizer.state===TokenizerMode.SCRIPT_DATA)&&(e.parser.tokenizer.state=TokenizerMode.DATA)}function documentMode(n){const e=n.type==="root"?n.children[0]:n;return!!(e&&(e.type==="doctype"||e.type==="element"&&e.tagName.toLowerCase()==="html"))}function createParse5Location(n){const e=pointStart(n)||{line:void 0,column:void 0,offset:void 0},o=pointEnd(n)||{line:void 0,column:void 0,offset:void 0};return{startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:o.line,endCol:o.column,endOffset:o.offset}}function cloneWithoutChildren(n){return"children"in n?structuredClone$1({...n,children:[]}):structuredClone$1(n)}function rehypeRaw(n){return function(e,o){return raw(e,{...n,file:o})}}var reactFastCompare,hasRequiredReactFastCompare;function requireReactFastCompare(){if(hasRequiredReactFastCompare)return reactFastCompare;hasRequiredReactFastCompare=1;var n=typeof Element<"u",e=typeof Map=="function",o=typeof Set=="function",a=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function l(u,c){if(u===c)return!0;if(u&&c&&typeof u=="object"&&typeof c=="object"){if(u.constructor!==c.constructor)return!1;var f,p,T;if(Array.isArray(u)){if(f=u.length,f!=c.length)return!1;for(p=f;p--!==0;)if(!l(u[p],c[p]))return!1;return!0}var E;if(e&&u instanceof Map&&c instanceof Map){if(u.size!==c.size)return!1;for(E=u.entries();!(p=E.next()).done;)if(!c.has(p.value[0]))return!1;for(E=u.entries();!(p=E.next()).done;)if(!l(p.value[1],c.get(p.value[0])))return!1;return!0}if(o&&u instanceof Set&&c instanceof Set){if(u.size!==c.size)return!1;for(E=u.entries();!(p=E.next()).done;)if(!c.has(p.value[0]))return!1;return!0}if(a&&ArrayBuffer.isView(u)&&ArrayBuffer.isView(c)){if(f=u.length,f!=c.length)return!1;for(p=f;p--!==0;)if(u[p]!==c[p])return!1;return!0}if(u.constructor===RegExp)return u.source===c.source&&u.flags===c.flags;if(u.valueOf!==Object.prototype.valueOf&&typeof u.valueOf=="function"&&typeof c.valueOf=="function")return u.valueOf()===c.valueOf();if(u.toString!==Object.prototype.toString&&typeof u.toString=="function"&&typeof c.toString=="function")return u.toString()===c.toString();if(T=Object.keys(u),f=T.length,f!==Object.keys(c).length)return!1;for(p=f;p--!==0;)if(!Object.prototype.hasOwnProperty.call(c,T[p]))return!1;if(n&&u instanceof Element)return!1;for(p=f;p--!==0;)if(!((T[p]==="_owner"||T[p]==="__v"||T[p]==="__o")&&u.$$typeof)&&!l(u[T[p]],c[T[p]]))return!1;return!0}return u!==u&&c!==c}return reactFastCompare=function(c,f){try{return l(c,f)}catch(p){if((p.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw p}},reactFastCompare}var reactFastCompareExports=requireReactFastCompare();const fastCompare=getDefaultExportFromCjs$1(reactFastCompareExports);var browser$2,hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser$2;hasRequiredBrowser=1;var n=function(e,o,a,l,u,c,f,p){if(!e){var T;if(o===void 0)T=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var E=[a,l,u,c,f,p],b=0;T=new Error(o.replace(/%s/g,function(){return E[b++]})),T.name="Invariant Violation"}throw T.framesToPop=1,T}};return browser$2=n,browser$2}var browserExports$1=requireBrowser();const invariant=getDefaultExportFromCjs$1(browserExports$1);var shallowequal,hasRequiredShallowequal;function requireShallowequal(){return hasRequiredShallowequal||(hasRequiredShallowequal=1,shallowequal=function(e,o,a,l){var u=a?a.call(l,e,o):void 0;if(u!==void 0)return!!u;if(e===o)return!0;if(typeof e!="object"||!e||typeof o!="object"||!o)return!1;var c=Object.keys(e),f=Object.keys(o);if(c.length!==f.length)return!1;for(var p=Object.prototype.hasOwnProperty.bind(o),T=0;T<c.length;T++){var E=c[T];if(!p(E))return!1;var b=e[E],m=o[E];if(u=a?a.call(l,b,m,E):void 0,u===!1||u===void 0&&b!==m)return!1}return!0}),shallowequal}var shallowequalExports=requireShallowequal();const shallowEqual=getDefaultExportFromCjs$1(shallowequalExports);var TAG_NAMES=(n=>(n.BASE="base",n.BODY="body",n.HEAD="head",n.HTML="html",n.LINK="link",n.META="meta",n.NOSCRIPT="noscript",n.SCRIPT="script",n.STYLE="style",n.TITLE="title",n.FRAGMENT="Symbol(react.fragment)",n))(TAG_NAMES||{}),SEO_PRIORITY_TAGS={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},VALID_TAG_NAMES=Object.values(TAG_NAMES),REACT_TAG_MAP={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},HTML_TAG_MAP=Object.entries(REACT_TAG_MAP).reduce((n,[e,o])=>(n[o]=e,n),{}),HELMET_ATTRIBUTE="data-rh",HELMET_PROPS={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},getInnermostProperty=(n,e)=>{for(let o=n.length-1;o>=0;o-=1){const a=n[o];if(Object.prototype.hasOwnProperty.call(a,e))return a[e]}return null},getTitleFromPropsList=n=>{let e=getInnermostProperty(n,"title");const o=getInnermostProperty(n,HELMET_PROPS.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),o&&e)return o.replace(/%s/g,()=>e);const a=getInnermostProperty(n,HELMET_PROPS.DEFAULT_TITLE);return e||a||void 0},getOnChangeClientState=n=>getInnermostProperty(n,HELMET_PROPS.ON_CHANGE_CLIENT_STATE)||(()=>{}),getAttributesFromPropsList=(n,e)=>e.filter(o=>typeof o[n]<"u").map(o=>o[n]).reduce((o,a)=>({...o,...a}),{}),getBaseTagFromPropsList=(n,e)=>e.filter(o=>typeof o.base<"u").map(o=>o.base).reverse().reduce((o,a)=>{if(!o.length){const l=Object.keys(a);for(let u=0;u<l.length;u+=1){const f=l[u].toLowerCase();if(n.indexOf(f)!==-1&&a[f])return o.concat(a)}}return o},[]),warn=n=>console&&typeof console.warn=="function"&&console.warn(n),getTagsFromPropsList=(n,e,o)=>{const a={};return o.filter(l=>Array.isArray(l[n])?!0:(typeof l[n]<"u"&&warn(`Helmet: ${n} should be of type "Array". Instead found type "${typeof l[n]}"`),!1)).map(l=>l[n]).reverse().reduce((l,u)=>{const c={};u.filter(p=>{let T;const E=Object.keys(p);for(let m=0;m<E.length;m+=1){const y=E[m],S=y.toLowerCase();e.indexOf(S)!==-1&&!(T==="rel"&&p[T].toLowerCase()==="canonical")&&!(S==="rel"&&p[S].toLowerCase()==="stylesheet")&&(T=S),e.indexOf(y)!==-1&&(y==="innerHTML"||y==="cssText"||y==="itemprop")&&(T=y)}if(!T||!p[T])return!1;const b=p[T].toLowerCase();return a[T]||(a[T]={}),c[T]||(c[T]={}),a[T][b]?!1:(c[T][b]=!0,!0)}).reverse().forEach(p=>l.push(p));const f=Object.keys(c);for(let p=0;p<f.length;p+=1){const T=f[p],E={...a[T],...c[T]};a[T]=E}return l},[]).reverse()},getAnyTrueFromPropsList=(n,e)=>{if(Array.isArray(n)&&n.length){for(let o=0;o<n.length;o+=1)if(n[o][e])return!0}return!1},reducePropsToState=n=>({baseTag:getBaseTagFromPropsList(["href"],n),bodyAttributes:getAttributesFromPropsList("bodyAttributes",n),defer:getInnermostProperty(n,HELMET_PROPS.DEFER),encode:getInnermostProperty(n,HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:getAttributesFromPropsList("htmlAttributes",n),linkTags:getTagsFromPropsList("link",["rel","href"],n),metaTags:getTagsFromPropsList("meta",["name","charset","http-equiv","property","itemprop"],n),noscriptTags:getTagsFromPropsList("noscript",["innerHTML"],n),onChangeClientState:getOnChangeClientState(n),scriptTags:getTagsFromPropsList("script",["src","innerHTML"],n),styleTags:getTagsFromPropsList("style",["cssText"],n),title:getTitleFromPropsList(n),titleAttributes:getAttributesFromPropsList("titleAttributes",n),prioritizeSeoTags:getAnyTrueFromPropsList(n,HELMET_PROPS.PRIORITIZE_SEO_TAGS)}),flattenArray=n=>Array.isArray(n)?n.join(""):n,checkIfPropsMatch=(n,e)=>{const o=Object.keys(n);for(let a=0;a<o.length;a+=1)if(e[o[a]]&&e[o[a]].includes(n[o[a]]))return!0;return!1},prioritizer=(n,e)=>Array.isArray(n)?n.reduce((o,a)=>(checkIfPropsMatch(a,e)?o.priority.push(a):o.default.push(a),o),{priority:[],default:[]}):{default:n,priority:[]},without=(n,e)=>({...n,[e]:void 0}),SELF_CLOSING_TAGS=["noscript","script","style"],encodeSpecialCharacters=(n,e=!0)=>e===!1?String(n):String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),generateElementAttributesAsString=n=>Object.keys(n).reduce((e,o)=>{const a=typeof n[o]<"u"?`${o}="${n[o]}"`:`${o}`;return e?`${e} ${a}`:a},""),generateTitleAsString=(n,e,o,a)=>{const l=generateElementAttributesAsString(o),u=flattenArray(e);return l?`<${n} ${HELMET_ATTRIBUTE}="true" ${l}>${encodeSpecialCharacters(u,a)}</${n}>`:`<${n} ${HELMET_ATTRIBUTE}="true">${encodeSpecialCharacters(u,a)}</${n}>`},generateTagsAsString=(n,e,o=!0)=>e.reduce((a,l)=>{const u=l,c=Object.keys(u).filter(T=>!(T==="innerHTML"||T==="cssText")).reduce((T,E)=>{const b=typeof u[E]>"u"?E:`${E}="${encodeSpecialCharacters(u[E],o)}"`;return T?`${T} ${b}`:b},""),f=u.innerHTML||u.cssText||"",p=SELF_CLOSING_TAGS.indexOf(n)===-1;return`${a}<${n} ${HELMET_ATTRIBUTE}="true" ${c}${p?"/>":`>${f}</${n}>`}`},""),convertElementAttributesToReactProps=(n,e={})=>Object.keys(n).reduce((o,a)=>{const l=REACT_TAG_MAP[a];return o[l||a]=n[a],o},e),generateTitleAsReactComponent=(n,e,o)=>{const a={key:e,[HELMET_ATTRIBUTE]:!0},l=convertElementAttributesToReactProps(o,a);return[React.createElement("title",l,e)]},generateTagsAsReactComponent=(n,e)=>e.map((o,a)=>{const l={key:a,[HELMET_ATTRIBUTE]:!0};return Object.keys(o).forEach(u=>{const f=REACT_TAG_MAP[u]||u;if(f==="innerHTML"||f==="cssText"){const p=o.innerHTML||o.cssText;l.dangerouslySetInnerHTML={__html:p}}else l[f]=o[u]}),React.createElement(n,l)}),getMethodsForTag=(n,e,o=!0)=>{switch(n){case"title":return{toComponent:()=>generateTitleAsReactComponent(n,e.title,e.titleAttributes),toString:()=>generateTitleAsString(n,e.title,e.titleAttributes,o)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>convertElementAttributesToReactProps(e),toString:()=>generateElementAttributesAsString(e)};default:return{toComponent:()=>generateTagsAsReactComponent(n,e),toString:()=>generateTagsAsString(n,e,o)}}},getPriorityMethods=({metaTags:n,linkTags:e,scriptTags:o,encode:a})=>{const l=prioritizer(n,SEO_PRIORITY_TAGS.meta),u=prioritizer(e,SEO_PRIORITY_TAGS.link),c=prioritizer(o,SEO_PRIORITY_TAGS.script);return{priorityMethods:{toComponent:()=>[...generateTagsAsReactComponent("meta",l.priority),...generateTagsAsReactComponent("link",u.priority),...generateTagsAsReactComponent("script",c.priority)],toString:()=>`${getMethodsForTag("meta",l.priority,a)} ${getMethodsForTag("link",u.priority,a)} ${getMethodsForTag("script",c.priority,a)}`},metaTags:l.default,linkTags:u.default,scriptTags:c.default}},mapStateOnServer=n=>{const{baseTag:e,bodyAttributes:o,encode:a=!0,htmlAttributes:l,noscriptTags:u,styleTags:c,title:f="",titleAttributes:p,prioritizeSeoTags:T}=n;let{linkTags:E,metaTags:b,scriptTags:m}=n,y={toComponent:()=>{},toString:()=>""};return T&&({priorityMethods:y,linkTags:E,metaTags:b,scriptTags:m}=getPriorityMethods(n)),{priority:y,base:getMethodsForTag("base",e,a),bodyAttributes:getMethodsForTag("bodyAttributes",o,a),htmlAttributes:getMethodsForTag("htmlAttributes",l,a),link:getMethodsForTag("link",E,a),meta:getMethodsForTag("meta",b,a),noscript:getMethodsForTag("noscript",u,a),script:getMethodsForTag("script",m,a),style:getMethodsForTag("style",c,a),title:getMethodsForTag("title",{title:f,titleAttributes:p},a)}},server_default=mapStateOnServer,instances=[],isDocument=!!(typeof window<"u"&&window.document&&window.document.createElement),HelmetData=class{constructor(n,e){wn(this,"instances",[]);wn(this,"canUseDOM",isDocument);wn(this,"context");wn(this,"value",{setHelmet:n=>{this.context.helmet=n},helmetInstances:{get:()=>this.canUseDOM?instances:this.instances,add:n=>{(this.canUseDOM?instances:this.instances).push(n)},remove:n=>{const e=(this.canUseDOM?instances:this.instances).indexOf(n);(this.canUseDOM?instances:this.instances).splice(e,1)}}});this.context=n,this.canUseDOM=e||!1,e||(n.helmet=server_default({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},defaultValue={},Context=React.createContext(defaultValue),Tr,HelmetProvider=(Tr=class extends reactExports.Component{constructor(o){super(o);wn(this,"helmetData");this.helmetData=new HelmetData(this.props.context||{},Tr.canUseDOM)}render(){return React.createElement(Context.Provider,{value:this.helmetData.value},this.props.children)}},wn(Tr,"canUseDOM",isDocument),Tr),updateTags=(n,e)=>{const o=document.head||document.querySelector("head"),a=o.querySelectorAll(`${n}[${HELMET_ATTRIBUTE}]`),l=[].slice.call(a),u=[];let c;return e&&e.length&&e.forEach(f=>{const p=document.createElement(n);for(const T in f)if(Object.prototype.hasOwnProperty.call(f,T))if(T==="innerHTML")p.innerHTML=f.innerHTML;else if(T==="cssText")p.styleSheet?p.styleSheet.cssText=f.cssText:p.appendChild(document.createTextNode(f.cssText));else{const E=T,b=typeof f[E]>"u"?"":f[E];p.setAttribute(T,b)}p.setAttribute(HELMET_ATTRIBUTE,"true"),l.some((T,E)=>(c=E,p.isEqualNode(T)))?l.splice(c,1):u.push(p)}),l.forEach(f=>{var p;return(p=f.parentNode)==null?void 0:p.removeChild(f)}),u.forEach(f=>o.appendChild(f)),{oldTags:l,newTags:u}},updateAttributes=(n,e)=>{const o=document.getElementsByTagName(n)[0];if(!o)return;const a=o.getAttribute(HELMET_ATTRIBUTE),l=a?a.split(","):[],u=[...l],c=Object.keys(e);for(const f of c){const p=e[f]||"";o.getAttribute(f)!==p&&o.setAttribute(f,p),l.indexOf(f)===-1&&l.push(f);const T=u.indexOf(f);T!==-1&&u.splice(T,1)}for(let f=u.length-1;f>=0;f-=1)o.removeAttribute(u[f]);l.length===u.length?o.removeAttribute(HELMET_ATTRIBUTE):o.getAttribute(HELMET_ATTRIBUTE)!==c.join(",")&&o.setAttribute(HELMET_ATTRIBUTE,c.join(","))},updateTitle=(n,e)=>{typeof n<"u"&&document.title!==n&&(document.title=flattenArray(n)),updateAttributes("title",e)},commitTagChanges=(n,e)=>{const{baseTag:o,bodyAttributes:a,htmlAttributes:l,linkTags:u,metaTags:c,noscriptTags:f,onChangeClientState:p,scriptTags:T,styleTags:E,title:b,titleAttributes:m}=n;updateAttributes("body",a),updateAttributes("html",l),updateTitle(b,m);const y={baseTag:updateTags("base",o),linkTags:updateTags("link",u),metaTags:updateTags("meta",c),noscriptTags:updateTags("noscript",f),scriptTags:updateTags("script",T),styleTags:updateTags("style",E)},S={},v={};Object.keys(y).forEach(A=>{const{newTags:w,oldTags:R}=y[A];w.length&&(S[A]=w),R.length&&(v[A]=y[A].oldTags)}),e&&e(),p(n,S,v)},_helmetCallback=null,handleStateChangeOnClient=n=>{_helmetCallback&&cancelAnimationFrame(_helmetCallback),n.defer?_helmetCallback=requestAnimationFrame(()=>{commitTagChanges(n,()=>{_helmetCallback=null})}):(commitTagChanges(n),_helmetCallback=null)},client_default=handleStateChangeOnClient,HelmetDispatcher=class extends reactExports.Component{constructor(){super(...arguments);wn(this,"rendered",!1)}shouldComponentUpdate(e){return!shallowEqual(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:o}=this.props.context;let a=null;const l=reducePropsToState(e.get().map(u=>{const c={...u.props};return delete c.context,c}));HelmetProvider.canUseDOM?client_default(l):server_default&&(a=server_default(l)),o(a)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},Ds,Helmet=(Ds=class extends reactExports.Component{shouldComponentUpdate(n){return!fastCompare(without(this.props,"helmetData"),without(n,"helmetData"))}mapNestedChildrenToProps(n,e){if(!e)return null;switch(n.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${n.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(n,e,o,a){return{...e,[n.type]:[...e[n.type]||[],{...o,...this.mapNestedChildrenToProps(n,a)}]}}mapObjectTypeChildren(n,e,o,a){switch(n.type){case"title":return{...e,[n.type]:a,titleAttributes:{...o}};case"body":return{...e,bodyAttributes:{...o}};case"html":return{...e,htmlAttributes:{...o}};default:return{...e,[n.type]:{...o}}}}mapArrayTypeChildrenToProps(n,e){let o={...e};return Object.keys(n).forEach(a=>{o={...o,[a]:n[a]}}),o}warnOnInvalidChildren(n,e){return invariant(VALID_TAG_NAMES.some(o=>n.type===o),typeof n.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${VALID_TAG_NAMES.join(", ")} are allowed. Helmet does not support rendering <${n.type}> elements. Refer to our API for more information.`),invariant(!e||typeof e=="string"||Array.isArray(e)&&!e.some(o=>typeof o!="string"),`Helmet expects a string as a child of <${n.type}>. Did you forget to wrap your children in braces? ( <${n.type}>{\`\`}</${n.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(n,e){let o={};return React.Children.forEach(n,a=>{if(!a||!a.props)return;const{children:l,...u}=a.props,c=Object.keys(u).reduce((p,T)=>(p[HTML_TAG_MAP[T]||T]=u[T],p),{});let{type:f}=a;switch(typeof f=="symbol"?f=f.toString():this.warnOnInvalidChildren(a,l),f){case"Symbol(react.fragment)":e=this.mapChildrenToProps(l,e);break;case"link":case"meta":case"noscript":case"script":case"style":o=this.flattenArrayTypeChildren(a,o,c,l);break;default:e=this.mapObjectTypeChildren(a,e,c,l);break}}),this.mapArrayTypeChildrenToProps(o,e)}render(){const{children:n,...e}=this.props;let o={...e},{helmetData:a}=e;if(n&&(o=this.mapChildrenToProps(n,o)),a&&!(a instanceof HelmetData)){const l=a;a=new HelmetData(l.context,!0),delete o.helmetData}return a?React.createElement(HelmetDispatcher,{...o,context:a.value}):React.createElement(Context.Consumer,null,l=>React.createElement(HelmetDispatcher,{...o,context:l}))}},wn(Ds,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Ds);function _objectWithoutPropertiesLoose(n,e){if(n==null)return{};var o={};for(var a in n)if({}.hasOwnProperty.call(n,a)){if(e.indexOf(a)!==-1)continue;o[a]=n[a]}return o}function _objectWithoutProperties(n,e){if(n==null)return{};var o,a,l=_objectWithoutPropertiesLoose(n,e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(n);for(a=0;a<u.length;a++)o=u[a],e.indexOf(o)===-1&&{}.propertyIsEnumerable.call(n,o)&&(l[o]=n[o])}return l}function _arrayLikeToArray(n,e){(e==null||e>n.length)&&(e=n.length);for(var o=0,a=Array(e);o<e;o++)a[o]=n[o];return a}function _arrayWithoutHoles(n){if(Array.isArray(n))return _arrayLikeToArray(n)}function _iterableToArray(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function _unsupportedIterableToArray(n,e){if(n){if(typeof n=="string")return _arrayLikeToArray(n,e);var o={}.toString.call(n).slice(8,-1);return o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set"?Array.from(n):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(n,e):void 0}}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toConsumableArray(n){return _arrayWithoutHoles(n)||_iterableToArray(n)||_unsupportedIterableToArray(n)||_nonIterableSpread()}function _typeof(n){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(n)}function toPrimitive(n,e){if(_typeof(n)!="object"||!n)return n;var o=n[Symbol.toPrimitive];if(o!==void 0){var a=o.call(n,e);if(_typeof(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function toPropertyKey(n){var e=toPrimitive(n,"string");return _typeof(e)=="symbol"?e:e+""}function _defineProperty(n,e,o){return(e=toPropertyKey(e))in n?Object.defineProperty(n,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[e]=o,n}function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var a in o)({}).hasOwnProperty.call(o,a)&&(n[a]=o[a])}return n},_extends.apply(null,arguments)}var immutable,hasRequiredImmutable;function requireImmutable(){if(hasRequiredImmutable)return immutable;hasRequiredImmutable=1,immutable=e;var n=Object.prototype.hasOwnProperty;function e(){for(var o={},a=0;a<arguments.length;a++){var l=arguments[a];for(var u in l)n.call(l,u)&&(o[u]=l[u])}return o}return immutable}var FileSaver_min$1={exports:{}},FileSaver_min=FileSaver_min$1.exports,hasRequiredFileSaver_min;function requireFileSaver_min(){return hasRequiredFileSaver_min||(hasRequiredFileSaver_min=1,function(n,e){(function(o,a){a()})(FileSaver_min,function(){function o(T,E){return typeof E>"u"?E={autoBom:!1}:typeof E!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),E={autoBom:!E}),E.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(T.type)?new Blob(["\uFEFF",T],{type:T.type}):T}function a(T,E,b){var m=new XMLHttpRequest;m.open("GET",T),m.responseType="blob",m.onload=function(){p(m.response,E,b)},m.onerror=function(){console.error("could not download file")},m.send()}function l(T){var E=new XMLHttpRequest;E.open("HEAD",T,!1);try{E.send()}catch{}return 200<=E.status&&299>=E.status}function u(T){try{T.dispatchEvent(new MouseEvent("click"))}catch{var E=document.createEvent("MouseEvents");E.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),T.dispatchEvent(E)}}var c=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof commonjsGlobal=="object"&&commonjsGlobal.global===commonjsGlobal?commonjsGlobal:void 0,f=c.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),p=c.saveAs||(typeof window!="object"||window!==c?function(){}:"download"in HTMLAnchorElement.prototype&&!f?function(T,E,b){var m=c.URL||c.webkitURL,y=document.createElement("a");E=E||T.name||"download",y.download=E,y.rel="noopener",typeof T=="string"?(y.href=T,y.origin===location.origin?u(y):l(y.href)?a(T,E,b):u(y,y.target="_blank")):(y.href=m.createObjectURL(T),setTimeout(function(){m.revokeObjectURL(y.href)},4e4),setTimeout(function(){u(y)},0))}:"msSaveOrOpenBlob"in navigator?function(T,E,b){if(E=E||T.name||"download",typeof T!="string")navigator.msSaveOrOpenBlob(o(T,b),E);else if(l(T))a(T,E,b);else{var m=document.createElement("a");m.href=T,m.target="_blank",setTimeout(function(){u(m)})}}:function(T,E,b,m){if(m=m||open("","_blank"),m&&(m.document.title=m.document.body.innerText="downloading..."),typeof T=="string")return a(T,E,b);var y=T.type==="application/octet-stream",S=/constructor/i.test(c.HTMLElement)||c.safari,v=/CriOS\/[\d]+/.test(navigator.userAgent);if((v||y&&S||f)&&typeof FileReader<"u"){var A=new FileReader;A.onloadend=function(){var P=A.result;P=v?P:P.replace(/^data:[^;]*;/,"data:attachment/file;"),m?m.location.href=P:location=P,m=null},A.readAsDataURL(T)}else{var w=c.URL||c.webkitURL,R=w.createObjectURL(T);m?m.location=R:location.href=R,m=null,setTimeout(function(){w.revokeObjectURL(R)},4e4)}});c.saveAs=p.saveAs=p,n.exports=p})}(FileSaver_min$1)),FileSaver_min$1.exports}var FileSaver_minExports=requireFileSaver_min();function getDefaultExportFromCjs(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var browser$1={exports:{}},process=browser$1.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(n){if(cachedSetTimeout===setTimeout)return setTimeout(n,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(n,0);try{return cachedSetTimeout(n,0)}catch{try{return cachedSetTimeout.call(null,n,0)}catch{return cachedSetTimeout.call(this,n,0)}}}function runClearTimeout(n){if(cachedClearTimeout===clearTimeout)return clearTimeout(n);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(n);try{return cachedClearTimeout(n)}catch{try{return cachedClearTimeout.call(null,n)}catch{return cachedClearTimeout.call(this,n)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var n=runTimeout(cleanUpNextTick);draining=!0;for(var e=queue.length;e;){for(currentQueue=queue,queue=[];++queueIndex<e;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,e=queue.length}currentQueue=null,draining=!1,runClearTimeout(n)}}process.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)e[o-1]=arguments[o];queue.push(new Item(n,e)),queue.length===1&&!draining&&runTimeout(drainQueue)};function Item(n,e){this.fun=n,this.array=e}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=!0;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.prependListener=noop;process.prependOnceListener=noop;process.listeners=function(n){return[]};process.binding=function(n){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(n){throw new Error("process.chdir is not supported")};process.umask=function(){return 0};var browserExports=browser$1.exports;const process$1=getDefaultExportFromCjs(browserExports);var jszip_min={exports:{}},hasRequiredJszip_min;function requireJszip_min(){return hasRequiredJszip_min||(hasRequiredJszip_min=1,function(n,e){(function(o){n.exports=o()})(function(){return function o(a,l,u){function c(T,E){if(!l[T]){if(!a[T]){var b=typeof commonjsRequire=="function"&&commonjsRequire;if(!E&&b)return b(T,!0);if(f)return f(T,!0);var m=new Error("Cannot find module '"+T+"'");throw m.code="MODULE_NOT_FOUND",m}var y=l[T]={exports:{}};a[T][0].call(y.exports,function(S){var v=a[T][1][S];return c(v||S)},y,y.exports,o,a,l,u)}return l[T].exports}for(var f=typeof commonjsRequire=="function"&&commonjsRequire,p=0;p<u.length;p++)c(u[p]);return c}({1:[function(o,a,l){var u=o("./utils"),c=o("./support"),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";l.encode=function(p){for(var T,E,b,m,y,S,v,A=[],w=0,R=p.length,P=R,F=u.getTypeOf(p)!=="string";w<p.length;)P=R-w,b=F?(T=p[w++],E=w<R?p[w++]:0,w<R?p[w++]:0):(T=p.charCodeAt(w++),E=w<R?p.charCodeAt(w++):0,w<R?p.charCodeAt(w++):0),m=T>>2,y=(3&T)<<4|E>>4,S=1<P?(15&E)<<2|b>>6:64,v=2<P?63&b:64,A.push(f.charAt(m)+f.charAt(y)+f.charAt(S)+f.charAt(v));return A.join("")},l.decode=function(p){var T,E,b,m,y,S,v=0,A=0,w="data:";if(p.substr(0,w.length)===w)throw new Error("Invalid base64 input, it looks like a data url.");var R,P=3*(p=p.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(p.charAt(p.length-1)===f.charAt(64)&&P--,p.charAt(p.length-2)===f.charAt(64)&&P--,P%1!=0)throw new Error("Invalid base64 input, bad content length.");for(R=c.uint8array?new Uint8Array(0|P):new Array(0|P);v<p.length;)T=f.indexOf(p.charAt(v++))<<2|(m=f.indexOf(p.charAt(v++)))>>4,E=(15&m)<<4|(y=f.indexOf(p.charAt(v++)))>>2,b=(3&y)<<6|(S=f.indexOf(p.charAt(v++))),R[A++]=T,y!==64&&(R[A++]=E),S!==64&&(R[A++]=b);return R}},{"./support":30,"./utils":32}],2:[function(o,a,l){var u=o("./external"),c=o("./stream/DataWorker"),f=o("./stream/Crc32Probe"),p=o("./stream/DataLengthProbe");function T(E,b,m,y,S){this.compressedSize=E,this.uncompressedSize=b,this.crc32=m,this.compression=y,this.compressedContent=S}T.prototype={getContentWorker:function(){var E=new c(u.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new p("data_length")),b=this;return E.on("end",function(){if(this.streamInfo.data_length!==b.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),E},getCompressedWorker:function(){return new c(u.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},T.createWorkerFrom=function(E,b,m){return E.pipe(new f).pipe(new p("uncompressedSize")).pipe(b.compressWorker(m)).pipe(new p("compressedSize")).withStreamInfo("compression",b)},a.exports=T},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(o,a,l){var u=o("./stream/GenericWorker");l.STORE={magic:"\0\0",compressWorker:function(){return new u("STORE compression")},uncompressWorker:function(){return new u("STORE decompression")}},l.DEFLATE=o("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(o,a,l){var u=o("./utils"),c=function(){for(var f,p=[],T=0;T<256;T++){f=T;for(var E=0;E<8;E++)f=1&f?3988292384^f>>>1:f>>>1;p[T]=f}return p}();a.exports=function(f,p){return f!==void 0&&f.length?u.getTypeOf(f)!=="string"?function(T,E,b,m){var y=c,S=m+b;T^=-1;for(var v=m;v<S;v++)T=T>>>8^y[255&(T^E[v])];return-1^T}(0|p,f,f.length,0):function(T,E,b,m){var y=c,S=m+b;T^=-1;for(var v=m;v<S;v++)T=T>>>8^y[255&(T^E.charCodeAt(v))];return-1^T}(0|p,f,f.length,0):0}},{"./utils":32}],5:[function(o,a,l){l.base64=!1,l.binary=!1,l.dir=!1,l.createFolders=!0,l.date=null,l.compression=null,l.compressionOptions=null,l.comment=null,l.unixPermissions=null,l.dosPermissions=null},{}],6:[function(o,a,l){var u=null;u=typeof Promise<"u"?Promise:o("lie"),a.exports={Promise:u}},{lie:37}],7:[function(o,a,l){var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",c=o("pako"),f=o("./utils"),p=o("./stream/GenericWorker"),T=u?"uint8array":"array";function E(b,m){p.call(this,"FlateWorker/"+b),this._pako=null,this._pakoAction=b,this._pakoOptions=m,this.meta={}}l.magic="\b\0",f.inherits(E,p),E.prototype.processChunk=function(b){this.meta=b.meta,this._pako===null&&this._createPako(),this._pako.push(f.transformTo(T,b.data),!1)},E.prototype.flush=function(){p.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},E.prototype.cleanUp=function(){p.prototype.cleanUp.call(this),this._pako=null},E.prototype._createPako=function(){this._pako=new c[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var b=this;this._pako.onData=function(m){b.push({data:m,meta:b.meta})}},l.compressWorker=function(b){return new E("Deflate",b)},l.uncompressWorker=function(){return new E("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(o,a,l){function u(y,S){var v,A="";for(v=0;v<S;v++)A+=String.fromCharCode(255&y),y>>>=8;return A}function c(y,S,v,A,w,R){var P,F,B=y.file,G=y.compression,K=R!==T.utf8encode,le=f.transformTo("string",R(B.name)),V=f.transformTo("string",T.utf8encode(B.name)),X=B.comment,W=f.transformTo("string",R(X)),H=f.transformTo("string",T.utf8encode(X)),te=V.length!==B.name.length,L=H.length!==X.length,ue="",Ce="",fe="",ye=B.dir,he=B.date,j={crc32:0,compressedSize:0,uncompressedSize:0};S&&!v||(j.crc32=y.crc32,j.compressedSize=y.compressedSize,j.uncompressedSize=y.uncompressedSize);var Y=0;S&&(Y|=8),K||!te&&!L||(Y|=2048);var Z=0,Q=0;ye&&(Z|=16),w==="UNIX"?(Q=798,Z|=function(we,Ue){var Ye=we;return we||(Ye=Ue?16893:33204),(65535&Ye)<<16}(B.unixPermissions,ye)):(Q=20,Z|=function(we){return 63&(we||0)}(B.dosPermissions)),P=he.getUTCHours(),P<<=6,P|=he.getUTCMinutes(),P<<=5,P|=he.getUTCSeconds()/2,F=he.getUTCFullYear()-1980,F<<=4,F|=he.getUTCMonth()+1,F<<=5,F|=he.getUTCDate(),te&&(Ce=u(1,1)+u(E(le),4)+V,ue+="up"+u(Ce.length,2)+Ce),L&&(fe=u(1,1)+u(E(W),4)+H,ue+="uc"+u(fe.length,2)+fe);var be="";return be+=`
\0`,be+=u(Y,2),be+=G.magic,be+=u(P,2),be+=u(F,2),be+=u(j.crc32,4),be+=u(j.compressedSize,4),be+=u(j.uncompressedSize,4),be+=u(le.length,2),be+=u(ue.length,2),{fileRecord:b.LOCAL_FILE_HEADER+be+le+ue,dirRecord:b.CENTRAL_FILE_HEADER+u(Q,2)+be+u(W.length,2)+"\0\0\0\0"+u(Z,4)+u(A,4)+le+ue+W}}var f=o("../utils"),p=o("../stream/GenericWorker"),T=o("../utf8"),E=o("../crc32"),b=o("../signature");function m(y,S,v,A){p.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=S,this.zipPlatform=v,this.encodeFileName=A,this.streamFiles=y,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}f.inherits(m,p),m.prototype.push=function(y){var S=y.meta.percent||0,v=this.entriesCount,A=this._sources.length;this.accumulate?this.contentBuffer.push(y):(this.bytesWritten+=y.data.length,p.prototype.push.call(this,{data:y.data,meta:{currentFile:this.currentFile,percent:v?(S+100*(v-A-1))/v:100}}))},m.prototype.openedSource=function(y){this.currentSourceOffset=this.bytesWritten,this.currentFile=y.file.name;var S=this.streamFiles&&!y.file.dir;if(S){var v=c(y,S,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},m.prototype.closedSource=function(y){this.accumulate=!1;var S=this.streamFiles&&!y.file.dir,v=c(y,S,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),S)this.push({data:function(A){return b.DATA_DESCRIPTOR+u(A.crc32,4)+u(A.compressedSize,4)+u(A.uncompressedSize,4)}(y),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},m.prototype.flush=function(){for(var y=this.bytesWritten,S=0;S<this.dirRecords.length;S++)this.push({data:this.dirRecords[S],meta:{percent:100}});var v=this.bytesWritten-y,A=function(w,R,P,F,B){var G=f.transformTo("string",B(F));return b.CENTRAL_DIRECTORY_END+"\0\0\0\0"+u(w,2)+u(w,2)+u(R,4)+u(P,4)+u(G.length,2)+G}(this.dirRecords.length,v,y,this.zipComment,this.encodeFileName);this.push({data:A,meta:{percent:100}})},m.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},m.prototype.registerPrevious=function(y){this._sources.push(y);var S=this;return y.on("data",function(v){S.processChunk(v)}),y.on("end",function(){S.closedSource(S.previous.streamInfo),S._sources.length?S.prepareNextSource():S.end()}),y.on("error",function(v){S.error(v)}),this},m.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},m.prototype.error=function(y){var S=this._sources;if(!p.prototype.error.call(this,y))return!1;for(var v=0;v<S.length;v++)try{S[v].error(y)}catch{}return!0},m.prototype.lock=function(){p.prototype.lock.call(this);for(var y=this._sources,S=0;S<y.length;S++)y[S].lock()},a.exports=m},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(o,a,l){var u=o("../compressions"),c=o("./ZipFileWorker");l.generateWorker=function(f,p,T){var E=new c(p.streamFiles,T,p.platform,p.encodeFileName),b=0;try{f.forEach(function(m,y){b++;var S=function(R,P){var F=R||P,B=u[F];if(!B)throw new Error(F+" is not a valid compression method !");return B}(y.options.compression,p.compression),v=y.options.compressionOptions||p.compressionOptions||{},A=y.dir,w=y.date;y._compressWorker(S,v).withStreamInfo("file",{name:m,dir:A,date:w,comment:y.comment||"",unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions}).pipe(E)}),E.entriesCount=b}catch(m){E.error(m)}return E}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(o,a,l){function u(){if(!(this instanceof u))return new u;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var c=new u;for(var f in this)typeof this[f]!="function"&&(c[f]=this[f]);return c}}(u.prototype=o("./object")).loadAsync=o("./load"),u.support=o("./support"),u.defaults=o("./defaults"),u.version="3.10.1",u.loadAsync=function(c,f){return new u().loadAsync(c,f)},u.external=o("./external"),a.exports=u},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(o,a,l){var u=o("./utils"),c=o("./external"),f=o("./utf8"),p=o("./zipEntries"),T=o("./stream/Crc32Probe"),E=o("./nodejsUtils");function b(m){return new c.Promise(function(y,S){var v=m.decompressed.getContentWorker().pipe(new T);v.on("error",function(A){S(A)}).on("end",function(){v.streamInfo.crc32!==m.decompressed.crc32?S(new Error("Corrupted zip : CRC32 mismatch")):y()}).resume()})}a.exports=function(m,y){var S=this;return y=u.extend(y||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:f.utf8decode}),E.isNode&&E.isStream(m)?c.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):u.prepareContent("the loaded zip file",m,!0,y.optimizedBinaryString,y.base64).then(function(v){var A=new p(y);return A.load(v),A}).then(function(v){var A=[c.Promise.resolve(v)],w=v.files;if(y.checkCRC32)for(var R=0;R<w.length;R++)A.push(b(w[R]));return c.Promise.all(A)}).then(function(v){for(var A=v.shift(),w=A.files,R=0;R<w.length;R++){var P=w[R],F=P.fileNameStr,B=u.resolve(P.fileNameStr);S.file(B,P.decompressed,{binary:!0,optimizedBinaryString:!0,date:P.date,dir:P.dir,comment:P.fileCommentStr.length?P.fileCommentStr:null,unixPermissions:P.unixPermissions,dosPermissions:P.dosPermissions,createFolders:y.createFolders}),P.dir||(S.file(B).unsafeOriginalName=F)}return A.zipComment.length&&(S.comment=A.zipComment),S})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(o,a,l){var u=o("../utils"),c=o("../stream/GenericWorker");function f(p,T){c.call(this,"Nodejs stream input adapter for "+p),this._upstreamEnded=!1,this._bindStream(T)}u.inherits(f,c),f.prototype._bindStream=function(p){var T=this;(this._stream=p).pause(),p.on("data",function(E){T.push({data:E,meta:{percent:0}})}).on("error",function(E){T.isPaused?this.generatedError=E:T.error(E)}).on("end",function(){T.isPaused?T._upstreamEnded=!0:T.end()})},f.prototype.pause=function(){return!!c.prototype.pause.call(this)&&(this._stream.pause(),!0)},f.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},a.exports=f},{"../stream/GenericWorker":28,"../utils":32}],13:[function(o,a,l){var u=o("readable-stream").Readable;function c(f,p,T){u.call(this,p),this._helper=f;var E=this;f.on("data",function(b,m){E.push(b)||E._helper.pause(),T&&T(m)}).on("error",function(b){E.emit("error",b)}).on("end",function(){E.push(null)})}o("../utils").inherits(c,u),c.prototype._read=function(){this._helper.resume()},a.exports=c},{"../utils":32,"readable-stream":16}],14:[function(o,a,l){a.exports={isNode:typeof Buffer<"u",newBufferFrom:function(u,c){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(u,c);if(typeof u=="number")throw new Error('The "data" argument must not be a number');return new Buffer(u,c)},allocBuffer:function(u){if(Buffer.alloc)return Buffer.alloc(u);var c=new Buffer(u);return c.fill(0),c},isBuffer:function(u){return Buffer.isBuffer(u)},isStream:function(u){return u&&typeof u.on=="function"&&typeof u.pause=="function"&&typeof u.resume=="function"}}},{}],15:[function(o,a,l){function u(B,G,K){var le,V=f.getTypeOf(G),X=f.extend(K||{},E);X.date=X.date||new Date,X.compression!==null&&(X.compression=X.compression.toUpperCase()),typeof X.unixPermissions=="string"&&(X.unixPermissions=parseInt(X.unixPermissions,8)),X.unixPermissions&&16384&X.unixPermissions&&(X.dir=!0),X.dosPermissions&&16&X.dosPermissions&&(X.dir=!0),X.dir&&(B=w(B)),X.createFolders&&(le=A(B))&&R.call(this,le,!0);var W=V==="string"&&X.binary===!1&&X.base64===!1;K&&K.binary!==void 0||(X.binary=!W),(G instanceof b&&G.uncompressedSize===0||X.dir||!G||G.length===0)&&(X.base64=!1,X.binary=!0,G="",X.compression="STORE",V="string");var H=null;H=G instanceof b||G instanceof p?G:S.isNode&&S.isStream(G)?new v(B,G):f.prepareContent(B,G,X.binary,X.optimizedBinaryString,X.base64);var te=new m(B,H,X);this.files[B]=te}var c=o("./utf8"),f=o("./utils"),p=o("./stream/GenericWorker"),T=o("./stream/StreamHelper"),E=o("./defaults"),b=o("./compressedObject"),m=o("./zipObject"),y=o("./generate"),S=o("./nodejsUtils"),v=o("./nodejs/NodejsStreamInputAdapter"),A=function(B){B.slice(-1)==="/"&&(B=B.substring(0,B.length-1));var G=B.lastIndexOf("/");return 0<G?B.substring(0,G):""},w=function(B){return B.slice(-1)!=="/"&&(B+="/"),B},R=function(B,G){return G=G!==void 0?G:E.createFolders,B=w(B),this.files[B]||u.call(this,B,null,{dir:!0,createFolders:G}),this.files[B]};function P(B){return Object.prototype.toString.call(B)==="[object RegExp]"}var F={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(B){var G,K,le;for(G in this.files)le=this.files[G],(K=G.slice(this.root.length,G.length))&&G.slice(0,this.root.length)===this.root&&B(K,le)},filter:function(B){var G=[];return this.forEach(function(K,le){B(K,le)&&G.push(le)}),G},file:function(B,G,K){if(arguments.length!==1)return B=this.root+B,u.call(this,B,G,K),this;if(P(B)){var le=B;return this.filter(function(X,W){return!W.dir&&le.test(X)})}var V=this.files[this.root+B];return V&&!V.dir?V:null},folder:function(B){if(!B)return this;if(P(B))return this.filter(function(V,X){return X.dir&&B.test(V)});var G=this.root+B,K=R.call(this,G),le=this.clone();return le.root=K.name,le},remove:function(B){B=this.root+B;var G=this.files[B];if(G||(B.slice(-1)!=="/"&&(B+="/"),G=this.files[B]),G&&!G.dir)delete this.files[B];else for(var K=this.filter(function(V,X){return X.name.slice(0,B.length)===B}),le=0;le<K.length;le++)delete this.files[K[le].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(B){var G,K={};try{if((K=f.extend(B||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:c.utf8encode})).type=K.type.toLowerCase(),K.compression=K.compression.toUpperCase(),K.type==="binarystring"&&(K.type="string"),!K.type)throw new Error("No output type specified.");f.checkSupport(K.type),K.platform!=="darwin"&&K.platform!=="freebsd"&&K.platform!=="linux"&&K.platform!=="sunos"||(K.platform="UNIX"),K.platform==="win32"&&(K.platform="DOS");var le=K.comment||this.comment||"";G=y.generateWorker(this,K,le)}catch(V){(G=new p("error")).error(V)}return new T(G,K.type||"string",K.mimeType)},generateAsync:function(B,G){return this.generateInternalStream(B).accumulate(G)},generateNodeStream:function(B,G){return(B=B||{}).type||(B.type="nodebuffer"),this.generateInternalStream(B).toNodejsStream(G)}};a.exports=F},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(o,a,l){a.exports=o("stream")},{stream:void 0}],17:[function(o,a,l){var u=o("./DataReader");function c(f){u.call(this,f);for(var p=0;p<this.data.length;p++)f[p]=255&f[p]}o("../utils").inherits(c,u),c.prototype.byteAt=function(f){return this.data[this.zero+f]},c.prototype.lastIndexOfSignature=function(f){for(var p=f.charCodeAt(0),T=f.charCodeAt(1),E=f.charCodeAt(2),b=f.charCodeAt(3),m=this.length-4;0<=m;--m)if(this.data[m]===p&&this.data[m+1]===T&&this.data[m+2]===E&&this.data[m+3]===b)return m-this.zero;return-1},c.prototype.readAndCheckSignature=function(f){var p=f.charCodeAt(0),T=f.charCodeAt(1),E=f.charCodeAt(2),b=f.charCodeAt(3),m=this.readData(4);return p===m[0]&&T===m[1]&&E===m[2]&&b===m[3]},c.prototype.readData=function(f){if(this.checkOffset(f),f===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,p},a.exports=c},{"../utils":32,"./DataReader":18}],18:[function(o,a,l){var u=o("../utils");function c(f){this.data=f,this.length=f.length,this.index=0,this.zero=0}c.prototype={checkOffset:function(f){this.checkIndex(this.index+f)},checkIndex:function(f){if(this.length<this.zero+f||f<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+f+"). Corrupted zip ?")},setIndex:function(f){this.checkIndex(f),this.index=f},skip:function(f){this.setIndex(this.index+f)},byteAt:function(){},readInt:function(f){var p,T=0;for(this.checkOffset(f),p=this.index+f-1;p>=this.index;p--)T=(T<<8)+this.byteAt(p);return this.index+=f,T},readString:function(f){return u.transformTo("string",this.readData(f))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var f=this.readInt(4);return new Date(Date.UTC(1980+(f>>25&127),(f>>21&15)-1,f>>16&31,f>>11&31,f>>5&63,(31&f)<<1))}},a.exports=c},{"../utils":32}],19:[function(o,a,l){var u=o("./Uint8ArrayReader");function c(f){u.call(this,f)}o("../utils").inherits(c,u),c.prototype.readData=function(f){this.checkOffset(f);var p=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,p},a.exports=c},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(o,a,l){var u=o("./DataReader");function c(f){u.call(this,f)}o("../utils").inherits(c,u),c.prototype.byteAt=function(f){return this.data.charCodeAt(this.zero+f)},c.prototype.lastIndexOfSignature=function(f){return this.data.lastIndexOf(f)-this.zero},c.prototype.readAndCheckSignature=function(f){return f===this.readData(4)},c.prototype.readData=function(f){this.checkOffset(f);var p=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,p},a.exports=c},{"../utils":32,"./DataReader":18}],21:[function(o,a,l){var u=o("./ArrayReader");function c(f){u.call(this,f)}o("../utils").inherits(c,u),c.prototype.readData=function(f){if(this.checkOffset(f),f===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+f);return this.index+=f,p},a.exports=c},{"../utils":32,"./ArrayReader":17}],22:[function(o,a,l){var u=o("../utils"),c=o("../support"),f=o("./ArrayReader"),p=o("./StringReader"),T=o("./NodeBufferReader"),E=o("./Uint8ArrayReader");a.exports=function(b){var m=u.getTypeOf(b);return u.checkSupport(m),m!=="string"||c.uint8array?m==="nodebuffer"?new T(b):c.uint8array?new E(u.transformTo("uint8array",b)):new f(u.transformTo("array",b)):new p(b)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(o,a,l){l.LOCAL_FILE_HEADER="PK",l.CENTRAL_FILE_HEADER="PK",l.CENTRAL_DIRECTORY_END="PK",l.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",l.ZIP64_CENTRAL_DIRECTORY_END="PK",l.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(o,a,l){var u=o("./GenericWorker"),c=o("../utils");function f(p){u.call(this,"ConvertWorker to "+p),this.destType=p}c.inherits(f,u),f.prototype.processChunk=function(p){this.push({data:c.transformTo(this.destType,p.data),meta:p.meta})},a.exports=f},{"../utils":32,"./GenericWorker":28}],25:[function(o,a,l){var u=o("./GenericWorker"),c=o("../crc32");function f(){u.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}o("../utils").inherits(f,u),f.prototype.processChunk=function(p){this.streamInfo.crc32=c(p.data,this.streamInfo.crc32||0),this.push(p)},a.exports=f},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(o,a,l){var u=o("../utils"),c=o("./GenericWorker");function f(p){c.call(this,"DataLengthProbe for "+p),this.propName=p,this.withStreamInfo(p,0)}u.inherits(f,c),f.prototype.processChunk=function(p){if(p){var T=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=T+p.data.length}c.prototype.processChunk.call(this,p)},a.exports=f},{"../utils":32,"./GenericWorker":28}],27:[function(o,a,l){var u=o("../utils"),c=o("./GenericWorker");function f(p){c.call(this,"DataWorker");var T=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,p.then(function(E){T.dataIsReady=!0,T.data=E,T.max=E&&E.length||0,T.type=u.getTypeOf(E),T.isPaused||T._tickAndRepeat()},function(E){T.error(E)})}u.inherits(f,c),f.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this.data=null},f.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,u.delay(this._tickAndRepeat,[],this)),!0)},f.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(u.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},f.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var p=null,T=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":p=this.data.substring(this.index,T);break;case"uint8array":p=this.data.subarray(this.index,T);break;case"array":case"nodebuffer":p=this.data.slice(this.index,T)}return this.index=T,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})},a.exports=f},{"../utils":32,"./GenericWorker":28}],28:[function(o,a,l){function u(c){this.name=c||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}u.prototype={push:function(c){this.emit("data",c)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(c){this.emit("error",c)}return!0},error:function(c){return!this.isFinished&&(this.isPaused?this.generatedError=c:(this.isFinished=!0,this.emit("error",c),this.previous&&this.previous.error(c),this.cleanUp()),!0)},on:function(c,f){return this._listeners[c].push(f),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(c,f){if(this._listeners[c])for(var p=0;p<this._listeners[c].length;p++)this._listeners[c][p].call(this,f)},pipe:function(c){return c.registerPrevious(this)},registerPrevious:function(c){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=c.streamInfo,this.mergeStreamInfo(),this.previous=c;var f=this;return c.on("data",function(p){f.processChunk(p)}),c.on("end",function(){f.end()}),c.on("error",function(p){f.error(p)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var c=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),c=!0),this.previous&&this.previous.resume(),!c},flush:function(){},processChunk:function(c){this.push(c)},withStreamInfo:function(c,f){return this.extraStreamInfo[c]=f,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var c in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,c)&&(this.streamInfo[c]=this.extraStreamInfo[c])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var c="Worker "+this.name;return this.previous?this.previous+" -> "+c:c}},a.exports=u},{}],29:[function(o,a,l){var u=o("../utils"),c=o("./ConvertWorker"),f=o("./GenericWorker"),p=o("../base64"),T=o("../support"),E=o("../external"),b=null;if(T.nodestream)try{b=o("../nodejs/NodejsStreamOutputAdapter")}catch{}function m(S,v){return new E.Promise(function(A,w){var R=[],P=S._internalType,F=S._outputType,B=S._mimeType;S.on("data",function(G,K){R.push(G),v&&v(K)}).on("error",function(G){R=[],w(G)}).on("end",function(){try{var G=function(K,le,V){switch(K){case"blob":return u.newBlob(u.transformTo("arraybuffer",le),V);case"base64":return p.encode(le);default:return u.transformTo(K,le)}}(F,function(K,le){var V,X=0,W=null,H=0;for(V=0;V<le.length;V++)H+=le[V].length;switch(K){case"string":return le.join("");case"array":return Array.prototype.concat.apply([],le);case"uint8array":for(W=new Uint8Array(H),V=0;V<le.length;V++)W.set(le[V],X),X+=le[V].length;return W;case"nodebuffer":return Buffer.concat(le);default:throw new Error("concat : unsupported type '"+K+"'")}}(P,R),B);A(G)}catch(K){w(K)}R=[]}).resume()})}function y(S,v,A){var w=v;switch(v){case"blob":case"arraybuffer":w="uint8array";break;case"base64":w="string"}try{this._internalType=w,this._outputType=v,this._mimeType=A,u.checkSupport(w),this._worker=S.pipe(new c(w)),S.lock()}catch(R){this._worker=new f("error"),this._worker.error(R)}}y.prototype={accumulate:function(S){return m(this,S)},on:function(S,v){var A=this;return S==="data"?this._worker.on(S,function(w){v.call(A,w.data,w.meta)}):this._worker.on(S,function(){u.delay(v,arguments,A)}),this},resume:function(){return u.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(S){if(u.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new b(this,{objectMode:this._outputType!=="nodebuffer"},S)}},a.exports=y},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(o,a,l){if(l.base64=!0,l.array=!0,l.string=!0,l.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",l.nodebuffer=typeof Buffer<"u",l.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")l.blob=!1;else{var u=new ArrayBuffer(0);try{l.blob=new Blob([u],{type:"application/zip"}).size===0}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);c.append(u),l.blob=c.getBlob("application/zip").size===0}catch{l.blob=!1}}}try{l.nodestream=!!o("readable-stream").Readable}catch{l.nodestream=!1}},{"readable-stream":16}],31:[function(o,a,l){for(var u=o("./utils"),c=o("./support"),f=o("./nodejsUtils"),p=o("./stream/GenericWorker"),T=new Array(256),E=0;E<256;E++)T[E]=252<=E?6:248<=E?5:240<=E?4:224<=E?3:192<=E?2:1;T[254]=T[254]=1;function b(){p.call(this,"utf-8 decode"),this.leftOver=null}function m(){p.call(this,"utf-8 encode")}l.utf8encode=function(y){return c.nodebuffer?f.newBufferFrom(y,"utf-8"):function(S){var v,A,w,R,P,F=S.length,B=0;for(R=0;R<F;R++)(64512&(A=S.charCodeAt(R)))==55296&&R+1<F&&(64512&(w=S.charCodeAt(R+1)))==56320&&(A=65536+(A-55296<<10)+(w-56320),R++),B+=A<128?1:A<2048?2:A<65536?3:4;for(v=c.uint8array?new Uint8Array(B):new Array(B),R=P=0;P<B;R++)(64512&(A=S.charCodeAt(R)))==55296&&R+1<F&&(64512&(w=S.charCodeAt(R+1)))==56320&&(A=65536+(A-55296<<10)+(w-56320),R++),A<128?v[P++]=A:(A<2048?v[P++]=192|A>>>6:(A<65536?v[P++]=224|A>>>12:(v[P++]=240|A>>>18,v[P++]=128|A>>>12&63),v[P++]=128|A>>>6&63),v[P++]=128|63&A);return v}(y)},l.utf8decode=function(y){return c.nodebuffer?u.transformTo("nodebuffer",y).toString("utf-8"):function(S){var v,A,w,R,P=S.length,F=new Array(2*P);for(v=A=0;v<P;)if((w=S[v++])<128)F[A++]=w;else if(4<(R=T[w]))F[A++]=65533,v+=R-1;else{for(w&=R===2?31:R===3?15:7;1<R&&v<P;)w=w<<6|63&S[v++],R--;1<R?F[A++]=65533:w<65536?F[A++]=w:(w-=65536,F[A++]=55296|w>>10&1023,F[A++]=56320|1023&w)}return F.length!==A&&(F.subarray?F=F.subarray(0,A):F.length=A),u.applyFromCharCode(F)}(y=u.transformTo(c.uint8array?"uint8array":"array",y))},u.inherits(b,p),b.prototype.processChunk=function(y){var S=u.transformTo(c.uint8array?"uint8array":"array",y.data);if(this.leftOver&&this.leftOver.length){if(c.uint8array){var v=S;(S=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),S.set(v,this.leftOver.length)}else S=this.leftOver.concat(S);this.leftOver=null}var A=function(R,P){var F;for((P=P||R.length)>R.length&&(P=R.length),F=P-1;0<=F&&(192&R[F])==128;)F--;return F<0||F===0?P:F+T[R[F]]>P?F:P}(S),w=S;A!==S.length&&(c.uint8array?(w=S.subarray(0,A),this.leftOver=S.subarray(A,S.length)):(w=S.slice(0,A),this.leftOver=S.slice(A,S.length))),this.push({data:l.utf8decode(w),meta:y.meta})},b.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:l.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},l.Utf8DecodeWorker=b,u.inherits(m,p),m.prototype.processChunk=function(y){this.push({data:l.utf8encode(y.data),meta:y.meta})},l.Utf8EncodeWorker=m},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(o,a,l){var u=o("./support"),c=o("./base64"),f=o("./nodejsUtils"),p=o("./external");function T(v){return v}function E(v,A){for(var w=0;w<v.length;++w)A[w]=255&v.charCodeAt(w);return A}o("setimmediate"),l.newBlob=function(v,A){l.checkSupport("blob");try{return new Blob([v],{type:A})}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return w.append(v),w.getBlob(A)}catch{throw new Error("Bug : can't construct the Blob.")}}};var b={stringifyByChunk:function(v,A,w){var R=[],P=0,F=v.length;if(F<=w)return String.fromCharCode.apply(null,v);for(;P<F;)A==="array"||A==="nodebuffer"?R.push(String.fromCharCode.apply(null,v.slice(P,Math.min(P+w,F)))):R.push(String.fromCharCode.apply(null,v.subarray(P,Math.min(P+w,F)))),P+=w;return R.join("")},stringifyByChar:function(v){for(var A="",w=0;w<v.length;w++)A+=String.fromCharCode(v[w]);return A},applyCanBeUsed:{uint8array:function(){try{return u.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return u.nodebuffer&&String.fromCharCode.apply(null,f.allocBuffer(1)).length===1}catch{return!1}}()}};function m(v){var A=65536,w=l.getTypeOf(v),R=!0;if(w==="uint8array"?R=b.applyCanBeUsed.uint8array:w==="nodebuffer"&&(R=b.applyCanBeUsed.nodebuffer),R)for(;1<A;)try{return b.stringifyByChunk(v,w,A)}catch{A=Math.floor(A/2)}return b.stringifyByChar(v)}function y(v,A){for(var w=0;w<v.length;w++)A[w]=v[w];return A}l.applyFromCharCode=m;var S={};S.string={string:T,array:function(v){return E(v,new Array(v.length))},arraybuffer:function(v){return S.string.uint8array(v).buffer},uint8array:function(v){return E(v,new Uint8Array(v.length))},nodebuffer:function(v){return E(v,f.allocBuffer(v.length))}},S.array={string:m,array:T,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return f.newBufferFrom(v)}},S.arraybuffer={string:function(v){return m(new Uint8Array(v))},array:function(v){return y(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:T,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return f.newBufferFrom(new Uint8Array(v))}},S.uint8array={string:m,array:function(v){return y(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:T,nodebuffer:function(v){return f.newBufferFrom(v)}},S.nodebuffer={string:m,array:function(v){return y(v,new Array(v.length))},arraybuffer:function(v){return S.nodebuffer.uint8array(v).buffer},uint8array:function(v){return y(v,new Uint8Array(v.length))},nodebuffer:T},l.transformTo=function(v,A){if(A=A||"",!v)return A;l.checkSupport(v);var w=l.getTypeOf(A);return S[w][v](A)},l.resolve=function(v){for(var A=v.split("/"),w=[],R=0;R<A.length;R++){var P=A[R];P==="."||P===""&&R!==0&&R!==A.length-1||(P===".."?w.pop():w.push(P))}return w.join("/")},l.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":u.nodebuffer&&f.isBuffer(v)?"nodebuffer":u.uint8array&&v instanceof Uint8Array?"uint8array":u.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},l.checkSupport=function(v){if(!u[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},l.MAX_VALUE_16BITS=65535,l.MAX_VALUE_32BITS=-1,l.pretty=function(v){var A,w,R="";for(w=0;w<(v||"").length;w++)R+="\\x"+((A=v.charCodeAt(w))<16?"0":"")+A.toString(16).toUpperCase();return R},l.delay=function(v,A,w){setImmediate(function(){v.apply(w||null,A||[])})},l.inherits=function(v,A){function w(){}w.prototype=A.prototype,v.prototype=new w},l.extend=function(){var v,A,w={};for(v=0;v<arguments.length;v++)for(A in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],A)&&w[A]===void 0&&(w[A]=arguments[v][A]);return w},l.prepareContent=function(v,A,w,R,P){return p.Promise.resolve(A).then(function(F){return u.blob&&(F instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(F))!==-1)&&typeof FileReader<"u"?new p.Promise(function(B,G){var K=new FileReader;K.onload=function(le){B(le.target.result)},K.onerror=function(le){G(le.target.error)},K.readAsArrayBuffer(F)}):F}).then(function(F){var B=l.getTypeOf(F);return B?(B==="arraybuffer"?F=l.transformTo("uint8array",F):B==="string"&&(P?F=c.decode(F):w&&R!==!0&&(F=function(G){return E(G,u.uint8array?new Uint8Array(G.length):new Array(G.length))}(F))),F):p.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(o,a,l){var u=o("./reader/readerFor"),c=o("./utils"),f=o("./signature"),p=o("./zipEntry"),T=o("./support");function E(b){this.files=[],this.loadOptions=b}E.prototype={checkSignature:function(b){if(!this.reader.readAndCheckSignature(b)){this.reader.index-=4;var m=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+c.pretty(m)+", expected "+c.pretty(b)+")")}},isSignature:function(b,m){var y=this.reader.index;this.reader.setIndex(b);var S=this.reader.readString(4)===m;return this.reader.setIndex(y),S},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var b=this.reader.readData(this.zipCommentLength),m=T.uint8array?"uint8array":"array",y=c.transformTo(m,b);this.zipComment=this.loadOptions.decodeFileName(y)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var b,m,y,S=this.zip64EndOfCentralSize-44;0<S;)b=this.reader.readInt(2),m=this.reader.readInt(4),y=this.reader.readData(m),this.zip64ExtensibleData[b]={id:b,length:m,value:y}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var b,m;for(b=0;b<this.files.length;b++)m=this.files[b],this.reader.setIndex(m.localHeaderOffset),this.checkSignature(f.LOCAL_FILE_HEADER),m.readLocalPart(this.reader),m.handleUTF8(),m.processAttributes()},readCentralDir:function(){var b;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(f.CENTRAL_FILE_HEADER);)(b=new p({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(b);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var b=this.reader.lastIndexOfSignature(f.CENTRAL_DIRECTORY_END);if(b<0)throw this.isSignature(0,f.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(b);var m=b;if(this.checkSignature(f.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===c.MAX_VALUE_16BITS||this.diskWithCentralDirStart===c.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===c.MAX_VALUE_16BITS||this.centralDirRecords===c.MAX_VALUE_16BITS||this.centralDirSize===c.MAX_VALUE_32BITS||this.centralDirOffset===c.MAX_VALUE_32BITS){if(this.zip64=!0,(b=this.reader.lastIndexOfSignature(f.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(b),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,f.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var y=this.centralDirOffset+this.centralDirSize;this.zip64&&(y+=20,y+=12+this.zip64EndOfCentralSize);var S=m-y;if(0<S)this.isSignature(m,f.CENTRAL_FILE_HEADER)||(this.reader.zero=S);else if(S<0)throw new Error("Corrupted zip: missing "+Math.abs(S)+" bytes.")},prepareReader:function(b){this.reader=u(b)},load:function(b){this.prepareReader(b),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},a.exports=E},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(o,a,l){var u=o("./reader/readerFor"),c=o("./utils"),f=o("./compressedObject"),p=o("./crc32"),T=o("./utf8"),E=o("./compressions"),b=o("./support");function m(y,S){this.options=y,this.loadOptions=S}m.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(y){var S,v;if(y.skip(22),this.fileNameLength=y.readInt(2),v=y.readInt(2),this.fileName=y.readData(this.fileNameLength),y.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((S=function(A){for(var w in E)if(Object.prototype.hasOwnProperty.call(E,w)&&E[w].magic===A)return E[w];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+c.pretty(this.compressionMethod)+" unknown (inner file : "+c.transformTo("string",this.fileName)+")");this.decompressed=new f(this.compressedSize,this.uncompressedSize,this.crc32,S,y.readData(this.compressedSize))},readCentralPart:function(y){this.versionMadeBy=y.readInt(2),y.skip(2),this.bitFlag=y.readInt(2),this.compressionMethod=y.readString(2),this.date=y.readDate(),this.crc32=y.readInt(4),this.compressedSize=y.readInt(4),this.uncompressedSize=y.readInt(4);var S=y.readInt(2);if(this.extraFieldsLength=y.readInt(2),this.fileCommentLength=y.readInt(2),this.diskNumberStart=y.readInt(2),this.internalFileAttributes=y.readInt(2),this.externalFileAttributes=y.readInt(4),this.localHeaderOffset=y.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");y.skip(S),this.readExtraFields(y),this.parseZIP64ExtraField(y),this.fileComment=y.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var y=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),y==0&&(this.dosPermissions=63&this.externalFileAttributes),y==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var y=u(this.extraFields[1].value);this.uncompressedSize===c.MAX_VALUE_32BITS&&(this.uncompressedSize=y.readInt(8)),this.compressedSize===c.MAX_VALUE_32BITS&&(this.compressedSize=y.readInt(8)),this.localHeaderOffset===c.MAX_VALUE_32BITS&&(this.localHeaderOffset=y.readInt(8)),this.diskNumberStart===c.MAX_VALUE_32BITS&&(this.diskNumberStart=y.readInt(4))}},readExtraFields:function(y){var S,v,A,w=y.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});y.index+4<w;)S=y.readInt(2),v=y.readInt(2),A=y.readData(v),this.extraFields[S]={id:S,length:v,value:A};y.setIndex(w)},handleUTF8:function(){var y=b.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=T.utf8decode(this.fileName),this.fileCommentStr=T.utf8decode(this.fileComment);else{var S=this.findExtraFieldUnicodePath();if(S!==null)this.fileNameStr=S;else{var v=c.transformTo(y,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var A=this.findExtraFieldUnicodeComment();if(A!==null)this.fileCommentStr=A;else{var w=c.transformTo(y,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(w)}}},findExtraFieldUnicodePath:function(){var y=this.extraFields[28789];if(y){var S=u(y.value);return S.readInt(1)!==1||p(this.fileName)!==S.readInt(4)?null:T.utf8decode(S.readData(y.length-5))}return null},findExtraFieldUnicodeComment:function(){var y=this.extraFields[25461];if(y){var S=u(y.value);return S.readInt(1)!==1||p(this.fileComment)!==S.readInt(4)?null:T.utf8decode(S.readData(y.length-5))}return null}},a.exports=m},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(o,a,l){function u(S,v,A){this.name=S,this.dir=A.dir,this.date=A.date,this.comment=A.comment,this.unixPermissions=A.unixPermissions,this.dosPermissions=A.dosPermissions,this._data=v,this._dataBinary=A.binary,this.options={compression:A.compression,compressionOptions:A.compressionOptions}}var c=o("./stream/StreamHelper"),f=o("./stream/DataWorker"),p=o("./utf8"),T=o("./compressedObject"),E=o("./stream/GenericWorker");u.prototype={internalStream:function(S){var v=null,A="string";try{if(!S)throw new Error("No output type specified.");var w=(A=S.toLowerCase())==="string"||A==="text";A!=="binarystring"&&A!=="text"||(A="string"),v=this._decompressWorker();var R=!this._dataBinary;R&&!w&&(v=v.pipe(new p.Utf8EncodeWorker)),!R&&w&&(v=v.pipe(new p.Utf8DecodeWorker))}catch(P){(v=new E("error")).error(P)}return new c(v,A,"")},async:function(S,v){return this.internalStream(S).accumulate(v)},nodeStream:function(S,v){return this.internalStream(S||"nodebuffer").toNodejsStream(v)},_compressWorker:function(S,v){if(this._data instanceof T&&this._data.compression.magic===S.magic)return this._data.getCompressedWorker();var A=this._decompressWorker();return this._dataBinary||(A=A.pipe(new p.Utf8EncodeWorker)),T.createWorkerFrom(A,S,v)},_decompressWorker:function(){return this._data instanceof T?this._data.getContentWorker():this._data instanceof E?this._data:new f(this._data)}};for(var b=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],m=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},y=0;y<b.length;y++)u.prototype[b[y]]=m;a.exports=u},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(o,a,l){(function(u){var c,f,p=u.MutationObserver||u.WebKitMutationObserver;if(p){var T=0,E=new p(S),b=u.document.createTextNode("");E.observe(b,{characterData:!0}),c=function(){b.data=T=++T%2}}else if(u.setImmediate||u.MessageChannel===void 0)c="document"in u&&"onreadystatechange"in u.document.createElement("script")?function(){var v=u.document.createElement("script");v.onreadystatechange=function(){S(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},u.document.documentElement.appendChild(v)}:function(){setTimeout(S,0)};else{var m=new u.MessageChannel;m.port1.onmessage=S,c=function(){m.port2.postMessage(0)}}var y=[];function S(){var v,A;f=!0;for(var w=y.length;w;){for(A=y,y=[],v=-1;++v<w;)A[v]();w=y.length}f=!1}a.exports=function(v){y.push(v)!==1||f||c()}}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(o,a,l){var u=o("immediate");function c(){}var f={},p=["REJECTED"],T=["FULFILLED"],E=["PENDING"];function b(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=E,this.queue=[],this.outcome=void 0,w!==c&&v(this,w)}function m(w,R,P){this.promise=w,typeof R=="function"&&(this.onFulfilled=R,this.callFulfilled=this.otherCallFulfilled),typeof P=="function"&&(this.onRejected=P,this.callRejected=this.otherCallRejected)}function y(w,R,P){u(function(){var F;try{F=R(P)}catch(B){return f.reject(w,B)}F===w?f.reject(w,new TypeError("Cannot resolve promise with itself")):f.resolve(w,F)})}function S(w){var R=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof R=="function")return function(){R.apply(w,arguments)}}function v(w,R){var P=!1;function F(K){P||(P=!0,f.reject(w,K))}function B(K){P||(P=!0,f.resolve(w,K))}var G=A(function(){R(B,F)});G.status==="error"&&F(G.value)}function A(w,R){var P={};try{P.value=w(R),P.status="success"}catch(F){P.status="error",P.value=F}return P}(a.exports=b).prototype.finally=function(w){if(typeof w!="function")return this;var R=this.constructor;return this.then(function(P){return R.resolve(w()).then(function(){return P})},function(P){return R.resolve(w()).then(function(){throw P})})},b.prototype.catch=function(w){return this.then(null,w)},b.prototype.then=function(w,R){if(typeof w!="function"&&this.state===T||typeof R!="function"&&this.state===p)return this;var P=new this.constructor(c);return this.state!==E?y(P,this.state===T?w:R,this.outcome):this.queue.push(new m(P,w,R)),P},m.prototype.callFulfilled=function(w){f.resolve(this.promise,w)},m.prototype.otherCallFulfilled=function(w){y(this.promise,this.onFulfilled,w)},m.prototype.callRejected=function(w){f.reject(this.promise,w)},m.prototype.otherCallRejected=function(w){y(this.promise,this.onRejected,w)},f.resolve=function(w,R){var P=A(S,R);if(P.status==="error")return f.reject(w,P.value);var F=P.value;if(F)v(w,F);else{w.state=T,w.outcome=R;for(var B=-1,G=w.queue.length;++B<G;)w.queue[B].callFulfilled(R)}return w},f.reject=function(w,R){w.state=p,w.outcome=R;for(var P=-1,F=w.queue.length;++P<F;)w.queue[P].callRejected(R);return w},b.resolve=function(w){return w instanceof this?w:f.resolve(new this(c),w)},b.reject=function(w){var R=new this(c);return f.reject(R,w)},b.all=function(w){var R=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=w.length,F=!1;if(!P)return this.resolve([]);for(var B=new Array(P),G=0,K=-1,le=new this(c);++K<P;)V(w[K],K);return le;function V(X,W){R.resolve(X).then(function(H){B[W]=H,++G!==P||F||(F=!0,f.resolve(le,B))},function(H){F||(F=!0,f.reject(le,H))})}},b.race=function(w){var R=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=w.length,F=!1;if(!P)return this.resolve([]);for(var B=-1,G=new this(c);++B<P;)K=w[B],R.resolve(K).then(function(le){F||(F=!0,f.resolve(G,le))},function(le){F||(F=!0,f.reject(G,le))});var K;return G}},{immediate:36}],38:[function(o,a,l){var u={};(0,o("./lib/utils/common").assign)(u,o("./lib/deflate"),o("./lib/inflate"),o("./lib/zlib/constants")),a.exports=u},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(o,a,l){var u=o("./zlib/deflate"),c=o("./utils/common"),f=o("./utils/strings"),p=o("./zlib/messages"),T=o("./zlib/zstream"),E=Object.prototype.toString,b=0,m=-1,y=0,S=8;function v(w){if(!(this instanceof v))return new v(w);this.options=c.assign({level:m,method:S,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},w||{});var R=this.options;R.raw&&0<R.windowBits?R.windowBits=-R.windowBits:R.gzip&&0<R.windowBits&&R.windowBits<16&&(R.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new T,this.strm.avail_out=0;var P=u.deflateInit2(this.strm,R.level,R.method,R.windowBits,R.memLevel,R.strategy);if(P!==b)throw new Error(p[P]);if(R.header&&u.deflateSetHeader(this.strm,R.header),R.dictionary){var F;if(F=typeof R.dictionary=="string"?f.string2buf(R.dictionary):E.call(R.dictionary)==="[object ArrayBuffer]"?new Uint8Array(R.dictionary):R.dictionary,(P=u.deflateSetDictionary(this.strm,F))!==b)throw new Error(p[P]);this._dict_set=!0}}function A(w,R){var P=new v(R);if(P.push(w,!0),P.err)throw P.msg||p[P.err];return P.result}v.prototype.push=function(w,R){var P,F,B=this.strm,G=this.options.chunkSize;if(this.ended)return!1;F=R===~~R?R:R===!0?4:0,typeof w=="string"?B.input=f.string2buf(w):E.call(w)==="[object ArrayBuffer]"?B.input=new Uint8Array(w):B.input=w,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new c.Buf8(G),B.next_out=0,B.avail_out=G),(P=u.deflate(B,F))!==1&&P!==b)return this.onEnd(P),!(this.ended=!0);B.avail_out!==0&&(B.avail_in!==0||F!==4&&F!==2)||(this.options.to==="string"?this.onData(f.buf2binstring(c.shrinkBuf(B.output,B.next_out))):this.onData(c.shrinkBuf(B.output,B.next_out)))}while((0<B.avail_in||B.avail_out===0)&&P!==1);return F===4?(P=u.deflateEnd(this.strm),this.onEnd(P),this.ended=!0,P===b):F!==2||(this.onEnd(b),!(B.avail_out=0))},v.prototype.onData=function(w){this.chunks.push(w)},v.prototype.onEnd=function(w){w===b&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},l.Deflate=v,l.deflate=A,l.deflateRaw=function(w,R){return(R=R||{}).raw=!0,A(w,R)},l.gzip=function(w,R){return(R=R||{}).gzip=!0,A(w,R)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(o,a,l){var u=o("./zlib/inflate"),c=o("./utils/common"),f=o("./utils/strings"),p=o("./zlib/constants"),T=o("./zlib/messages"),E=o("./zlib/zstream"),b=o("./zlib/gzheader"),m=Object.prototype.toString;function y(v){if(!(this instanceof y))return new y(v);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},v||{});var A=this.options;A.raw&&0<=A.windowBits&&A.windowBits<16&&(A.windowBits=-A.windowBits,A.windowBits===0&&(A.windowBits=-15)),!(0<=A.windowBits&&A.windowBits<16)||v&&v.windowBits||(A.windowBits+=32),15<A.windowBits&&A.windowBits<48&&(15&A.windowBits)==0&&(A.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new E,this.strm.avail_out=0;var w=u.inflateInit2(this.strm,A.windowBits);if(w!==p.Z_OK)throw new Error(T[w]);this.header=new b,u.inflateGetHeader(this.strm,this.header)}function S(v,A){var w=new y(A);if(w.push(v,!0),w.err)throw w.msg||T[w.err];return w.result}y.prototype.push=function(v,A){var w,R,P,F,B,G,K=this.strm,le=this.options.chunkSize,V=this.options.dictionary,X=!1;if(this.ended)return!1;R=A===~~A?A:A===!0?p.Z_FINISH:p.Z_NO_FLUSH,typeof v=="string"?K.input=f.binstring2buf(v):m.call(v)==="[object ArrayBuffer]"?K.input=new Uint8Array(v):K.input=v,K.next_in=0,K.avail_in=K.input.length;do{if(K.avail_out===0&&(K.output=new c.Buf8(le),K.next_out=0,K.avail_out=le),(w=u.inflate(K,p.Z_NO_FLUSH))===p.Z_NEED_DICT&&V&&(G=typeof V=="string"?f.string2buf(V):m.call(V)==="[object ArrayBuffer]"?new Uint8Array(V):V,w=u.inflateSetDictionary(this.strm,G)),w===p.Z_BUF_ERROR&&X===!0&&(w=p.Z_OK,X=!1),w!==p.Z_STREAM_END&&w!==p.Z_OK)return this.onEnd(w),!(this.ended=!0);K.next_out&&(K.avail_out!==0&&w!==p.Z_STREAM_END&&(K.avail_in!==0||R!==p.Z_FINISH&&R!==p.Z_SYNC_FLUSH)||(this.options.to==="string"?(P=f.utf8border(K.output,K.next_out),F=K.next_out-P,B=f.buf2string(K.output,P),K.next_out=F,K.avail_out=le-F,F&&c.arraySet(K.output,K.output,P,F,0),this.onData(B)):this.onData(c.shrinkBuf(K.output,K.next_out)))),K.avail_in===0&&K.avail_out===0&&(X=!0)}while((0<K.avail_in||K.avail_out===0)&&w!==p.Z_STREAM_END);return w===p.Z_STREAM_END&&(R=p.Z_FINISH),R===p.Z_FINISH?(w=u.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===p.Z_OK):R!==p.Z_SYNC_FLUSH||(this.onEnd(p.Z_OK),!(K.avail_out=0))},y.prototype.onData=function(v){this.chunks.push(v)},y.prototype.onEnd=function(v){v===p.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},l.Inflate=y,l.inflate=S,l.inflateRaw=function(v,A){return(A=A||{}).raw=!0,S(v,A)},l.ungzip=S},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(o,a,l){var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";l.assign=function(p){for(var T=Array.prototype.slice.call(arguments,1);T.length;){var E=T.shift();if(E){if(typeof E!="object")throw new TypeError(E+"must be non-object");for(var b in E)E.hasOwnProperty(b)&&(p[b]=E[b])}}return p},l.shrinkBuf=function(p,T){return p.length===T?p:p.subarray?p.subarray(0,T):(p.length=T,p)};var c={arraySet:function(p,T,E,b,m){if(T.subarray&&p.subarray)p.set(T.subarray(E,E+b),m);else for(var y=0;y<b;y++)p[m+y]=T[E+y]},flattenChunks:function(p){var T,E,b,m,y,S;for(T=b=0,E=p.length;T<E;T++)b+=p[T].length;for(S=new Uint8Array(b),T=m=0,E=p.length;T<E;T++)y=p[T],S.set(y,m),m+=y.length;return S}},f={arraySet:function(p,T,E,b,m){for(var y=0;y<b;y++)p[m+y]=T[E+y]},flattenChunks:function(p){return[].concat.apply([],p)}};l.setTyped=function(p){p?(l.Buf8=Uint8Array,l.Buf16=Uint16Array,l.Buf32=Int32Array,l.assign(l,c)):(l.Buf8=Array,l.Buf16=Array,l.Buf32=Array,l.assign(l,f))},l.setTyped(u)},{}],42:[function(o,a,l){var u=o("./common"),c=!0,f=!0;try{String.fromCharCode.apply(null,[0])}catch{c=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{f=!1}for(var p=new u.Buf8(256),T=0;T<256;T++)p[T]=252<=T?6:248<=T?5:240<=T?4:224<=T?3:192<=T?2:1;function E(b,m){if(m<65537&&(b.subarray&&f||!b.subarray&&c))return String.fromCharCode.apply(null,u.shrinkBuf(b,m));for(var y="",S=0;S<m;S++)y+=String.fromCharCode(b[S]);return y}p[254]=p[254]=1,l.string2buf=function(b){var m,y,S,v,A,w=b.length,R=0;for(v=0;v<w;v++)(64512&(y=b.charCodeAt(v)))==55296&&v+1<w&&(64512&(S=b.charCodeAt(v+1)))==56320&&(y=65536+(y-55296<<10)+(S-56320),v++),R+=y<128?1:y<2048?2:y<65536?3:4;for(m=new u.Buf8(R),v=A=0;A<R;v++)(64512&(y=b.charCodeAt(v)))==55296&&v+1<w&&(64512&(S=b.charCodeAt(v+1)))==56320&&(y=65536+(y-55296<<10)+(S-56320),v++),y<128?m[A++]=y:(y<2048?m[A++]=192|y>>>6:(y<65536?m[A++]=224|y>>>12:(m[A++]=240|y>>>18,m[A++]=128|y>>>12&63),m[A++]=128|y>>>6&63),m[A++]=128|63&y);return m},l.buf2binstring=function(b){return E(b,b.length)},l.binstring2buf=function(b){for(var m=new u.Buf8(b.length),y=0,S=m.length;y<S;y++)m[y]=b.charCodeAt(y);return m},l.buf2string=function(b,m){var y,S,v,A,w=m||b.length,R=new Array(2*w);for(y=S=0;y<w;)if((v=b[y++])<128)R[S++]=v;else if(4<(A=p[v]))R[S++]=65533,y+=A-1;else{for(v&=A===2?31:A===3?15:7;1<A&&y<w;)v=v<<6|63&b[y++],A--;1<A?R[S++]=65533:v<65536?R[S++]=v:(v-=65536,R[S++]=55296|v>>10&1023,R[S++]=56320|1023&v)}return E(R,S)},l.utf8border=function(b,m){var y;for((m=m||b.length)>b.length&&(m=b.length),y=m-1;0<=y&&(192&b[y])==128;)y--;return y<0||y===0?m:y+p[b[y]]>m?y:m}},{"./common":41}],43:[function(o,a,l){a.exports=function(u,c,f,p){for(var T=65535&u|0,E=u>>>16&65535|0,b=0;f!==0;){for(f-=b=2e3<f?2e3:f;E=E+(T=T+c[p++]|0)|0,--b;);T%=65521,E%=65521}return T|E<<16|0}},{}],44:[function(o,a,l){a.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(o,a,l){var u=function(){for(var c,f=[],p=0;p<256;p++){c=p;for(var T=0;T<8;T++)c=1&c?3988292384^c>>>1:c>>>1;f[p]=c}return f}();a.exports=function(c,f,p,T){var E=u,b=T+p;c^=-1;for(var m=T;m<b;m++)c=c>>>8^E[255&(c^f[m])];return-1^c}},{}],46:[function(o,a,l){var u,c=o("../utils/common"),f=o("./trees"),p=o("./adler32"),T=o("./crc32"),E=o("./messages"),b=0,m=4,y=0,S=-2,v=-1,A=4,w=2,R=8,P=9,F=286,B=30,G=19,K=2*F+1,le=15,V=3,X=258,W=X+V+1,H=42,te=113,L=1,ue=2,Ce=3,fe=4;function ye(U,De){return U.msg=E[De],De}function he(U){return(U<<1)-(4<U?9:0)}function j(U){for(var De=U.length;0<=--De;)U[De]=0}function Y(U){var De=U.state,Ae=De.pending;Ae>U.avail_out&&(Ae=U.avail_out),Ae!==0&&(c.arraySet(U.output,De.pending_buf,De.pending_out,Ae,U.next_out),U.next_out+=Ae,De.pending_out+=Ae,U.total_out+=Ae,U.avail_out-=Ae,De.pending-=Ae,De.pending===0&&(De.pending_out=0))}function Z(U,De){f._tr_flush_block(U,0<=U.block_start?U.block_start:-1,U.strstart-U.block_start,De),U.block_start=U.strstart,Y(U.strm)}function Q(U,De){U.pending_buf[U.pending++]=De}function be(U,De){U.pending_buf[U.pending++]=De>>>8&255,U.pending_buf[U.pending++]=255&De}function we(U,De){var Ae,se,oe=U.max_chain_length,Ee=U.strstart,Oe=U.prev_length,Re=U.nice_match,xe=U.strstart>U.w_size-W?U.strstart-(U.w_size-W):0,Fe=U.window,I=U.w_mask,ne=U.prev,J=U.strstart+X,me=Fe[Ee+Oe-1],pe=Fe[Ee+Oe];U.prev_length>=U.good_match&&(oe>>=2),Re>U.lookahead&&(Re=U.lookahead);do if(Fe[(Ae=De)+Oe]===pe&&Fe[Ae+Oe-1]===me&&Fe[Ae]===Fe[Ee]&&Fe[++Ae]===Fe[Ee+1]){Ee+=2,Ae++;do;while(Fe[++Ee]===Fe[++Ae]&&Fe[++Ee]===Fe[++Ae]&&Fe[++Ee]===Fe[++Ae]&&Fe[++Ee]===Fe[++Ae]&&Fe[++Ee]===Fe[++Ae]&&Fe[++Ee]===Fe[++Ae]&&Fe[++Ee]===Fe[++Ae]&&Fe[++Ee]===Fe[++Ae]&&Ee<J);if(se=X-(J-Ee),Ee=J-X,Oe<se){if(U.match_start=De,Re<=(Oe=se))break;me=Fe[Ee+Oe-1],pe=Fe[Ee+Oe]}}while((De=ne[De&I])>xe&&--oe!=0);return Oe<=U.lookahead?Oe:U.lookahead}function Ue(U){var De,Ae,se,oe,Ee,Oe,Re,xe,Fe,I,ne=U.w_size;do{if(oe=U.window_size-U.lookahead-U.strstart,U.strstart>=ne+(ne-W)){for(c.arraySet(U.window,U.window,ne,ne,0),U.match_start-=ne,U.strstart-=ne,U.block_start-=ne,De=Ae=U.hash_size;se=U.head[--De],U.head[De]=ne<=se?se-ne:0,--Ae;);for(De=Ae=ne;se=U.prev[--De],U.prev[De]=ne<=se?se-ne:0,--Ae;);oe+=ne}if(U.strm.avail_in===0)break;if(Oe=U.strm,Re=U.window,xe=U.strstart+U.lookahead,Fe=oe,I=void 0,I=Oe.avail_in,Fe<I&&(I=Fe),Ae=I===0?0:(Oe.avail_in-=I,c.arraySet(Re,Oe.input,Oe.next_in,I,xe),Oe.state.wrap===1?Oe.adler=p(Oe.adler,Re,I,xe):Oe.state.wrap===2&&(Oe.adler=T(Oe.adler,Re,I,xe)),Oe.next_in+=I,Oe.total_in+=I,I),U.lookahead+=Ae,U.lookahead+U.insert>=V)for(Ee=U.strstart-U.insert,U.ins_h=U.window[Ee],U.ins_h=(U.ins_h<<U.hash_shift^U.window[Ee+1])&U.hash_mask;U.insert&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[Ee+V-1])&U.hash_mask,U.prev[Ee&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=Ee,Ee++,U.insert--,!(U.lookahead+U.insert<V)););}while(U.lookahead<W&&U.strm.avail_in!==0)}function Ye(U,De){for(var Ae,se;;){if(U.lookahead<W){if(Ue(U),U.lookahead<W&&De===b)return L;if(U.lookahead===0)break}if(Ae=0,U.lookahead>=V&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+V-1])&U.hash_mask,Ae=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),Ae!==0&&U.strstart-Ae<=U.w_size-W&&(U.match_length=we(U,Ae)),U.match_length>=V)if(se=f._tr_tally(U,U.strstart-U.match_start,U.match_length-V),U.lookahead-=U.match_length,U.match_length<=U.max_lazy_match&&U.lookahead>=V){for(U.match_length--;U.strstart++,U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+V-1])&U.hash_mask,Ae=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart,--U.match_length!=0;);U.strstart++}else U.strstart+=U.match_length,U.match_length=0,U.ins_h=U.window[U.strstart],U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+1])&U.hash_mask;else se=f._tr_tally(U,0,U.window[U.strstart]),U.lookahead--,U.strstart++;if(se&&(Z(U,!1),U.strm.avail_out===0))return L}return U.insert=U.strstart<V-1?U.strstart:V-1,De===m?(Z(U,!0),U.strm.avail_out===0?Ce:fe):U.last_lit&&(Z(U,!1),U.strm.avail_out===0)?L:ue}function He(U,De){for(var Ae,se,oe;;){if(U.lookahead<W){if(Ue(U),U.lookahead<W&&De===b)return L;if(U.lookahead===0)break}if(Ae=0,U.lookahead>=V&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+V-1])&U.hash_mask,Ae=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),U.prev_length=U.match_length,U.prev_match=U.match_start,U.match_length=V-1,Ae!==0&&U.prev_length<U.max_lazy_match&&U.strstart-Ae<=U.w_size-W&&(U.match_length=we(U,Ae),U.match_length<=5&&(U.strategy===1||U.match_length===V&&4096<U.strstart-U.match_start)&&(U.match_length=V-1)),U.prev_length>=V&&U.match_length<=U.prev_length){for(oe=U.strstart+U.lookahead-V,se=f._tr_tally(U,U.strstart-1-U.prev_match,U.prev_length-V),U.lookahead-=U.prev_length-1,U.prev_length-=2;++U.strstart<=oe&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+V-1])&U.hash_mask,Ae=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),--U.prev_length!=0;);if(U.match_available=0,U.match_length=V-1,U.strstart++,se&&(Z(U,!1),U.strm.avail_out===0))return L}else if(U.match_available){if((se=f._tr_tally(U,0,U.window[U.strstart-1]))&&Z(U,!1),U.strstart++,U.lookahead--,U.strm.avail_out===0)return L}else U.match_available=1,U.strstart++,U.lookahead--}return U.match_available&&(se=f._tr_tally(U,0,U.window[U.strstart-1]),U.match_available=0),U.insert=U.strstart<V-1?U.strstart:V-1,De===m?(Z(U,!0),U.strm.avail_out===0?Ce:fe):U.last_lit&&(Z(U,!1),U.strm.avail_out===0)?L:ue}function je(U,De,Ae,se,oe){this.good_length=U,this.max_lazy=De,this.nice_length=Ae,this.max_chain=se,this.func=oe}function Xe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=R,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*K),this.dyn_dtree=new c.Buf16(2*(2*B+1)),this.bl_tree=new c.Buf16(2*(2*G+1)),j(this.dyn_ltree),j(this.dyn_dtree),j(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(le+1),this.heap=new c.Buf16(2*F+1),j(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*F+1),j(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function et(U){var De;return U&&U.state?(U.total_in=U.total_out=0,U.data_type=w,(De=U.state).pending=0,De.pending_out=0,De.wrap<0&&(De.wrap=-De.wrap),De.status=De.wrap?H:te,U.adler=De.wrap===2?0:1,De.last_flush=b,f._tr_init(De),y):ye(U,S)}function it(U){var De=et(U);return De===y&&function(Ae){Ae.window_size=2*Ae.w_size,j(Ae.head),Ae.max_lazy_match=u[Ae.level].max_lazy,Ae.good_match=u[Ae.level].good_length,Ae.nice_match=u[Ae.level].nice_length,Ae.max_chain_length=u[Ae.level].max_chain,Ae.strstart=0,Ae.block_start=0,Ae.lookahead=0,Ae.insert=0,Ae.match_length=Ae.prev_length=V-1,Ae.match_available=0,Ae.ins_h=0}(U.state),De}function ct(U,De,Ae,se,oe,Ee){if(!U)return S;var Oe=1;if(De===v&&(De=6),se<0?(Oe=0,se=-se):15<se&&(Oe=2,se-=16),oe<1||P<oe||Ae!==R||se<8||15<se||De<0||9<De||Ee<0||A<Ee)return ye(U,S);se===8&&(se=9);var Re=new Xe;return(U.state=Re).strm=U,Re.wrap=Oe,Re.gzhead=null,Re.w_bits=se,Re.w_size=1<<Re.w_bits,Re.w_mask=Re.w_size-1,Re.hash_bits=oe+7,Re.hash_size=1<<Re.hash_bits,Re.hash_mask=Re.hash_size-1,Re.hash_shift=~~((Re.hash_bits+V-1)/V),Re.window=new c.Buf8(2*Re.w_size),Re.head=new c.Buf16(Re.hash_size),Re.prev=new c.Buf16(Re.w_size),Re.lit_bufsize=1<<oe+6,Re.pending_buf_size=4*Re.lit_bufsize,Re.pending_buf=new c.Buf8(Re.pending_buf_size),Re.d_buf=1*Re.lit_bufsize,Re.l_buf=3*Re.lit_bufsize,Re.level=De,Re.strategy=Ee,Re.method=Ae,it(U)}u=[new je(0,0,0,0,function(U,De){var Ae=65535;for(Ae>U.pending_buf_size-5&&(Ae=U.pending_buf_size-5);;){if(U.lookahead<=1){if(Ue(U),U.lookahead===0&&De===b)return L;if(U.lookahead===0)break}U.strstart+=U.lookahead,U.lookahead=0;var se=U.block_start+Ae;if((U.strstart===0||U.strstart>=se)&&(U.lookahead=U.strstart-se,U.strstart=se,Z(U,!1),U.strm.avail_out===0)||U.strstart-U.block_start>=U.w_size-W&&(Z(U,!1),U.strm.avail_out===0))return L}return U.insert=0,De===m?(Z(U,!0),U.strm.avail_out===0?Ce:fe):(U.strstart>U.block_start&&(Z(U,!1),U.strm.avail_out),L)}),new je(4,4,8,4,Ye),new je(4,5,16,8,Ye),new je(4,6,32,32,Ye),new je(4,4,16,16,He),new je(8,16,32,32,He),new je(8,16,128,128,He),new je(8,32,128,256,He),new je(32,128,258,1024,He),new je(32,258,258,4096,He)],l.deflateInit=function(U,De){return ct(U,De,R,15,8,0)},l.deflateInit2=ct,l.deflateReset=it,l.deflateResetKeep=et,l.deflateSetHeader=function(U,De){return U&&U.state?U.state.wrap!==2?S:(U.state.gzhead=De,y):S},l.deflate=function(U,De){var Ae,se,oe,Ee;if(!U||!U.state||5<De||De<0)return U?ye(U,S):S;if(se=U.state,!U.output||!U.input&&U.avail_in!==0||se.status===666&&De!==m)return ye(U,U.avail_out===0?-5:S);if(se.strm=U,Ae=se.last_flush,se.last_flush=De,se.status===H)if(se.wrap===2)U.adler=0,Q(se,31),Q(se,139),Q(se,8),se.gzhead?(Q(se,(se.gzhead.text?1:0)+(se.gzhead.hcrc?2:0)+(se.gzhead.extra?4:0)+(se.gzhead.name?8:0)+(se.gzhead.comment?16:0)),Q(se,255&se.gzhead.time),Q(se,se.gzhead.time>>8&255),Q(se,se.gzhead.time>>16&255),Q(se,se.gzhead.time>>24&255),Q(se,se.level===9?2:2<=se.strategy||se.level<2?4:0),Q(se,255&se.gzhead.os),se.gzhead.extra&&se.gzhead.extra.length&&(Q(se,255&se.gzhead.extra.length),Q(se,se.gzhead.extra.length>>8&255)),se.gzhead.hcrc&&(U.adler=T(U.adler,se.pending_buf,se.pending,0)),se.gzindex=0,se.status=69):(Q(se,0),Q(se,0),Q(se,0),Q(se,0),Q(se,0),Q(se,se.level===9?2:2<=se.strategy||se.level<2?4:0),Q(se,3),se.status=te);else{var Oe=R+(se.w_bits-8<<4)<<8;Oe|=(2<=se.strategy||se.level<2?0:se.level<6?1:se.level===6?2:3)<<6,se.strstart!==0&&(Oe|=32),Oe+=31-Oe%31,se.status=te,be(se,Oe),se.strstart!==0&&(be(se,U.adler>>>16),be(se,65535&U.adler)),U.adler=1}if(se.status===69)if(se.gzhead.extra){for(oe=se.pending;se.gzindex<(65535&se.gzhead.extra.length)&&(se.pending!==se.pending_buf_size||(se.gzhead.hcrc&&se.pending>oe&&(U.adler=T(U.adler,se.pending_buf,se.pending-oe,oe)),Y(U),oe=se.pending,se.pending!==se.pending_buf_size));)Q(se,255&se.gzhead.extra[se.gzindex]),se.gzindex++;se.gzhead.hcrc&&se.pending>oe&&(U.adler=T(U.adler,se.pending_buf,se.pending-oe,oe)),se.gzindex===se.gzhead.extra.length&&(se.gzindex=0,se.status=73)}else se.status=73;if(se.status===73)if(se.gzhead.name){oe=se.pending;do{if(se.pending===se.pending_buf_size&&(se.gzhead.hcrc&&se.pending>oe&&(U.adler=T(U.adler,se.pending_buf,se.pending-oe,oe)),Y(U),oe=se.pending,se.pending===se.pending_buf_size)){Ee=1;break}Ee=se.gzindex<se.gzhead.name.length?255&se.gzhead.name.charCodeAt(se.gzindex++):0,Q(se,Ee)}while(Ee!==0);se.gzhead.hcrc&&se.pending>oe&&(U.adler=T(U.adler,se.pending_buf,se.pending-oe,oe)),Ee===0&&(se.gzindex=0,se.status=91)}else se.status=91;if(se.status===91)if(se.gzhead.comment){oe=se.pending;do{if(se.pending===se.pending_buf_size&&(se.gzhead.hcrc&&se.pending>oe&&(U.adler=T(U.adler,se.pending_buf,se.pending-oe,oe)),Y(U),oe=se.pending,se.pending===se.pending_buf_size)){Ee=1;break}Ee=se.gzindex<se.gzhead.comment.length?255&se.gzhead.comment.charCodeAt(se.gzindex++):0,Q(se,Ee)}while(Ee!==0);se.gzhead.hcrc&&se.pending>oe&&(U.adler=T(U.adler,se.pending_buf,se.pending-oe,oe)),Ee===0&&(se.status=103)}else se.status=103;if(se.status===103&&(se.gzhead.hcrc?(se.pending+2>se.pending_buf_size&&Y(U),se.pending+2<=se.pending_buf_size&&(Q(se,255&U.adler),Q(se,U.adler>>8&255),U.adler=0,se.status=te)):se.status=te),se.pending!==0){if(Y(U),U.avail_out===0)return se.last_flush=-1,y}else if(U.avail_in===0&&he(De)<=he(Ae)&&De!==m)return ye(U,-5);if(se.status===666&&U.avail_in!==0)return ye(U,-5);if(U.avail_in!==0||se.lookahead!==0||De!==b&&se.status!==666){var Re=se.strategy===2?function(xe,Fe){for(var I;;){if(xe.lookahead===0&&(Ue(xe),xe.lookahead===0)){if(Fe===b)return L;break}if(xe.match_length=0,I=f._tr_tally(xe,0,xe.window[xe.strstart]),xe.lookahead--,xe.strstart++,I&&(Z(xe,!1),xe.strm.avail_out===0))return L}return xe.insert=0,Fe===m?(Z(xe,!0),xe.strm.avail_out===0?Ce:fe):xe.last_lit&&(Z(xe,!1),xe.strm.avail_out===0)?L:ue}(se,De):se.strategy===3?function(xe,Fe){for(var I,ne,J,me,pe=xe.window;;){if(xe.lookahead<=X){if(Ue(xe),xe.lookahead<=X&&Fe===b)return L;if(xe.lookahead===0)break}if(xe.match_length=0,xe.lookahead>=V&&0<xe.strstart&&(ne=pe[J=xe.strstart-1])===pe[++J]&&ne===pe[++J]&&ne===pe[++J]){me=xe.strstart+X;do;while(ne===pe[++J]&&ne===pe[++J]&&ne===pe[++J]&&ne===pe[++J]&&ne===pe[++J]&&ne===pe[++J]&&ne===pe[++J]&&ne===pe[++J]&&J<me);xe.match_length=X-(me-J),xe.match_length>xe.lookahead&&(xe.match_length=xe.lookahead)}if(xe.match_length>=V?(I=f._tr_tally(xe,1,xe.match_length-V),xe.lookahead-=xe.match_length,xe.strstart+=xe.match_length,xe.match_length=0):(I=f._tr_tally(xe,0,xe.window[xe.strstart]),xe.lookahead--,xe.strstart++),I&&(Z(xe,!1),xe.strm.avail_out===0))return L}return xe.insert=0,Fe===m?(Z(xe,!0),xe.strm.avail_out===0?Ce:fe):xe.last_lit&&(Z(xe,!1),xe.strm.avail_out===0)?L:ue}(se,De):u[se.level].func(se,De);if(Re!==Ce&&Re!==fe||(se.status=666),Re===L||Re===Ce)return U.avail_out===0&&(se.last_flush=-1),y;if(Re===ue&&(De===1?f._tr_align(se):De!==5&&(f._tr_stored_block(se,0,0,!1),De===3&&(j(se.head),se.lookahead===0&&(se.strstart=0,se.block_start=0,se.insert=0))),Y(U),U.avail_out===0))return se.last_flush=-1,y}return De!==m?y:se.wrap<=0?1:(se.wrap===2?(Q(se,255&U.adler),Q(se,U.adler>>8&255),Q(se,U.adler>>16&255),Q(se,U.adler>>24&255),Q(se,255&U.total_in),Q(se,U.total_in>>8&255),Q(se,U.total_in>>16&255),Q(se,U.total_in>>24&255)):(be(se,U.adler>>>16),be(se,65535&U.adler)),Y(U),0<se.wrap&&(se.wrap=-se.wrap),se.pending!==0?y:1)},l.deflateEnd=function(U){var De;return U&&U.state?(De=U.state.status)!==H&&De!==69&&De!==73&&De!==91&&De!==103&&De!==te&&De!==666?ye(U,S):(U.state=null,De===te?ye(U,-3):y):S},l.deflateSetDictionary=function(U,De){var Ae,se,oe,Ee,Oe,Re,xe,Fe,I=De.length;if(!U||!U.state||(Ee=(Ae=U.state).wrap)===2||Ee===1&&Ae.status!==H||Ae.lookahead)return S;for(Ee===1&&(U.adler=p(U.adler,De,I,0)),Ae.wrap=0,I>=Ae.w_size&&(Ee===0&&(j(Ae.head),Ae.strstart=0,Ae.block_start=0,Ae.insert=0),Fe=new c.Buf8(Ae.w_size),c.arraySet(Fe,De,I-Ae.w_size,Ae.w_size,0),De=Fe,I=Ae.w_size),Oe=U.avail_in,Re=U.next_in,xe=U.input,U.avail_in=I,U.next_in=0,U.input=De,Ue(Ae);Ae.lookahead>=V;){for(se=Ae.strstart,oe=Ae.lookahead-(V-1);Ae.ins_h=(Ae.ins_h<<Ae.hash_shift^Ae.window[se+V-1])&Ae.hash_mask,Ae.prev[se&Ae.w_mask]=Ae.head[Ae.ins_h],Ae.head[Ae.ins_h]=se,se++,--oe;);Ae.strstart=se,Ae.lookahead=V-1,Ue(Ae)}return Ae.strstart+=Ae.lookahead,Ae.block_start=Ae.strstart,Ae.insert=Ae.lookahead,Ae.lookahead=0,Ae.match_length=Ae.prev_length=V-1,Ae.match_available=0,U.next_in=Re,U.input=xe,U.avail_in=Oe,Ae.wrap=Ee,y},l.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(o,a,l){a.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(o,a,l){a.exports=function(u,c){var f,p,T,E,b,m,y,S,v,A,w,R,P,F,B,G,K,le,V,X,W,H,te,L,ue;f=u.state,p=u.next_in,L=u.input,T=p+(u.avail_in-5),E=u.next_out,ue=u.output,b=E-(c-u.avail_out),m=E+(u.avail_out-257),y=f.dmax,S=f.wsize,v=f.whave,A=f.wnext,w=f.window,R=f.hold,P=f.bits,F=f.lencode,B=f.distcode,G=(1<<f.lenbits)-1,K=(1<<f.distbits)-1;e:do{P<15&&(R+=L[p++]<<P,P+=8,R+=L[p++]<<P,P+=8),le=F[R&G];t:for(;;){if(R>>>=V=le>>>24,P-=V,(V=le>>>16&255)===0)ue[E++]=65535&le;else{if(!(16&V)){if((64&V)==0){le=F[(65535&le)+(R&(1<<V)-1)];continue t}if(32&V){f.mode=12;break e}u.msg="invalid literal/length code",f.mode=30;break e}X=65535&le,(V&=15)&&(P<V&&(R+=L[p++]<<P,P+=8),X+=R&(1<<V)-1,R>>>=V,P-=V),P<15&&(R+=L[p++]<<P,P+=8,R+=L[p++]<<P,P+=8),le=B[R&K];n:for(;;){if(R>>>=V=le>>>24,P-=V,!(16&(V=le>>>16&255))){if((64&V)==0){le=B[(65535&le)+(R&(1<<V)-1)];continue n}u.msg="invalid distance code",f.mode=30;break e}if(W=65535&le,P<(V&=15)&&(R+=L[p++]<<P,(P+=8)<V&&(R+=L[p++]<<P,P+=8)),y<(W+=R&(1<<V)-1)){u.msg="invalid distance too far back",f.mode=30;break e}if(R>>>=V,P-=V,(V=E-b)<W){if(v<(V=W-V)&&f.sane){u.msg="invalid distance too far back",f.mode=30;break e}if(te=w,(H=0)===A){if(H+=S-V,V<X){for(X-=V;ue[E++]=w[H++],--V;);H=E-W,te=ue}}else if(A<V){if(H+=S+A-V,(V-=A)<X){for(X-=V;ue[E++]=w[H++],--V;);if(H=0,A<X){for(X-=V=A;ue[E++]=w[H++],--V;);H=E-W,te=ue}}}else if(H+=A-V,V<X){for(X-=V;ue[E++]=w[H++],--V;);H=E-W,te=ue}for(;2<X;)ue[E++]=te[H++],ue[E++]=te[H++],ue[E++]=te[H++],X-=3;X&&(ue[E++]=te[H++],1<X&&(ue[E++]=te[H++]))}else{for(H=E-W;ue[E++]=ue[H++],ue[E++]=ue[H++],ue[E++]=ue[H++],2<(X-=3););X&&(ue[E++]=ue[H++],1<X&&(ue[E++]=ue[H++]))}break}}break}}while(p<T&&E<m);p-=X=P>>3,R&=(1<<(P-=X<<3))-1,u.next_in=p,u.next_out=E,u.avail_in=p<T?T-p+5:5-(p-T),u.avail_out=E<m?m-E+257:257-(E-m),f.hold=R,f.bits=P}},{}],49:[function(o,a,l){var u=o("../utils/common"),c=o("./adler32"),f=o("./crc32"),p=o("./inffast"),T=o("./inftrees"),E=1,b=2,m=0,y=-2,S=1,v=852,A=592;function w(H){return(H>>>24&255)+(H>>>8&65280)+((65280&H)<<8)+((255&H)<<24)}function R(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new u.Buf16(320),this.work=new u.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function P(H){var te;return H&&H.state?(te=H.state,H.total_in=H.total_out=te.total=0,H.msg="",te.wrap&&(H.adler=1&te.wrap),te.mode=S,te.last=0,te.havedict=0,te.dmax=32768,te.head=null,te.hold=0,te.bits=0,te.lencode=te.lendyn=new u.Buf32(v),te.distcode=te.distdyn=new u.Buf32(A),te.sane=1,te.back=-1,m):y}function F(H){var te;return H&&H.state?((te=H.state).wsize=0,te.whave=0,te.wnext=0,P(H)):y}function B(H,te){var L,ue;return H&&H.state?(ue=H.state,te<0?(L=0,te=-te):(L=1+(te>>4),te<48&&(te&=15)),te&&(te<8||15<te)?y:(ue.window!==null&&ue.wbits!==te&&(ue.window=null),ue.wrap=L,ue.wbits=te,F(H))):y}function G(H,te){var L,ue;return H?(ue=new R,(H.state=ue).window=null,(L=B(H,te))!==m&&(H.state=null),L):y}var K,le,V=!0;function X(H){if(V){var te;for(K=new u.Buf32(512),le=new u.Buf32(32),te=0;te<144;)H.lens[te++]=8;for(;te<256;)H.lens[te++]=9;for(;te<280;)H.lens[te++]=7;for(;te<288;)H.lens[te++]=8;for(T(E,H.lens,0,288,K,0,H.work,{bits:9}),te=0;te<32;)H.lens[te++]=5;T(b,H.lens,0,32,le,0,H.work,{bits:5}),V=!1}H.lencode=K,H.lenbits=9,H.distcode=le,H.distbits=5}function W(H,te,L,ue){var Ce,fe=H.state;return fe.window===null&&(fe.wsize=1<<fe.wbits,fe.wnext=0,fe.whave=0,fe.window=new u.Buf8(fe.wsize)),ue>=fe.wsize?(u.arraySet(fe.window,te,L-fe.wsize,fe.wsize,0),fe.wnext=0,fe.whave=fe.wsize):(ue<(Ce=fe.wsize-fe.wnext)&&(Ce=ue),u.arraySet(fe.window,te,L-ue,Ce,fe.wnext),(ue-=Ce)?(u.arraySet(fe.window,te,L-ue,ue,0),fe.wnext=ue,fe.whave=fe.wsize):(fe.wnext+=Ce,fe.wnext===fe.wsize&&(fe.wnext=0),fe.whave<fe.wsize&&(fe.whave+=Ce))),0}l.inflateReset=F,l.inflateReset2=B,l.inflateResetKeep=P,l.inflateInit=function(H){return G(H,15)},l.inflateInit2=G,l.inflate=function(H,te){var L,ue,Ce,fe,ye,he,j,Y,Z,Q,be,we,Ue,Ye,He,je,Xe,et,it,ct,U,De,Ae,se,oe=0,Ee=new u.Buf8(4),Oe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!H||!H.state||!H.output||!H.input&&H.avail_in!==0)return y;(L=H.state).mode===12&&(L.mode=13),ye=H.next_out,Ce=H.output,j=H.avail_out,fe=H.next_in,ue=H.input,he=H.avail_in,Y=L.hold,Z=L.bits,Q=he,be=j,De=m;e:for(;;)switch(L.mode){case S:if(L.wrap===0){L.mode=13;break}for(;Z<16;){if(he===0)break e;he--,Y+=ue[fe++]<<Z,Z+=8}if(2&L.wrap&&Y===35615){Ee[L.check=0]=255&Y,Ee[1]=Y>>>8&255,L.check=f(L.check,Ee,2,0),Z=Y=0,L.mode=2;break}if(L.flags=0,L.head&&(L.head.done=!1),!(1&L.wrap)||(((255&Y)<<8)+(Y>>8))%31){H.msg="incorrect header check",L.mode=30;break}if((15&Y)!=8){H.msg="unknown compression method",L.mode=30;break}if(Z-=4,U=8+(15&(Y>>>=4)),L.wbits===0)L.wbits=U;else if(U>L.wbits){H.msg="invalid window size",L.mode=30;break}L.dmax=1<<U,H.adler=L.check=1,L.mode=512&Y?10:12,Z=Y=0;break;case 2:for(;Z<16;){if(he===0)break e;he--,Y+=ue[fe++]<<Z,Z+=8}if(L.flags=Y,(255&L.flags)!=8){H.msg="unknown compression method",L.mode=30;break}if(57344&L.flags){H.msg="unknown header flags set",L.mode=30;break}L.head&&(L.head.text=Y>>8&1),512&L.flags&&(Ee[0]=255&Y,Ee[1]=Y>>>8&255,L.check=f(L.check,Ee,2,0)),Z=Y=0,L.mode=3;case 3:for(;Z<32;){if(he===0)break e;he--,Y+=ue[fe++]<<Z,Z+=8}L.head&&(L.head.time=Y),512&L.flags&&(Ee[0]=255&Y,Ee[1]=Y>>>8&255,Ee[2]=Y>>>16&255,Ee[3]=Y>>>24&255,L.check=f(L.check,Ee,4,0)),Z=Y=0,L.mode=4;case 4:for(;Z<16;){if(he===0)break e;he--,Y+=ue[fe++]<<Z,Z+=8}L.head&&(L.head.xflags=255&Y,L.head.os=Y>>8),512&L.flags&&(Ee[0]=255&Y,Ee[1]=Y>>>8&255,L.check=f(L.check,Ee,2,0)),Z=Y=0,L.mode=5;case 5:if(1024&L.flags){for(;Z<16;){if(he===0)break e;he--,Y+=ue[fe++]<<Z,Z+=8}L.length=Y,L.head&&(L.head.extra_len=Y),512&L.flags&&(Ee[0]=255&Y,Ee[1]=Y>>>8&255,L.check=f(L.check,Ee,2,0)),Z=Y=0}else L.head&&(L.head.extra=null);L.mode=6;case 6:if(1024&L.flags&&(he<(we=L.length)&&(we=he),we&&(L.head&&(U=L.head.extra_len-L.length,L.head.extra||(L.head.extra=new Array(L.head.extra_len)),u.arraySet(L.head.extra,ue,fe,we,U)),512&L.flags&&(L.check=f(L.check,ue,we,fe)),he-=we,fe+=we,L.length-=we),L.length))break e;L.length=0,L.mode=7;case 7:if(2048&L.flags){if(he===0)break e;for(we=0;U=ue[fe+we++],L.head&&U&&L.length<65536&&(L.head.name+=String.fromCharCode(U)),U&&we<he;);if(512&L.flags&&(L.check=f(L.check,ue,we,fe)),he-=we,fe+=we,U)break e}else L.head&&(L.head.name=null);L.length=0,L.mode=8;case 8:if(4096&L.flags){if(he===0)break e;for(we=0;U=ue[fe+we++],L.head&&U&&L.length<65536&&(L.head.comment+=String.fromCharCode(U)),U&&we<he;);if(512&L.flags&&(L.check=f(L.check,ue,we,fe)),he-=we,fe+=we,U)break e}else L.head&&(L.head.comment=null);L.mode=9;case 9:if(512&L.flags){for(;Z<16;){if(he===0)break e;he--,Y+=ue[fe++]<<Z,Z+=8}if(Y!==(65535&L.check)){H.msg="header crc mismatch",L.mode=30;break}Z=Y=0}L.head&&(L.head.hcrc=L.flags>>9&1,L.head.done=!0),H.adler=L.check=0,L.mode=12;break;case 10:for(;Z<32;){if(he===0)break e;he--,Y+=ue[fe++]<<Z,Z+=8}H.adler=L.check=w(Y),Z=Y=0,L.mode=11;case 11:if(L.havedict===0)return H.next_out=ye,H.avail_out=j,H.next_in=fe,H.avail_in=he,L.hold=Y,L.bits=Z,2;H.adler=L.check=1,L.mode=12;case 12:if(te===5||te===6)break e;case 13:if(L.last){Y>>>=7&Z,Z-=7&Z,L.mode=27;break}for(;Z<3;){if(he===0)break e;he--,Y+=ue[fe++]<<Z,Z+=8}switch(L.last=1&Y,Z-=1,3&(Y>>>=1)){case 0:L.mode=14;break;case 1:if(X(L),L.mode=20,te!==6)break;Y>>>=2,Z-=2;break e;case 2:L.mode=17;break;case 3:H.msg="invalid block type",L.mode=30}Y>>>=2,Z-=2;break;case 14:for(Y>>>=7&Z,Z-=7&Z;Z<32;){if(he===0)break e;he--,Y+=ue[fe++]<<Z,Z+=8}if((65535&Y)!=(Y>>>16^65535)){H.msg="invalid stored block lengths",L.mode=30;break}if(L.length=65535&Y,Z=Y=0,L.mode=15,te===6)break e;case 15:L.mode=16;case 16:if(we=L.length){if(he<we&&(we=he),j<we&&(we=j),we===0)break e;u.arraySet(Ce,ue,fe,we,ye),he-=we,fe+=we,j-=we,ye+=we,L.length-=we;break}L.mode=12;break;case 17:for(;Z<14;){if(he===0)break e;he--,Y+=ue[fe++]<<Z,Z+=8}if(L.nlen=257+(31&Y),Y>>>=5,Z-=5,L.ndist=1+(31&Y),Y>>>=5,Z-=5,L.ncode=4+(15&Y),Y>>>=4,Z-=4,286<L.nlen||30<L.ndist){H.msg="too many length or distance symbols",L.mode=30;break}L.have=0,L.mode=18;case 18:for(;L.have<L.ncode;){for(;Z<3;){if(he===0)break e;he--,Y+=ue[fe++]<<Z,Z+=8}L.lens[Oe[L.have++]]=7&Y,Y>>>=3,Z-=3}for(;L.have<19;)L.lens[Oe[L.have++]]=0;if(L.lencode=L.lendyn,L.lenbits=7,Ae={bits:L.lenbits},De=T(0,L.lens,0,19,L.lencode,0,L.work,Ae),L.lenbits=Ae.bits,De){H.msg="invalid code lengths set",L.mode=30;break}L.have=0,L.mode=19;case 19:for(;L.have<L.nlen+L.ndist;){for(;je=(oe=L.lencode[Y&(1<<L.lenbits)-1])>>>16&255,Xe=65535&oe,!((He=oe>>>24)<=Z);){if(he===0)break e;he--,Y+=ue[fe++]<<Z,Z+=8}if(Xe<16)Y>>>=He,Z-=He,L.lens[L.have++]=Xe;else{if(Xe===16){for(se=He+2;Z<se;){if(he===0)break e;he--,Y+=ue[fe++]<<Z,Z+=8}if(Y>>>=He,Z-=He,L.have===0){H.msg="invalid bit length repeat",L.mode=30;break}U=L.lens[L.have-1],we=3+(3&Y),Y>>>=2,Z-=2}else if(Xe===17){for(se=He+3;Z<se;){if(he===0)break e;he--,Y+=ue[fe++]<<Z,Z+=8}Z-=He,U=0,we=3+(7&(Y>>>=He)),Y>>>=3,Z-=3}else{for(se=He+7;Z<se;){if(he===0)break e;he--,Y+=ue[fe++]<<Z,Z+=8}Z-=He,U=0,we=11+(127&(Y>>>=He)),Y>>>=7,Z-=7}if(L.have+we>L.nlen+L.ndist){H.msg="invalid bit length repeat",L.mode=30;break}for(;we--;)L.lens[L.have++]=U}}if(L.mode===30)break;if(L.lens[256]===0){H.msg="invalid code -- missing end-of-block",L.mode=30;break}if(L.lenbits=9,Ae={bits:L.lenbits},De=T(E,L.lens,0,L.nlen,L.lencode,0,L.work,Ae),L.lenbits=Ae.bits,De){H.msg="invalid literal/lengths set",L.mode=30;break}if(L.distbits=6,L.distcode=L.distdyn,Ae={bits:L.distbits},De=T(b,L.lens,L.nlen,L.ndist,L.distcode,0,L.work,Ae),L.distbits=Ae.bits,De){H.msg="invalid distances set",L.mode=30;break}if(L.mode=20,te===6)break e;case 20:L.mode=21;case 21:if(6<=he&&258<=j){H.next_out=ye,H.avail_out=j,H.next_in=fe,H.avail_in=he,L.hold=Y,L.bits=Z,p(H,be),ye=H.next_out,Ce=H.output,j=H.avail_out,fe=H.next_in,ue=H.input,he=H.avail_in,Y=L.hold,Z=L.bits,L.mode===12&&(L.back=-1);break}for(L.back=0;je=(oe=L.lencode[Y&(1<<L.lenbits)-1])>>>16&255,Xe=65535&oe,!((He=oe>>>24)<=Z);){if(he===0)break e;he--,Y+=ue[fe++]<<Z,Z+=8}if(je&&(240&je)==0){for(et=He,it=je,ct=Xe;je=(oe=L.lencode[ct+((Y&(1<<et+it)-1)>>et)])>>>16&255,Xe=65535&oe,!(et+(He=oe>>>24)<=Z);){if(he===0)break e;he--,Y+=ue[fe++]<<Z,Z+=8}Y>>>=et,Z-=et,L.back+=et}if(Y>>>=He,Z-=He,L.back+=He,L.length=Xe,je===0){L.mode=26;break}if(32&je){L.back=-1,L.mode=12;break}if(64&je){H.msg="invalid literal/length code",L.mode=30;break}L.extra=15&je,L.mode=22;case 22:if(L.extra){for(se=L.extra;Z<se;){if(he===0)break e;he--,Y+=ue[fe++]<<Z,Z+=8}L.length+=Y&(1<<L.extra)-1,Y>>>=L.extra,Z-=L.extra,L.back+=L.extra}L.was=L.length,L.mode=23;case 23:for(;je=(oe=L.distcode[Y&(1<<L.distbits)-1])>>>16&255,Xe=65535&oe,!((He=oe>>>24)<=Z);){if(he===0)break e;he--,Y+=ue[fe++]<<Z,Z+=8}if((240&je)==0){for(et=He,it=je,ct=Xe;je=(oe=L.distcode[ct+((Y&(1<<et+it)-1)>>et)])>>>16&255,Xe=65535&oe,!(et+(He=oe>>>24)<=Z);){if(he===0)break e;he--,Y+=ue[fe++]<<Z,Z+=8}Y>>>=et,Z-=et,L.back+=et}if(Y>>>=He,Z-=He,L.back+=He,64&je){H.msg="invalid distance code",L.mode=30;break}L.offset=Xe,L.extra=15&je,L.mode=24;case 24:if(L.extra){for(se=L.extra;Z<se;){if(he===0)break e;he--,Y+=ue[fe++]<<Z,Z+=8}L.offset+=Y&(1<<L.extra)-1,Y>>>=L.extra,Z-=L.extra,L.back+=L.extra}if(L.offset>L.dmax){H.msg="invalid distance too far back",L.mode=30;break}L.mode=25;case 25:if(j===0)break e;if(we=be-j,L.offset>we){if((we=L.offset-we)>L.whave&&L.sane){H.msg="invalid distance too far back",L.mode=30;break}Ue=we>L.wnext?(we-=L.wnext,L.wsize-we):L.wnext-we,we>L.length&&(we=L.length),Ye=L.window}else Ye=Ce,Ue=ye-L.offset,we=L.length;for(j<we&&(we=j),j-=we,L.length-=we;Ce[ye++]=Ye[Ue++],--we;);L.length===0&&(L.mode=21);break;case 26:if(j===0)break e;Ce[ye++]=L.length,j--,L.mode=21;break;case 27:if(L.wrap){for(;Z<32;){if(he===0)break e;he--,Y|=ue[fe++]<<Z,Z+=8}if(be-=j,H.total_out+=be,L.total+=be,be&&(H.adler=L.check=L.flags?f(L.check,Ce,be,ye-be):c(L.check,Ce,be,ye-be)),be=j,(L.flags?Y:w(Y))!==L.check){H.msg="incorrect data check",L.mode=30;break}Z=Y=0}L.mode=28;case 28:if(L.wrap&&L.flags){for(;Z<32;){if(he===0)break e;he--,Y+=ue[fe++]<<Z,Z+=8}if(Y!==(4294967295&L.total)){H.msg="incorrect length check",L.mode=30;break}Z=Y=0}L.mode=29;case 29:De=1;break e;case 30:De=-3;break e;case 31:return-4;case 32:default:return y}return H.next_out=ye,H.avail_out=j,H.next_in=fe,H.avail_in=he,L.hold=Y,L.bits=Z,(L.wsize||be!==H.avail_out&&L.mode<30&&(L.mode<27||te!==4))&&W(H,H.output,H.next_out,be-H.avail_out)?(L.mode=31,-4):(Q-=H.avail_in,be-=H.avail_out,H.total_in+=Q,H.total_out+=be,L.total+=be,L.wrap&&be&&(H.adler=L.check=L.flags?f(L.check,Ce,be,H.next_out-be):c(L.check,Ce,be,H.next_out-be)),H.data_type=L.bits+(L.last?64:0)+(L.mode===12?128:0)+(L.mode===20||L.mode===15?256:0),(Q==0&&be===0||te===4)&&De===m&&(De=-5),De)},l.inflateEnd=function(H){if(!H||!H.state)return y;var te=H.state;return te.window&&(te.window=null),H.state=null,m},l.inflateGetHeader=function(H,te){var L;return H&&H.state?(2&(L=H.state).wrap)==0?y:((L.head=te).done=!1,m):y},l.inflateSetDictionary=function(H,te){var L,ue=te.length;return H&&H.state?(L=H.state).wrap!==0&&L.mode!==11?y:L.mode===11&&c(1,te,ue,0)!==L.check?-3:W(H,te,ue,ue)?(L.mode=31,-4):(L.havedict=1,m):y},l.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(o,a,l){var u=o("../utils/common"),c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],T=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];a.exports=function(E,b,m,y,S,v,A,w){var R,P,F,B,G,K,le,V,X,W=w.bits,H=0,te=0,L=0,ue=0,Ce=0,fe=0,ye=0,he=0,j=0,Y=0,Z=null,Q=0,be=new u.Buf16(16),we=new u.Buf16(16),Ue=null,Ye=0;for(H=0;H<=15;H++)be[H]=0;for(te=0;te<y;te++)be[b[m+te]]++;for(Ce=W,ue=15;1<=ue&&be[ue]===0;ue--);if(ue<Ce&&(Ce=ue),ue===0)return S[v++]=20971520,S[v++]=20971520,w.bits=1,0;for(L=1;L<ue&&be[L]===0;L++);for(Ce<L&&(Ce=L),H=he=1;H<=15;H++)if(he<<=1,(he-=be[H])<0)return-1;if(0<he&&(E===0||ue!==1))return-1;for(we[1]=0,H=1;H<15;H++)we[H+1]=we[H]+be[H];for(te=0;te<y;te++)b[m+te]!==0&&(A[we[b[m+te]]++]=te);if(K=E===0?(Z=Ue=A,19):E===1?(Z=c,Q-=257,Ue=f,Ye-=257,256):(Z=p,Ue=T,-1),H=L,G=v,ye=te=Y=0,F=-1,B=(j=1<<(fe=Ce))-1,E===1&&852<j||E===2&&592<j)return 1;for(;;){for(le=H-ye,X=A[te]<K?(V=0,A[te]):A[te]>K?(V=Ue[Ye+A[te]],Z[Q+A[te]]):(V=96,0),R=1<<H-ye,L=P=1<<fe;S[G+(Y>>ye)+(P-=R)]=le<<24|V<<16|X|0,P!==0;);for(R=1<<H-1;Y&R;)R>>=1;if(R!==0?(Y&=R-1,Y+=R):Y=0,te++,--be[H]==0){if(H===ue)break;H=b[m+A[te]]}if(Ce<H&&(Y&B)!==F){for(ye===0&&(ye=Ce),G+=L,he=1<<(fe=H-ye);fe+ye<ue&&!((he-=be[fe+ye])<=0);)fe++,he<<=1;if(j+=1<<fe,E===1&&852<j||E===2&&592<j)return 1;S[F=Y&B]=Ce<<24|fe<<16|G-v|0}}return Y!==0&&(S[G+Y]=H-ye<<24|64<<16|0),w.bits=Ce,0}},{"../utils/common":41}],51:[function(o,a,l){a.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(o,a,l){var u=o("../utils/common"),c=0,f=1;function p(oe){for(var Ee=oe.length;0<=--Ee;)oe[Ee]=0}var T=0,E=29,b=256,m=b+1+E,y=30,S=19,v=2*m+1,A=15,w=16,R=7,P=256,F=16,B=17,G=18,K=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],le=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],W=new Array(2*(m+2));p(W);var H=new Array(2*y);p(H);var te=new Array(512);p(te);var L=new Array(256);p(L);var ue=new Array(E);p(ue);var Ce,fe,ye,he=new Array(y);function j(oe,Ee,Oe,Re,xe){this.static_tree=oe,this.extra_bits=Ee,this.extra_base=Oe,this.elems=Re,this.max_length=xe,this.has_stree=oe&&oe.length}function Y(oe,Ee){this.dyn_tree=oe,this.max_code=0,this.stat_desc=Ee}function Z(oe){return oe<256?te[oe]:te[256+(oe>>>7)]}function Q(oe,Ee){oe.pending_buf[oe.pending++]=255&Ee,oe.pending_buf[oe.pending++]=Ee>>>8&255}function be(oe,Ee,Oe){oe.bi_valid>w-Oe?(oe.bi_buf|=Ee<<oe.bi_valid&65535,Q(oe,oe.bi_buf),oe.bi_buf=Ee>>w-oe.bi_valid,oe.bi_valid+=Oe-w):(oe.bi_buf|=Ee<<oe.bi_valid&65535,oe.bi_valid+=Oe)}function we(oe,Ee,Oe){be(oe,Oe[2*Ee],Oe[2*Ee+1])}function Ue(oe,Ee){for(var Oe=0;Oe|=1&oe,oe>>>=1,Oe<<=1,0<--Ee;);return Oe>>>1}function Ye(oe,Ee,Oe){var Re,xe,Fe=new Array(A+1),I=0;for(Re=1;Re<=A;Re++)Fe[Re]=I=I+Oe[Re-1]<<1;for(xe=0;xe<=Ee;xe++){var ne=oe[2*xe+1];ne!==0&&(oe[2*xe]=Ue(Fe[ne]++,ne))}}function He(oe){var Ee;for(Ee=0;Ee<m;Ee++)oe.dyn_ltree[2*Ee]=0;for(Ee=0;Ee<y;Ee++)oe.dyn_dtree[2*Ee]=0;for(Ee=0;Ee<S;Ee++)oe.bl_tree[2*Ee]=0;oe.dyn_ltree[2*P]=1,oe.opt_len=oe.static_len=0,oe.last_lit=oe.matches=0}function je(oe){8<oe.bi_valid?Q(oe,oe.bi_buf):0<oe.bi_valid&&(oe.pending_buf[oe.pending++]=oe.bi_buf),oe.bi_buf=0,oe.bi_valid=0}function Xe(oe,Ee,Oe,Re){var xe=2*Ee,Fe=2*Oe;return oe[xe]<oe[Fe]||oe[xe]===oe[Fe]&&Re[Ee]<=Re[Oe]}function et(oe,Ee,Oe){for(var Re=oe.heap[Oe],xe=Oe<<1;xe<=oe.heap_len&&(xe<oe.heap_len&&Xe(Ee,oe.heap[xe+1],oe.heap[xe],oe.depth)&&xe++,!Xe(Ee,Re,oe.heap[xe],oe.depth));)oe.heap[Oe]=oe.heap[xe],Oe=xe,xe<<=1;oe.heap[Oe]=Re}function it(oe,Ee,Oe){var Re,xe,Fe,I,ne=0;if(oe.last_lit!==0)for(;Re=oe.pending_buf[oe.d_buf+2*ne]<<8|oe.pending_buf[oe.d_buf+2*ne+1],xe=oe.pending_buf[oe.l_buf+ne],ne++,Re===0?we(oe,xe,Ee):(we(oe,(Fe=L[xe])+b+1,Ee),(I=K[Fe])!==0&&be(oe,xe-=ue[Fe],I),we(oe,Fe=Z(--Re),Oe),(I=le[Fe])!==0&&be(oe,Re-=he[Fe],I)),ne<oe.last_lit;);we(oe,P,Ee)}function ct(oe,Ee){var Oe,Re,xe,Fe=Ee.dyn_tree,I=Ee.stat_desc.static_tree,ne=Ee.stat_desc.has_stree,J=Ee.stat_desc.elems,me=-1;for(oe.heap_len=0,oe.heap_max=v,Oe=0;Oe<J;Oe++)Fe[2*Oe]!==0?(oe.heap[++oe.heap_len]=me=Oe,oe.depth[Oe]=0):Fe[2*Oe+1]=0;for(;oe.heap_len<2;)Fe[2*(xe=oe.heap[++oe.heap_len]=me<2?++me:0)]=1,oe.depth[xe]=0,oe.opt_len--,ne&&(oe.static_len-=I[2*xe+1]);for(Ee.max_code=me,Oe=oe.heap_len>>1;1<=Oe;Oe--)et(oe,Fe,Oe);for(xe=J;Oe=oe.heap[1],oe.heap[1]=oe.heap[oe.heap_len--],et(oe,Fe,1),Re=oe.heap[1],oe.heap[--oe.heap_max]=Oe,oe.heap[--oe.heap_max]=Re,Fe[2*xe]=Fe[2*Oe]+Fe[2*Re],oe.depth[xe]=(oe.depth[Oe]>=oe.depth[Re]?oe.depth[Oe]:oe.depth[Re])+1,Fe[2*Oe+1]=Fe[2*Re+1]=xe,oe.heap[1]=xe++,et(oe,Fe,1),2<=oe.heap_len;);oe.heap[--oe.heap_max]=oe.heap[1],function(pe,ke){var D,k,N,z,ee,ae,de=ke.dyn_tree,ve=ke.max_code,Pe=ke.stat_desc.static_tree,Ge=ke.stat_desc.has_stree,ze=ke.stat_desc.extra_bits,tt=ke.stat_desc.extra_base,lt=ke.stat_desc.max_length,er=0;for(z=0;z<=A;z++)pe.bl_count[z]=0;for(de[2*pe.heap[pe.heap_max]+1]=0,D=pe.heap_max+1;D<v;D++)lt<(z=de[2*de[2*(k=pe.heap[D])+1]+1]+1)&&(z=lt,er++),de[2*k+1]=z,ve<k||(pe.bl_count[z]++,ee=0,tt<=k&&(ee=ze[k-tt]),ae=de[2*k],pe.opt_len+=ae*(z+ee),Ge&&(pe.static_len+=ae*(Pe[2*k+1]+ee)));if(er!==0){do{for(z=lt-1;pe.bl_count[z]===0;)z--;pe.bl_count[z]--,pe.bl_count[z+1]+=2,pe.bl_count[lt]--,er-=2}while(0<er);for(z=lt;z!==0;z--)for(k=pe.bl_count[z];k!==0;)ve<(N=pe.heap[--D])||(de[2*N+1]!==z&&(pe.opt_len+=(z-de[2*N+1])*de[2*N],de[2*N+1]=z),k--)}}(oe,Ee),Ye(Fe,me,oe.bl_count)}function U(oe,Ee,Oe){var Re,xe,Fe=-1,I=Ee[1],ne=0,J=7,me=4;for(I===0&&(J=138,me=3),Ee[2*(Oe+1)+1]=65535,Re=0;Re<=Oe;Re++)xe=I,I=Ee[2*(Re+1)+1],++ne<J&&xe===I||(ne<me?oe.bl_tree[2*xe]+=ne:xe!==0?(xe!==Fe&&oe.bl_tree[2*xe]++,oe.bl_tree[2*F]++):ne<=10?oe.bl_tree[2*B]++:oe.bl_tree[2*G]++,Fe=xe,me=(ne=0)===I?(J=138,3):xe===I?(J=6,3):(J=7,4))}function De(oe,Ee,Oe){var Re,xe,Fe=-1,I=Ee[1],ne=0,J=7,me=4;for(I===0&&(J=138,me=3),Re=0;Re<=Oe;Re++)if(xe=I,I=Ee[2*(Re+1)+1],!(++ne<J&&xe===I)){if(ne<me)for(;we(oe,xe,oe.bl_tree),--ne!=0;);else xe!==0?(xe!==Fe&&(we(oe,xe,oe.bl_tree),ne--),we(oe,F,oe.bl_tree),be(oe,ne-3,2)):ne<=10?(we(oe,B,oe.bl_tree),be(oe,ne-3,3)):(we(oe,G,oe.bl_tree),be(oe,ne-11,7));Fe=xe,me=(ne=0)===I?(J=138,3):xe===I?(J=6,3):(J=7,4)}}p(he);var Ae=!1;function se(oe,Ee,Oe,Re){be(oe,(T<<1)+(Re?1:0),3),function(xe,Fe,I,ne){je(xe),Q(xe,I),Q(xe,~I),u.arraySet(xe.pending_buf,xe.window,Fe,I,xe.pending),xe.pending+=I}(oe,Ee,Oe)}l._tr_init=function(oe){Ae||(function(){var Ee,Oe,Re,xe,Fe,I=new Array(A+1);for(xe=Re=0;xe<E-1;xe++)for(ue[xe]=Re,Ee=0;Ee<1<<K[xe];Ee++)L[Re++]=xe;for(L[Re-1]=xe,xe=Fe=0;xe<16;xe++)for(he[xe]=Fe,Ee=0;Ee<1<<le[xe];Ee++)te[Fe++]=xe;for(Fe>>=7;xe<y;xe++)for(he[xe]=Fe<<7,Ee=0;Ee<1<<le[xe]-7;Ee++)te[256+Fe++]=xe;for(Oe=0;Oe<=A;Oe++)I[Oe]=0;for(Ee=0;Ee<=143;)W[2*Ee+1]=8,Ee++,I[8]++;for(;Ee<=255;)W[2*Ee+1]=9,Ee++,I[9]++;for(;Ee<=279;)W[2*Ee+1]=7,Ee++,I[7]++;for(;Ee<=287;)W[2*Ee+1]=8,Ee++,I[8]++;for(Ye(W,m+1,I),Ee=0;Ee<y;Ee++)H[2*Ee+1]=5,H[2*Ee]=Ue(Ee,5);Ce=new j(W,K,b+1,m,A),fe=new j(H,le,0,y,A),ye=new j(new Array(0),V,0,S,R)}(),Ae=!0),oe.l_desc=new Y(oe.dyn_ltree,Ce),oe.d_desc=new Y(oe.dyn_dtree,fe),oe.bl_desc=new Y(oe.bl_tree,ye),oe.bi_buf=0,oe.bi_valid=0,He(oe)},l._tr_stored_block=se,l._tr_flush_block=function(oe,Ee,Oe,Re){var xe,Fe,I=0;0<oe.level?(oe.strm.data_type===2&&(oe.strm.data_type=function(ne){var J,me=4093624447;for(J=0;J<=31;J++,me>>>=1)if(1&me&&ne.dyn_ltree[2*J]!==0)return c;if(ne.dyn_ltree[18]!==0||ne.dyn_ltree[20]!==0||ne.dyn_ltree[26]!==0)return f;for(J=32;J<b;J++)if(ne.dyn_ltree[2*J]!==0)return f;return c}(oe)),ct(oe,oe.l_desc),ct(oe,oe.d_desc),I=function(ne){var J;for(U(ne,ne.dyn_ltree,ne.l_desc.max_code),U(ne,ne.dyn_dtree,ne.d_desc.max_code),ct(ne,ne.bl_desc),J=S-1;3<=J&&ne.bl_tree[2*X[J]+1]===0;J--);return ne.opt_len+=3*(J+1)+5+5+4,J}(oe),xe=oe.opt_len+3+7>>>3,(Fe=oe.static_len+3+7>>>3)<=xe&&(xe=Fe)):xe=Fe=Oe+5,Oe+4<=xe&&Ee!==-1?se(oe,Ee,Oe,Re):oe.strategy===4||Fe===xe?(be(oe,2+(Re?1:0),3),it(oe,W,H)):(be(oe,4+(Re?1:0),3),function(ne,J,me,pe){var ke;for(be(ne,J-257,5),be(ne,me-1,5),be(ne,pe-4,4),ke=0;ke<pe;ke++)be(ne,ne.bl_tree[2*X[ke]+1],3);De(ne,ne.dyn_ltree,J-1),De(ne,ne.dyn_dtree,me-1)}(oe,oe.l_desc.max_code+1,oe.d_desc.max_code+1,I+1),it(oe,oe.dyn_ltree,oe.dyn_dtree)),He(oe),Re&&je(oe)},l._tr_tally=function(oe,Ee,Oe){return oe.pending_buf[oe.d_buf+2*oe.last_lit]=Ee>>>8&255,oe.pending_buf[oe.d_buf+2*oe.last_lit+1]=255&Ee,oe.pending_buf[oe.l_buf+oe.last_lit]=255&Oe,oe.last_lit++,Ee===0?oe.dyn_ltree[2*Oe]++:(oe.matches++,Ee--,oe.dyn_ltree[2*(L[Oe]+b+1)]++,oe.dyn_dtree[2*Z(Ee)]++),oe.last_lit===oe.lit_bufsize-1},l._tr_align=function(oe){be(oe,2,3),we(oe,P,W),function(Ee){Ee.bi_valid===16?(Q(Ee,Ee.bi_buf),Ee.bi_buf=0,Ee.bi_valid=0):8<=Ee.bi_valid&&(Ee.pending_buf[Ee.pending++]=255&Ee.bi_buf,Ee.bi_buf>>=8,Ee.bi_valid-=8)}(oe)}},{"../utils/common":41}],53:[function(o,a,l){a.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(o,a,l){(function(u){(function(c,f){if(!c.setImmediate){var p,T,E,b,m=1,y={},S=!1,v=c.document,A=Object.getPrototypeOf&&Object.getPrototypeOf(c);A=A&&A.setTimeout?A:c,p={}.toString.call(c.process)==="[object process]"?function(F){process$1.nextTick(function(){R(F)})}:function(){if(c.postMessage&&!c.importScripts){var F=!0,B=c.onmessage;return c.onmessage=function(){F=!1},c.postMessage("","*"),c.onmessage=B,F}}()?(b="setImmediate$"+Math.random()+"$",c.addEventListener?c.addEventListener("message",P,!1):c.attachEvent("onmessage",P),function(F){c.postMessage(b+F,"*")}):c.MessageChannel?((E=new MessageChannel).port1.onmessage=function(F){R(F.data)},function(F){E.port2.postMessage(F)}):v&&"onreadystatechange"in v.createElement("script")?(T=v.documentElement,function(F){var B=v.createElement("script");B.onreadystatechange=function(){R(F),B.onreadystatechange=null,T.removeChild(B),B=null},T.appendChild(B)}):function(F){setTimeout(R,0,F)},A.setImmediate=function(F){typeof F!="function"&&(F=new Function(""+F));for(var B=new Array(arguments.length-1),G=0;G<B.length;G++)B[G]=arguments[G+1];var K={callback:F,args:B};return y[m]=K,p(m),m++},A.clearImmediate=w}function w(F){delete y[F]}function R(F){if(S)setTimeout(R,0,F);else{var B=y[F];if(B){S=!0;try{(function(G){var K=G.callback,le=G.args;switch(le.length){case 0:K();break;case 1:K(le[0]);break;case 2:K(le[0],le[1]);break;case 3:K(le[0],le[1],le[2]);break;default:K.apply(f,le)}})(B)}finally{w(F),S=!1}}}}function P(F){F.source===c&&typeof F.data=="string"&&F.data.indexOf(b)===0&&R(+F.data.slice(b.length))}})(typeof self>"u"?u===void 0?this:u:self)}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(jszip_min)),jszip_min.exports}var jszip_minExports=requireJszip_min();const JSZip=getDefaultExportFromCjs$1(jszip_minExports);let rangeFrom=[],rangeTo=[];(()=>{let n="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,o=0;e<n.length;e++)(e%2?rangeTo:rangeFrom).push(o=o+n[e])})();function isExtendingChar(n){if(n<768)return!1;for(let e=0,o=rangeFrom.length;;){let a=e+o>>1;if(n<rangeFrom[a])o=a;else if(n>=rangeTo[a])e=a+1;else return!0;if(e==o)return!1}}function isRegionalIndicator(n){return n>=127462&&n<=127487}const ZWJ=8205;function findClusterBreak$1(n,e,o=!0,a=!0){return(o?nextClusterBreak:prevClusterBreak)(n,e,a)}function nextClusterBreak(n,e,o){if(e==n.length)return e;e&&surrogateLow$1(n.charCodeAt(e))&&surrogateHigh$1(n.charCodeAt(e-1))&&e--;let a=codePointAt$2(n,e);for(e+=codePointSize$1(a);e<n.length;){let l=codePointAt$2(n,e);if(a==ZWJ||l==ZWJ||o&&isExtendingChar(l))e+=codePointSize$1(l),a=l;else if(isRegionalIndicator(l)){let u=0,c=e-2;for(;c>=0&&isRegionalIndicator(codePointAt$2(n,c));)u++,c-=2;if(u%2==0)break;e+=2}else break}return e}function prevClusterBreak(n,e,o){for(;e>0;){let a=nextClusterBreak(n,e-2,o);if(a<e)return a;e--}return 0}function codePointAt$2(n,e){let o=n.charCodeAt(e);if(!surrogateHigh$1(o)||e+1==n.length)return o;let a=n.charCodeAt(e+1);return surrogateLow$1(a)?(o-55296<<10)+(a-56320)+65536:o}function surrogateLow$1(n){return n>=56320&&n<57344}function surrogateHigh$1(n){return n>=55296&&n<56320}function codePointSize$1(n){return n<65536?1:2}class Text{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,o,a){[e,o]=clip(this,e,o);let l=[];return this.decompose(0,e,l,2),a.length&&a.decompose(0,a.length,l,3),this.decompose(o,this.length,l,1),TextNode.from(l,this.length-(o-e)+a.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,o=this.length){[e,o]=clip(this,e,o);let a=[];return this.decompose(e,o,a,0),TextNode.from(a,o-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let o=this.scanIdentical(e,1),a=this.length-this.scanIdentical(e,-1),l=new RawTextCursor(this),u=new RawTextCursor(e);for(let c=o,f=o;;){if(l.next(c),u.next(c),c=0,l.lineBreak!=u.lineBreak||l.done!=u.done||l.value!=u.value)return!1;if(f+=l.value.length,l.done||f>=a)return!0}}iter(e=1){return new RawTextCursor(this,e)}iterRange(e,o=this.length){return new PartialTextCursor(this,e,o)}iterLines(e,o){let a;if(e==null)a=this.iter();else{o==null&&(o=this.lines+1);let l=this.line(e).from;a=this.iterRange(l,Math.max(l,o==this.lines+1?this.length:o<=1?0:this.line(o-1).to))}return new LineCursor(a)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Text.empty:e.length<=32?new TextLeaf(e):TextNode.from(TextLeaf.split(e,[]))}}class TextLeaf extends Text{constructor(e,o=textLength(e)){super(),this.text=e,this.length=o}get lines(){return this.text.length}get children(){return null}lineInner(e,o,a,l){for(let u=0;;u++){let c=this.text[u],f=l+c.length;if((o?a:f)>=e)return new Line(l,f,a,c);l=f+1,a++}}decompose(e,o,a,l){let u=e<=0&&o>=this.length?this:new TextLeaf(sliceText(this.text,e,o),Math.min(o,this.length)-Math.max(0,e));if(l&1){let c=a.pop(),f=appendText(u.text,c.text.slice(),0,u.length);if(f.length<=32)a.push(new TextLeaf(f,c.length+u.length));else{let p=f.length>>1;a.push(new TextLeaf(f.slice(0,p)),new TextLeaf(f.slice(p)))}}else a.push(u)}replace(e,o,a){if(!(a instanceof TextLeaf))return super.replace(e,o,a);[e,o]=clip(this,e,o);let l=appendText(this.text,appendText(a.text,sliceText(this.text,0,e)),o),u=this.length+a.length-(o-e);return l.length<=32?new TextLeaf(l,u):TextNode.from(TextLeaf.split(l,[]),u)}sliceString(e,o=this.length,a=`
`){[e,o]=clip(this,e,o);let l="";for(let u=0,c=0;u<=o&&c<this.text.length;c++){let f=this.text[c],p=u+f.length;u>e&&c&&(l+=a),e<p&&o>u&&(l+=f.slice(Math.max(0,e-u),o-u)),u=p+1}return l}flatten(e){for(let o of this.text)e.push(o)}scanIdentical(){return 0}static split(e,o){let a=[],l=-1;for(let u of e)a.push(u),l+=u.length+1,a.length==32&&(o.push(new TextLeaf(a,l)),a=[],l=-1);return l>-1&&o.push(new TextLeaf(a,l)),o}}class TextNode extends Text{constructor(e,o){super(),this.children=e,this.length=o,this.lines=0;for(let a of e)this.lines+=a.lines}lineInner(e,o,a,l){for(let u=0;;u++){let c=this.children[u],f=l+c.length,p=a+c.lines-1;if((o?p:f)>=e)return c.lineInner(e,o,a,l);l=f+1,a=p+1}}decompose(e,o,a,l){for(let u=0,c=0;c<=o&&u<this.children.length;u++){let f=this.children[u],p=c+f.length;if(e<=p&&o>=c){let T=l&((c<=e?1:0)|(p>=o?2:0));c>=e&&p<=o&&!T?a.push(f):f.decompose(e-c,o-c,a,T)}c=p+1}}replace(e,o,a){if([e,o]=clip(this,e,o),a.lines<this.lines)for(let l=0,u=0;l<this.children.length;l++){let c=this.children[l],f=u+c.length;if(e>=u&&o<=f){let p=c.replace(e-u,o-u,a),T=this.lines-c.lines+p.lines;if(p.lines<T>>4&&p.lines>T>>6){let E=this.children.slice();return E[l]=p,new TextNode(E,this.length-(o-e)+a.length)}return super.replace(u,f,p)}u=f+1}return super.replace(e,o,a)}sliceString(e,o=this.length,a=`
`){[e,o]=clip(this,e,o);let l="";for(let u=0,c=0;u<this.children.length&&c<=o;u++){let f=this.children[u],p=c+f.length;c>e&&u&&(l+=a),e<p&&o>c&&(l+=f.sliceString(e-c,o-c,a)),c=p+1}return l}flatten(e){for(let o of this.children)o.flatten(e)}scanIdentical(e,o){if(!(e instanceof TextNode))return 0;let a=0,[l,u,c,f]=o>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;l+=o,u+=o){if(l==c||u==f)return a;let p=this.children[l],T=e.children[u];if(p!=T)return a+p.scanIdentical(T,o);a+=p.length+1}}static from(e,o=e.reduce((a,l)=>a+l.length+1,-1)){let a=0;for(let y of e)a+=y.lines;if(a<32){let y=[];for(let S of e)S.flatten(y);return new TextLeaf(y,o)}let l=Math.max(32,a>>5),u=l<<1,c=l>>1,f=[],p=0,T=-1,E=[];function b(y){let S;if(y.lines>u&&y instanceof TextNode)for(let v of y.children)b(v);else y.lines>c&&(p>c||!p)?(m(),f.push(y)):y instanceof TextLeaf&&p&&(S=E[E.length-1])instanceof TextLeaf&&y.lines+S.lines<=32?(p+=y.lines,T+=y.length+1,E[E.length-1]=new TextLeaf(S.text.concat(y.text),S.length+1+y.length)):(p+y.lines>l&&m(),p+=y.lines,T+=y.length+1,E.push(y))}function m(){p!=0&&(f.push(E.length==1?E[0]:TextNode.from(E,T)),T=-1,p=E.length=0)}for(let y of e)b(y);return m(),f.length==1?f[0]:new TextNode(f,o)}}Text.empty=new TextLeaf([""],0);function textLength(n){let e=-1;for(let o of n)e+=o.length+1;return e}function appendText(n,e,o=0,a=1e9){for(let l=0,u=0,c=!0;u<n.length&&l<=a;u++){let f=n[u],p=l+f.length;p>=o&&(p>a&&(f=f.slice(0,a-l)),l<o&&(f=f.slice(o-l)),c?(e[e.length-1]+=f,c=!1):e.push(f)),l=p+1}return e}function sliceText(n,e,o){return appendText(n,[""],e,o)}class RawTextCursor{constructor(e,o=1){this.dir=o,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[o>0?1:(e instanceof TextLeaf?e.text.length:e.children.length)<<1]}nextInner(e,o){for(this.done=this.lineBreak=!1;;){let a=this.nodes.length-1,l=this.nodes[a],u=this.offsets[a],c=u>>1,f=l instanceof TextLeaf?l.text.length:l.children.length;if(c==(o>0?f:0)){if(a==0)return this.done=!0,this.value="",this;o>0&&this.offsets[a-1]++,this.nodes.pop(),this.offsets.pop()}else if((u&1)==(o>0?0:1)){if(this.offsets[a]+=o,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(l instanceof TextLeaf){let p=l.text[c+(o<0?-1:0)];if(this.offsets[a]+=o,p.length>Math.max(0,e))return this.value=e==0?p:o>0?p.slice(e):p.slice(0,p.length-e),this;e-=p.length}else{let p=l.children[c+(o<0?-1:0)];e>p.length?(e-=p.length,this.offsets[a]+=o):(o<0&&this.offsets[a]--,this.nodes.push(p),this.offsets.push(o>0?1:(p instanceof TextLeaf?p.text.length:p.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class PartialTextCursor{constructor(e,o,a){this.value="",this.done=!1,this.cursor=new RawTextCursor(e,o>a?-1:1),this.pos=o>a?e.length:0,this.from=Math.min(o,a),this.to=Math.max(o,a)}nextInner(e,o){if(o<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,o<0?this.pos-this.to:this.from-this.pos);let a=o<0?this.pos-this.from:this.to-this.pos;e>a&&(e=a),a-=e;let{value:l}=this.cursor.next(e);return this.pos+=(l.length+e)*o,this.value=l.length<=a?l:o<0?l.slice(l.length-a):l.slice(0,a),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class LineCursor{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:o,lineBreak:a,value:l}=this.inner.next(e);return o&&this.afterBreak?(this.value="",this.afterBreak=!1):o?(this.done=!0,this.value=""):a?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=l,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Text.prototype[Symbol.iterator]=function(){return this.iter()},RawTextCursor.prototype[Symbol.iterator]=PartialTextCursor.prototype[Symbol.iterator]=LineCursor.prototype[Symbol.iterator]=function(){return this});class Line{constructor(e,o,a,l){this.from=e,this.to=o,this.number=a,this.text=l}get length(){return this.to-this.from}}function clip(n,e,o){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,o))]}function findClusterBreak(n,e,o=!0,a=!0){return findClusterBreak$1(n,e,o,a)}function surrogateLow(n){return n>=56320&&n<57344}function surrogateHigh(n){return n>=55296&&n<56320}function codePointAt$1(n,e){let o=n.charCodeAt(e);if(!surrogateHigh(o)||e+1==n.length)return o;let a=n.charCodeAt(e+1);return surrogateLow(a)?(o-55296<<10)+(a-56320)+65536:o}function fromCodePoint(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function codePointSize(n){return n<65536?1:2}const DefaultSplit=/\r\n?|\n/;var MapMode=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(MapMode||(MapMode={}));class ChangeDesc{constructor(e){this.sections=e}get length(){let e=0;for(let o=0;o<this.sections.length;o+=2)e+=this.sections[o];return e}get newLength(){let e=0;for(let o=0;o<this.sections.length;o+=2){let a=this.sections[o+1];e+=a<0?this.sections[o]:a}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let o=0,a=0,l=0;o<this.sections.length;){let u=this.sections[o++],c=this.sections[o++];c<0?(e(a,l,u),l+=u):l+=c,a+=u}}iterChangedRanges(e,o=!1){iterChanges(this,e,o)}get invertedDesc(){let e=[];for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++];l<0?e.push(a,l):e.push(l,a)}return new ChangeDesc(e)}composeDesc(e){return this.empty?e:e.empty?this:composeSets(this,e)}mapDesc(e,o=!1){return e.empty?this:mapSet(this,e,o)}mapPos(e,o=-1,a=MapMode.Simple){let l=0,u=0;for(let c=0;c<this.sections.length;){let f=this.sections[c++],p=this.sections[c++],T=l+f;if(p<0){if(T>e)return u+(e-l);u+=f}else{if(a!=MapMode.Simple&&T>=e&&(a==MapMode.TrackDel&&l<e&&T>e||a==MapMode.TrackBefore&&l<e||a==MapMode.TrackAfter&&T>e))return null;if(T>e||T==e&&o<0&&!f)return e==l||o<0?u:u+p;u+=p}l=T}if(e>l)throw new RangeError(`Position ${e} is out of range for changeset of length ${l}`);return u}touchesRange(e,o=e){for(let a=0,l=0;a<this.sections.length&&l<=o;){let u=this.sections[a++],c=this.sections[a++],f=l+u;if(c>=0&&l<=o&&f>=e)return l<e&&f>o?"cover":!0;l=f}return!1}toString(){let e="";for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++];e+=(e?" ":"")+a+(l>=0?":"+l:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(o=>typeof o!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ChangeDesc(e)}static create(e){return new ChangeDesc(e)}}class ChangeSet extends ChangeDesc{constructor(e,o){super(e),this.inserted=o}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return iterChanges(this,(o,a,l,u,c)=>e=e.replace(l,l+(a-o),c),!1),e}mapDesc(e,o=!1){return mapSet(this,e,o,!0)}invert(e){let o=this.sections.slice(),a=[];for(let l=0,u=0;l<o.length;l+=2){let c=o[l],f=o[l+1];if(f>=0){o[l]=f,o[l+1]=c;let p=l>>1;for(;a.length<p;)a.push(Text.empty);a.push(c?e.slice(u,u+c):Text.empty)}u+=c}return new ChangeSet(o,a)}compose(e){return this.empty?e:e.empty?this:composeSets(this,e,!0)}map(e,o=!1){return e.empty?this:mapSet(this,e,o,!0)}iterChanges(e,o=!1){iterChanges(this,e,o)}get desc(){return ChangeDesc.create(this.sections)}filter(e){let o=[],a=[],l=[],u=new SectionIter(this);e:for(let c=0,f=0;;){let p=c==e.length?1e9:e[c++];for(;f<p||f==p&&u.len==0;){if(u.done)break e;let E=Math.min(u.len,p-f);addSection(l,E,-1);let b=u.ins==-1?-1:u.off==0?u.ins:0;addSection(o,E,b),b>0&&addInsert(a,o,u.text),u.forward(E),f+=E}let T=e[c++];for(;f<T;){if(u.done)break e;let E=Math.min(u.len,T-f);addSection(o,E,-1),addSection(l,E,u.ins==-1?-1:u.off==0?u.ins:0),u.forward(E),f+=E}}return{changes:new ChangeSet(o,a),filtered:ChangeDesc.create(l)}}toJSON(){let e=[];for(let o=0;o<this.sections.length;o+=2){let a=this.sections[o],l=this.sections[o+1];l<0?e.push(a):l==0?e.push([a]):e.push([a].concat(this.inserted[o>>1].toJSON()))}return e}static of(e,o,a){let l=[],u=[],c=0,f=null;function p(E=!1){if(!E&&!l.length)return;c<o&&addSection(l,o-c,-1);let b=new ChangeSet(l,u);f=f?f.compose(b.map(f)):b,l=[],u=[],c=0}function T(E){if(Array.isArray(E))for(let b of E)T(b);else if(E instanceof ChangeSet){if(E.length!=o)throw new RangeError(`Mismatched change set length (got ${E.length}, expected ${o})`);p(),f=f?f.compose(E.map(f)):E}else{let{from:b,to:m=b,insert:y}=E;if(b>m||b<0||m>o)throw new RangeError(`Invalid change range ${b} to ${m} (in doc of length ${o})`);let S=y?typeof y=="string"?Text.of(y.split(a||DefaultSplit)):y:Text.empty,v=S.length;if(b==m&&v==0)return;b<c&&p(),b>c&&addSection(l,b-c,-1),addSection(l,m-b,v),addInsert(u,l,S),c=m}}return T(e),p(!f),f}static empty(e){return new ChangeSet(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let o=[],a=[];for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="number")o.push(u,-1);else{if(!Array.isArray(u)||typeof u[0]!="number"||u.some((c,f)=>f&&typeof c!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(u.length==1)o.push(u[0],0);else{for(;a.length<l;)a.push(Text.empty);a[l]=Text.of(u.slice(1)),o.push(u[0],a[l].length)}}}return new ChangeSet(o,a)}static createSet(e,o){return new ChangeSet(e,o)}}function addSection(n,e,o,a=!1){if(e==0&&o<=0)return;let l=n.length-2;l>=0&&o<=0&&o==n[l+1]?n[l]+=e:l>=0&&e==0&&n[l]==0?n[l+1]+=o:a?(n[l]+=e,n[l+1]+=o):n.push(e,o)}function addInsert(n,e,o){if(o.length==0)return;let a=e.length-2>>1;if(a<n.length)n[n.length-1]=n[n.length-1].append(o);else{for(;n.length<a;)n.push(Text.empty);n.push(o)}}function iterChanges(n,e,o){let a=n.inserted;for(let l=0,u=0,c=0;c<n.sections.length;){let f=n.sections[c++],p=n.sections[c++];if(p<0)l+=f,u+=f;else{let T=l,E=u,b=Text.empty;for(;T+=f,E+=p,p&&a&&(b=b.append(a[c-2>>1])),!(o||c==n.sections.length||n.sections[c+1]<0);)f=n.sections[c++],p=n.sections[c++];e(l,T,u,E,b),l=T,u=E}}}function mapSet(n,e,o,a=!1){let l=[],u=a?[]:null,c=new SectionIter(n),f=new SectionIter(e);for(let p=-1;;){if(c.done&&f.len||f.done&&c.len)throw new Error("Mismatched change set lengths");if(c.ins==-1&&f.ins==-1){let T=Math.min(c.len,f.len);addSection(l,T,-1),c.forward(T),f.forward(T)}else if(f.ins>=0&&(c.ins<0||p==c.i||c.off==0&&(f.len<c.len||f.len==c.len&&!o))){let T=f.len;for(addSection(l,f.ins,-1);T;){let E=Math.min(c.len,T);c.ins>=0&&p<c.i&&c.len<=E&&(addSection(l,0,c.ins),u&&addInsert(u,l,c.text),p=c.i),c.forward(E),T-=E}f.next()}else if(c.ins>=0){let T=0,E=c.len;for(;E;)if(f.ins==-1){let b=Math.min(E,f.len);T+=b,E-=b,f.forward(b)}else if(f.ins==0&&f.len<E)E-=f.len,f.next();else break;addSection(l,T,p<c.i?c.ins:0),u&&p<c.i&&addInsert(u,l,c.text),p=c.i,c.forward(c.len-E)}else{if(c.done&&f.done)return u?ChangeSet.createSet(l,u):ChangeDesc.create(l);throw new Error("Mismatched change set lengths")}}}function composeSets(n,e,o=!1){let a=[],l=o?[]:null,u=new SectionIter(n),c=new SectionIter(e);for(let f=!1;;){if(u.done&&c.done)return l?ChangeSet.createSet(a,l):ChangeDesc.create(a);if(u.ins==0)addSection(a,u.len,0,f),u.next();else if(c.len==0&&!c.done)addSection(a,0,c.ins,f),l&&addInsert(l,a,c.text),c.next();else{if(u.done||c.done)throw new Error("Mismatched change set lengths");{let p=Math.min(u.len2,c.len),T=a.length;if(u.ins==-1){let E=c.ins==-1?-1:c.off?0:c.ins;addSection(a,p,E,f),l&&E&&addInsert(l,a,c.text)}else c.ins==-1?(addSection(a,u.off?0:u.len,p,f),l&&addInsert(l,a,u.textBit(p))):(addSection(a,u.off?0:u.len,c.off?0:c.ins,f),l&&!c.off&&addInsert(l,a,c.text));f=(u.ins>p||c.ins>=0&&c.len>p)&&(f||a.length>T),u.forward2(p),c.forward(p)}}}}class SectionIter{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,o=this.i-2>>1;return o>=e.length?Text.empty:e[o]}textBit(e){let{inserted:o}=this.set,a=this.i-2>>1;return a>=o.length&&!e?Text.empty:o[a].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class SelectionRange{constructor(e,o,a){this.from=e,this.to=o,this.flags=a}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,o=-1){let a,l;return this.empty?a=l=e.mapPos(this.from,o):(a=e.mapPos(this.from,1),l=e.mapPos(this.to,-1)),a==this.from&&l==this.to?this:new SelectionRange(a,l,this.flags)}extend(e,o=e){if(e<=this.anchor&&o>=this.anchor)return EditorSelection.range(e,o);let a=Math.abs(e-this.anchor)>Math.abs(o-this.anchor)?e:o;return EditorSelection.range(this.anchor,a)}eq(e,o=!1){return this.anchor==e.anchor&&this.head==e.head&&(!o||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return EditorSelection.range(e.anchor,e.head)}static create(e,o,a){return new SelectionRange(e,o,a)}}class EditorSelection{constructor(e,o){this.ranges=e,this.mainIndex=o}map(e,o=-1){return e.empty?this:EditorSelection.create(this.ranges.map(a=>a.map(e,o)),this.mainIndex)}eq(e,o=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let a=0;a<this.ranges.length;a++)if(!this.ranges[a].eq(e.ranges[a],o))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new EditorSelection([this.main],0)}addRange(e,o=!0){return EditorSelection.create([e].concat(this.ranges),o?0:this.mainIndex+1)}replaceRange(e,o=this.mainIndex){let a=this.ranges.slice();return a[o]=e,EditorSelection.create(a,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new EditorSelection(e.ranges.map(o=>SelectionRange.fromJSON(o)),e.main)}static single(e,o=e){return new EditorSelection([EditorSelection.range(e,o)],0)}static create(e,o=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let a=0,l=0;l<e.length;l++){let u=e[l];if(u.empty?u.from<=a:u.from<a)return EditorSelection.normalized(e.slice(),o);a=u.to}return new EditorSelection(e,o)}static cursor(e,o=0,a,l){return SelectionRange.create(e,e,(o==0?0:o<0?8:16)|(a==null?7:Math.min(6,a))|(l??16777215)<<6)}static range(e,o,a,l){let u=(a??16777215)<<6|(l==null?7:Math.min(6,l));return o<e?SelectionRange.create(o,e,48|u):SelectionRange.create(e,o,(o>e?8:0)|u)}static normalized(e,o=0){let a=e[o];e.sort((l,u)=>l.from-u.from),o=e.indexOf(a);for(let l=1;l<e.length;l++){let u=e[l],c=e[l-1];if(u.empty?u.from<=c.to:u.from<c.to){let f=c.from,p=Math.max(u.to,c.to);l<=o&&o--,e.splice(--l,2,u.anchor>u.head?EditorSelection.range(p,f):EditorSelection.range(f,p))}}return new EditorSelection(e,o)}}function checkSelection(n,e){for(let o of n.ranges)if(o.to>e)throw new RangeError("Selection points outside of document")}let nextID=0;class Facet{constructor(e,o,a,l,u){this.combine=e,this.compareInput=o,this.compare=a,this.isStatic=l,this.id=nextID++,this.default=e([]),this.extensions=typeof u=="function"?u(this):u}get reader(){return this}static define(e={}){return new Facet(e.combine||(o=>o),e.compareInput||((o,a)=>o===a),e.compare||(e.combine?(o,a)=>o===a:sameArray$1),!!e.static,e.enables)}of(e){return new FacetProvider([],this,0,e)}compute(e,o){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(e,this,1,o)}computeN(e,o){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(e,this,2,o)}from(e,o){return o||(o=a=>a),this.compute([e],a=>o(a.field(e)))}}function sameArray$1(n,e){return n==e||n.length==e.length&&n.every((o,a)=>o===e[a])}class FacetProvider{constructor(e,o,a,l){this.dependencies=e,this.facet=o,this.type=a,this.value=l,this.id=nextID++}dynamicSlot(e){var o;let a=this.value,l=this.facet.compareInput,u=this.id,c=e[u]>>1,f=this.type==2,p=!1,T=!1,E=[];for(let b of this.dependencies)b=="doc"?p=!0:b=="selection"?T=!0:(((o=e[b.id])!==null&&o!==void 0?o:1)&1)==0&&E.push(e[b.id]);return{create(b){return b.values[c]=a(b),1},update(b,m){if(p&&m.docChanged||T&&(m.docChanged||m.selection)||ensureAll(b,E)){let y=a(b);if(f?!compareArray(y,b.values[c],l):!l(y,b.values[c]))return b.values[c]=y,1}return 0},reconfigure:(b,m)=>{let y,S=m.config.address[u];if(S!=null){let v=getAddr(m,S);if(this.dependencies.every(A=>A instanceof Facet?m.facet(A)===b.facet(A):A instanceof StateField?m.field(A,!1)==b.field(A,!1):!0)||(f?compareArray(y=a(b),v,l):l(y=a(b),v)))return b.values[c]=v,0}else y=a(b);return b.values[c]=y,1}}}}function compareArray(n,e,o){if(n.length!=e.length)return!1;for(let a=0;a<n.length;a++)if(!o(n[a],e[a]))return!1;return!0}function ensureAll(n,e){let o=!1;for(let a of e)ensureAddr(n,a)&1&&(o=!0);return o}function dynamicFacetSlot(n,e,o){let a=o.map(p=>n[p.id]),l=o.map(p=>p.type),u=a.filter(p=>!(p&1)),c=n[e.id]>>1;function f(p){let T=[];for(let E=0;E<a.length;E++){let b=getAddr(p,a[E]);if(l[E]==2)for(let m of b)T.push(m);else T.push(b)}return e.combine(T)}return{create(p){for(let T of a)ensureAddr(p,T);return p.values[c]=f(p),1},update(p,T){if(!ensureAll(p,u))return 0;let E=f(p);return e.compare(E,p.values[c])?0:(p.values[c]=E,1)},reconfigure(p,T){let E=ensureAll(p,a),b=T.config.facets[e.id],m=T.facet(e);if(b&&!E&&sameArray$1(o,b))return p.values[c]=m,0;let y=f(p);return e.compare(y,m)?(p.values[c]=m,0):(p.values[c]=y,1)}}}const initField=Facet.define({static:!0});class StateField{constructor(e,o,a,l,u){this.id=e,this.createF=o,this.updateF=a,this.compareF=l,this.spec=u,this.provides=void 0}static define(e){let o=new StateField(nextID++,e.create,e.update,e.compare||((a,l)=>a===l),e);return e.provide&&(o.provides=e.provide(o)),o}create(e){let o=e.facet(initField).find(a=>a.field==this);return((o==null?void 0:o.create)||this.createF)(e)}slot(e){let o=e[this.id]>>1;return{create:a=>(a.values[o]=this.create(a),1),update:(a,l)=>{let u=a.values[o],c=this.updateF(u,l);return this.compareF(u,c)?0:(a.values[o]=c,1)},reconfigure:(a,l)=>{let u=a.facet(initField),c=l.facet(initField),f;return(f=u.find(p=>p.field==this))&&f!=c.find(p=>p.field==this)?(a.values[o]=f.create(a),1):l.config.address[this.id]!=null?(a.values[o]=l.field(this),0):(a.values[o]=this.create(a),1)}}}init(e){return[this,initField.of({field:this,create:e})]}get extension(){return this}}const Prec_={lowest:4,low:3,default:2,high:1,highest:0};function prec(n){return e=>new PrecExtension(e,n)}const Prec={highest:prec(Prec_.highest),high:prec(Prec_.high),default:prec(Prec_.default),low:prec(Prec_.low),lowest:prec(Prec_.lowest)};class PrecExtension{constructor(e,o){this.inner=e,this.prec=o}}class Compartment{of(e){return new CompartmentInstance(this,e)}reconfigure(e){return Compartment.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class CompartmentInstance{constructor(e,o){this.compartment=e,this.inner=o}}class Configuration{constructor(e,o,a,l,u,c){for(this.base=e,this.compartments=o,this.dynamicSlots=a,this.address=l,this.staticValues=u,this.facets=c,this.statusTemplate=[];this.statusTemplate.length<a.length;)this.statusTemplate.push(0)}staticFacet(e){let o=this.address[e.id];return o==null?e.default:this.staticValues[o>>1]}static resolve(e,o,a){let l=[],u=Object.create(null),c=new Map;for(let m of flatten(e,o,c))m instanceof StateField?l.push(m):(u[m.facet.id]||(u[m.facet.id]=[])).push(m);let f=Object.create(null),p=[],T=[];for(let m of l)f[m.id]=T.length<<1,T.push(y=>m.slot(y));let E=a==null?void 0:a.config.facets;for(let m in u){let y=u[m],S=y[0].facet,v=E&&E[m]||[];if(y.every(A=>A.type==0))if(f[S.id]=p.length<<1|1,sameArray$1(v,y))p.push(a.facet(S));else{let A=S.combine(y.map(w=>w.value));p.push(a&&S.compare(A,a.facet(S))?a.facet(S):A)}else{for(let A of y)A.type==0?(f[A.id]=p.length<<1|1,p.push(A.value)):(f[A.id]=T.length<<1,T.push(w=>A.dynamicSlot(w)));f[S.id]=T.length<<1,T.push(A=>dynamicFacetSlot(A,S,y))}}let b=T.map(m=>m(f));return new Configuration(e,c,b,f,p,u)}}function flatten(n,e,o){let a=[[],[],[],[],[]],l=new Map;function u(c,f){let p=l.get(c);if(p!=null){if(p<=f)return;let T=a[p].indexOf(c);T>-1&&a[p].splice(T,1),c instanceof CompartmentInstance&&o.delete(c.compartment)}if(l.set(c,f),Array.isArray(c))for(let T of c)u(T,f);else if(c instanceof CompartmentInstance){if(o.has(c.compartment))throw new RangeError("Duplicate use of compartment in extensions");let T=e.get(c.compartment)||c.inner;o.set(c.compartment,T),u(T,f)}else if(c instanceof PrecExtension)u(c.inner,c.prec);else if(c instanceof StateField)a[f].push(c),c.provides&&u(c.provides,f);else if(c instanceof FacetProvider)a[f].push(c),c.facet.extensions&&u(c.facet.extensions,Prec_.default);else{let T=c.extension;if(!T)throw new Error(`Unrecognized extension value in extension set (${c}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);u(T,f)}}return u(n,Prec_.default),a.reduce((c,f)=>c.concat(f))}function ensureAddr(n,e){if(e&1)return 2;let o=e>>1,a=n.status[o];if(a==4)throw new Error("Cyclic dependency between fields and/or facets");if(a&2)return a;n.status[o]=4;let l=n.computeSlot(n,n.config.dynamicSlots[o]);return n.status[o]=2|l}function getAddr(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const languageData=Facet.define(),allowMultipleSelections=Facet.define({combine:n=>n.some(e=>e),static:!0}),lineSeparator=Facet.define({combine:n=>n.length?n[0]:void 0,static:!0}),changeFilter=Facet.define(),transactionFilter=Facet.define(),transactionExtender=Facet.define(),readOnly=Facet.define({combine:n=>n.length?n[0]:!1});class Annotation{constructor(e,o){this.type=e,this.value=o}static define(){return new AnnotationType}}class AnnotationType{of(e){return new Annotation(this,e)}}class StateEffectType{constructor(e){this.map=e}of(e){return new StateEffect(this,e)}}class StateEffect{constructor(e,o){this.type=e,this.value=o}map(e){let o=this.type.map(this.value,e);return o===void 0?void 0:o==this.value?this:new StateEffect(this.type,o)}is(e){return this.type==e}static define(e={}){return new StateEffectType(e.map||(o=>o))}static mapEffects(e,o){if(!e.length)return e;let a=[];for(let l of e){let u=l.map(o);u&&a.push(u)}return a}}StateEffect.reconfigure=StateEffect.define();StateEffect.appendConfig=StateEffect.define();class Transaction{constructor(e,o,a,l,u,c){this.startState=e,this.changes=o,this.selection=a,this.effects=l,this.annotations=u,this.scrollIntoView=c,this._doc=null,this._state=null,a&&checkSelection(a,o.newLength),u.some(f=>f.type==Transaction.time)||(this.annotations=u.concat(Transaction.time.of(Date.now())))}static create(e,o,a,l,u,c){return new Transaction(e,o,a,l,u,c)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let o of this.annotations)if(o.type==e)return o.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let o=this.annotation(Transaction.userEvent);return!!(o&&(o==e||o.length>e.length&&o.slice(0,e.length)==e&&o[e.length]=="."))}}Transaction.time=Annotation.define();Transaction.userEvent=Annotation.define();Transaction.addToHistory=Annotation.define();Transaction.remote=Annotation.define();function joinRanges(n,e){let o=[];for(let a=0,l=0;;){let u,c;if(a<n.length&&(l==e.length||e[l]>=n[a]))u=n[a++],c=n[a++];else if(l<e.length)u=e[l++],c=e[l++];else return o;!o.length||o[o.length-1]<u?o.push(u,c):o[o.length-1]<c&&(o[o.length-1]=c)}}function mergeTransaction(n,e,o){var a;let l,u,c;return o?(l=e.changes,u=ChangeSet.empty(e.changes.length),c=n.changes.compose(e.changes)):(l=e.changes.map(n.changes),u=n.changes.mapDesc(e.changes,!0),c=n.changes.compose(l)),{changes:c,selection:e.selection?e.selection.map(u):(a=n.selection)===null||a===void 0?void 0:a.map(l),effects:StateEffect.mapEffects(n.effects,l).concat(StateEffect.mapEffects(e.effects,u)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function resolveTransactionInner(n,e,o){let a=e.selection,l=asArray$1(e.annotations);return e.userEvent&&(l=l.concat(Transaction.userEvent.of(e.userEvent))),{changes:e.changes instanceof ChangeSet?e.changes:ChangeSet.of(e.changes||[],o,n.facet(lineSeparator)),selection:a&&(a instanceof EditorSelection?a:EditorSelection.single(a.anchor,a.head)),effects:asArray$1(e.effects),annotations:l,scrollIntoView:!!e.scrollIntoView}}function resolveTransaction(n,e,o){let a=resolveTransactionInner(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(o=!1);for(let u=1;u<e.length;u++){e[u].filter===!1&&(o=!1);let c=!!e[u].sequential;a=mergeTransaction(a,resolveTransactionInner(n,e[u],c?a.changes.newLength:n.doc.length),c)}let l=Transaction.create(n,a.changes,a.selection,a.effects,a.annotations,a.scrollIntoView);return extendTransaction(o?filterTransaction(l):l)}function filterTransaction(n){let e=n.startState,o=!0;for(let l of e.facet(changeFilter)){let u=l(n);if(u===!1){o=!1;break}Array.isArray(u)&&(o=o===!0?u:joinRanges(o,u))}if(o!==!0){let l,u;if(o===!1)u=n.changes.invertedDesc,l=ChangeSet.empty(e.doc.length);else{let c=n.changes.filter(o);l=c.changes,u=c.filtered.mapDesc(c.changes).invertedDesc}n=Transaction.create(e,l,n.selection&&n.selection.map(u),StateEffect.mapEffects(n.effects,u),n.annotations,n.scrollIntoView)}let a=e.facet(transactionFilter);for(let l=a.length-1;l>=0;l--){let u=a[l](n);u instanceof Transaction?n=u:Array.isArray(u)&&u.length==1&&u[0]instanceof Transaction?n=u[0]:n=resolveTransaction(e,asArray$1(u),!1)}return n}function extendTransaction(n){let e=n.startState,o=e.facet(transactionExtender),a=n;for(let l=o.length-1;l>=0;l--){let u=o[l](n);u&&Object.keys(u).length&&(a=mergeTransaction(a,resolveTransactionInner(e,u,n.changes.newLength),!0))}return a==n?n:Transaction.create(e,n.changes,n.selection,a.effects,a.annotations,a.scrollIntoView)}const none$2=[];function asArray$1(n){return n==null?none$2:Array.isArray(n)?n:[n]}var CharCategory=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(CharCategory||(CharCategory={}));const nonASCIISingleCaseWordChar=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let wordChar;try{wordChar=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(n){}function hasWordChar(n){if(wordChar)return wordChar.test(n);for(let e=0;e<n.length;e++){let o=n[e];if(/\w/.test(o)||o>""&&(o.toUpperCase()!=o.toLowerCase()||nonASCIISingleCaseWordChar.test(o)))return!0}return!1}function makeCategorizer(n){return e=>{if(!/\S/.test(e))return CharCategory.Space;if(hasWordChar(e))return CharCategory.Word;for(let o=0;o<n.length;o++)if(e.indexOf(n[o])>-1)return CharCategory.Word;return CharCategory.Other}}class EditorState{constructor(e,o,a,l,u,c){this.config=e,this.doc=o,this.selection=a,this.values=l,this.status=e.statusTemplate.slice(),this.computeSlot=u,c&&(c._state=this);for(let f=0;f<this.config.dynamicSlots.length;f++)ensureAddr(this,f<<1);this.computeSlot=null}field(e,o=!0){let a=this.config.address[e.id];if(a==null){if(o)throw new RangeError("Field is not present in this state");return}return ensureAddr(this,a),getAddr(this,a)}update(...e){return resolveTransaction(this,e,!0)}applyTransaction(e){let o=this.config,{base:a,compartments:l}=o;for(let f of e.effects)f.is(Compartment.reconfigure)?(o&&(l=new Map,o.compartments.forEach((p,T)=>l.set(T,p)),o=null),l.set(f.value.compartment,f.value.extension)):f.is(StateEffect.reconfigure)?(o=null,a=f.value):f.is(StateEffect.appendConfig)&&(o=null,a=asArray$1(a).concat(f.value));let u;o?u=e.startState.values.slice():(o=Configuration.resolve(a,l,this),u=new EditorState(o,this.doc,this.selection,o.dynamicSlots.map(()=>null),(p,T)=>T.reconfigure(p,this),null).values);let c=e.startState.facet(allowMultipleSelections)?e.newSelection:e.newSelection.asSingle();new EditorState(o,e.newDoc,c,u,(f,p)=>p.update(f,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(o=>({changes:{from:o.from,to:o.to,insert:e},range:EditorSelection.cursor(o.from+e.length)}))}changeByRange(e){let o=this.selection,a=e(o.ranges[0]),l=this.changes(a.changes),u=[a.range],c=asArray$1(a.effects);for(let f=1;f<o.ranges.length;f++){let p=e(o.ranges[f]),T=this.changes(p.changes),E=T.map(l);for(let m=0;m<f;m++)u[m]=u[m].map(E);let b=l.mapDesc(T,!0);u.push(p.range.map(b)),l=l.compose(E),c=StateEffect.mapEffects(c,E).concat(StateEffect.mapEffects(asArray$1(p.effects),b))}return{changes:l,selection:EditorSelection.create(u,o.mainIndex),effects:c}}changes(e=[]){return e instanceof ChangeSet?e:ChangeSet.of(e,this.doc.length,this.facet(EditorState.lineSeparator))}toText(e){return Text.of(e.split(this.facet(EditorState.lineSeparator)||DefaultSplit))}sliceDoc(e=0,o=this.doc.length){return this.doc.sliceString(e,o,this.lineBreak)}facet(e){let o=this.config.address[e.id];return o==null?e.default:(ensureAddr(this,o),getAddr(this,o))}toJSON(e){let o={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let a in e){let l=e[a];l instanceof StateField&&this.config.address[l.id]!=null&&(o[a]=l.spec.toJSON(this.field(e[a]),this))}return o}static fromJSON(e,o={},a){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let l=[];if(a){for(let u in a)if(Object.prototype.hasOwnProperty.call(e,u)){let c=a[u],f=e[u];l.push(c.init(p=>c.spec.fromJSON(f,p)))}}return EditorState.create({doc:e.doc,selection:EditorSelection.fromJSON(e.selection),extensions:o.extensions?l.concat([o.extensions]):l})}static create(e={}){let o=Configuration.resolve(e.extensions||[],new Map),a=e.doc instanceof Text?e.doc:Text.of((e.doc||"").split(o.staticFacet(EditorState.lineSeparator)||DefaultSplit)),l=e.selection?e.selection instanceof EditorSelection?e.selection:EditorSelection.single(e.selection.anchor,e.selection.head):EditorSelection.single(0);return checkSelection(l,a.length),o.staticFacet(allowMultipleSelections)||(l=l.asSingle()),new EditorState(o,a,l,o.dynamicSlots.map(()=>null),(u,c)=>c.create(u),null)}get tabSize(){return this.facet(EditorState.tabSize)}get lineBreak(){return this.facet(EditorState.lineSeparator)||`
`}get readOnly(){return this.facet(readOnly)}phrase(e,...o){for(let a of this.facet(EditorState.phrases))if(Object.prototype.hasOwnProperty.call(a,e)){e=a[e];break}return o.length&&(e=e.replace(/\$(\$|\d*)/g,(a,l)=>{if(l=="$")return"$";let u=+(l||1);return!u||u>o.length?a:o[u-1]})),e}languageDataAt(e,o,a=-1){let l=[];for(let u of this.facet(languageData))for(let c of u(this,o,a))Object.prototype.hasOwnProperty.call(c,e)&&l.push(c[e]);return l}charCategorizer(e){return makeCategorizer(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:o,from:a,length:l}=this.doc.lineAt(e),u=this.charCategorizer(e),c=e-a,f=e-a;for(;c>0;){let p=findClusterBreak(o,c,!1);if(u(o.slice(p,c))!=CharCategory.Word)break;c=p}for(;f<l;){let p=findClusterBreak(o,f);if(u(o.slice(f,p))!=CharCategory.Word)break;f=p}return c==f?null:EditorSelection.range(c+a,f+a)}}EditorState.allowMultipleSelections=allowMultipleSelections;EditorState.tabSize=Facet.define({combine:n=>n.length?n[0]:4});EditorState.lineSeparator=lineSeparator;EditorState.readOnly=readOnly;EditorState.phrases=Facet.define({compare(n,e){let o=Object.keys(n),a=Object.keys(e);return o.length==a.length&&o.every(l=>n[l]==e[l])}});EditorState.languageData=languageData;EditorState.changeFilter=changeFilter;EditorState.transactionFilter=transactionFilter;EditorState.transactionExtender=transactionExtender;Compartment.reconfigure=StateEffect.define();function combineConfig(n,e,o={}){let a={};for(let l of n)for(let u of Object.keys(l)){let c=l[u],f=a[u];if(f===void 0)a[u]=c;else if(!(f===c||c===void 0))if(Object.hasOwnProperty.call(o,u))a[u]=o[u](f,c);else throw new Error("Config merge conflict for field "+u)}for(let l in e)a[l]===void 0&&(a[l]=e[l]);return a}class RangeValue{eq(e){return this==e}range(e,o=e){return Range$1.create(e,o,this)}}RangeValue.prototype.startSide=RangeValue.prototype.endSide=0;RangeValue.prototype.point=!1;RangeValue.prototype.mapMode=MapMode.TrackDel;let Range$1=class Sc{constructor(e,o,a){this.from=e,this.to=o,this.value=a}static create(e,o,a){return new Sc(e,o,a)}};function cmpRange(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class Chunk{constructor(e,o,a,l){this.from=e,this.to=o,this.value=a,this.maxPoint=l}get length(){return this.to[this.to.length-1]}findIndex(e,o,a,l=0){let u=a?this.to:this.from;for(let c=l,f=u.length;;){if(c==f)return c;let p=c+f>>1,T=u[p]-e||(a?this.value[p].endSide:this.value[p].startSide)-o;if(p==c)return T>=0?c:f;T>=0?f=p:c=p+1}}between(e,o,a,l){for(let u=this.findIndex(o,-1e9,!0),c=this.findIndex(a,1e9,!1,u);u<c;u++)if(l(this.from[u]+e,this.to[u]+e,this.value[u])===!1)return!1}map(e,o){let a=[],l=[],u=[],c=-1,f=-1;for(let p=0;p<this.value.length;p++){let T=this.value[p],E=this.from[p]+e,b=this.to[p]+e,m,y;if(E==b){let S=o.mapPos(E,T.startSide,T.mapMode);if(S==null||(m=y=S,T.startSide!=T.endSide&&(y=o.mapPos(E,T.endSide),y<m)))continue}else if(m=o.mapPos(E,T.startSide),y=o.mapPos(b,T.endSide),m>y||m==y&&T.startSide>0&&T.endSide<=0)continue;(y-m||T.endSide-T.startSide)<0||(c<0&&(c=m),T.point&&(f=Math.max(f,y-m)),a.push(T),l.push(m-c),u.push(y-c))}return{mapped:a.length?new Chunk(l,u,a,f):null,pos:c}}}class RangeSet{constructor(e,o,a,l){this.chunkPos=e,this.chunk=o,this.nextLayer=a,this.maxPoint=l}static create(e,o,a,l){return new RangeSet(e,o,a,l)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let o of this.chunk)e+=o.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:o=[],sort:a=!1,filterFrom:l=0,filterTo:u=this.length}=e,c=e.filter;if(o.length==0&&!c)return this;if(a&&(o=o.slice().sort(cmpRange)),this.isEmpty)return o.length?RangeSet.of(o):this;let f=new LayerCursor(this,null,-1).goto(0),p=0,T=[],E=new RangeSetBuilder;for(;f.value||p<o.length;)if(p<o.length&&(f.from-o[p].from||f.startSide-o[p].value.startSide)>=0){let b=o[p++];E.addInner(b.from,b.to,b.value)||T.push(b)}else f.rangeIndex==1&&f.chunkIndex<this.chunk.length&&(p==o.length||this.chunkEnd(f.chunkIndex)<o[p].from)&&(!c||l>this.chunkEnd(f.chunkIndex)||u<this.chunkPos[f.chunkIndex])&&E.addChunk(this.chunkPos[f.chunkIndex],this.chunk[f.chunkIndex])?f.nextChunk():((!c||l>f.to||u<f.from||c(f.from,f.to,f.value))&&(E.addInner(f.from,f.to,f.value)||T.push(Range$1.create(f.from,f.to,f.value))),f.next());return E.finishInner(this.nextLayer.isEmpty&&!T.length?RangeSet.empty:this.nextLayer.update({add:T,filter:c,filterFrom:l,filterTo:u}))}map(e){if(e.empty||this.isEmpty)return this;let o=[],a=[],l=-1;for(let c=0;c<this.chunk.length;c++){let f=this.chunkPos[c],p=this.chunk[c],T=e.touchesRange(f,f+p.length);if(T===!1)l=Math.max(l,p.maxPoint),o.push(p),a.push(e.mapPos(f));else if(T===!0){let{mapped:E,pos:b}=p.map(f,e);E&&(l=Math.max(l,E.maxPoint),o.push(E),a.push(b))}}let u=this.nextLayer.map(e);return o.length==0?u:new RangeSet(a,o,u||RangeSet.empty,l)}between(e,o,a){if(!this.isEmpty){for(let l=0;l<this.chunk.length;l++){let u=this.chunkPos[l],c=this.chunk[l];if(o>=u&&e<=u+c.length&&c.between(u,e-u,o-u,a)===!1)return}this.nextLayer.between(e,o,a)}}iter(e=0){return HeapCursor.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,o=0){return HeapCursor.from(e).goto(o)}static compare(e,o,a,l,u=-1){let c=e.filter(b=>b.maxPoint>0||!b.isEmpty&&b.maxPoint>=u),f=o.filter(b=>b.maxPoint>0||!b.isEmpty&&b.maxPoint>=u),p=findSharedChunks(c,f,a),T=new SpanCursor(c,p,u),E=new SpanCursor(f,p,u);a.iterGaps((b,m,y)=>compare(T,b,E,m,y,l)),a.empty&&a.length==0&&compare(T,0,E,0,0,l)}static eq(e,o,a=0,l){l==null&&(l=999999999);let u=e.filter(E=>!E.isEmpty&&o.indexOf(E)<0),c=o.filter(E=>!E.isEmpty&&e.indexOf(E)<0);if(u.length!=c.length)return!1;if(!u.length)return!0;let f=findSharedChunks(u,c),p=new SpanCursor(u,f,0).goto(a),T=new SpanCursor(c,f,0).goto(a);for(;;){if(p.to!=T.to||!sameValues(p.active,T.active)||p.point&&(!T.point||!p.point.eq(T.point)))return!1;if(p.to>l)return!0;p.next(),T.next()}}static spans(e,o,a,l,u=-1){let c=new SpanCursor(e,null,u).goto(o),f=o,p=c.openStart;for(;;){let T=Math.min(c.to,a);if(c.point){let E=c.activeForPoint(c.to),b=c.pointFrom<o?E.length+1:c.point.startSide<0?E.length:Math.min(E.length,p);l.point(f,T,c.point,E,b,c.pointRank),p=Math.min(c.openEnd(T),E.length)}else T>f&&(l.span(f,T,c.active,p),p=c.openEnd(T));if(c.to>a)return p+(c.point&&c.to>a?1:0);f=c.to,c.next()}}static of(e,o=!1){let a=new RangeSetBuilder;for(let l of e instanceof Range$1?[e]:o?lazySort(e):e)a.add(l.from,l.to,l.value);return a.finish()}static join(e){if(!e.length)return RangeSet.empty;let o=e[e.length-1];for(let a=e.length-2;a>=0;a--)for(let l=e[a];l!=RangeSet.empty;l=l.nextLayer)o=new RangeSet(l.chunkPos,l.chunk,o,Math.max(l.maxPoint,o.maxPoint));return o}}RangeSet.empty=new RangeSet([],[],null,-1);function lazySort(n){if(n.length>1)for(let e=n[0],o=1;o<n.length;o++){let a=n[o];if(cmpRange(e,a)>0)return n.slice().sort(cmpRange);e=a}return n}RangeSet.empty.nextLayer=RangeSet.empty;class RangeSetBuilder{finishChunk(e){this.chunks.push(new Chunk(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,o,a){this.addInner(e,o,a)||(this.nextLayer||(this.nextLayer=new RangeSetBuilder)).add(e,o,a)}addInner(e,o,a){let l=e-this.lastTo||a.startSide-this.last.endSide;if(l<=0&&(e-this.lastFrom||a.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return l<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(o-this.chunkStart),this.last=a,this.lastFrom=e,this.lastTo=o,this.value.push(a),a.point&&(this.maxPoint=Math.max(this.maxPoint,o-e)),!0)}addChunk(e,o){if((e-this.lastTo||o.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,o.maxPoint),this.chunks.push(o),this.chunkPos.push(e);let a=o.value.length-1;return this.last=o.value[a],this.lastFrom=o.from[a]+e,this.lastTo=o.to[a]+e,!0}finish(){return this.finishInner(RangeSet.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let o=RangeSet.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,o}}function findSharedChunks(n,e,o){let a=new Map;for(let u of n)for(let c=0;c<u.chunk.length;c++)u.chunk[c].maxPoint<=0&&a.set(u.chunk[c],u.chunkPos[c]);let l=new Set;for(let u of e)for(let c=0;c<u.chunk.length;c++){let f=a.get(u.chunk[c]);f!=null&&(o?o.mapPos(f):f)==u.chunkPos[c]&&!(o!=null&&o.touchesRange(f,f+u.chunk[c].length))&&l.add(u.chunk[c])}return l}class LayerCursor{constructor(e,o,a,l=0){this.layer=e,this.skip=o,this.minPoint=a,this.rank=l}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,o=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,o,!1),this}gotoInner(e,o,a){for(;this.chunkIndex<this.layer.chunk.length;){let l=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(l)||this.layer.chunkEnd(this.chunkIndex)<e||l.maxPoint<this.minPoint))break;this.chunkIndex++,a=!1}if(this.chunkIndex<this.layer.chunk.length){let l=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],o,!0);(!a||this.rangeIndex<l)&&this.setRangeIndex(l)}this.next()}forward(e,o){(this.to-e||this.endSide-o)<0&&this.gotoInner(e,o,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],o=this.layer.chunk[this.chunkIndex],a=e+o.from[this.rangeIndex];if(this.from=a,this.to=e+o.to[this.rangeIndex],this.value=o.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class HeapCursor{constructor(e){this.heap=e}static from(e,o=null,a=-1){let l=[];for(let u=0;u<e.length;u++)for(let c=e[u];!c.isEmpty;c=c.nextLayer)c.maxPoint>=a&&l.push(new LayerCursor(c,o,a,u));return l.length==1?l[0]:new HeapCursor(l)}get startSide(){return this.value?this.value.startSide:0}goto(e,o=-1e9){for(let a of this.heap)a.goto(e,o);for(let a=this.heap.length>>1;a>=0;a--)heapBubble(this.heap,a);return this.next(),this}forward(e,o){for(let a of this.heap)a.forward(e,o);for(let a=this.heap.length>>1;a>=0;a--)heapBubble(this.heap,a);(this.to-e||this.value.endSide-o)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),heapBubble(this.heap,0)}}}function heapBubble(n,e){for(let o=n[e];;){let a=(e<<1)+1;if(a>=n.length)break;let l=n[a];if(a+1<n.length&&l.compare(n[a+1])>=0&&(l=n[a+1],a++),o.compare(l)<0)break;n[a]=o,n[e]=l,e=a}}class SpanCursor{constructor(e,o,a){this.minPoint=a,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=HeapCursor.from(e,o,a)}goto(e,o=-1e9){return this.cursor.goto(e,o),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=o,this.openStart=-1,this.next(),this}forward(e,o){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-o)<0;)this.removeActive(this.minActive);this.cursor.forward(e,o)}removeActive(e){remove(this.active,e),remove(this.activeTo,e),remove(this.activeRank,e),this.minActive=findMinIndex(this.active,this.activeTo)}addActive(e){let o=0,{value:a,to:l,rank:u}=this.cursor;for(;o<this.activeRank.length&&(u-this.activeRank[o]||l-this.activeTo[o])>0;)o++;insert(this.active,o,a),insert(this.activeTo,o,l),insert(this.activeRank,o,u),e&&insert(e,o,this.cursor.from),this.minActive=findMinIndex(this.active,this.activeTo)}next(){let e=this.to,o=this.point;this.point=null;let a=this.openStart<0?[]:null;for(;;){let l=this.minActive;if(l>-1&&(this.activeTo[l]-this.cursor.from||this.active[l].endSide-this.cursor.startSide)<0){if(this.activeTo[l]>e){this.to=this.activeTo[l],this.endSide=this.active[l].endSide;break}this.removeActive(l),a&&remove(a,l)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let u=this.cursor.value;if(!u.point)this.addActive(a),this.cursor.next();else if(o&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=u,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=u.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(a){this.openStart=0;for(let l=a.length-1;l>=0&&a[l]<e;l--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let o=[];for(let a=this.active.length-1;a>=0&&!(this.activeRank[a]<this.pointRank);a--)(this.activeTo[a]>e||this.activeTo[a]==e&&this.active[a].endSide>=this.point.endSide)&&o.push(this.active[a]);return o.reverse()}openEnd(e){let o=0;for(let a=this.activeTo.length-1;a>=0&&this.activeTo[a]>e;a--)o++;return o}}function compare(n,e,o,a,l,u){n.goto(e),o.goto(a);let c=a+l,f=a,p=a-e;for(;;){let T=n.to+p-o.to,E=T||n.endSide-o.endSide,b=E<0?n.to+p:o.to,m=Math.min(b,c);if(n.point||o.point?n.point&&o.point&&(n.point==o.point||n.point.eq(o.point))&&sameValues(n.activeForPoint(n.to),o.activeForPoint(o.to))||u.comparePoint(f,m,n.point,o.point):m>f&&!sameValues(n.active,o.active)&&u.compareRange(f,m,n.active,o.active),b>c)break;(T||n.openEnd!=o.openEnd)&&u.boundChange&&u.boundChange(b),f=b,E<=0&&n.next(),E>=0&&o.next()}}function sameValues(n,e){if(n.length!=e.length)return!1;for(let o=0;o<n.length;o++)if(n[o]!=e[o]&&!n[o].eq(e[o]))return!1;return!0}function remove(n,e){for(let o=e,a=n.length-1;o<a;o++)n[o]=n[o+1];n.pop()}function insert(n,e,o){for(let a=n.length-1;a>=e;a--)n[a+1]=n[a];n[e]=o}function findMinIndex(n,e){let o=-1,a=1e9;for(let l=0;l<e.length;l++)(e[l]-a||n[l].endSide-n[o].endSide)<0&&(o=l,a=e[l]);return o}function countColumn(n,e,o=n.length){let a=0;for(let l=0;l<o&&l<n.length;)n.charCodeAt(l)==9?(a+=e-a%e,l++):(a++,l=findClusterBreak(n,l));return a}function findColumn(n,e,o,a){for(let l=0,u=0;;){if(u>=e)return l;if(l==n.length)break;u+=n.charCodeAt(l)==9?o-u%o:1,l=findClusterBreak(n,l)}return a===!0?-1:n.length}const C="",COUNT=typeof Symbol>"u"?"__"+C:Symbol.for(C),SET=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),top=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class StyleModule{constructor(e,o){this.rules=[];let{finish:a}=o||{};function l(c){return/^@/.test(c)?[c]:c.split(/,\s*/)}function u(c,f,p,T){let E=[],b=/^@(\w+)\b/.exec(c[0]),m=b&&b[1]=="keyframes";if(b&&f==null)return p.push(c[0]+";");for(let y in f){let S=f[y];if(/&/.test(y))u(y.split(/,\s*/).map(v=>c.map(A=>v.replace(/&/,A))).reduce((v,A)=>v.concat(A)),S,p);else if(S&&typeof S=="object"){if(!b)throw new RangeError("The value of a property ("+y+") should be a primitive value.");u(l(y),S,E,m)}else S!=null&&E.push(y.replace(/_.*/,"").replace(/[A-Z]/g,v=>"-"+v.toLowerCase())+": "+S+";")}(E.length||m)&&p.push((a&&!b&&!T?c.map(a):c).join(", ")+" {"+E.join(" ")+"}")}for(let c in e)u(l(c),e[c],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=top[COUNT]||1;return top[COUNT]=e+1,C+e.toString(36)}static mount(e,o,a){let l=e[SET],u=a&&a.nonce;l?u&&l.setNonce(u):l=new StyleSet(e,u),l.mount(Array.isArray(o)?o:[o],e)}}let adoptedSet=new Map;class StyleSet{constructor(e,o){let a=e.ownerDocument||e,l=a.defaultView;if(!e.head&&e.adoptedStyleSheets&&l.CSSStyleSheet){let u=adoptedSet.get(a);if(u)return e[SET]=u;this.sheet=new l.CSSStyleSheet,adoptedSet.set(a,this)}else this.styleTag=a.createElement("style"),o&&this.styleTag.setAttribute("nonce",o);this.modules=[],e[SET]=this}mount(e,o){let a=this.sheet,l=0,u=0;for(let c=0;c<e.length;c++){let f=e[c],p=this.modules.indexOf(f);if(p<u&&p>-1&&(this.modules.splice(p,1),u--,p=-1),p==-1){if(this.modules.splice(u++,0,f),a)for(let T=0;T<f.rules.length;T++)a.insertRule(f.rules[T],l++)}else{for(;u<p;)l+=this.modules[u++].rules.length;l+=f.rules.length,u++}}if(a)o.adoptedStyleSheets.indexOf(this.sheet)<0&&(o.adoptedStyleSheets=[this.sheet,...o.adoptedStyleSheets]);else{let c="";for(let p=0;p<this.modules.length;p++)c+=this.modules[p].getRules()+`
`;this.styleTag.textContent=c;let f=o.head||o;this.styleTag.parentNode!=f&&f.insertBefore(this.styleTag,f.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mac=typeof navigator<"u"&&/Mac/.test(navigator.platform),ie$1=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var i$1=0;i$1<10;i$1++)base[48+i$1]=base[96+i$1]=String(i$1);for(var i$1=1;i$1<=24;i$1++)base[i$1+111]="F"+i$1;for(var i$1=65;i$1<=90;i$1++)base[i$1]=String.fromCharCode(i$1+32),shift[i$1]=String.fromCharCode(i$1);for(var code in base)shift.hasOwnProperty(code)||(shift[code]=base[code]);function keyName(n){var e=mac&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||ie$1&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",o=!e&&n.key||(n.shiftKey?shift:base)[n.keyCode]||n.key||"Unidentified";return o=="Esc"&&(o="Escape"),o=="Del"&&(o="Delete"),o=="Left"&&(o="ArrowLeft"),o=="Up"&&(o="ArrowUp"),o=="Right"&&(o="ArrowRight"),o=="Down"&&(o="ArrowDown"),o}function crelt(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,o=arguments[1];if(o&&typeof o=="object"&&o.nodeType==null&&!Array.isArray(o)){for(var a in o)if(Object.prototype.hasOwnProperty.call(o,a)){var l=o[a];typeof l=="string"?n.setAttribute(a,l):l!=null&&(n[a]=l)}e++}for(;e<arguments.length;e++)add(n,arguments[e]);return n}function add(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var o=0;o<e.length;o++)add(n,e[o]);else throw new RangeError("Unsupported child node: "+e)}function getSelection(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function contains(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function hasSelection(n,e){if(!e.anchorNode)return!1;try{return contains(n,e.anchorNode)}catch{return!1}}function clientRectsFor(n){return n.nodeType==3?textRange(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function isEquivalentPosition(n,e,o,a){return o?scanFor(n,e,o,a,-1)||scanFor(n,e,o,a,1):!1}function domIndex(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function isBlockElement(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function scanFor(n,e,o,a,l){for(;;){if(n==o&&e==a)return!0;if(e==(l<0?0:maxOffset(n))){if(n.nodeName=="DIV")return!1;let u=n.parentNode;if(!u||u.nodeType!=1)return!1;e=domIndex(n)+(l<0?0:1),n=u}else if(n.nodeType==1){if(n=n.childNodes[e+(l<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=l<0?maxOffset(n):0}else return!1}}function maxOffset(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function flattenRect(n,e){let o=e?n.left:n.right;return{left:o,right:o,top:n.top,bottom:n.bottom}}function windowRect(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function getScale(n,e){let o=e.width/n.offsetWidth,a=e.height/n.offsetHeight;return(o>.995&&o<1.005||!isFinite(o)||Math.abs(e.width-n.offsetWidth)<1)&&(o=1),(a>.995&&a<1.005||!isFinite(a)||Math.abs(e.height-n.offsetHeight)<1)&&(a=1),{scaleX:o,scaleY:a}}function scrollRectIntoView(n,e,o,a,l,u,c,f){let p=n.ownerDocument,T=p.defaultView||window;for(let E=n,b=!1;E&&!b;)if(E.nodeType==1){let m,y=E==p.body,S=1,v=1;if(y)m=windowRect(T);else{if(/^(fixed|sticky)$/.test(getComputedStyle(E).position)&&(b=!0),E.scrollHeight<=E.clientHeight&&E.scrollWidth<=E.clientWidth){E=E.assignedSlot||E.parentNode;continue}let R=E.getBoundingClientRect();({scaleX:S,scaleY:v}=getScale(E,R)),m={left:R.left,right:R.left+E.clientWidth*S,top:R.top,bottom:R.top+E.clientHeight*v}}let A=0,w=0;if(l=="nearest")e.top<m.top?(w=e.top-(m.top+c),o>0&&e.bottom>m.bottom+w&&(w=e.bottom-m.bottom+c)):e.bottom>m.bottom&&(w=e.bottom-m.bottom+c,o<0&&e.top-w<m.top&&(w=e.top-(m.top+c)));else{let R=e.bottom-e.top,P=m.bottom-m.top;w=(l=="center"&&R<=P?e.top+R/2-P/2:l=="start"||l=="center"&&o<0?e.top-c:e.bottom-P+c)-m.top}if(a=="nearest"?e.left<m.left?(A=e.left-(m.left+u),o>0&&e.right>m.right+A&&(A=e.right-m.right+u)):e.right>m.right&&(A=e.right-m.right+u,o<0&&e.left<m.left+A&&(A=e.left-(m.left+u))):A=(a=="center"?e.left+(e.right-e.left)/2-(m.right-m.left)/2:a=="start"==f?e.left-u:e.right-(m.right-m.left)+u)-m.left,A||w)if(y)T.scrollBy(A,w);else{let R=0,P=0;if(w){let F=E.scrollTop;E.scrollTop+=w/v,P=(E.scrollTop-F)*v}if(A){let F=E.scrollLeft;E.scrollLeft+=A/S,R=(E.scrollLeft-F)*S}e={left:e.left-R,top:e.top-P,right:e.right-R,bottom:e.bottom-P},R&&Math.abs(R-A)<1&&(a="nearest"),P&&Math.abs(P-w)<1&&(l="nearest")}if(y)break;(e.top<m.top||e.bottom>m.bottom||e.left<m.left||e.right>m.right)&&(e={left:Math.max(e.left,m.left),right:Math.min(e.right,m.right),top:Math.max(e.top,m.top),bottom:Math.min(e.bottom,m.bottom)}),E=E.assignedSlot||E.parentNode}else if(E.nodeType==11)E=E.host;else break}function scrollableParents(n){let e=n.ownerDocument,o,a;for(let l=n.parentNode;l&&!(l==e.body||o&&a);)if(l.nodeType==1)!a&&l.scrollHeight>l.clientHeight&&(a=l),!o&&l.scrollWidth>l.clientWidth&&(o=l),l=l.assignedSlot||l.parentNode;else if(l.nodeType==11)l=l.host;else break;return{x:o,y:a}}class DOMSelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:o,focusNode:a}=e;this.set(o,Math.min(e.anchorOffset,o?maxOffset(o):0),a,Math.min(e.focusOffset,a?maxOffset(a):0))}set(e,o,a,l){this.anchorNode=e,this.anchorOffset=o,this.focusNode=a,this.focusOffset=l}}let preventScrollSupported=null;function focusPreventScroll(n){if(n.setActive)return n.setActive();if(preventScrollSupported)return n.focus(preventScrollSupported);let e=[];for(let o=n;o&&(e.push(o,o.scrollTop,o.scrollLeft),o!=o.ownerDocument);o=o.parentNode);if(n.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),!preventScrollSupported){preventScrollSupported=!1;for(let o=0;o<e.length;){let a=e[o++],l=e[o++],u=e[o++];a.scrollTop!=l&&(a.scrollTop=l),a.scrollLeft!=u&&(a.scrollLeft=u)}}}let scratchRange;function textRange(n,e,o=e){let a=scratchRange||(scratchRange=document.createRange());return a.setEnd(n,o),a.setStart(n,e),a}function dispatchKey(n,e,o,a){let l={key:e,code:e,keyCode:o,which:o,cancelable:!0};a&&({altKey:l.altKey,ctrlKey:l.ctrlKey,shiftKey:l.shiftKey,metaKey:l.metaKey}=a);let u=new KeyboardEvent("keydown",l);u.synthetic=!0,n.dispatchEvent(u);let c=new KeyboardEvent("keyup",l);return c.synthetic=!0,n.dispatchEvent(c),u.defaultPrevented||c.defaultPrevented}function getRoot(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function clearAttributes(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function atElementStart(n,e){let o=e.focusNode,a=e.focusOffset;if(!o||e.anchorNode!=o||e.anchorOffset!=a)return!1;for(a=Math.min(a,maxOffset(o));;)if(a){if(o.nodeType!=1)return!1;let l=o.childNodes[a-1];l.contentEditable=="false"?a--:(o=l,a=maxOffset(o))}else{if(o==n)return!0;a=domIndex(o),o=o.parentNode}}function isScrolledToBottom(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function textNodeBefore(n,e){for(let o=n,a=e;;){if(o.nodeType==3&&a>0)return{node:o,offset:a};if(o.nodeType==1&&a>0){if(o.contentEditable=="false")return null;o=o.childNodes[a-1],a=maxOffset(o)}else if(o.parentNode&&!isBlockElement(o))a=domIndex(o),o=o.parentNode;else return null}}function textNodeAfter(n,e){for(let o=n,a=e;;){if(o.nodeType==3&&a<o.nodeValue.length)return{node:o,offset:a};if(o.nodeType==1&&a<o.childNodes.length){if(o.contentEditable=="false")return null;o=o.childNodes[a],a=0}else if(o.parentNode&&!isBlockElement(o))a=domIndex(o)+1,o=o.parentNode;else return null}}class DOMPos{constructor(e,o,a=!0){this.node=e,this.offset=o,this.precise=a}static before(e,o){return new DOMPos(e.parentNode,domIndex(e),o)}static after(e,o){return new DOMPos(e.parentNode,domIndex(e)+1,o)}}const noChildren=[];class ContentView{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let o=this.posAtStart;for(let a of this.children){if(a==e)return o;o+=a.length+a.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,o){if(this.flags&2){let a=this.dom,l=null,u;for(let c of this.children){if(c.flags&7){if(!c.dom&&(u=l?l.nextSibling:a.firstChild)){let f=ContentView.get(u);(!f||!f.parent&&f.canReuseDOM(c))&&c.reuseDOM(u)}c.sync(e,o),c.flags&=-8}if(u=l?l.nextSibling:a.firstChild,o&&!o.written&&o.node==a&&u!=c.dom&&(o.written=!0),c.dom.parentNode==a)for(;u&&u!=c.dom;)u=rm$1(u);else a.insertBefore(c.dom,u);l=c.dom}for(u=l?l.nextSibling:a.firstChild,u&&o&&o.node==a&&(o.written=!0);u;)u=rm$1(u)}else if(this.flags&1)for(let a of this.children)a.flags&7&&(a.sync(e,o),a.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,o){let a;if(e==this.dom)a=this.dom.childNodes[o];else{let l=maxOffset(e)==0?0:o==0?-1:1;for(;;){let u=e.parentNode;if(u==this.dom)break;l==0&&u.firstChild!=u.lastChild&&(e==u.firstChild?l=-1:l=1),e=u}l<0?a=e:a=e.nextSibling}if(a==this.dom.firstChild)return 0;for(;a&&!ContentView.get(a);)a=a.nextSibling;if(!a)return this.length;for(let l=0,u=0;;l++){let c=this.children[l];if(c.dom==a)return u;u+=c.length+c.breakAfter}}domBoundsAround(e,o,a=0){let l=-1,u=-1,c=-1,f=-1;for(let p=0,T=a,E=a;p<this.children.length;p++){let b=this.children[p],m=T+b.length;if(T<e&&m>o)return b.domBoundsAround(e,o,T);if(m>=e&&l==-1&&(l=p,u=T),T>o&&b.dom.parentNode==this.dom){c=p,f=E;break}E=m,T=m+b.breakAfter}return{from:u,to:f<0?a+this.length:f,startDOM:(l?this.children[l-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:c<this.children.length&&c>=0?this.children[c].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let o=this.parent;o;o=o.parent){if(e&&(o.flags|=2),o.flags&1)return;o.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let o=e.parent;if(!o)return e;e=o}}replaceChildren(e,o,a=noChildren){this.markDirty();for(let l=e;l<o;l++){let u=this.children[l];u.parent==this&&a.indexOf(u)<0&&u.destroy()}a.length<250?this.children.splice(e,o-e,...a):this.children=[].concat(this.children.slice(0,e),a,this.children.slice(o));for(let l=0;l<a.length;l++)a[l].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new ChildCursor(this.children,e,this.children.length)}childPos(e,o=1){return this.childCursor().findPos(e,o)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,o,a,l,u,c){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}ContentView.prototype.breakAfter=0;function rm$1(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class ChildCursor{constructor(e,o,a){this.children=e,this.pos=o,this.i=a,this.off=0}findPos(e,o=1){for(;;){if(e>this.pos||e==this.pos&&(o>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let a=this.children[--this.i];this.pos-=a.length+a.breakAfter}}}function replaceRange(n,e,o,a,l,u,c,f,p){let{children:T}=n,E=T.length?T[e]:null,b=u.length?u[u.length-1]:null,m=b?b.breakAfter:c;if(!(e==a&&E&&!c&&!m&&u.length<2&&E.merge(o,l,u.length?b:null,o==0,f,p))){if(a<T.length){let y=T[a];y&&(l<y.length||y.breakAfter&&(b!=null&&b.breakAfter))?(e==a&&(y=y.split(l),l=0),!m&&b&&y.merge(0,l,b,!0,0,p)?u[u.length-1]=y:((l||y.children.length&&!y.children[0].length)&&y.merge(0,l,null,!1,0,p),u.push(y))):y!=null&&y.breakAfter&&(b?b.breakAfter=1:c=1),a++}for(E&&(E.breakAfter=c,o>0&&(!c&&u.length&&E.merge(o,E.length,u[0],!1,f,0)?E.breakAfter=u.shift().breakAfter:(o<E.length||E.children.length&&E.children[E.children.length-1].length==0)&&E.merge(o,E.length,null,!1,f,0),e++));e<a&&u.length;)if(T[a-1].become(u[u.length-1]))a--,u.pop(),p=u.length?0:f;else if(T[e].become(u[0]))e++,u.shift(),f=u.length?0:p;else break;!u.length&&e&&a<T.length&&!T[e-1].breakAfter&&T[a].merge(0,0,T[e-1],!1,f,p)&&e--,(e<a||u.length)&&n.replaceChildren(e,a,u)}}function mergeChildrenInto(n,e,o,a,l,u){let c=n.childCursor(),{i:f,off:p}=c.findPos(o,1),{i:T,off:E}=c.findPos(e,-1),b=e-o;for(let m of a)b+=m.length;n.length+=b,replaceRange(n,T,E,f,p,a,0,l,u)}let nav=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},doc=typeof document<"u"?document:{documentElement:{style:{}}};const ie_edge=/Edge\/(\d+)/.exec(nav.userAgent),ie_upto10=/MSIE \d/.test(nav.userAgent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(nav.userAgent),ie=!!(ie_upto10||ie_11up||ie_edge),gecko=!ie&&/gecko\/(\d+)/i.test(nav.userAgent),chrome=!ie&&/Chrome\/(\d+)/.exec(nav.userAgent),webkit="webkitFontSmoothing"in doc.documentElement.style,safari=!ie&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(nav.userAgent)||nav.maxTouchPoints>2);var browser={mac:ios||/Mac/.test(nav.platform),windows:/Win/.test(nav.platform),linux:/Linux|X11/.test(nav.platform),ie,ie_version:ie_upto10?doc.documentMode||6:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko,gecko_version:gecko?+(/Firefox\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,chrome:!!chrome,chrome_version:chrome?+chrome[1]:0,ios,android:/Android\b/.test(nav.userAgent),safari,webkit_version:webkit?+(/\bAppleWebKit\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,tabSize:doc.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const MaxJoinLen=256;class TextView extends ContentView{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,o){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(o&&o.node==this.dom&&(o.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,o,a){return this.flags&8||a&&(!(a instanceof TextView)||this.length-(o-e)+a.length>MaxJoinLen||a.flags&8)?!1:(this.text=this.text.slice(0,e)+(a?a.text:"")+this.text.slice(o),this.markDirty(),!0)}split(e){let o=new TextView(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),o.flags|=this.flags&8,o}localPosFromDOM(e,o){return e==this.dom?o:o?this.text.length:0}domAtPos(e){return new DOMPos(this.dom,e)}domBoundsAround(e,o,a){return{from:a,to:a+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,o){return textCoords(this.dom,e,o)}}class MarkView extends ContentView{constructor(e,o=[],a=0){super(),this.mark=e,this.children=o,this.length=a;for(let l of o)l.setParent(this)}setAttrs(e){if(clearAttributes(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let o in this.mark.attrs)e.setAttribute(o,this.mark.attrs[o]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,o){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,o)}merge(e,o,a,l,u,c){return a&&(!(a instanceof MarkView&&a.mark.eq(this.mark))||e&&u<=0||o<this.length&&c<=0)?!1:(mergeChildrenInto(this,e,o,a?a.children.slice():[],u-1,c-1),this.markDirty(),!0)}split(e){let o=[],a=0,l=-1,u=0;for(let f of this.children){let p=a+f.length;p>e&&o.push(a<e?f.split(e-a):f),l<0&&a>=e&&(l=u),a=p,u++}let c=this.length-e;return this.length=e,l>-1&&(this.children.length=l,this.markDirty()),new MarkView(this.mark,o,c)}domAtPos(e){return inlineDOMAtPos(this,e)}coordsAt(e,o){return coordsInChildren(this,e,o)}}function textCoords(n,e,o){let a=n.nodeValue.length;e>a&&(e=a);let l=e,u=e,c=0;e==0&&o<0||e==a&&o>=0?browser.chrome||browser.gecko||(e?(l--,c=1):u<a&&(u++,c=-1)):o<0?l--:u<a&&u++;let f=textRange(n,l,u).getClientRects();if(!f.length)return null;let p=f[(c?c<0:o>=0)?0:f.length-1];return browser.safari&&!c&&p.width==0&&(p=Array.prototype.find.call(f,T=>T.width)||p),c?flattenRect(p,c<0):p||null}class WidgetView extends ContentView{static create(e,o,a){return new WidgetView(e,o,a)}constructor(e,o,a){super(),this.widget=e,this.length=o,this.side=a,this.prevWidget=null}split(e){let o=WidgetView.create(this.widget,this.length-e,this.side);return this.length-=e,o}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,o,a,l,u,c){return a&&(!(a instanceof WidgetView)||!this.widget.compare(a.widget)||e>0&&u<=0||o<this.length&&c<=0)?!1:(this.length=e+(a?a.length:0)+(this.length-o),!0)}become(e){return e instanceof WidgetView&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Text.empty;let e=this;for(;e.parent;)e=e.parent;let{view:o}=e,a=o&&o.state.doc,l=this.posAtStart;return a?a.slice(l,l+this.length):Text.empty}domAtPos(e){return(this.length?e==0:this.side>0)?DOMPos.before(this.dom):DOMPos.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,o){let a=this.widget.coordsAt(this.dom,e,o);if(a)return a;let l=this.dom.getClientRects(),u=null;if(!l.length)return null;let c=this.side?this.side<0:e>0;for(let f=c?l.length-1:0;u=l[f],!(e>0?f==0:f==l.length-1||u.top<u.bottom);f+=c?-1:1);return flattenRect(u,!c)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class WidgetBufferView extends ContentView{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof WidgetBufferView&&e.side==this.side}split(){return new WidgetBufferView(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?DOMPos.before(this.dom):DOMPos.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Text.empty}get isHidden(){return!0}}TextView.prototype.children=WidgetView.prototype.children=WidgetBufferView.prototype.children=noChildren;function inlineDOMAtPos(n,e){let o=n.dom,{children:a}=n,l=0;for(let u=0;l<a.length;l++){let c=a[l],f=u+c.length;if(!(f==u&&c.getSide()<=0)){if(e>u&&e<f&&c.dom.parentNode==o)return c.domAtPos(e-u);if(e<=u)break;u=f}}for(let u=l;u>0;u--){let c=a[u-1];if(c.dom.parentNode==o)return c.domAtPos(c.length)}for(let u=l;u<a.length;u++){let c=a[u];if(c.dom.parentNode==o)return c.domAtPos(0)}return new DOMPos(o,0)}function joinInlineInto(n,e,o){let a,{children:l}=n;o>0&&e instanceof MarkView&&l.length&&(a=l[l.length-1])instanceof MarkView&&a.mark.eq(e.mark)?joinInlineInto(a,e.children[0],o-1):(l.push(e),e.setParent(n)),n.length+=e.length}function coordsInChildren(n,e,o){let a=null,l=-1,u=null,c=-1;function f(T,E){for(let b=0,m=0;b<T.children.length&&m<=E;b++){let y=T.children[b],S=m+y.length;S>=E&&(y.children.length?f(y,E-m):(!u||u.isHidden&&(o>0||onSameLine(u,y)))&&(S>E||m==S&&y.getSide()>0)?(u=y,c=E-m):(m<E||m==S&&y.getSide()<0&&!y.isHidden)&&(a=y,l=E-m)),m=S}}f(n,e);let p=(o<0?a:u)||a||u;return p?p.coordsAt(Math.max(0,p==a?l:c),o):fallbackRect(n)}function fallbackRect(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let o=clientRectsFor(e);return o[o.length-1]||null}function onSameLine(n,e){let o=n.coordsAt(0,1),a=e.coordsAt(0,1);return o&&a&&a.top<o.bottom}function combineAttrs(n,e){for(let o in n)o=="class"&&e.class?e.class+=" "+n.class:o=="style"&&e.style?e.style+=";"+n.style:e[o]=n[o];return e}const noAttrs$1=Object.create(null);function attrsEq(n,e,o){if(n==e)return!0;n||(n=noAttrs$1),e||(e=noAttrs$1);let a=Object.keys(n),l=Object.keys(e);if(a.length-(o&&a.indexOf(o)>-1?1:0)!=l.length-(o&&l.indexOf(o)>-1?1:0))return!1;for(let u of a)if(u!=o&&(l.indexOf(u)==-1||n[u]!==e[u]))return!1;return!0}function updateAttrs(n,e,o){let a=!1;if(e)for(let l in e)o&&l in o||(a=!0,l=="style"?n.style.cssText="":n.removeAttribute(l));if(o)for(let l in o)e&&e[l]==o[l]||(a=!0,l=="style"?n.style.cssText=o[l]:n.setAttribute(l,o[l]));return a}function getAttrs(n){let e=Object.create(null);for(let o=0;o<n.attributes.length;o++){let a=n.attributes[o];e[a.name]=a.value}return e}class WidgetType{eq(e){return!1}updateDOM(e,o){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,o,a){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var BlockType=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(BlockType||(BlockType={}));class Decoration extends RangeValue{constructor(e,o,a,l){super(),this.startSide=e,this.endSide=o,this.widget=a,this.spec=l}get heightRelevant(){return!1}static mark(e){return new MarkDecoration(e)}static widget(e){let o=Math.max(-1e4,Math.min(1e4,e.side||0)),a=!!e.block;return o+=a&&!e.inlineOrder?o>0?3e8:-4e8:o>0?1e8:-1e8,new PointDecoration(e,o,o,a,e.widget||null,!1)}static replace(e){let o=!!e.block,a,l;if(e.isBlockGap)a=-5e8,l=4e8;else{let{start:u,end:c}=getInclusive(e,o);a=(u?o?-3e8:-1:5e8)-1,l=(c?o?2e8:1:-6e8)+1}return new PointDecoration(e,a,l,o,e.widget||null,!0)}static line(e){return new LineDecoration(e)}static set(e,o=!1){return RangeSet.of(e,o)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Decoration.none=RangeSet.empty;class MarkDecoration extends Decoration{constructor(e){let{start:o,end:a}=getInclusive(e);super(o?-1:5e8,a?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var o,a;return this==e||e instanceof MarkDecoration&&this.tagName==e.tagName&&(this.class||((o=this.attrs)===null||o===void 0?void 0:o.class))==(e.class||((a=e.attrs)===null||a===void 0?void 0:a.class))&&attrsEq(this.attrs,e.attrs,"class")}range(e,o=e){if(e>=o)throw new RangeError("Mark decorations may not be empty");return super.range(e,o)}}MarkDecoration.prototype.point=!1;class LineDecoration extends Decoration{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof LineDecoration&&this.spec.class==e.spec.class&&attrsEq(this.spec.attributes,e.spec.attributes)}range(e,o=e){if(o!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,o)}}LineDecoration.prototype.mapMode=MapMode.TrackBefore;LineDecoration.prototype.point=!0;class PointDecoration extends Decoration{constructor(e,o,a,l,u,c){super(o,a,u,e),this.block=l,this.isReplace=c,this.mapMode=l?o<=0?MapMode.TrackBefore:MapMode.TrackAfter:MapMode.TrackDel}get type(){return this.startSide!=this.endSide?BlockType.WidgetRange:this.startSide<=0?BlockType.WidgetBefore:BlockType.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof PointDecoration&&widgetsEq(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,o=e){if(this.isReplace&&(e>o||e==o&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&o!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,o)}}PointDecoration.prototype.point=!0;function getInclusive(n,e=!1){let{inclusiveStart:o,inclusiveEnd:a}=n;return o==null&&(o=n.inclusive),a==null&&(a=n.inclusive),{start:o??e,end:a??e}}function widgetsEq(n,e){return n==e||!!(n&&e&&n.compare(e))}function addRange(n,e,o,a=0){let l=o.length-1;l>=0&&o[l]+a>=n?o[l]=Math.max(o[l],e):o.push(n,e)}class LineView extends ContentView{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,o,a,l,u,c){if(a){if(!(a instanceof LineView))return!1;this.dom||a.transferDOM(this)}return l&&this.setDeco(a?a.attrs:null),mergeChildrenInto(this,e,o,a?a.children.slice():[],u,c),!0}split(e){let o=new LineView;if(o.breakAfter=this.breakAfter,this.length==0)return o;let{i:a,off:l}=this.childPos(e);l&&(o.append(this.children[a].split(l),0),this.children[a].merge(l,this.children[a].length,null,!1,0,0),a++);for(let u=a;u<this.children.length;u++)o.append(this.children[u],0);for(;a>0&&this.children[a-1].length==0;)this.children[--a].destroy();return this.children.length=a,this.markDirty(),this.length=e,o}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){attrsEq(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,o){joinInlineInto(this,e,o)}addLineDeco(e){let o=e.spec.attributes,a=e.spec.class;o&&(this.attrs=combineAttrs(o,this.attrs||{})),a&&(this.attrs=combineAttrs({class:a},this.attrs||{}))}domAtPos(e){return inlineDOMAtPos(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,o){var a;this.dom?this.flags&4&&(clearAttributes(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(updateAttrs(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,o);let l=this.dom.lastChild;for(;l&&ContentView.get(l)instanceof MarkView;)l=l.lastChild;if(!l||!this.length||l.nodeName!="BR"&&((a=ContentView.get(l))===null||a===void 0?void 0:a.isEditable)==!1&&(!browser.ios||!this.children.some(u=>u instanceof TextView))){let u=document.createElement("BR");u.cmIgnore=!0,this.dom.appendChild(u)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,o;for(let a of this.children){if(!(a instanceof TextView)||/[^ -~]/.test(a.text))return null;let l=clientRectsFor(a.dom);if(l.length!=1)return null;e+=l[0].width,o=l[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:o}:null}coordsAt(e,o){let a=coordsInChildren(this,e,o);if(!this.children.length&&a&&this.parent){let{heightOracle:l}=this.parent.view.viewState,u=a.bottom-a.top;if(Math.abs(u-l.lineHeight)<2&&l.textHeight<u){let c=(u-l.textHeight)/2;return{top:a.top+c,bottom:a.bottom-c,left:a.left,right:a.left}}}return a}become(e){return e instanceof LineView&&this.children.length==0&&e.children.length==0&&attrsEq(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,o){for(let a=0,l=0;a<e.children.length;a++){let u=e.children[a],c=l+u.length;if(c>=o){if(u instanceof LineView)return u;if(c>o)break}l=c+u.breakAfter}return null}}class BlockWidgetView extends ContentView{constructor(e,o,a){super(),this.widget=e,this.length=o,this.deco=a,this.breakAfter=0,this.prevWidget=null}merge(e,o,a,l,u,c){return a&&(!(a instanceof BlockWidgetView)||!this.widget.compare(a.widget)||e>0&&u<=0||o<this.length&&c<=0)?!1:(this.length=e+(a?a.length:0)+(this.length-o),!0)}domAtPos(e){return e==0?DOMPos.before(this.dom):DOMPos.after(this.dom,e==this.length)}split(e){let o=this.length-e;this.length=e;let a=new BlockWidgetView(this.widget,o,this.deco);return a.breakAfter=this.breakAfter,a}get children(){return noChildren}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Text.empty}domBoundsAround(){return null}become(e){return e instanceof BlockWidgetView&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,o){let a=this.widget.coordsAt(this.dom,e,o);return a||(this.widget instanceof BlockGapWidget?null:flattenRect(this.dom.getBoundingClientRect(),this.length?e==0:o<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:o,endSide:a}=this.deco;return o==a?!1:e<0?o<0:a>0}}class BlockGapWidget extends WidgetType{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class ContentBuilder{constructor(e,o,a,l){this.doc=e,this.pos=o,this.end=a,this.disallowBlockEffectsFor=l,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=o}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof BlockWidgetView&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new LineView),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(wrapMarks(new WidgetBufferView(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof BlockWidgetView)&&this.getLine()}buildText(e,o,a){for(;e>0;){if(this.textOff==this.text.length){let{value:u,lineBreak:c,done:f}=this.cursor.next(this.skip);if(this.skip=0,f)throw new Error("Ran out of text content when drawing inline views");if(c){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=u,this.textOff=0}let l=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(o.slice(o.length-a)),this.getLine().append(wrapMarks(new TextView(this.text.slice(this.textOff,this.textOff+l)),o),a),this.atCursorPos=!0,this.textOff+=l,e-=l,a=0}}span(e,o,a,l){this.buildText(o-e,a,l),this.pos=o,this.openStart<0&&(this.openStart=l)}point(e,o,a,l,u,c){if(this.disallowBlockEffectsFor[c]&&a instanceof PointDecoration){if(a.block)throw new RangeError("Block decorations may not be specified via plugins");if(o>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let f=o-e;if(a instanceof PointDecoration)if(a.block)a.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new BlockWidgetView(a.widget||NullWidget.block,f,a));else{let p=WidgetView.create(a.widget||NullWidget.inline,f,f?0:a.startSide),T=this.atCursorPos&&!p.isEditable&&u<=l.length&&(e<o||a.startSide>0),E=!p.isEditable&&(e<o||u>l.length||a.startSide<=0),b=this.getLine();this.pendingBuffer==2&&!T&&!p.isEditable&&(this.pendingBuffer=0),this.flushBuffer(l),T&&(b.append(wrapMarks(new WidgetBufferView(1),l),u),u=l.length+Math.max(0,u-l.length)),b.append(wrapMarks(p,l),u),this.atCursorPos=E,this.pendingBuffer=E?e<o||u>l.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=l.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(a);f&&(this.textOff+f<=this.text.length?this.textOff+=f:(this.skip+=f-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=o),this.openStart<0&&(this.openStart=u)}static build(e,o,a,l,u){let c=new ContentBuilder(e,o,a,u);return c.openEnd=RangeSet.spans(l,o,a,c),c.openStart<0&&(c.openStart=c.openEnd),c.finish(c.openEnd),c}}function wrapMarks(n,e){for(let o of e)n=new MarkView(o,[n],n.length);return n}class NullWidget extends WidgetType{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}NullWidget.inline=new NullWidget("span");NullWidget.block=new NullWidget("div");var Direction=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(Direction||(Direction={}));const LTR=Direction.LTR,RTL=Direction.RTL;function dec(n){let e=[];for(let o=0;o<n.length;o++)e.push(1<<+n[o]);return e}const LowTypes=dec("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),ArabicTypes=dec("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Brackets=Object.create(null),BracketStack=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),o=n.charCodeAt(1);Brackets[e]=o,Brackets[o]=-e}function charType(n){return n<=247?LowTypes[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?ArabicTypes[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const BidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class BidiSpan{get dir(){return this.level%2?RTL:LTR}constructor(e,o,a){this.from=e,this.to=o,this.level=a}side(e,o){return this.dir==o==e?this.to:this.from}forward(e,o){return e==(this.dir==o)}static find(e,o,a,l){let u=-1;for(let c=0;c<e.length;c++){let f=e[c];if(f.from<=o&&f.to>=o){if(f.level==a)return c;(u<0||(l!=0?l<0?f.from<o:f.to>o:e[u].level>f.level))&&(u=c)}}if(u<0)throw new RangeError("Index out of range");return u}}function isolatesEq(n,e){if(n.length!=e.length)return!1;for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(a.from!=l.from||a.to!=l.to||a.direction!=l.direction||!isolatesEq(a.inner,l.inner))return!1}return!0}const types=[];function computeCharTypes(n,e,o,a,l){for(let u=0;u<=a.length;u++){let c=u?a[u-1].to:e,f=u<a.length?a[u].from:o,p=u?256:l;for(let T=c,E=p,b=p;T<f;T++){let m=charType(n.charCodeAt(T));m==512?m=E:m==8&&b==4&&(m=16),types[T]=m==4?2:m,m&7&&(b=m),E=m}for(let T=c,E=p,b=p;T<f;T++){let m=types[T];if(m==128)T<f-1&&E==types[T+1]&&E&24?m=types[T]=E:types[T]=256;else if(m==64){let y=T+1;for(;y<f&&types[y]==64;)y++;let S=T&&E==8||y<o&&types[y]==8?b==1?1:8:256;for(let v=T;v<y;v++)types[v]=S;T=y-1}else m==8&&b==1&&(types[T]=1);E=m,m&7&&(b=m)}}}function processBracketPairs(n,e,o,a,l){let u=l==1?2:1;for(let c=0,f=0,p=0;c<=a.length;c++){let T=c?a[c-1].to:e,E=c<a.length?a[c].from:o;for(let b=T,m,y,S;b<E;b++)if(y=Brackets[m=n.charCodeAt(b)])if(y<0){for(let v=f-3;v>=0;v-=3)if(BracketStack[v+1]==-y){let A=BracketStack[v+2],w=A&2?l:A&4?A&1?u:l:0;w&&(types[b]=types[BracketStack[v]]=w),f=v;break}}else{if(BracketStack.length==189)break;BracketStack[f++]=b,BracketStack[f++]=m,BracketStack[f++]=p}else if((S=types[b])==2||S==1){let v=S==l;p=v?0:1;for(let A=f-3;A>=0;A-=3){let w=BracketStack[A+2];if(w&2)break;if(v)BracketStack[A+2]|=2;else{if(w&4)break;BracketStack[A+2]|=4}}}}}function processNeutrals(n,e,o,a){for(let l=0,u=a;l<=o.length;l++){let c=l?o[l-1].to:n,f=l<o.length?o[l].from:e;for(let p=c;p<f;){let T=types[p];if(T==256){let E=p+1;for(;;)if(E==f){if(l==o.length)break;E=o[l++].to,f=l<o.length?o[l].from:e}else if(types[E]==256)E++;else break;let b=u==1,m=(E<e?types[E]:a)==1,y=b==m?b?1:2:a;for(let S=E,v=l,A=v?o[v-1].to:n;S>p;)S==A&&(S=o[--v].from,A=v?o[v-1].to:n),types[--S]=y;p=E}else u=T,p++}}}function emitSpans(n,e,o,a,l,u,c){let f=a%2?2:1;if(a%2==l%2)for(let p=e,T=0;p<o;){let E=!0,b=!1;if(T==u.length||p<u[T].from){let v=types[p];v!=f&&(E=!1,b=v==16)}let m=!E&&f==1?[]:null,y=E?a:a+1,S=p;e:for(;;)if(T<u.length&&S==u[T].from){if(b)break e;let v=u[T];if(!E)for(let A=v.to,w=T+1;;){if(A==o)break e;if(w<u.length&&u[w].from==A)A=u[w++].to;else{if(types[A]==f)break e;break}}if(T++,m)m.push(v);else{v.from>p&&c.push(new BidiSpan(p,v.from,y));let A=v.direction==LTR!=!(y%2);computeSectionOrder(n,A?a+1:a,l,v.inner,v.from,v.to,c),p=v.to}S=v.to}else{if(S==o||(E?types[S]!=f:types[S]==f))break;S++}m?emitSpans(n,p,S,a+1,l,m,c):p<S&&c.push(new BidiSpan(p,S,y)),p=S}else for(let p=o,T=u.length;p>e;){let E=!0,b=!1;if(!T||p>u[T-1].to){let v=types[p-1];v!=f&&(E=!1,b=v==16)}let m=!E&&f==1?[]:null,y=E?a:a+1,S=p;e:for(;;)if(T&&S==u[T-1].to){if(b)break e;let v=u[--T];if(!E)for(let A=v.from,w=T;;){if(A==e)break e;if(w&&u[w-1].to==A)A=u[--w].from;else{if(types[A-1]==f)break e;break}}if(m)m.push(v);else{v.to<p&&c.push(new BidiSpan(v.to,p,y));let A=v.direction==LTR!=!(y%2);computeSectionOrder(n,A?a+1:a,l,v.inner,v.from,v.to,c),p=v.from}S=v.from}else{if(S==e||(E?types[S-1]!=f:types[S-1]==f))break;S--}m?emitSpans(n,S,p,a+1,l,m,c):S<p&&c.push(new BidiSpan(S,p,y)),p=S}}function computeSectionOrder(n,e,o,a,l,u,c){let f=e%2?2:1;computeCharTypes(n,l,u,a,f),processBracketPairs(n,l,u,a,f),processNeutrals(l,u,a,f),emitSpans(n,l,u,e,o,a,c)}function computeOrder(n,e,o){if(!n)return[new BidiSpan(0,0,e==RTL?1:0)];if(e==LTR&&!o.length&&!BidiRE.test(n))return trivialOrder(n.length);if(o.length)for(;n.length>types.length;)types[types.length]=256;let a=[],l=e==LTR?0:1;return computeSectionOrder(n,l,l,o,0,n.length,a),a}function trivialOrder(n){return[new BidiSpan(0,n,0)]}let movedOver="";function moveVisually(n,e,o,a,l){var u;let c=a.head-n.from,f=BidiSpan.find(e,c,(u=a.bidiLevel)!==null&&u!==void 0?u:-1,a.assoc),p=e[f],T=p.side(l,o);if(c==T){let m=f+=l?1:-1;if(m<0||m>=e.length)return null;p=e[f=m],c=p.side(!l,o),T=p.side(l,o)}let E=findClusterBreak(n.text,c,p.forward(l,o));(E<p.from||E>p.to)&&(E=T),movedOver=n.text.slice(Math.min(c,E),Math.max(c,E));let b=f==(l?e.length-1:0)?null:e[f+(l?1:-1)];return b&&E==T&&b.level+(l?0:1)<p.level?EditorSelection.cursor(b.side(!l,o)+n.from,b.forward(l,o)?1:-1,b.level):EditorSelection.cursor(E+n.from,p.forward(l,o)?-1:1,p.level)}function autoDirection(n,e,o){for(let a=e;a<o;a++){let l=charType(n.charCodeAt(a));if(l==1)return LTR;if(l==2||l==4)return RTL}return LTR}const clickAddsSelectionRange=Facet.define(),dragMovesSelection$1=Facet.define(),mouseSelectionStyle=Facet.define(),exceptionSink=Facet.define(),updateListener=Facet.define(),inputHandler$1=Facet.define(),focusChangeEffect=Facet.define(),clipboardInputFilter=Facet.define(),clipboardOutputFilter=Facet.define(),perLineTextDirection=Facet.define({combine:n=>n.some(e=>e)}),nativeSelectionHidden=Facet.define({combine:n=>n.some(e=>e)}),scrollHandler=Facet.define();class ScrollTarget{constructor(e,o="nearest",a="nearest",l=5,u=5,c=!1){this.range=e,this.y=o,this.x=a,this.yMargin=l,this.xMargin=u,this.isSnapshot=c}map(e){return e.empty?this:new ScrollTarget(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new ScrollTarget(EditorSelection.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const scrollIntoView$1=StateEffect.define({map:(n,e)=>n.map(e)}),setEditContextFormatting=StateEffect.define();function logException(n,e,o){let a=n.facet(exceptionSink);a.length?a[0](e):window.onerror&&window.onerror(String(e),o,void 0,void 0,e)||(o?console.error(o+":",e):console.error(e))}const editable=Facet.define({combine:n=>n.length?n[0]:!0});let nextPluginID=0;const viewPlugin=Facet.define({combine(n){return n.filter((e,o)=>{for(let a=0;a<o;a++)if(n[a].plugin==e.plugin)return!1;return!0})}});class ViewPlugin{constructor(e,o,a,l,u){this.id=e,this.create=o,this.domEventHandlers=a,this.domEventObservers=l,this.baseExtensions=u(this),this.extension=this.baseExtensions.concat(viewPlugin.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(viewPlugin.of({plugin:this,arg:e}))}static define(e,o){const{eventHandlers:a,eventObservers:l,provide:u,decorations:c}=o||{};return new ViewPlugin(nextPluginID++,e,a,l,f=>{let p=[];return c&&p.push(decorations.of(T=>{let E=T.plugin(f);return E?c(E):Decoration.none})),u&&p.push(u(f)),p})}static fromClass(e,o){return ViewPlugin.define((a,l)=>new e(a,l),o)}}class PluginInstance{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let o=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(o)}catch(a){if(logException(o.state,a,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(o){logException(e.state,o,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var o;if(!((o=this.value)===null||o===void 0)&&o.destroy)try{this.value.destroy()}catch(a){logException(e.state,a,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const editorAttributes=Facet.define(),contentAttributes=Facet.define(),decorations=Facet.define(),outerDecorations=Facet.define(),atomicRanges=Facet.define(),bidiIsolatedRanges=Facet.define();function getIsolatedRanges(n,e){let o=n.state.facet(bidiIsolatedRanges);if(!o.length)return o;let a=o.map(u=>u instanceof Function?u(n):u),l=[];return RangeSet.spans(a,e.from,e.to,{point(){},span(u,c,f,p){let T=u-e.from,E=c-e.from,b=l;for(let m=f.length-1;m>=0;m--,p--){let y=f[m].spec.bidiIsolate,S;if(y==null&&(y=autoDirection(e.text,T,E)),p>0&&b.length&&(S=b[b.length-1]).to==T&&S.direction==y)S.to=E,b=S.inner;else{let v={from:T,to:E,direction:y,inner:[]};b.push(v),b=v.inner}}}}),l}const scrollMargins=Facet.define();function getScrollMargins(n){let e=0,o=0,a=0,l=0;for(let u of n.state.facet(scrollMargins)){let c=u(n);c&&(c.left!=null&&(e=Math.max(e,c.left)),c.right!=null&&(o=Math.max(o,c.right)),c.top!=null&&(a=Math.max(a,c.top)),c.bottom!=null&&(l=Math.max(l,c.bottom)))}return{left:e,right:o,top:a,bottom:l}}const styleModule=Facet.define();class ChangedRange{constructor(e,o,a,l){this.fromA=e,this.toA=o,this.fromB=a,this.toB=l}join(e){return new ChangedRange(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let o=e.length,a=this;for(;o>0;o--){let l=e[o-1];if(!(l.fromA>a.toA)){if(l.toA<a.fromA)break;a=a.join(l),e.splice(o-1,1)}}return e.splice(o,0,a),e}static extendWithRanges(e,o){if(o.length==0)return e;let a=[];for(let l=0,u=0,c=0,f=0;;l++){let p=l==e.length?null:e[l],T=c-f,E=p?p.fromB:1e9;for(;u<o.length&&o[u]<E;){let b=o[u],m=o[u+1],y=Math.max(f,b),S=Math.min(E,m);if(y<=S&&new ChangedRange(y+T,S+T,y,S).addToSet(a),m>E)break;u+=2}if(!p)return a;new ChangedRange(p.fromA,p.toA,p.fromB,p.toB).addToSet(a),c=p.toA,f=p.toB}}}class ViewUpdate{constructor(e,o,a){this.view=e,this.state=o,this.transactions=a,this.flags=0,this.startState=e.state,this.changes=ChangeSet.empty(this.startState.doc.length);for(let u of a)this.changes=this.changes.compose(u.changes);let l=[];this.changes.iterChangedRanges((u,c,f,p)=>l.push(new ChangedRange(u,c,f,p))),this.changedRanges=l}static create(e,o,a){return new ViewUpdate(e,o,a)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class DocView extends ContentView{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Decoration.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new LineView],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new ChangedRange(0,0,0,e.state.doc.length)],0,null)}update(e){var o;let a=e.changedRanges;this.minWidth>0&&a.length&&(a.every(({fromA:T,toA:E})=>E<this.minWidthFrom||T>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let l=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((o=this.domChanged)===null||o===void 0)&&o.newSel?l=this.domChanged.newSel.head:!touchesComposition(e.changes,this.hasComposition)&&!e.selectionSet&&(l=e.state.selection.main.head));let u=l>-1?findCompositionRange(this.view,e.changes,l):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:T,to:E}=this.hasComposition;a=new ChangedRange(T,E,e.changes.mapPos(T,-1),e.changes.mapPos(E,1)).addToSet(a.slice())}this.hasComposition=u?{from:u.range.fromB,to:u.range.toB}:null,(browser.ie||browser.chrome)&&!u&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let c=this.decorations,f=this.updateDeco(),p=findChangedDeco(c,f,e.changes);return a=ChangedRange.extendWithRanges(a,p),!(this.flags&7)&&a.length==0?!1:(this.updateInner(a,e.startState.doc.length,u),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,o,a){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,o,a);let{observer:l}=this.view;l.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let c=browser.chrome||browser.ios?{node:l.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,c),this.flags&=-8,c&&(c.written||l.selectionRange.focusNode!=c.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(c=>c.flags&=-9);let u=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let c of this.children)c instanceof BlockWidgetView&&c.widget instanceof BlockGapWidget&&u.push(c.dom);l.updateGaps(u)}updateChildren(e,o,a){let l=a?a.range.addToSet(e.slice()):e,u=this.childCursor(o);for(let c=l.length-1;;c--){let f=c>=0?l[c]:null;if(!f)break;let{fromA:p,toA:T,fromB:E,toB:b}=f,m,y,S,v;if(a&&a.range.fromB<b&&a.range.toB>E){let F=ContentBuilder.build(this.view.state.doc,E,a.range.fromB,this.decorations,this.dynamicDecorationMap),B=ContentBuilder.build(this.view.state.doc,a.range.toB,b,this.decorations,this.dynamicDecorationMap);y=F.breakAtStart,S=F.openStart,v=B.openEnd;let G=this.compositionView(a);B.breakAtStart?G.breakAfter=1:B.content.length&&G.merge(G.length,G.length,B.content[0],!1,B.openStart,0)&&(G.breakAfter=B.content[0].breakAfter,B.content.shift()),F.content.length&&G.merge(0,0,F.content[F.content.length-1],!0,0,F.openEnd)&&F.content.pop(),m=F.content.concat(G).concat(B.content)}else({content:m,breakAtStart:y,openStart:S,openEnd:v}=ContentBuilder.build(this.view.state.doc,E,b,this.decorations,this.dynamicDecorationMap));let{i:A,off:w}=u.findPos(T,1),{i:R,off:P}=u.findPos(p,-1);replaceRange(this,R,P,A,w,m,y,S,v)}a&&this.fixCompositionDOM(a)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let o of e.transactions)for(let a of o.effects)a.is(setEditContextFormatting)&&(this.editContextFormatting=a.value)}compositionView(e){let o=new TextView(e.text.nodeValue);o.flags|=8;for(let{deco:l}of e.marks)o=new MarkView(l,[o],o.length);let a=new LineView;return a.append(o,0),a}fixCompositionDOM(e){let o=(u,c)=>{c.flags|=8|(c.children.some(p=>p.flags&7)?1:0),this.markedForComposition.add(c);let f=ContentView.get(u);f&&f!=c&&(f.dom=null),c.setDOM(u)},a=this.childPos(e.range.fromB,1),l=this.children[a.i];o(e.line,l);for(let u=e.marks.length-1;u>=-1;u--)a=l.childPos(a.off,1),l=l.children[a.i],o(u>=0?e.marks[u].node:e.text,l)}updateSelection(e=!1,o=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let a=this.view.root.activeElement,l=a==this.dom,u=!l&&!(this.view.state.facet(editable)||this.dom.tabIndex>-1)&&hasSelection(this.dom,this.view.observer.selectionRange)&&!(a&&this.dom.contains(a));if(!(l||o||u))return;let c=this.forceSelection;this.forceSelection=!1;let f=this.view.state.selection.main,p=this.moveToLine(this.domAtPos(f.anchor)),T=f.empty?p:this.moveToLine(this.domAtPos(f.head));if(browser.gecko&&f.empty&&!this.hasComposition&&betweenUneditable(p)){let b=document.createTextNode("");this.view.observer.ignore(()=>p.node.insertBefore(b,p.node.childNodes[p.offset]||null)),p=T=new DOMPos(b,0),c=!0}let E=this.view.observer.selectionRange;(c||!E.focusNode||(!isEquivalentPosition(p.node,p.offset,E.anchorNode,E.anchorOffset)||!isEquivalentPosition(T.node,T.offset,E.focusNode,E.focusOffset))&&!this.suppressWidgetCursorChange(E,f))&&(this.view.observer.ignore(()=>{browser.android&&browser.chrome&&this.dom.contains(E.focusNode)&&inUneditable(E.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let b=getSelection(this.view.root);if(b)if(f.empty){if(browser.gecko){let m=nextToUneditable(p.node,p.offset);if(m&&m!=3){let y=(m==1?textNodeBefore:textNodeAfter)(p.node,p.offset);y&&(p=new DOMPos(y.node,y.offset))}}b.collapse(p.node,p.offset),f.bidiLevel!=null&&b.caretBidiLevel!==void 0&&(b.caretBidiLevel=f.bidiLevel)}else if(b.extend){b.collapse(p.node,p.offset);try{b.extend(T.node,T.offset)}catch{}}else{let m=document.createRange();f.anchor>f.head&&([p,T]=[T,p]),m.setEnd(T.node,T.offset),m.setStart(p.node,p.offset),b.removeAllRanges(),b.addRange(m)}u&&this.view.root.activeElement==this.dom&&(this.dom.blur(),a&&a.focus())}),this.view.observer.setSelectionRange(p,T)),this.impreciseAnchor=p.precise?null:new DOMPos(E.anchorNode,E.anchorOffset),this.impreciseHead=T.precise?null:new DOMPos(E.focusNode,E.focusOffset)}suppressWidgetCursorChange(e,o){return this.hasComposition&&o.empty&&isEquivalentPosition(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==o.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,o=e.state.selection.main,a=getSelection(e.root),{anchorNode:l,anchorOffset:u}=e.observer.selectionRange;if(!a||!o.empty||!o.assoc||!a.modify)return;let c=LineView.find(this,o.head);if(!c)return;let f=c.posAtStart;if(o.head==f||o.head==f+c.length)return;let p=this.coordsAt(o.head,-1),T=this.coordsAt(o.head,1);if(!p||!T||p.bottom>T.top)return;let E=this.domAtPos(o.head+o.assoc);a.collapse(E.node,E.offset),a.modify("move",o.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let b=e.observer.selectionRange;e.docView.posFromDOM(b.anchorNode,b.anchorOffset)!=o.from&&a.collapse(l,u)}moveToLine(e){let o=this.dom,a;if(e.node!=o)return e;for(let l=e.offset;!a&&l<o.childNodes.length;l++){let u=ContentView.get(o.childNodes[l]);u instanceof LineView&&(a=u.domAtPos(0))}for(let l=e.offset-1;!a&&l>=0;l--){let u=ContentView.get(o.childNodes[l]);u instanceof LineView&&(a=u.domAtPos(u.length))}return a?new DOMPos(a.node,a.offset,!0):e}nearest(e){for(let o=e;o;){let a=ContentView.get(o);if(a&&a.rootView==this)return a;o=o.parentNode}return null}posFromDOM(e,o){let a=this.nearest(e);if(!a)throw new RangeError("Trying to find position for a DOM position outside of the document");return a.localPosFromDOM(e,o)+a.posAtStart}domAtPos(e){let{i:o,off:a}=this.childCursor().findPos(e,-1);for(;o<this.children.length-1;){let l=this.children[o];if(a<l.length||l instanceof LineView)break;o++,a=0}return this.children[o].domAtPos(a)}coordsAt(e,o){let a=null,l=0;for(let u=this.length,c=this.children.length-1;c>=0;c--){let f=this.children[c],p=u-f.breakAfter,T=p-f.length;if(p<e)break;if(T<=e&&(T<e||f.covers(-1))&&(p>e||f.covers(1))&&(!a||f instanceof LineView&&!(a instanceof LineView&&o>=0)))a=f,l=T;else if(a&&T==e&&p==e&&f instanceof BlockWidgetView&&Math.abs(o)<2){if(f.deco.startSide<0)break;c&&(a=null)}u=T}return a?a.coordsAt(e-l,o):null}coordsForChar(e){let{i:o,off:a}=this.childPos(e,1),l=this.children[o];if(!(l instanceof LineView))return null;for(;l.children.length;){let{i:f,off:p}=l.childPos(a,1);for(;;f++){if(f==l.children.length)return null;if((l=l.children[f]).length)break}a=p}if(!(l instanceof TextView))return null;let u=findClusterBreak(l.text,a);if(u==a)return null;let c=textRange(l.dom,a,u).getClientRects();for(let f=0;f<c.length;f++){let p=c[f];if(f==c.length-1||p.top<p.bottom&&p.left<p.right)return p}return null}measureVisibleLineHeights(e){let o=[],{from:a,to:l}=e,u=this.view.contentDOM.clientWidth,c=u>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,f=-1,p=this.view.textDirection==Direction.LTR;for(let T=0,E=0;E<this.children.length;E++){let b=this.children[E],m=T+b.length;if(m>l)break;if(T>=a){let y=b.dom.getBoundingClientRect();if(o.push(y.height),c){let S=b.dom.lastChild,v=S?clientRectsFor(S):[];if(v.length){let A=v[v.length-1],w=p?A.right-y.left:y.right-A.left;w>f&&(f=w,this.minWidth=u,this.minWidthFrom=T,this.minWidthTo=m)}}}T=m+b.breakAfter}return o}textDirectionAt(e){let{i:o}=this.childPos(e,1);return getComputedStyle(this.children[o].dom).direction=="rtl"?Direction.RTL:Direction.LTR}measureTextSize(){for(let u of this.children)if(u instanceof LineView){let c=u.measureTextSize();if(c)return c}let e=document.createElement("div"),o,a,l;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let u=clientRectsFor(e.firstChild)[0];o=e.getBoundingClientRect().height,a=u?u.width/27:7,l=u?u.height:o,e.remove()}),{lineHeight:o,charWidth:a,textHeight:l}}childCursor(e=this.length){let o=this.children.length;return o&&(e-=this.children[--o].length),new ChildCursor(this.children,e,o)}computeBlockGapDeco(){let e=[],o=this.view.viewState;for(let a=0,l=0;;l++){let u=l==o.viewports.length?null:o.viewports[l],c=u?u.from-1:this.length;if(c>a){let f=(o.lineBlockAt(c).bottom-o.lineBlockAt(a).top)/this.view.scaleY;e.push(Decoration.replace({widget:new BlockGapWidget(f),block:!0,inclusive:!0,isBlockGap:!0}).range(a,c))}if(!u)break;a=u.to+1}return Decoration.set(e)}updateDeco(){let e=1,o=this.view.state.facet(decorations).map(u=>(this.dynamicDecorationMap[e++]=typeof u=="function")?u(this.view):u),a=!1,l=this.view.state.facet(outerDecorations).map((u,c)=>{let f=typeof u=="function";return f&&(a=!0),f?u(this.view):u});for(l.length&&(this.dynamicDecorationMap[e++]=a,o.push(RangeSet.join(l))),this.decorations=[this.editContextFormatting,...o,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let T=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=T.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let T of this.view.state.facet(scrollHandler))try{if(T(this.view,e.range,e))return!0}catch(E){logException(this.view.state,E,"scroll handler")}let{range:o}=e,a=this.coordsAt(o.head,o.empty?o.assoc:o.head>o.anchor?-1:1),l;if(!a)return;!o.empty&&(l=this.coordsAt(o.anchor,o.anchor>o.head?-1:1))&&(a={left:Math.min(a.left,l.left),top:Math.min(a.top,l.top),right:Math.max(a.right,l.right),bottom:Math.max(a.bottom,l.bottom)});let u=getScrollMargins(this.view),c={left:a.left-u.left,top:a.top-u.top,right:a.right+u.right,bottom:a.bottom+u.bottom},{offsetWidth:f,offsetHeight:p}=this.view.scrollDOM;scrollRectIntoView(this.view.scrollDOM,c,o.head<o.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,f),-f),Math.max(Math.min(e.yMargin,p),-p),this.view.textDirection==Direction.LTR)}}function betweenUneditable(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}function findCompositionNode(n,e){let o=n.observer.selectionRange;if(!o.focusNode)return null;let a=textNodeBefore(o.focusNode,o.focusOffset),l=textNodeAfter(o.focusNode,o.focusOffset),u=a||l;if(l&&a&&l.node!=a.node){let f=ContentView.get(l.node);if(!f||f instanceof TextView&&f.text!=l.node.nodeValue)u=l;else if(n.docView.lastCompositionAfterCursor){let p=ContentView.get(a.node);!p||p instanceof TextView&&p.text!=a.node.nodeValue||(u=l)}}if(n.docView.lastCompositionAfterCursor=u!=a,!u)return null;let c=e-u.offset;return{from:c,to:c+u.node.nodeValue.length,node:u.node}}function findCompositionRange(n,e,o){let a=findCompositionNode(n,o);if(!a)return null;let{node:l,from:u,to:c}=a,f=l.nodeValue;if(/[\n\r]/.test(f)||n.state.doc.sliceString(a.from,a.to)!=f)return null;let p=e.invertedDesc,T=new ChangedRange(p.mapPos(u),p.mapPos(c),u,c),E=[];for(let b=l.parentNode;;b=b.parentNode){let m=ContentView.get(b);if(m instanceof MarkView)E.push({node:b,deco:m.mark});else{if(m instanceof LineView||b.nodeName=="DIV"&&b.parentNode==n.contentDOM)return{range:T,text:l,marks:E,line:b};if(b!=n.contentDOM)E.push({node:b,deco:new MarkDecoration({inclusive:!0,attributes:getAttrs(b),tagName:b.tagName.toLowerCase()})});else return null}}}function nextToUneditable(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let DecorationComparator$1=class{constructor(){this.changes=[]}compareRange(e,o){addRange(e,o,this.changes)}comparePoint(e,o){addRange(e,o,this.changes)}boundChange(e){addRange(e,e,this.changes)}};function findChangedDeco(n,e,o){let a=new DecorationComparator$1;return RangeSet.compare(n,e,o,a),a.changes}function inUneditable(n,e){for(let o=n;o&&o!=e;o=o.assignedSlot||o.parentNode)if(o.nodeType==1&&o.contentEditable=="false")return!0;return!1}function touchesComposition(n,e){let o=!1;return e&&n.iterChangedRanges((a,l)=>{a<e.to&&l>e.from&&(o=!0)}),o}function groupAt(n,e,o=1){let a=n.charCategorizer(e),l=n.doc.lineAt(e),u=e-l.from;if(l.length==0)return EditorSelection.cursor(e);u==0?o=1:u==l.length&&(o=-1);let c=u,f=u;o<0?c=findClusterBreak(l.text,u,!1):f=findClusterBreak(l.text,u);let p=a(l.text.slice(c,f));for(;c>0;){let T=findClusterBreak(l.text,c,!1);if(a(l.text.slice(T,c))!=p)break;c=T}for(;f<l.length;){let T=findClusterBreak(l.text,f);if(a(l.text.slice(f,T))!=p)break;f=T}return EditorSelection.range(c+l.from,f+l.from)}function getdx(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function getdy(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function yOverlap(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function upTop(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function upBot(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function domPosAtCoords(n,e,o){let a,l,u,c,f=!1,p,T,E,b;for(let S=n.firstChild;S;S=S.nextSibling){let v=clientRectsFor(S);for(let A=0;A<v.length;A++){let w=v[A];l&&yOverlap(l,w)&&(w=upTop(upBot(w,l.bottom),l.top));let R=getdx(e,w),P=getdy(o,w);if(R==0&&P==0)return S.nodeType==3?domPosInText(S,e,o):domPosAtCoords(S,e,o);(!a||c>P||c==P&&u>R)&&(a=S,l=w,u=R,c=P,f=R?e<w.left?A>0:A<v.length-1:!0),R==0?o>w.bottom&&(!E||E.bottom<w.bottom)?(p=S,E=w):o<w.top&&(!b||b.top>w.top)&&(T=S,b=w):E&&yOverlap(E,w)?E=upBot(E,w.bottom):b&&yOverlap(b,w)&&(b=upTop(b,w.top))}}if(E&&E.bottom>=o?(a=p,l=E):b&&b.top<=o&&(a=T,l=b),!a)return{node:n,offset:0};let m=Math.max(l.left,Math.min(l.right,e));if(a.nodeType==3)return domPosInText(a,m,o);if(f&&a.contentEditable!="false")return domPosAtCoords(a,m,o);let y=Array.prototype.indexOf.call(n.childNodes,a)+(e>=(l.left+l.right)/2?1:0);return{node:n,offset:y}}function domPosInText(n,e,o){let a=n.nodeValue.length,l=-1,u=1e9,c=0;for(let f=0;f<a;f++){let p=textRange(n,f,f+1).getClientRects();for(let T=0;T<p.length;T++){let E=p[T];if(E.top==E.bottom)continue;c||(c=e-E.left);let b=(E.top>o?E.top-o:o-E.bottom)-1;if(E.left-1<=e&&E.right+1>=e&&b<u){let m=e>=(E.left+E.right)/2,y=m;if((browser.chrome||browser.gecko)&&textRange(n,f).getBoundingClientRect().left==E.right&&(y=!m),b<=0)return{node:n,offset:f+(y?1:0)};l=f+(y?1:0),u=b}}}return{node:n,offset:l>-1?l:c>0?n.nodeValue.length:0}}function posAtCoords(n,e,o,a=-1){var l,u;let c=n.contentDOM.getBoundingClientRect(),f=c.top+n.viewState.paddingTop,p,{docHeight:T}=n.viewState,{x:E,y:b}=e,m=b-f;if(m<0)return 0;if(m>T)return n.state.doc.length;for(let F=n.viewState.heightOracle.textHeight/2,B=!1;p=n.elementAtHeight(m),p.type!=BlockType.Text;)for(;m=a>0?p.bottom+F:p.top-F,!(m>=0&&m<=T);){if(B)return o?null:0;B=!0,a=-a}b=f+m;let y=p.from;if(y<n.viewport.from)return n.viewport.from==0?0:o?null:posAtCoordsImprecise(n,c,p,E,b);if(y>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:o?null:posAtCoordsImprecise(n,c,p,E,b);let S=n.dom.ownerDocument,v=n.root.elementFromPoint?n.root:S,A=v.elementFromPoint(E,b);A&&!n.contentDOM.contains(A)&&(A=null),A||(E=Math.max(c.left+1,Math.min(c.right-1,E)),A=v.elementFromPoint(E,b),A&&!n.contentDOM.contains(A)&&(A=null));let w,R=-1;if(A&&((l=n.docView.nearest(A))===null||l===void 0?void 0:l.isEditable)!=!1){if(S.caretPositionFromPoint){let F=S.caretPositionFromPoint(E,b);F&&({offsetNode:w,offset:R}=F)}else if(S.caretRangeFromPoint){let F=S.caretRangeFromPoint(E,b);F&&({startContainer:w,startOffset:R}=F,(!n.contentDOM.contains(w)||browser.safari&&isSuspiciousSafariCaretResult(w,R,E)||browser.chrome&&isSuspiciousChromeCaretResult(w,R,E))&&(w=void 0))}w&&(R=Math.min(maxOffset(w),R))}if(!w||!n.docView.dom.contains(w)){let F=LineView.find(n.docView,y);if(!F)return m>p.top+p.height/2?p.to:p.from;({node:w,offset:R}=domPosAtCoords(F.dom,E,b))}let P=n.docView.nearest(w);if(!P)return null;if(P.isWidget&&((u=P.dom)===null||u===void 0?void 0:u.nodeType)==1){let F=P.dom.getBoundingClientRect();return e.y<F.top||e.y<=F.bottom&&e.x<=(F.left+F.right)/2?P.posAtStart:P.posAtEnd}else return P.localPosFromDOM(w,R)+P.posAtStart}function posAtCoordsImprecise(n,e,o,a,l){let u=Math.round((a-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&o.height>n.defaultLineHeight*1.5){let f=n.viewState.heightOracle.textHeight,p=Math.floor((l-o.top-(n.defaultLineHeight-f)*.5)/f);u+=p*n.viewState.heightOracle.lineLength}let c=n.state.sliceDoc(o.from,o.to);return o.from+findColumn(c,u,n.state.tabSize)}function isSuspiciousSafariCaretResult(n,e,o){let a,l=n;if(n.nodeType!=3||e!=(a=n.nodeValue.length))return!1;for(;;){let u=l.nextSibling;if(u){if(u.nodeName=="BR")break;return!1}else{let c=l.parentNode;if(!c||c.nodeName=="DIV")break;l=c}}return textRange(n,a-1,a).getBoundingClientRect().right>o}function isSuspiciousChromeCaretResult(n,e,o){if(e!=0)return!1;for(let l=n;;){let u=l.parentNode;if(!u||u.nodeType!=1||u.firstChild!=l)return!1;if(u.classList.contains("cm-line"))break;l=u}let a=n.nodeType==1?n.getBoundingClientRect():textRange(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return o-a.left>5}function blockAt(n,e,o){let a=n.lineBlockAt(e);if(Array.isArray(a.type)){let l;for(let u of a.type){if(u.from>e)break;if(!(u.to<e)){if(u.from<e&&u.to>e)return u;(!l||u.type==BlockType.Text&&(l.type!=u.type||(o<0?u.from<e:u.to>e)))&&(l=u)}}return l||a}return a}function moveToLineBoundary(n,e,o,a){let l=blockAt(n,e.head,e.assoc||-1),u=!a||l.type!=BlockType.Text||!(n.lineWrapping||l.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>l.from?e.head-1:e.head);if(u){let c=n.dom.getBoundingClientRect(),f=n.textDirectionAt(l.from),p=n.posAtCoords({x:o==(f==Direction.LTR)?c.right-1:c.left+1,y:(u.top+u.bottom)/2});if(p!=null)return EditorSelection.cursor(p,o?-1:1)}return EditorSelection.cursor(o?l.to:l.from,o?-1:1)}function moveByChar(n,e,o,a){let l=n.state.doc.lineAt(e.head),u=n.bidiSpans(l),c=n.textDirectionAt(l.from);for(let f=e,p=null;;){let T=moveVisually(l,u,c,f,o),E=movedOver;if(!T){if(l.number==(o?n.state.doc.lines:1))return f;E=`
`,l=n.state.doc.line(l.number+(o?1:-1)),u=n.bidiSpans(l),T=n.visualLineSide(l,!o)}if(p){if(!p(E))return f}else{if(!a)return T;p=a(E)}f=T}}function byGroup(n,e,o){let a=n.state.charCategorizer(e),l=a(o);return u=>{let c=a(u);return l==CharCategory.Space&&(l=c),l==c}}function moveVertically(n,e,o,a){let l=e.head,u=o?1:-1;if(l==(o?n.state.doc.length:0))return EditorSelection.cursor(l,e.assoc);let c=e.goalColumn,f,p=n.contentDOM.getBoundingClientRect(),T=n.coordsAtPos(l,e.assoc||-1),E=n.documentTop;if(T)c==null&&(c=T.left-p.left),f=u<0?T.top:T.bottom;else{let y=n.viewState.lineBlockAt(l);c==null&&(c=Math.min(p.right-p.left,n.defaultCharacterWidth*(l-y.from))),f=(u<0?y.top:y.bottom)+E}let b=p.left+c,m=a??n.viewState.heightOracle.textHeight>>1;for(let y=0;;y+=10){let S=f+(m+y)*u,v=posAtCoords(n,{x:b,y:S},!1,u);if(S<p.top||S>p.bottom||(u<0?v<l:v>l)){let A=n.docView.coordsForChar(v),w=!A||S<A.top?-1:1;return EditorSelection.cursor(v,w,void 0,c)}}}function skipAtomicRanges(n,e,o){for(;;){let a=0;for(let l of n)l.between(e-1,e+1,(u,c,f)=>{if(e>u&&e<c){let p=a||o||(e-u<c-e?-1:1);e=p<0?u:c,a=p}});if(!a)return e}}function skipAtoms(n,e,o){let a=skipAtomicRanges(n.state.facet(atomicRanges).map(l=>l(n)),o.from,e.head>o.from?-1:1);return a==o.from?o:EditorSelection.cursor(a,a<o.from?1:-1)}const LineBreakPlaceholder="";class DOMReader{constructor(e,o){this.points=e,this.text="",this.lineSeparator=o.facet(EditorState.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=LineBreakPlaceholder}readRange(e,o){if(!e)return this;let a=e.parentNode;for(let l=e;;){this.findPointBefore(a,l);let u=this.text.length;this.readNode(l);let c=l.nextSibling;if(c==o)break;let f=ContentView.get(l),p=ContentView.get(c);(f&&p?f.breakAfter:(f?f.breakAfter:isBlockElement(l))||isBlockElement(c)&&(l.nodeName!="BR"||l.cmIgnore)&&this.text.length>u)&&this.lineBreak(),l=c}return this.findPointBefore(a,o),this}readTextNode(e){let o=e.nodeValue;for(let a of this.points)a.node==e&&(a.pos=this.text.length+Math.min(a.offset,o.length));for(let a=0,l=this.lineSeparator?null:/\r\n?|\n/g;;){let u=-1,c=1,f;if(this.lineSeparator?(u=o.indexOf(this.lineSeparator,a),c=this.lineSeparator.length):(f=l.exec(o))&&(u=f.index,c=f[0].length),this.append(o.slice(a,u<0?o.length:u)),u<0)break;if(this.lineBreak(),c>1)for(let p of this.points)p.node==e&&p.pos>this.text.length&&(p.pos-=c-1);a=u+c}}readNode(e){if(e.cmIgnore)return;let o=ContentView.get(e),a=o&&o.overrideDOMText;if(a!=null){this.findPointInside(e,a.length);for(let l=a.iter();!l.next().done;)l.lineBreak?this.lineBreak():this.append(l.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,o){for(let a of this.points)a.node==e&&e.childNodes[a.offset]==o&&(a.pos=this.text.length)}findPointInside(e,o){for(let a of this.points)(e.nodeType==3?a.node==e:e.contains(a.node))&&(a.pos=this.text.length+(isAtEnd(e,a.node,a.offset)?o:0))}}function isAtEnd(n,e,o){for(;;){if(!e||o<maxOffset(e))return!1;if(e==n)return!0;o=domIndex(e)+1,e=e.parentNode}}class DOMPoint{constructor(e,o){this.node=e,this.offset=o,this.pos=-1}}class DOMChange{constructor(e,o,a,l){this.typeOver=l,this.bounds=null,this.text="",this.domChanged=o>-1;let{impreciseHead:u,impreciseAnchor:c}=e.docView;if(e.state.readOnly&&o>-1)this.newSel=null;else if(o>-1&&(this.bounds=e.docView.domBoundsAround(o,a,0))){let f=u||c?[]:selectionPoints(e),p=new DOMReader(f,e.state);p.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=p.text,this.newSel=selectionFromPoints(f,this.bounds.from)}else{let f=e.observer.selectionRange,p=u&&u.node==f.focusNode&&u.offset==f.focusOffset||!contains(e.contentDOM,f.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(f.focusNode,f.focusOffset),T=c&&c.node==f.anchorNode&&c.offset==f.anchorOffset||!contains(e.contentDOM,f.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(f.anchorNode,f.anchorOffset),E=e.viewport;if((browser.ios||browser.chrome)&&e.state.selection.main.empty&&p!=T&&(E.from>0||E.to<e.state.doc.length)){let b=Math.min(p,T),m=Math.max(p,T),y=E.from-b,S=E.to-m;(y==0||y==1||b==0)&&(S==0||S==-1||m==e.state.doc.length)&&(p=0,T=e.state.doc.length)}this.newSel=EditorSelection.single(T,p)}}}function applyDOMChange(n,e){let o,{newSel:a}=e,l=n.state.selection.main,u=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:c,to:f}=e.bounds,p=l.from,T=null;(u===8||browser.android&&e.text.length<f-c)&&(p=l.to,T="end");let E=findDiff(n.state.doc.sliceString(c,f,LineBreakPlaceholder),e.text,p-c,T);E&&(browser.chrome&&u==13&&E.toB==E.from+2&&e.text.slice(E.from,E.toB)==LineBreakPlaceholder+LineBreakPlaceholder&&E.toB--,o={from:c+E.from,to:c+E.toA,insert:Text.of(e.text.slice(E.from,E.toB).split(LineBreakPlaceholder))})}else a&&(!n.hasFocus&&n.state.facet(editable)||a.main.eq(l))&&(a=null);if(!o&&!a)return!1;if(!o&&e.typeOver&&!l.empty&&a&&a.main.empty?o={from:l.from,to:l.to,insert:n.state.doc.slice(l.from,l.to)}:(browser.mac||browser.android)&&o&&o.from==o.to&&o.from==l.head-1&&/^\. ?$/.test(o.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(a&&o.insert.length==2&&(a=EditorSelection.single(a.main.anchor-1,a.main.head-1)),o={from:o.from,to:o.to,insert:Text.of([o.insert.toString().replace("."," ")])}):o&&o.from>=l.from&&o.to<=l.to&&(o.from!=l.from||o.to!=l.to)&&l.to-l.from-(o.to-o.from)<=4?o={from:l.from,to:l.to,insert:n.state.doc.slice(l.from,o.from).append(o.insert).append(n.state.doc.slice(o.to,l.to))}:browser.chrome&&o&&o.from==o.to&&o.from==l.head&&o.insert.toString()==`
 `&&n.lineWrapping&&(a&&(a=EditorSelection.single(a.main.anchor-1,a.main.head-1)),o={from:l.from,to:l.to,insert:Text.of([" "])}),o)return applyDOMChangeInner(n,o,a,u);if(a&&!a.main.eq(l)){let c=!1,f="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(c=!0),f=n.inputState.lastSelectionOrigin),n.dispatch({selection:a,scrollIntoView:c,userEvent:f}),!0}else return!1}function applyDOMChangeInner(n,e,o,a=-1){if(browser.ios&&n.inputState.flushIOSKey(e))return!0;let l=n.state.selection.main;if(browser.android&&(e.to==l.to&&(e.from==l.from||e.from==l.from-1&&n.state.sliceDoc(e.from,l.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&dispatchKey(n.contentDOM,"Enter",13)||(e.from==l.from-1&&e.to==l.to&&e.insert.length==0||a==8&&e.insert.length<e.to-e.from&&e.to>l.head)&&dispatchKey(n.contentDOM,"Backspace",8)||e.from==l.from&&e.to==l.to+1&&e.insert.length==0&&dispatchKey(n.contentDOM,"Delete",46)))return!0;let u=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let c,f=()=>c||(c=applyDefaultInsert(n,e,o));return n.state.facet(inputHandler$1).some(p=>p(n,e.from,e.to,u,f))||n.dispatch(f()),!0}function applyDefaultInsert(n,e,o){let a,l=n.state,u=l.selection.main;if(e.from>=u.from&&e.to<=u.to&&e.to-e.from>=(u.to-u.from)/3&&(!o||o.main.empty&&o.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let f=u.from<e.from?l.sliceDoc(u.from,e.from):"",p=u.to>e.to?l.sliceDoc(e.to,u.to):"";a=l.replaceSelection(n.state.toText(f+e.insert.sliceString(0,void 0,n.state.lineBreak)+p))}else{let f=l.changes(e),p=o&&o.main.to<=f.newLength?o.main:void 0;if(l.selection.ranges.length>1&&n.inputState.composing>=0&&e.to<=u.to&&e.to>=u.to-10){let T=n.state.sliceDoc(e.from,e.to),E,b=o&&findCompositionNode(n,o.main.head);if(b){let S=e.insert.length-(e.to-e.from);E={from:b.from,to:b.to-S}}else E=n.state.doc.lineAt(u.head);let m=u.to-e.to,y=u.to-u.from;a=l.changeByRange(S=>{if(S.from==u.from&&S.to==u.to)return{changes:f,range:p||S.map(f)};let v=S.to-m,A=v-T.length;if(S.to-S.from!=y||n.state.sliceDoc(A,v)!=T||S.to>=E.from&&S.from<=E.to)return{range:S};let w=l.changes({from:A,to:v,insert:e.insert}),R=S.to-u.to;return{changes:w,range:p?EditorSelection.range(Math.max(0,p.anchor+R),Math.max(0,p.head+R)):S.map(w)}})}else a={changes:f,selection:p&&l.selection.replaceRange(p)}}let c="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,c+=".compose",n.inputState.compositionFirstChange&&(c+=".start",n.inputState.compositionFirstChange=!1)),l.update(a,{userEvent:c,scrollIntoView:!0})}function findDiff(n,e,o,a){let l=Math.min(n.length,e.length),u=0;for(;u<l&&n.charCodeAt(u)==e.charCodeAt(u);)u++;if(u==l&&n.length==e.length)return null;let c=n.length,f=e.length;for(;c>0&&f>0&&n.charCodeAt(c-1)==e.charCodeAt(f-1);)c--,f--;if(a=="end"){let p=Math.max(0,u-Math.min(c,f));o-=c+p-u}if(c<u&&n.length<e.length){let p=o<=u&&o>=c?u-o:0;u-=p,f=u+(f-c),c=u}else if(f<u){let p=o<=u&&o>=f?u-o:0;u-=p,c=u+(c-f),f=u}return{from:u,toA:c,toB:f}}function selectionPoints(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:o,anchorOffset:a,focusNode:l,focusOffset:u}=n.observer.selectionRange;return o&&(e.push(new DOMPoint(o,a)),(l!=o||u!=a)&&e.push(new DOMPoint(l,u))),e}function selectionFromPoints(n,e){if(n.length==0)return null;let o=n[0].pos,a=n.length==2?n[1].pos:o;return o>-1&&a>-1?EditorSelection.single(o+e,a+e):null}class InputState{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,browser.safari&&e.contentDOM.addEventListener("input",()=>null),browser.gecko&&firefoxCopyCutHack(e.contentDOM.ownerDocument)}handleEvent(e){!eventBelongsToEditor(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,o){let a=this.handlers[e];if(a){for(let l of a.observers)l(this.view,o);for(let l of a.handlers){if(o.defaultPrevented)break;if(l(this.view,o)){o.preventDefault();break}}}}ensureHandlers(e){let o=computeHandlers(e),a=this.handlers,l=this.view.contentDOM;for(let u in o)if(u!="scroll"){let c=!o[u].handlers.length,f=a[u];f&&c!=!f.handlers.length&&(l.removeEventListener(u,this.handleEvent),f=null),f||l.addEventListener(u,this.handleEvent,{passive:c})}for(let u in a)u!="scroll"&&!o[u]&&l.removeEventListener(u,this.handleEvent);this.handlers=o}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&modifierCodes.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),browser.android&&browser.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let o;return browser.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((o=PendingKeys.find(a=>a.keyCode==e.keyCode))&&!e.ctrlKey||EmacsyPendingKeys.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=o||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let o=this.pendingIOSKey;return!o||o.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,dispatchKey(this.view.contentDOM,o.key,o.keyCode,o instanceof KeyboardEvent?o:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:browser.safari&&!browser.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function bindHandler(n,e){return(o,a)=>{try{return e.call(n,a,o)}catch(l){logException(o.state,l)}}}function computeHandlers(n){let e=Object.create(null);function o(a){return e[a]||(e[a]={observers:[],handlers:[]})}for(let a of n){let l=a.spec,u=l&&l.plugin.domEventHandlers,c=l&&l.plugin.domEventObservers;if(u)for(let f in u){let p=u[f];p&&o(f).handlers.push(bindHandler(a.value,p))}if(c)for(let f in c){let p=c[f];p&&o(f).observers.push(bindHandler(a.value,p))}}for(let a in handlers)o(a).handlers.push(handlers[a]);for(let a in observers)o(a).observers.push(observers[a]);return e}const PendingKeys=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],EmacsyPendingKeys="dthko",modifierCodes=[16,17,18,20,91,92,224,225],dragScrollMargin=6;function dragScrollSpeed(n){return Math.max(0,n)*.7+8}function dist(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class MouseSelection{constructor(e,o,a,l){this.view=e,this.startEvent=o,this.style=a,this.mustSelect=l,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=o,this.scrollParents=scrollableParents(e.contentDOM),this.atoms=e.state.facet(atomicRanges).map(c=>c(e));let u=e.contentDOM.ownerDocument;u.addEventListener("mousemove",this.move=this.move.bind(this)),u.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=o.shiftKey,this.multiple=e.state.facet(EditorState.allowMultipleSelections)&&addsSelectionRange(e,o),this.dragging=isInPrimarySelection(e,o)&&getClickType(o)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&dist(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let o=0,a=0,l=0,u=0,c=this.view.win.innerWidth,f=this.view.win.innerHeight;this.scrollParents.x&&({left:l,right:c}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:u,bottom:f}=this.scrollParents.y.getBoundingClientRect());let p=getScrollMargins(this.view);e.clientX-p.left<=l+dragScrollMargin?o=-dragScrollSpeed(l-e.clientX):e.clientX+p.right>=c-dragScrollMargin&&(o=dragScrollSpeed(e.clientX-c)),e.clientY-p.top<=u+dragScrollMargin?a=-dragScrollSpeed(u-e.clientY):e.clientY+p.bottom>=f-dragScrollMargin&&(a=dragScrollSpeed(e.clientY-f)),this.setScrollSpeed(o,a)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,o){this.scrollSpeed={x:e,y:o},e||o?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:o}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),o&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=o,o=0),(e||o)&&this.view.win.scrollBy(e,o),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let o=null;for(let a=0;a<e.ranges.length;a++){let l=e.ranges[a],u=null;if(l.empty){let c=skipAtomicRanges(this.atoms,l.from,0);c!=l.from&&(u=EditorSelection.cursor(c,-1))}else{let c=skipAtomicRanges(this.atoms,l.from,-1),f=skipAtomicRanges(this.atoms,l.to,1);(c!=l.from||f!=l.to)&&(u=EditorSelection.range(l.from==l.anchor?c:f,l.from==l.head?c:f))}u&&(o||(o=e.ranges.slice()),o[a]=u)}return o?EditorSelection.create(o,e.mainIndex):e}select(e){let{view:o}=this,a=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!a.eq(o.state.selection,this.dragging===!1))&&this.view.dispatch({selection:a,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(o=>o.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function addsSelectionRange(n,e){let o=n.state.facet(clickAddsSelectionRange);return o.length?o[0](e):browser.mac?e.metaKey:e.ctrlKey}function dragMovesSelection(n,e){let o=n.state.facet(dragMovesSelection$1);return o.length?o[0](e):browser.mac?!e.altKey:!e.ctrlKey}function isInPrimarySelection(n,e){let{main:o}=n.state.selection;if(o.empty)return!1;let a=getSelection(n.root);if(!a||a.rangeCount==0)return!0;let l=a.getRangeAt(0).getClientRects();for(let u=0;u<l.length;u++){let c=l[u];if(c.left<=e.clientX&&c.right>=e.clientX&&c.top<=e.clientY&&c.bottom>=e.clientY)return!0}return!1}function eventBelongsToEditor(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let o=e.target,a;o!=n.contentDOM;o=o.parentNode)if(!o||o.nodeType==11||(a=ContentView.get(o))&&a.ignoreEvent(e))return!1;return!0}const handlers=Object.create(null),observers=Object.create(null),brokenClipboardAPI=browser.ie&&browser.ie_version<15||browser.ios&&browser.webkit_version<604;function capturePaste(n){let e=n.dom.parentNode;if(!e)return;let o=e.appendChild(document.createElement("textarea"));o.style.cssText="position: fixed; left: -10000px; top: 10px",o.focus(),setTimeout(()=>{n.focus(),o.remove(),doPaste(n,o.value)},50)}function textFilter(n,e,o){for(let a of n.facet(e))o=a(o,n);return o}function doPaste(n,e){e=textFilter(n.state,clipboardInputFilter,e);let{state:o}=n,a,l=1,u=o.toText(e),c=u.lines==o.selection.ranges.length;if(lastLinewiseCopy!=null&&o.selection.ranges.every(p=>p.empty)&&lastLinewiseCopy==u.toString()){let p=-1;a=o.changeByRange(T=>{let E=o.doc.lineAt(T.from);if(E.from==p)return{range:T};p=E.from;let b=o.toText((c?u.line(l++).text:e)+o.lineBreak);return{changes:{from:E.from,insert:b},range:EditorSelection.cursor(T.from+b.length)}})}else c?a=o.changeByRange(p=>{let T=u.line(l++);return{changes:{from:p.from,to:p.to,insert:T.text},range:EditorSelection.cursor(p.from+T.length)}}):a=o.replaceSelection(u);n.dispatch(a,{userEvent:"input.paste",scrollIntoView:!0})}observers.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};handlers.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);observers.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};observers.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};handlers.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let o=null;for(let a of n.state.facet(mouseSelectionStyle))if(o=a(n,e),o)break;if(!o&&e.button==0&&(o=basicMouseSelection(n,e)),o){let a=!n.hasFocus;n.inputState.startMouseSelection(new MouseSelection(n,e,o,a)),a&&n.observer.ignore(()=>{focusPreventScroll(n.contentDOM);let u=n.root.activeElement;u&&!u.contains(n.contentDOM)&&u.blur()});let l=n.inputState.mouseSelection;if(l)return l.start(e),l.dragging===!1}return!1};function rangeForClick(n,e,o,a){if(a==1)return EditorSelection.cursor(e,o);if(a==2)return groupAt(n.state,e,o);{let l=LineView.find(n.docView,e),u=n.state.doc.lineAt(l?l.posAtEnd:e),c=l?l.posAtStart:u.from,f=l?l.posAtEnd:u.to;return f<n.state.doc.length&&f==u.to&&f++,EditorSelection.range(c,f)}}let inside=(n,e,o)=>e>=o.top&&e<=o.bottom&&n>=o.left&&n<=o.right;function findPositionSide(n,e,o,a){let l=LineView.find(n.docView,e);if(!l)return 1;let u=e-l.posAtStart;if(u==0)return 1;if(u==l.length)return-1;let c=l.coordsAt(u,-1);if(c&&inside(o,a,c))return-1;let f=l.coordsAt(u,1);return f&&inside(o,a,f)?1:c&&c.bottom>=a?-1:1}function queryPos(n,e){let o=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:o,bias:findPositionSide(n,o,e.clientX,e.clientY)}}const BadMouseDetail=browser.ie&&browser.ie_version<=11;let lastMouseDown=null,lastMouseDownCount=0,lastMouseDownTime=0;function getClickType(n){if(!BadMouseDetail)return n.detail;let e=lastMouseDown,o=lastMouseDownTime;return lastMouseDown=n,lastMouseDownTime=Date.now(),lastMouseDownCount=!e||o>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(lastMouseDownCount+1)%3:1}function basicMouseSelection(n,e){let o=queryPos(n,e),a=getClickType(e),l=n.state.selection;return{update(u){u.docChanged&&(o.pos=u.changes.mapPos(o.pos),l=l.map(u.changes))},get(u,c,f){let p=queryPos(n,u),T,E=rangeForClick(n,p.pos,p.bias,a);if(o.pos!=p.pos&&!c){let b=rangeForClick(n,o.pos,o.bias,a),m=Math.min(b.from,E.from),y=Math.max(b.to,E.to);E=m<E.from?EditorSelection.range(m,y):EditorSelection.range(y,m)}return c?l.replaceRange(l.main.extend(E.from,E.to)):f&&a==1&&l.ranges.length>1&&(T=removeRangeAround(l,p.pos))?T:f?l.addRange(E):EditorSelection.create([E])}}}function removeRangeAround(n,e){for(let o=0;o<n.ranges.length;o++){let{from:a,to:l}=n.ranges[o];if(a<=e&&l>=e)return EditorSelection.create(n.ranges.slice(0,o).concat(n.ranges.slice(o+1)),n.mainIndex==o?0:n.mainIndex-(n.mainIndex>o?1:0))}return null}handlers.dragstart=(n,e)=>{let{selection:{main:o}}=n.state;if(e.target.draggable){let l=n.docView.nearest(e.target);if(l&&l.isWidget){let u=l.posAtStart,c=u+l.length;(u>=o.to||c<=o.from)&&(o=EditorSelection.range(u,c))}}let{inputState:a}=n;return a.mouseSelection&&(a.mouseSelection.dragging=!0),a.draggedContent=o,e.dataTransfer&&(e.dataTransfer.setData("Text",textFilter(n.state,clipboardOutputFilter,n.state.sliceDoc(o.from,o.to))),e.dataTransfer.effectAllowed="copyMove"),!1};handlers.dragend=n=>(n.inputState.draggedContent=null,!1);function dropText(n,e,o,a){if(o=textFilter(n.state,clipboardInputFilter,o),!o)return;let l=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:u}=n.inputState,c=a&&u&&dragMovesSelection(n,e)?{from:u.from,to:u.to}:null,f={from:l,insert:o},p=n.state.changes(c?[c,f]:f);n.focus(),n.dispatch({changes:p,selection:{anchor:p.mapPos(l,-1),head:p.mapPos(l,1)},userEvent:c?"move.drop":"input.drop"}),n.inputState.draggedContent=null}handlers.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let o=e.dataTransfer.files;if(o&&o.length){let a=Array(o.length),l=0,u=()=>{++l==o.length&&dropText(n,e,a.filter(c=>c!=null).join(n.state.lineBreak),!1)};for(let c=0;c<o.length;c++){let f=new FileReader;f.onerror=u,f.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(f.result)||(a[c]=f.result),u()},f.readAsText(o[c])}return!0}else{let a=e.dataTransfer.getData("Text");if(a)return dropText(n,e,a,!0),!0}return!1};handlers.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let o=brokenClipboardAPI?null:e.clipboardData;return o?(doPaste(n,o.getData("text/plain")||o.getData("text/uri-list")),!0):(capturePaste(n),!1)};function captureCopy(n,e){let o=n.dom.parentNode;if(!o)return;let a=o.appendChild(document.createElement("textarea"));a.style.cssText="position: fixed; left: -10000px; top: 10px",a.value=e,a.focus(),a.selectionEnd=e.length,a.selectionStart=0,setTimeout(()=>{a.remove(),n.focus()},50)}function copiedRange(n){let e=[],o=[],a=!1;for(let l of n.selection.ranges)l.empty||(e.push(n.sliceDoc(l.from,l.to)),o.push(l));if(!e.length){let l=-1;for(let{from:u}of n.selection.ranges){let c=n.doc.lineAt(u);c.number>l&&(e.push(c.text),o.push({from:c.from,to:Math.min(n.doc.length,c.to+1)})),l=c.number}a=!0}return{text:textFilter(n,clipboardOutputFilter,e.join(n.lineBreak)),ranges:o,linewise:a}}let lastLinewiseCopy=null;handlers.copy=handlers.cut=(n,e)=>{let{text:o,ranges:a,linewise:l}=copiedRange(n.state);if(!o&&!l)return!1;lastLinewiseCopy=l?o:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:a,scrollIntoView:!0,userEvent:"delete.cut"});let u=brokenClipboardAPI?null:e.clipboardData;return u?(u.clearData(),u.setData("text/plain",o),!0):(captureCopy(n,o),!1)};const isFocusChange=Annotation.define();function focusChangeTransaction(n,e){let o=[];for(let a of n.facet(focusChangeEffect)){let l=a(n,e);l&&o.push(l)}return o.length?n.update({effects:o,annotations:isFocusChange.of(!0)}):null}function updateForFocusChange(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let o=focusChangeTransaction(n.state,e);o?n.dispatch(o):n.update([])}},10)}observers.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),updateForFocusChange(n)};observers.blur=n=>{n.observer.clearSelectionRange(),updateForFocusChange(n)};observers.compositionstart=observers.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};observers.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,browser.chrome&&browser.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};observers.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};handlers.beforeinput=(n,e)=>{var o,a;if(e.inputType=="insertReplacementText"&&n.observer.editContext){let u=(o=e.dataTransfer)===null||o===void 0?void 0:o.getData("text/plain"),c=e.getTargetRanges();if(u&&c.length){let f=c[0],p=n.posAtDOM(f.startContainer,f.startOffset),T=n.posAtDOM(f.endContainer,f.endOffset);return applyDOMChangeInner(n,{from:p,to:T,insert:n.state.toText(u)},null),!0}}let l;if(browser.chrome&&browser.android&&(l=PendingKeys.find(u=>u.inputType==e.inputType))&&(n.observer.delayAndroidKey(l.key,l.keyCode),l.key=="Backspace"||l.key=="Delete")){let u=((a=window.visualViewport)===null||a===void 0?void 0:a.height)||0;setTimeout(()=>{var c;(((c=window.visualViewport)===null||c===void 0?void 0:c.height)||0)>u+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return browser.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),browser.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>observers.compositionend(n,e),20),!1};const appliedFirefoxHack=new Set;function firefoxCopyCutHack(n){appliedFirefoxHack.has(n)||(appliedFirefoxHack.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const wrappingWhiteSpace=["pre-wrap","normal","pre-line","break-spaces"];let heightChangeFlag=!1;function clearHeightChangeFlag(){heightChangeFlag=!1}class HeightOracle{constructor(e){this.lineWrapping=e,this.doc=Text.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,o){let a=this.doc.lineAt(o).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(a+=Math.max(0,Math.ceil((o-e-a*this.lineLength*.5)/this.lineLength))),this.lineHeight*a}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return wrappingWhiteSpace.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let o=!1;for(let a=0;a<e.length;a++){let l=e[a];l<0?a++:this.heightSamples[Math.floor(l*10)]||(o=!0,this.heightSamples[Math.floor(l*10)]=!0)}return o}refresh(e,o,a,l,u,c){let f=wrappingWhiteSpace.indexOf(e)>-1,p=Math.round(o)!=Math.round(this.lineHeight)||this.lineWrapping!=f;if(this.lineWrapping=f,this.lineHeight=o,this.charWidth=a,this.textHeight=l,this.lineLength=u,p){this.heightSamples={};for(let T=0;T<c.length;T++){let E=c[T];E<0?T++:this.heightSamples[Math.floor(E*10)]=!0}}return p}}class MeasuredHeights{constructor(e,o){this.from=e,this.heights=o,this.index=0}get more(){return this.index<this.heights.length}}class BlockInfo{constructor(e,o,a,l,u){this.from=e,this.length=o,this.top=a,this.height=l,this._content=u}get type(){return typeof this._content=="number"?BlockType.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof PointDecoration?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let o=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new BlockInfo(this.from,this.length+e.length,this.top,this.height+e.height,o)}}var QueryType$1=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(QueryType$1||(QueryType$1={}));const Epsilon=.001;class HeightMap{constructor(e,o,a=2){this.length=e,this.height=o,this.flags=a}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Epsilon&&(heightChangeFlag=!0),this.height=e)}replace(e,o,a){return HeightMap.of(a)}decomposeLeft(e,o){o.push(this)}decomposeRight(e,o){o.push(this)}applyChanges(e,o,a,l){let u=this,c=a.doc;for(let f=l.length-1;f>=0;f--){let{fromA:p,toA:T,fromB:E,toB:b}=l[f],m=u.lineAt(p,QueryType$1.ByPosNoHeight,a.setDoc(o),0,0),y=m.to>=T?m:u.lineAt(T,QueryType$1.ByPosNoHeight,a,0,0);for(b+=y.to-T,T=y.to;f>0&&m.from<=l[f-1].toA;)p=l[f-1].fromA,E=l[f-1].fromB,f--,p<m.from&&(m=u.lineAt(p,QueryType$1.ByPosNoHeight,a,0,0));E+=m.from-p,p=m.from;let S=NodeBuilder.build(a.setDoc(c),e,E,b);u=replace(u,u.replace(p,T,S))}return u.updateHeight(a,0)}static empty(){return new HeightMapText(0,0)}static of(e){if(e.length==1)return e[0];let o=0,a=e.length,l=0,u=0;for(;;)if(o==a)if(l>u*2){let f=e[o-1];f.break?e.splice(--o,1,f.left,null,f.right):e.splice(--o,1,f.left,f.right),a+=1+f.break,l-=f.size}else if(u>l*2){let f=e[a];f.break?e.splice(a,1,f.left,null,f.right):e.splice(a,1,f.left,f.right),a+=2+f.break,u-=f.size}else break;else if(l<u){let f=e[o++];f&&(l+=f.size)}else{let f=e[--a];f&&(u+=f.size)}let c=0;return e[o-1]==null?(c=1,o--):e[o]==null&&(c=1,a++),new HeightMapBranch(HeightMap.of(e.slice(0,o)),c,HeightMap.of(e.slice(a)))}}function replace(n,e){return n==e?n:(n.constructor!=e.constructor&&(heightChangeFlag=!0),e)}HeightMap.prototype.size=1;class HeightMapBlock extends HeightMap{constructor(e,o,a){super(e,o),this.deco=a}blockAt(e,o,a,l){return new BlockInfo(l,this.length,a,this.height,this.deco||0)}lineAt(e,o,a,l,u){return this.blockAt(0,a,l,u)}forEachLine(e,o,a,l,u,c){e<=u+this.length&&o>=u&&c(this.blockAt(0,a,l,u))}updateHeight(e,o=0,a=!1,l){return l&&l.from<=o&&l.more&&this.setHeight(l.heights[l.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class HeightMapText extends HeightMapBlock{constructor(e,o){super(e,o,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,o,a,l){return new BlockInfo(l,this.length,a,this.height,this.breaks)}replace(e,o,a){let l=a[0];return a.length==1&&(l instanceof HeightMapText||l instanceof HeightMapGap&&l.flags&4)&&Math.abs(this.length-l.length)<10?(l instanceof HeightMapGap?l=new HeightMapText(l.length,this.height):l.height=this.height,this.outdated||(l.outdated=!1),l):HeightMap.of(a)}updateHeight(e,o=0,a=!1,l){return l&&l.from<=o&&l.more?this.setHeight(l.heights[l.index++]):(a||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class HeightMapGap extends HeightMap{constructor(e){super(e,0)}heightMetrics(e,o){let a=e.doc.lineAt(o).number,l=e.doc.lineAt(o+this.length).number,u=l-a+1,c,f=0;if(e.lineWrapping){let p=Math.min(this.height,e.lineHeight*u);c=p/u,this.length>u+1&&(f=(this.height-p)/(this.length-u-1))}else c=this.height/u;return{firstLine:a,lastLine:l,perLine:c,perChar:f}}blockAt(e,o,a,l){let{firstLine:u,lastLine:c,perLine:f,perChar:p}=this.heightMetrics(o,l);if(o.lineWrapping){let T=l+(e<o.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-a)/this.height))*this.length)),E=o.doc.lineAt(T),b=f+E.length*p,m=Math.max(a,e-b/2);return new BlockInfo(E.from,E.length,m,b,0)}else{let T=Math.max(0,Math.min(c-u,Math.floor((e-a)/f))),{from:E,length:b}=o.doc.line(u+T);return new BlockInfo(E,b,a+f*T,f,0)}}lineAt(e,o,a,l,u){if(o==QueryType$1.ByHeight)return this.blockAt(e,a,l,u);if(o==QueryType$1.ByPosNoHeight){let{from:y,to:S}=a.doc.lineAt(e);return new BlockInfo(y,S-y,0,0,0)}let{firstLine:c,perLine:f,perChar:p}=this.heightMetrics(a,u),T=a.doc.lineAt(e),E=f+T.length*p,b=T.number-c,m=l+f*b+p*(T.from-u-b);return new BlockInfo(T.from,T.length,Math.max(l,Math.min(m,l+this.height-E)),E,0)}forEachLine(e,o,a,l,u,c){e=Math.max(e,u),o=Math.min(o,u+this.length);let{firstLine:f,perLine:p,perChar:T}=this.heightMetrics(a,u);for(let E=e,b=l;E<=o;){let m=a.doc.lineAt(E);if(E==e){let S=m.number-f;b+=p*S+T*(e-u-S)}let y=p+T*m.length;c(new BlockInfo(m.from,m.length,b,y,0)),b+=y,E=m.to+1}}replace(e,o,a){let l=this.length-o;if(l>0){let u=a[a.length-1];u instanceof HeightMapGap?a[a.length-1]=new HeightMapGap(u.length+l):a.push(null,new HeightMapGap(l-1))}if(e>0){let u=a[0];u instanceof HeightMapGap?a[0]=new HeightMapGap(e+u.length):a.unshift(new HeightMapGap(e-1),null)}return HeightMap.of(a)}decomposeLeft(e,o){o.push(new HeightMapGap(e-1),null)}decomposeRight(e,o){o.push(null,new HeightMapGap(this.length-e-1))}updateHeight(e,o=0,a=!1,l){let u=o+this.length;if(l&&l.from<=o+this.length&&l.more){let c=[],f=Math.max(o,l.from),p=-1;for(l.from>o&&c.push(new HeightMapGap(l.from-o-1).updateHeight(e,o));f<=u&&l.more;){let E=e.doc.lineAt(f).length;c.length&&c.push(null);let b=l.heights[l.index++];p==-1?p=b:Math.abs(b-p)>=Epsilon&&(p=-2);let m=new HeightMapText(E,b);m.outdated=!1,c.push(m),f+=E+1}f<=u&&c.push(null,new HeightMapGap(u-f).updateHeight(e,f));let T=HeightMap.of(c);return(p<0||Math.abs(T.height-this.height)>=Epsilon||Math.abs(p-this.heightMetrics(e,o).perLine)>=Epsilon)&&(heightChangeFlag=!0),replace(this,T)}else(a||this.outdated)&&(this.setHeight(e.heightForGap(o,o+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class HeightMapBranch extends HeightMap{constructor(e,o,a){super(e.length+o+a.length,e.height+a.height,o|(e.outdated||a.outdated?2:0)),this.left=e,this.right=a,this.size=e.size+a.size}get break(){return this.flags&1}blockAt(e,o,a,l){let u=a+this.left.height;return e<u?this.left.blockAt(e,o,a,l):this.right.blockAt(e,o,u,l+this.left.length+this.break)}lineAt(e,o,a,l,u){let c=l+this.left.height,f=u+this.left.length+this.break,p=o==QueryType$1.ByHeight?e<c:e<f,T=p?this.left.lineAt(e,o,a,l,u):this.right.lineAt(e,o,a,c,f);if(this.break||(p?T.to<f:T.from>f))return T;let E=o==QueryType$1.ByPosNoHeight?QueryType$1.ByPosNoHeight:QueryType$1.ByPos;return p?T.join(this.right.lineAt(f,E,a,c,f)):this.left.lineAt(f,E,a,l,u).join(T)}forEachLine(e,o,a,l,u,c){let f=l+this.left.height,p=u+this.left.length+this.break;if(this.break)e<p&&this.left.forEachLine(e,o,a,l,u,c),o>=p&&this.right.forEachLine(e,o,a,f,p,c);else{let T=this.lineAt(p,QueryType$1.ByPos,a,l,u);e<T.from&&this.left.forEachLine(e,T.from-1,a,l,u,c),T.to>=e&&T.from<=o&&c(T),o>T.to&&this.right.forEachLine(T.to+1,o,a,f,p,c)}}replace(e,o,a){let l=this.left.length+this.break;if(o<l)return this.balanced(this.left.replace(e,o,a),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-l,o-l,a));let u=[];e>0&&this.decomposeLeft(e,u);let c=u.length;for(let f of a)u.push(f);if(e>0&&mergeGaps(u,c-1),o<this.length){let f=u.length;this.decomposeRight(o,u),mergeGaps(u,f)}return HeightMap.of(u)}decomposeLeft(e,o){let a=this.left.length;if(e<=a)return this.left.decomposeLeft(e,o);o.push(this.left),this.break&&(a++,e>=a&&o.push(null)),e>a&&this.right.decomposeLeft(e-a,o)}decomposeRight(e,o){let a=this.left.length,l=a+this.break;if(e>=l)return this.right.decomposeRight(e-l,o);e<a&&this.left.decomposeRight(e,o),this.break&&e<l&&o.push(null),o.push(this.right)}balanced(e,o){return e.size>2*o.size||o.size>2*e.size?HeightMap.of(this.break?[e,null,o]:[e,o]):(this.left=replace(this.left,e),this.right=replace(this.right,o),this.setHeight(e.height+o.height),this.outdated=e.outdated||o.outdated,this.size=e.size+o.size,this.length=e.length+this.break+o.length,this)}updateHeight(e,o=0,a=!1,l){let{left:u,right:c}=this,f=o+u.length+this.break,p=null;return l&&l.from<=o+u.length&&l.more?p=u=u.updateHeight(e,o,a,l):u.updateHeight(e,o,a),l&&l.from<=f+c.length&&l.more?p=c=c.updateHeight(e,f,a,l):c.updateHeight(e,f,a),p?this.balanced(u,c):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function mergeGaps(n,e){let o,a;n[e]==null&&(o=n[e-1])instanceof HeightMapGap&&(a=n[e+1])instanceof HeightMapGap&&n.splice(e-1,3,new HeightMapGap(o.length+1+a.length))}const relevantWidgetHeight=5;class NodeBuilder{constructor(e,o){this.pos=e,this.oracle=o,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,o){if(this.lineStart>-1){let a=Math.min(o,this.lineEnd),l=this.nodes[this.nodes.length-1];l instanceof HeightMapText?l.length+=a-this.pos:(a>this.pos||!this.isCovered)&&this.nodes.push(new HeightMapText(a-this.pos,-1)),this.writtenTo=a,o>a&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=o}point(e,o,a){if(e<o||a.heightRelevant){let l=a.widget?a.widget.estimatedHeight:0,u=a.widget?a.widget.lineBreaks:0;l<0&&(l=this.oracle.lineHeight);let c=o-e;a.block?this.addBlock(new HeightMapBlock(c,l,a)):(c||u||l>=relevantWidgetHeight)&&this.addLineDeco(l,u,c)}else o>e&&this.span(e,o);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:o}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=o,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new HeightMapText(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,o){let a=new HeightMapGap(o-e);return this.oracle.doc.lineAt(e).to==o&&(a.flags|=4),a}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof HeightMapText)return e;let o=new HeightMapText(0,-1);return this.nodes.push(o),o}addBlock(e){this.enterLine();let o=e.deco;o&&o.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,o&&o.endSide>0&&(this.covering=e)}addLineDeco(e,o,a){let l=this.ensureLine();l.length+=a,l.collapsed+=a,l.widgetHeight=Math.max(l.widgetHeight,e),l.breaks+=o,this.writtenTo=this.pos=this.pos+a}finish(e){let o=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(o instanceof HeightMapText)&&!this.isCovered?this.nodes.push(new HeightMapText(0,-1)):(this.writtenTo<this.pos||o==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let a=e;for(let l of this.nodes)l instanceof HeightMapText&&l.updateHeight(this.oracle,a),a+=l?l.length:1;return this.nodes}static build(e,o,a,l){let u=new NodeBuilder(a,e);return RangeSet.spans(o,a,l,u,0),u.finish(a)}}function heightRelevantDecoChanges(n,e,o){let a=new DecorationComparator;return RangeSet.compare(n,e,o,a,0),a.changes}class DecorationComparator{constructor(){this.changes=[]}compareRange(){}comparePoint(e,o,a,l){(e<o||a&&a.heightRelevant||l&&l.heightRelevant)&&addRange(e,o,this.changes,5)}}function visiblePixelRange(n,e){let o=n.getBoundingClientRect(),a=n.ownerDocument,l=a.defaultView||window,u=Math.max(0,o.left),c=Math.min(l.innerWidth,o.right),f=Math.max(0,o.top),p=Math.min(l.innerHeight,o.bottom);for(let T=n.parentNode;T&&T!=a.body;)if(T.nodeType==1){let E=T,b=window.getComputedStyle(E);if((E.scrollHeight>E.clientHeight||E.scrollWidth>E.clientWidth)&&b.overflow!="visible"){let m=E.getBoundingClientRect();u=Math.max(u,m.left),c=Math.min(c,m.right),f=Math.max(f,m.top),p=Math.min(T==n.parentNode?l.innerHeight:p,m.bottom)}T=b.position=="absolute"||b.position=="fixed"?E.offsetParent:E.parentNode}else if(T.nodeType==11)T=T.host;else break;return{left:u-o.left,right:Math.max(u,c)-o.left,top:f-(o.top+e),bottom:Math.max(f,p)-(o.top+e)}}function inWindow(n){let e=n.getBoundingClientRect(),o=n.ownerDocument.defaultView||window;return e.left<o.innerWidth&&e.right>0&&e.top<o.innerHeight&&e.bottom>0}function fullPixelRange(n,e){let o=n.getBoundingClientRect();return{left:0,right:o.right-o.left,top:e,bottom:o.bottom-(o.top+e)}}class LineGap{constructor(e,o,a,l){this.from=e,this.to=o,this.size=a,this.displaySize=l}static same(e,o){if(e.length!=o.length)return!1;for(let a=0;a<e.length;a++){let l=e[a],u=o[a];if(l.from!=u.from||l.to!=u.to||l.size!=u.size)return!1}return!0}draw(e,o){return Decoration.replace({widget:new LineGapWidget(this.displaySize*(o?e.scaleY:e.scaleX),o)}).range(this.from,this.to)}}class LineGapWidget extends WidgetType{constructor(e,o){super(),this.size=e,this.vertical=o}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class ViewState{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=IdScaler,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Direction.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let o=e.facet(contentAttributes).some(a=>typeof a!="function"&&a.class=="cm-lineWrapping");this.heightOracle=new HeightOracle(o),this.stateDeco=e.facet(decorations).filter(a=>typeof a!="function"),this.heightMap=HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle.setDoc(e.doc),[new ChangedRange(0,0,0,e.doc.length)]);for(let a=0;a<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());a++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Decoration.set(this.lineGaps.map(a=>a.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:o}=this.state.selection;for(let a=0;a<=1;a++){let l=a?o.head:o.anchor;if(!e.some(({from:u,to:c})=>l>=u&&l<=c)){let{from:u,to:c}=this.lineBlockAt(l);e.push(new Viewport(u,c))}}return this.viewports=e.sort((a,l)=>a.from-l.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?IdScaler:new BigScaler(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(scaleBlock(e,this.scaler))})}update(e,o=null){this.state=e.state;let a=this.stateDeco;this.stateDeco=this.state.facet(decorations).filter(E=>typeof E!="function");let l=e.changedRanges,u=ChangedRange.extendWithRanges(l,heightRelevantDecoChanges(a,this.stateDeco,e?e.changes:ChangeSet.empty(this.state.doc.length))),c=this.heightMap.height,f=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);clearHeightChangeFlag(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),u),(this.heightMap.height!=c||heightChangeFlag)&&(e.flags|=2),f?(this.scrollAnchorPos=e.changes.mapPos(f.from,-1),this.scrollAnchorHeight=f.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=c);let p=u.length?this.mapViewport(this.viewport,e.changes):this.viewport;(o&&(o.range.head<p.from||o.range.head>p.to)||!this.viewportIsAppropriate(p))&&(p=this.getViewport(0,o));let T=p.from!=this.viewport.from||p.to!=this.viewport.to;this.viewport=p,e.flags|=this.updateForViewport(),(T||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),o&&(this.scrollTarget=o),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(nativeSelectionHidden)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let o=e.contentDOM,a=window.getComputedStyle(o),l=this.heightOracle,u=a.whiteSpace;this.defaultTextDirection=a.direction=="rtl"?Direction.RTL:Direction.LTR;let c=this.heightOracle.mustRefreshForWrapping(u),f=o.getBoundingClientRect(),p=c||this.mustMeasureContent||this.contentDOMHeight!=f.height;this.contentDOMHeight=f.height,this.mustMeasureContent=!1;let T=0,E=0;if(f.width&&f.height){let{scaleX:F,scaleY:B}=getScale(o,f);(F>.005&&Math.abs(this.scaleX-F)>.005||B>.005&&Math.abs(this.scaleY-B)>.005)&&(this.scaleX=F,this.scaleY=B,T|=16,c=p=!0)}let b=(parseInt(a.paddingTop)||0)*this.scaleY,m=(parseInt(a.paddingBottom)||0)*this.scaleY;(this.paddingTop!=b||this.paddingBottom!=m)&&(this.paddingTop=b,this.paddingBottom=m,T|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(l.lineWrapping&&(p=!0),this.editorWidth=e.scrollDOM.clientWidth,T|=16);let y=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=y&&(this.scrollAnchorHeight=-1,this.scrollTop=y),this.scrolledToBottom=isScrolledToBottom(e.scrollDOM);let S=(this.printing?fullPixelRange:visiblePixelRange)(o,this.paddingTop),v=S.top-this.pixelViewport.top,A=S.bottom-this.pixelViewport.bottom;this.pixelViewport=S;let w=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(w!=this.inView&&(this.inView=w,w&&(p=!0)),!this.inView&&!this.scrollTarget&&!inWindow(e.dom))return 0;let R=f.width;if((this.contentDOMWidth!=R||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=f.width,this.editorHeight=e.scrollDOM.clientHeight,T|=16),p){let F=e.docView.measureVisibleLineHeights(this.viewport);if(l.mustRefreshForHeights(F)&&(c=!0),c||l.lineWrapping&&Math.abs(R-this.contentDOMWidth)>l.charWidth){let{lineHeight:B,charWidth:G,textHeight:K}=e.docView.measureTextSize();c=B>0&&l.refresh(u,B,G,K,R/G,F),c&&(e.docView.minWidth=0,T|=16)}v>0&&A>0?E=Math.max(v,A):v<0&&A<0&&(E=Math.min(v,A)),clearHeightChangeFlag();for(let B of this.viewports){let G=B.from==this.viewport.from?F:e.docView.measureVisibleLineHeights(B);this.heightMap=(c?HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle,[new ChangedRange(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(l,0,c,new MeasuredHeights(B.from,G))}heightChangeFlag&&(T|=2)}let P=!this.viewportIsAppropriate(this.viewport,E)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return P&&(T&2&&(T|=this.updateScaler()),this.viewport=this.getViewport(E,this.scrollTarget),T|=this.updateForViewport()),(T&2||P)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(c?[]:this.lineGaps,e)),T|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),T}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,o){let a=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),l=this.heightMap,u=this.heightOracle,{visibleTop:c,visibleBottom:f}=this,p=new Viewport(l.lineAt(c-a*1e3,QueryType$1.ByHeight,u,0,0).from,l.lineAt(f+(1-a)*1e3,QueryType$1.ByHeight,u,0,0).to);if(o){let{head:T}=o.range;if(T<p.from||T>p.to){let E=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),b=l.lineAt(T,QueryType$1.ByPos,u,0,0),m;o.y=="center"?m=(b.top+b.bottom)/2-E/2:o.y=="start"||o.y=="nearest"&&T<p.from?m=b.top:m=b.bottom-E,p=new Viewport(l.lineAt(m-1e3/2,QueryType$1.ByHeight,u,0,0).from,l.lineAt(m+E+1e3/2,QueryType$1.ByHeight,u,0,0).to)}}return p}mapViewport(e,o){let a=o.mapPos(e.from,-1),l=o.mapPos(e.to,1);return new Viewport(this.heightMap.lineAt(a,QueryType$1.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(l,QueryType$1.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:o},a=0){if(!this.inView)return!0;let{top:l}=this.heightMap.lineAt(e,QueryType$1.ByPos,this.heightOracle,0,0),{bottom:u}=this.heightMap.lineAt(o,QueryType$1.ByPos,this.heightOracle,0,0),{visibleTop:c,visibleBottom:f}=this;return(e==0||l<=c-Math.max(10,Math.min(-a,250)))&&(o==this.state.doc.length||u>=f+Math.max(10,Math.min(a,250)))&&l>c-2*1e3&&u<f+2*1e3}mapLineGaps(e,o){if(!e.length||o.empty)return e;let a=[];for(let l of e)o.touchesRange(l.from,l.to)||a.push(new LineGap(o.mapPos(l.from),o.mapPos(l.to),l.size,l.displaySize));return a}ensureLineGaps(e,o){let a=this.heightOracle.lineWrapping,l=a?1e4:2e3,u=l>>1,c=l<<1;if(this.defaultTextDirection!=Direction.LTR&&!a)return[];let f=[],p=(E,b,m,y)=>{if(b-E<u)return;let S=this.state.selection.main,v=[S.from];S.empty||v.push(S.to);for(let w of v)if(w>E&&w<b){p(E,w-10,m,y),p(w+10,b,m,y);return}let A=find(e,w=>w.from>=m.from&&w.to<=m.to&&Math.abs(w.from-E)<u&&Math.abs(w.to-b)<u&&!v.some(R=>w.from<R&&w.to>R));if(!A){if(b<m.to&&o&&a&&o.visibleRanges.some(P=>P.from<=b&&P.to>=b)){let P=o.moveToLineBoundary(EditorSelection.cursor(b),!1,!0).head;P>E&&(b=P)}let w=this.gapSize(m,E,b,y),R=a||w<2e6?w:2e6;A=new LineGap(E,b,w,R)}f.push(A)},T=E=>{if(E.length<c||E.type!=BlockType.Text)return;let b=lineStructure(E.from,E.to,this.stateDeco);if(b.total<c)return;let m=this.scrollTarget?this.scrollTarget.range.head:null,y,S;if(a){let v=l/this.heightOracle.lineLength*this.heightOracle.lineHeight,A,w;if(m!=null){let R=findFraction(b,m),P=((this.visibleBottom-this.visibleTop)/2+v)/E.height;A=R-P,w=R+P}else A=(this.visibleTop-E.top-v)/E.height,w=(this.visibleBottom-E.top+v)/E.height;y=findPosition(b,A),S=findPosition(b,w)}else{let v=b.total*this.heightOracle.charWidth,A=l*this.heightOracle.charWidth,w=0;if(v>2e6)for(let G of e)G.from>=E.from&&G.from<E.to&&G.size!=G.displaySize&&G.from*this.heightOracle.charWidth+w<this.pixelViewport.left&&(w=G.size-G.displaySize);let R=this.pixelViewport.left+w,P=this.pixelViewport.right+w,F,B;if(m!=null){let G=findFraction(b,m),K=((P-R)/2+A)/v;F=G-K,B=G+K}else F=(R-A)/v,B=(P+A)/v;y=findPosition(b,F),S=findPosition(b,B)}y>E.from&&p(E.from,y,E,b),S<E.to&&p(S,E.to,E,b)};for(let E of this.viewportLines)Array.isArray(E.type)?E.type.forEach(T):T(E);return f}gapSize(e,o,a,l){let u=findFraction(l,a)-findFraction(l,o);return this.heightOracle.lineWrapping?e.height*u:l.total*this.heightOracle.charWidth*u}updateLineGaps(e){LineGap.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Decoration.set(e.map(o=>o.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let o=this.stateDeco;this.lineGaps.length&&(o=o.concat(this.lineGapDeco));let a=[];RangeSet.spans(o,this.viewport.from,this.viewport.to,{span(u,c){a.push({from:u,to:c})},point(){}},20);let l=0;if(a.length!=this.visibleRanges.length)l=12;else for(let u=0;u<a.length&&!(l&8);u++){let c=this.visibleRanges[u],f=a[u];(c.from!=f.from||c.to!=f.to)&&(l|=4,e&&e.mapPos(c.from,-1)==f.from&&e.mapPos(c.to,1)==f.to||(l|=8))}return this.visibleRanges=a,l}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(o=>o.from<=e&&o.to>=e)||scaleBlock(this.heightMap.lineAt(e,QueryType$1.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(o=>o.top<=e&&o.bottom>=e)||scaleBlock(this.heightMap.lineAt(this.scaler.fromDOM(e),QueryType$1.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let o=this.lineBlockAtHeight(e+8);return o.from>=this.viewport.from||this.viewportLines[0].top-e>200?o:this.viewportLines[0]}elementAtHeight(e){return scaleBlock(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Viewport{constructor(e,o){this.from=e,this.to=o}}function lineStructure(n,e,o){let a=[],l=n,u=0;return RangeSet.spans(o,n,e,{span(){},point(c,f){c>l&&(a.push({from:l,to:c}),u+=c-l),l=f}},20),l<e&&(a.push({from:l,to:e}),u+=e-l),{total:u,ranges:a}}function findPosition({total:n,ranges:e},o){if(o<=0)return e[0].from;if(o>=1)return e[e.length-1].to;let a=Math.floor(n*o);for(let l=0;;l++){let{from:u,to:c}=e[l],f=c-u;if(a<=f)return u+a;a-=f}}function findFraction(n,e){let o=0;for(let{from:a,to:l}of n.ranges){if(e<=l){o+=e-a;break}o+=l-a}return o/n.total}function find(n,e){for(let o of n)if(e(o))return o}const IdScaler={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};class BigScaler{constructor(e,o,a){let l=0,u=0,c=0;this.viewports=a.map(({from:f,to:p})=>{let T=o.lineAt(f,QueryType$1.ByPos,e,0,0).top,E=o.lineAt(p,QueryType$1.ByPos,e,0,0).bottom;return l+=E-T,{from:f,to:p,top:T,bottom:E,domTop:0,domBottom:0}}),this.scale=(7e6-l)/(o.height-l);for(let f of this.viewports)f.domTop=c+(f.top-u)*this.scale,c=f.domBottom=f.domTop+(f.bottom-f.top),u=f.bottom}toDOM(e){for(let o=0,a=0,l=0;;o++){let u=o<this.viewports.length?this.viewports[o]:null;if(!u||e<u.top)return l+(e-a)*this.scale;if(e<=u.bottom)return u.domTop+(e-u.top);a=u.bottom,l=u.domBottom}}fromDOM(e){for(let o=0,a=0,l=0;;o++){let u=o<this.viewports.length?this.viewports[o]:null;if(!u||e<u.domTop)return a+(e-l)/this.scale;if(e<=u.domBottom)return u.top+(e-u.domTop);a=u.bottom,l=u.domBottom}}eq(e){return e instanceof BigScaler?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((o,a)=>o.from==e.viewports[a].from&&o.to==e.viewports[a].to):!1}}function scaleBlock(n,e){if(e.scale==1)return n;let o=e.toDOM(n.top),a=e.toDOM(n.bottom);return new BlockInfo(n.from,n.length,o,a-o,Array.isArray(n._content)?n._content.map(l=>scaleBlock(l,e)):n._content)}const theme=Facet.define({combine:n=>n.join(" ")}),darkTheme=Facet.define({combine:n=>n.indexOf(!0)>-1}),baseThemeID=StyleModule.newName(),baseLightID=StyleModule.newName(),baseDarkID=StyleModule.newName(),lightDarkIDs={"&light":"."+baseLightID,"&dark":"."+baseDarkID};function buildTheme(n,e,o){return new StyleModule(e,{finish(a){return/&/.test(a)?a.replace(/&\w*/,l=>{if(l=="&")return n;if(!o||!o[l])throw new RangeError(`Unsupported selector: ${l}`);return o[l]}):n+" "+a}})}const baseTheme$1$3=buildTheme("."+baseThemeID,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},lightDarkIDs),observeOptions={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},useCharData=browser.ie&&browser.ie_version<=11;class DOMObserver{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new DOMSelectionState,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(o=>{for(let a of o)this.queue.push(a);(browser.ie&&browser.ie_version<=11||browser.ios&&e.composing)&&o.some(a=>a.type=="childList"&&a.removedNodes.length||a.type=="characterData"&&a.oldValue.length>a.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&browser.android&&e.constructor.EDIT_CONTEXT!==!1&&!(browser.chrome&&browser.chrome_version<126)&&(this.editContext=new EditContextManager(e),e.state.facet(editable)&&(e.contentDOM.editContext=this.editContext.editContext)),useCharData&&(this.onCharData=o=>{this.queue.push({target:o.target,type:"characterData",oldValue:o.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var o;((o=this.view.docView)===null||o===void 0?void 0:o.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(o=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),o.length>0&&o[o.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(o=>{o.length>0&&o[o.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((o,a)=>o!=e[a]))){this.gapIntersection.disconnect();for(let o of e)this.gapIntersection.observe(o);this.gaps=e}}onSelectionChange(e){let o=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:a}=this,l=this.selectionRange;if(a.state.facet(editable)?a.root.activeElement!=this.dom:!hasSelection(this.dom,l))return;let u=l.anchorNode&&a.docView.nearest(l.anchorNode);if(u&&u.ignoreEvent(e)){o||(this.selectionChanged=!1);return}(browser.ie&&browser.ie_version<=11||browser.android&&browser.chrome)&&!a.state.selection.main.empty&&l.focusNode&&isEquivalentPosition(l.focusNode,l.focusOffset,l.anchorNode,l.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,o=getSelection(e.root);if(!o)return!1;let a=browser.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&safariSelectionRangeHack(this.view,o)||o;if(!a||this.selectionRange.eq(a))return!1;let l=hasSelection(this.dom,a);return l&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&atElementStart(this.dom,a)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(a),l&&(this.selectionChanged=!0),!0)}setSelectionRange(e,o){this.selectionRange.set(e.node,e.offset,o.node,o.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,o=null;for(let a=this.dom;a;)if(a.nodeType==1)!o&&e<this.scrollTargets.length&&this.scrollTargets[e]==a?e++:o||(o=this.scrollTargets.slice(0,e)),o&&o.push(a),a=a.assignedSlot||a.parentNode;else if(a.nodeType==11)a=a.host;else break;if(e<this.scrollTargets.length&&!o&&(o=this.scrollTargets.slice(0,e)),o){for(let a of this.scrollTargets)a.removeEventListener("scroll",this.onScroll);for(let a of this.scrollTargets=o)a.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,observeOptions),useCharData&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),useCharData&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,o){var a;if(!this.delayedAndroidKey){let l=()=>{let u=this.delayedAndroidKey;u&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=u.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&u.force&&dispatchKey(this.dom,u.key,u.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(l)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:o,force:this.lastChange<Date.now()-50||!!(!((a=this.delayedAndroidKey)===null||a===void 0)&&a.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let o=-1,a=-1,l=!1;for(let u of e){let c=this.readMutation(u);c&&(c.typeOver&&(l=!0),o==-1?{from:o,to:a}=c:(o=Math.min(c.from,o),a=Math.max(c.to,a)))}return{from:o,to:a,typeOver:l}}readChange(){let{from:e,to:o,typeOver:a}=this.processRecords(),l=this.selectionChanged&&hasSelection(this.dom,this.selectionRange);if(e<0&&!l)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let u=new DOMChange(this.view,e,o,a);return this.view.docView.domChanged={newSel:u.newSel?u.newSel.main:null},u}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let o=this.readChange();if(!o)return this.view.requestMeasure(),!1;let a=this.view.state,l=applyDOMChange(this.view,o);return this.view.state==a&&(o.domChanged||o.newSel&&!o.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),l}readMutation(e){let o=this.view.docView.nearest(e.target);if(!o||o.ignoreMutation(e))return null;if(o.markDirty(e.type=="attributes"),e.type=="attributes"&&(o.flags|=4),e.type=="childList"){let a=findChild(o,e.previousSibling||e.target.previousSibling,-1),l=findChild(o,e.nextSibling||e.target.nextSibling,1);return{from:a?o.posAfter(a):o.posAtStart,to:l?o.posBefore(l):o.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:o.posAtStart,to:o.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(editable)!=e.state.facet(editable)&&(e.view.contentDOM.editContext=e.state.facet(editable)?this.editContext.editContext:null))}destroy(){var e,o,a;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(o=this.gapIntersection)===null||o===void 0||o.disconnect(),(a=this.resizeScroll)===null||a===void 0||a.disconnect();for(let l of this.scrollTargets)l.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function findChild(n,e,o){for(;e;){let a=ContentView.get(e);if(a&&a.parent==n)return a;let l=e.parentNode;e=l!=n.dom?l:o>0?e.nextSibling:e.previousSibling}return null}function buildSelectionRangeFromRange(n,e){let o=e.startContainer,a=e.startOffset,l=e.endContainer,u=e.endOffset,c=n.docView.domAtPos(n.state.selection.main.anchor);return isEquivalentPosition(c.node,c.offset,l,u)&&([o,a,l,u]=[l,u,o,a]),{anchorNode:o,anchorOffset:a,focusNode:l,focusOffset:u}}function safariSelectionRangeHack(n,e){if(e.getComposedRanges){let l=e.getComposedRanges(n.root)[0];if(l)return buildSelectionRangeFromRange(n,l)}let o=null;function a(l){l.preventDefault(),l.stopImmediatePropagation(),o=l.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",a,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",a,!0),o?buildSelectionRangeFromRange(n,o):null}class EditContextManager{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let o=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=a=>{let l=e.state.selection.main,{anchor:u,head:c}=l,f=this.toEditorPos(a.updateRangeStart),p=this.toEditorPos(a.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:a.updateRangeStart,editorBase:f,drifted:!1});let T={from:f,to:p,insert:Text.of(a.text.split(`
`))};if(T.from==this.from&&u<this.from?T.from=u:T.to==this.to&&u>this.to&&(T.to=u),T.from==T.to&&!T.insert.length){let E=EditorSelection.single(this.toEditorPos(a.selectionStart),this.toEditorPos(a.selectionEnd));E.main.eq(l)||e.dispatch({selection:E,userEvent:"select"});return}if((browser.mac||browser.android)&&T.from==c-1&&/^\. ?$/.test(a.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(T={from:f,to:p,insert:Text.of([a.text.replace("."," ")])}),this.pendingContextChange=T,!e.state.readOnly){let E=this.to-this.from+(T.to-T.from+T.insert.length);applyDOMChangeInner(e,T,EditorSelection.single(this.toEditorPos(a.selectionStart,E),this.toEditorPos(a.selectionEnd,E)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=a=>{let l=[],u=null;for(let c=this.toEditorPos(a.rangeStart),f=this.toEditorPos(a.rangeEnd);c<f;c++){let p=e.coordsForChar(c);u=p&&new DOMRect(p.left,p.top,p.right-p.left,p.bottom-p.top)||u||new DOMRect,l.push(u)}o.updateCharacterBounds(a.rangeStart,l)},this.handlers.textformatupdate=a=>{let l=[];for(let u of a.getTextFormats()){let c=u.underlineStyle,f=u.underlineThickness;if(c!="None"&&f!="None"){let p=this.toEditorPos(u.rangeStart),T=this.toEditorPos(u.rangeEnd);if(p<T){let E=`text-decoration: underline ${c=="Dashed"?"dashed ":c=="Squiggle"?"wavy ":""}${f=="Thin"?1:2}px`;l.push(Decoration.mark({attributes:{style:E}}).range(p,T))}}}e.dispatch({effects:setEditContextFormatting.of(Decoration.set(l))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:a}=this.composing;this.composing=null,a&&this.reset(e.state)}};for(let a in this.handlers)o.addEventListener(a,this.handlers[a]);this.measureReq={read:a=>{this.editContext.updateControlBounds(a.contentDOM.getBoundingClientRect());let l=getSelection(a.root);l&&l.rangeCount&&this.editContext.updateSelectionBounds(l.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let o=0,a=!1,l=this.pendingContextChange;return e.changes.iterChanges((u,c,f,p,T)=>{if(a)return;let E=T.length-(c-u);if(l&&c>=l.to)if(l.from==u&&l.to==c&&l.insert.eq(T)){l=this.pendingContextChange=null,o+=E,this.to+=E;return}else l=null,this.revertPending(e.state);if(u+=o,c+=o,c<=this.from)this.from+=E,this.to+=E;else if(u<this.to){if(u<this.from||c>this.to||this.to-this.from+T.length>3e4){a=!0;return}this.editContext.updateText(this.toContextPos(u),this.toContextPos(c),T.toString()),this.to+=E}o+=E}),l&&!a&&this.revertPending(e.state),!a}update(e){let o=this.pendingContextChange,a=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(a.from,a.to)&&e.transactions.some(l=>!l.isUserEvent("input.type")&&l.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||o)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:o}=e.selection.main;this.from=Math.max(0,o-1e4),this.to=Math.min(e.doc.length,o+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let o=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(o.from),this.toContextPos(o.from+o.insert.length),e.doc.sliceString(o.from,o.to))}setSelection(e){let{main:o}=e.selection,a=this.toContextPos(Math.max(this.from,Math.min(this.to,o.anchor))),l=this.toContextPos(o.head);(this.editContext.selectionStart!=a||this.editContext.selectionEnd!=l)&&this.editContext.updateSelection(a,l)}rangeIsValid(e){let{head:o}=e.selection.main;return!(this.from>0&&o-this.from<500||this.to<e.doc.length&&this.to-o<500||this.to-this.from>1e4*3)}toEditorPos(e,o=this.to-this.from){e=Math.min(e,o);let a=this.composing;return a&&a.drifted?a.editorBase+(e-a.contextBase):e+this.from}toContextPos(e){let o=this.composing;return o&&o.drifted?o.contextBase+(e-o.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class EditorView{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var o;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:a}=e;this.dispatchTransactions=e.dispatchTransactions||a&&(l=>l.forEach(u=>a(u,this)))||(l=>this.update(l)),this.dispatch=this.dispatch.bind(this),this._root=e.root||getRoot(e.parent)||document,this.viewState=new ViewState(e.state||EditorState.create(e)),e.scrollTo&&e.scrollTo.is(scrollIntoView$1)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(viewPlugin).map(l=>new PluginInstance(l));for(let l of this.plugins)l.update(this);this.observer=new DOMObserver(this),this.inputState=new InputState(this),this.inputState.ensureHandlers(this.plugins),this.docView=new DocView(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((o=document.fonts)===null||o===void 0)&&o.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let o=e.length==1&&e[0]instanceof Transaction?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(o,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let o=!1,a=!1,l,u=this.state;for(let m of e){if(m.startState!=u)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");u=m.state}if(this.destroyed){this.viewState.state=u;return}let c=this.hasFocus,f=0,p=null;e.some(m=>m.annotation(isFocusChange))?(this.inputState.notifiedFocused=c,f=1):c!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=c,p=focusChangeTransaction(u,c),p||(f=1));let T=this.observer.delayedAndroidKey,E=null;if(T?(this.observer.clearDelayedAndroidKey(),E=this.observer.readChange(),(E&&!this.state.doc.eq(u.doc)||!this.state.selection.eq(u.selection))&&(E=null)):this.observer.clear(),u.facet(EditorState.phrases)!=this.state.facet(EditorState.phrases))return this.setState(u);l=ViewUpdate.create(this,u,e),l.flags|=f;let b=this.viewState.scrollTarget;try{this.updateState=2;for(let m of e){if(b&&(b=b.map(m.changes)),m.scrollIntoView){let{main:y}=m.state.selection;b=new ScrollTarget(y.empty?y:EditorSelection.cursor(y.head,y.head>y.anchor?-1:1))}for(let y of m.effects)y.is(scrollIntoView$1)&&(b=y.value.clip(this.state))}this.viewState.update(l,b),this.bidiCache=CachedOrder.update(this.bidiCache,l.changes),l.empty||(this.updatePlugins(l),this.inputState.update(l)),o=this.docView.update(l),this.state.facet(styleModule)!=this.styleModules&&this.mountStyles(),a=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(o,e.some(m=>m.isUserEvent("select.pointer")))}finally{this.updateState=0}if(l.startState.facet(theme)!=l.state.facet(theme)&&(this.viewState.mustMeasureContent=!0),(o||a||b||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),o&&this.docViewUpdate(),!l.empty)for(let m of this.state.facet(updateListener))try{m(l)}catch(y){logException(this.state,y,"update listener")}(p||E)&&Promise.resolve().then(()=>{p&&this.state==p.startState&&this.dispatch(p),E&&!applyDOMChange(this,E)&&T.force&&dispatchKey(this.contentDOM,T.key,T.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let o=this.hasFocus;try{for(let a of this.plugins)a.destroy(this);this.viewState=new ViewState(e),this.plugins=e.facet(viewPlugin).map(a=>new PluginInstance(a)),this.pluginMap.clear();for(let a of this.plugins)a.update(this);this.docView.destroy(),this.docView=new DocView(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}o&&this.focus(),this.requestMeasure()}updatePlugins(e){let o=e.startState.facet(viewPlugin),a=e.state.facet(viewPlugin);if(o!=a){let l=[];for(let u of a){let c=o.indexOf(u);if(c<0)l.push(new PluginInstance(u));else{let f=this.plugins[c];f.mustUpdate=e,l.push(f)}}for(let u of this.plugins)u.mustUpdate!=e&&u.destroy(this);this.plugins=l,this.pluginMap.clear()}else for(let l of this.plugins)l.mustUpdate=e;for(let l=0;l<this.plugins.length;l++)this.plugins[l].update(this);o!=a&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let o=e.value;if(o&&o.docViewUpdate)try{o.docViewUpdate(this)}catch(a){logException(this.state,a,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let o=null,a=this.scrollDOM,l=a.scrollTop*this.scaleY,{scrollAnchorPos:u,scrollAnchorHeight:c}=this.viewState;Math.abs(l-this.viewState.scrollTop)>1&&(c=-1),this.viewState.scrollAnchorHeight=-1;try{for(let f=0;;f++){if(c<0)if(isScrolledToBottom(a))u=-1,c=this.viewState.heightMap.height;else{let y=this.viewState.scrollAnchorAt(l);u=y.from,c=y.top}this.updateState=1;let p=this.viewState.measure(this);if(!p&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(f>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let T=[];p&4||([this.measureRequests,T]=[T,this.measureRequests]);let E=T.map(y=>{try{return y.read(this)}catch(S){return logException(this.state,S),BadMeasure}}),b=ViewUpdate.create(this,this.state,[]),m=!1;b.flags|=p,o?o.flags|=p:o=b,this.updateState=2,b.empty||(this.updatePlugins(b),this.inputState.update(b),this.updateAttrs(),m=this.docView.update(b),m&&this.docViewUpdate());for(let y=0;y<T.length;y++)if(E[y]!=BadMeasure)try{let S=T[y];S.write&&S.write(E[y],this)}catch(S){logException(this.state,S)}if(m&&this.docView.updateSelection(!0),!b.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,c=-1;continue}else{let S=(u<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(u).top)-c;if(S>1||S<-1){l=l+S,a.scrollTop=l/this.scaleY,c=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(o&&!o.empty)for(let f of this.state.facet(updateListener))f(o)}get themeClasses(){return baseThemeID+" "+(this.state.facet(darkTheme)?baseDarkID:baseLightID)+" "+this.state.facet(theme)}updateAttrs(){let e=attrsFromFacet(this,editorAttributes,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),o={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(editable)?"true":"false",class:"cm-content",style:`${browser.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(o["aria-readonly"]="true"),attrsFromFacet(this,contentAttributes,o);let a=this.observer.ignore(()=>{let l=updateAttrs(this.contentDOM,this.contentAttrs,o),u=updateAttrs(this.dom,this.editorAttrs,e);return l||u});return this.editorAttrs=e,this.contentAttrs=o,a}showAnnouncements(e){let o=!0;for(let a of e)for(let l of a.effects)if(l.is(EditorView.announce)){o&&(this.announceDOM.textContent=""),o=!1;let u=this.announceDOM.appendChild(document.createElement("div"));u.textContent=l.value}}mountStyles(){this.styleModules=this.state.facet(styleModule);let e=this.state.facet(EditorView.cspNonce);StyleModule.mount(this.root,this.styleModules.concat(baseTheme$1$3).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let o=0;o<this.measureRequests.length;o++)if(this.measureRequests[o].key===e.key){this.measureRequests[o]=e;return}}this.measureRequests.push(e)}}plugin(e){let o=this.pluginMap.get(e);return(o===void 0||o&&o.plugin!=e)&&this.pluginMap.set(e,o=this.plugins.find(a=>a.plugin==e)||null),o&&o.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,o,a){return skipAtoms(this,e,moveByChar(this,e,o,a))}moveByGroup(e,o){return skipAtoms(this,e,moveByChar(this,e,o,a=>byGroup(this,e.head,a)))}visualLineSide(e,o){let a=this.bidiSpans(e),l=this.textDirectionAt(e.from),u=a[o?a.length-1:0];return EditorSelection.cursor(u.side(o,l)+e.from,u.forward(!o,l)?1:-1)}moveToLineBoundary(e,o,a=!0){return moveToLineBoundary(this,e,o,a)}moveVertically(e,o,a){return skipAtoms(this,e,moveVertically(this,e,o,a))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,o=0){return this.docView.posFromDOM(e,o)}posAtCoords(e,o=!0){return this.readMeasured(),posAtCoords(this,e,o)}coordsAtPos(e,o=1){this.readMeasured();let a=this.docView.coordsAt(e,o);if(!a||a.left==a.right)return a;let l=this.state.doc.lineAt(e),u=this.bidiSpans(l),c=u[BidiSpan.find(u,e-l.from,-1,o)];return flattenRect(a,c.dir==Direction.LTR==o>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(perLineTextDirection)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>MaxBidiLine)return trivialOrder(e.length);let o=this.textDirectionAt(e.from),a;for(let u of this.bidiCache)if(u.from==e.from&&u.dir==o&&(u.fresh||isolatesEq(u.isolates,a=getIsolatedRanges(this,e))))return u.order;a||(a=getIsolatedRanges(this,e));let l=computeOrder(e.text,o,a);return this.bidiCache.push(new CachedOrder(e.from,e.to,o,a,!0,l)),l}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||browser.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{focusPreventScroll(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,o={}){return scrollIntoView$1.of(new ScrollTarget(typeof e=="number"?EditorSelection.cursor(e):e,o.y,o.x,o.yMargin,o.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:o}=this.scrollDOM,a=this.viewState.scrollAnchorAt(e);return scrollIntoView$1.of(new ScrollTarget(EditorSelection.cursor(a.from),"start","start",a.top-e,o,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return ViewPlugin.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return ViewPlugin.define(()=>({}),{eventObservers:e})}static theme(e,o){let a=StyleModule.newName(),l=[theme.of(a),styleModule.of(buildTheme(`.${a}`,e))];return o&&o.dark&&l.push(darkTheme.of(!0)),l}static baseTheme(e){return Prec.lowest(styleModule.of(buildTheme("."+baseThemeID,e,lightDarkIDs)))}static findFromDOM(e){var o;let a=e.querySelector(".cm-content"),l=a&&ContentView.get(a)||ContentView.get(e);return((o=l==null?void 0:l.rootView)===null||o===void 0?void 0:o.view)||null}}EditorView.styleModule=styleModule;EditorView.inputHandler=inputHandler$1;EditorView.clipboardInputFilter=clipboardInputFilter;EditorView.clipboardOutputFilter=clipboardOutputFilter;EditorView.scrollHandler=scrollHandler;EditorView.focusChangeEffect=focusChangeEffect;EditorView.perLineTextDirection=perLineTextDirection;EditorView.exceptionSink=exceptionSink;EditorView.updateListener=updateListener;EditorView.editable=editable;EditorView.mouseSelectionStyle=mouseSelectionStyle;EditorView.dragMovesSelection=dragMovesSelection$1;EditorView.clickAddsSelectionRange=clickAddsSelectionRange;EditorView.decorations=decorations;EditorView.outerDecorations=outerDecorations;EditorView.atomicRanges=atomicRanges;EditorView.bidiIsolatedRanges=bidiIsolatedRanges;EditorView.scrollMargins=scrollMargins;EditorView.darkTheme=darkTheme;EditorView.cspNonce=Facet.define({combine:n=>n.length?n[0]:""});EditorView.contentAttributes=contentAttributes;EditorView.editorAttributes=editorAttributes;EditorView.lineWrapping=EditorView.contentAttributes.of({class:"cm-lineWrapping"});EditorView.announce=StateEffect.define();const MaxBidiLine=4096,BadMeasure={};class CachedOrder{constructor(e,o,a,l,u,c){this.from=e,this.to=o,this.dir=a,this.isolates=l,this.fresh=u,this.order=c}static update(e,o){if(o.empty&&!e.some(u=>u.fresh))return e;let a=[],l=e.length?e[e.length-1].dir:Direction.LTR;for(let u=Math.max(0,e.length-10);u<e.length;u++){let c=e[u];c.dir==l&&!o.touchesRange(c.from,c.to)&&a.push(new CachedOrder(o.mapPos(c.from,1),o.mapPos(c.to,-1),c.dir,c.isolates,!1,c.order))}return a}}function attrsFromFacet(n,e,o){for(let a=n.state.facet(e),l=a.length-1;l>=0;l--){let u=a[l],c=typeof u=="function"?u(n):u;c&&combineAttrs(c,o)}return o}const currentPlatform=browser.mac?"mac":browser.windows?"win":browser.linux?"linux":"key";function normalizeKeyName(n,e){const o=n.split(/-(?!$)/);let a=o[o.length-1];a=="Space"&&(a=" ");let l,u,c,f;for(let p=0;p<o.length-1;++p){const T=o[p];if(/^(cmd|meta|m)$/i.test(T))f=!0;else if(/^a(lt)?$/i.test(T))l=!0;else if(/^(c|ctrl|control)$/i.test(T))u=!0;else if(/^s(hift)?$/i.test(T))c=!0;else if(/^mod$/i.test(T))e=="mac"?f=!0:u=!0;else throw new Error("Unrecognized modifier name: "+T)}return l&&(a="Alt-"+a),u&&(a="Ctrl-"+a),f&&(a="Meta-"+a),c&&(a="Shift-"+a),a}function modifiers(n,e,o){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),o!==!1&&e.shiftKey&&(n="Shift-"+n),n}const handleKeyEvents=Prec.default(EditorView.domEventHandlers({keydown(n,e){return runHandlers(getKeymap(e.state),n,e,"editor")}})),keymap=Facet.define({enables:handleKeyEvents}),Keymaps=new WeakMap;function getKeymap(n){let e=n.facet(keymap),o=Keymaps.get(e);return o||Keymaps.set(e,o=buildKeymap(e.reduce((a,l)=>a.concat(l),[]))),o}function runScopeHandlers(n,e,o){return runHandlers(getKeymap(n.state),e,n,o)}let storedPrefix=null;const PrefixTimeout=4e3;function buildKeymap(n,e=currentPlatform){let o=Object.create(null),a=Object.create(null),l=(c,f)=>{let p=a[c];if(p==null)a[c]=f;else if(p!=f)throw new Error("Key binding "+c+" is used both as a regular binding and as a multi-stroke prefix")},u=(c,f,p,T,E)=>{var b,m;let y=o[c]||(o[c]=Object.create(null)),S=f.split(/ (?!$)/).map(w=>normalizeKeyName(w,e));for(let w=1;w<S.length;w++){let R=S.slice(0,w).join(" ");l(R,!0),y[R]||(y[R]={preventDefault:!0,stopPropagation:!1,run:[P=>{let F=storedPrefix={view:P,prefix:R,scope:c};return setTimeout(()=>{storedPrefix==F&&(storedPrefix=null)},PrefixTimeout),!0}]})}let v=S.join(" ");l(v,!1);let A=y[v]||(y[v]={preventDefault:!1,stopPropagation:!1,run:((m=(b=y._any)===null||b===void 0?void 0:b.run)===null||m===void 0?void 0:m.slice())||[]});p&&A.run.push(p),T&&(A.preventDefault=!0),E&&(A.stopPropagation=!0)};for(let c of n){let f=c.scope?c.scope.split(" "):["editor"];if(c.any)for(let T of f){let E=o[T]||(o[T]=Object.create(null));E._any||(E._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:b}=c;for(let m in E)E[m].run.push(y=>b(y,currentKeyEvent))}let p=c[e]||c.key;if(p)for(let T of f)u(T,p,c.run,c.preventDefault,c.stopPropagation),c.shift&&u(T,"Shift-"+p,c.shift,c.preventDefault,c.stopPropagation)}return o}let currentKeyEvent=null;function runHandlers(n,e,o,a){currentKeyEvent=e;let l=keyName(e),u=codePointAt$1(l,0),c=codePointSize(u)==l.length&&l!=" ",f="",p=!1,T=!1,E=!1;storedPrefix&&storedPrefix.view==o&&storedPrefix.scope==a&&(f=storedPrefix.prefix+" ",modifierCodes.indexOf(e.keyCode)<0&&(T=!0,storedPrefix=null));let b=new Set,m=A=>{if(A){for(let w of A.run)if(!b.has(w)&&(b.add(w),w(o)))return A.stopPropagation&&(E=!0),!0;A.preventDefault&&(A.stopPropagation&&(E=!0),T=!0)}return!1},y=n[a],S,v;return y&&(m(y[f+modifiers(l,e,!c)])?p=!0:c&&(e.altKey||e.metaKey||e.ctrlKey)&&!(browser.windows&&e.ctrlKey&&e.altKey)&&(S=base[e.keyCode])&&S!=l?(m(y[f+modifiers(S,e,!0)])||e.shiftKey&&(v=shift[e.keyCode])!=l&&v!=S&&m(y[f+modifiers(v,e,!1)]))&&(p=!0):c&&e.shiftKey&&m(y[f+modifiers(l,e,!0)])&&(p=!0),!p&&m(y._any)&&(p=!0)),T&&(p=!0),p&&E&&e.stopPropagation(),currentKeyEvent=null,p}class RectangleMarker{constructor(e,o,a,l,u){this.className=e,this.left=o,this.top=a,this.width=l,this.height=u}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,o){return o.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,o,a){if(a.empty){let l=e.coordsAtPos(a.head,a.assoc||1);if(!l)return[];let u=getBase(e);return[new RectangleMarker(o,l.left-u.left,l.top-u.top,null,l.bottom-l.top)]}else return rectanglesForRange(e,o,a)}}function getBase(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==Direction.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function wrappedLine(n,e,o,a){let l=n.coordsAtPos(e,o*2);if(!l)return a;let u=n.dom.getBoundingClientRect(),c=(l.top+l.bottom)/2,f=n.posAtCoords({x:u.left+1,y:c}),p=n.posAtCoords({x:u.right-1,y:c});return f==null||p==null?a:{from:Math.max(a.from,Math.min(f,p)),to:Math.min(a.to,Math.max(f,p))}}function rectanglesForRange(n,e,o){if(o.to<=n.viewport.from||o.from>=n.viewport.to)return[];let a=Math.max(o.from,n.viewport.from),l=Math.min(o.to,n.viewport.to),u=n.textDirection==Direction.LTR,c=n.contentDOM,f=c.getBoundingClientRect(),p=getBase(n),T=c.querySelector(".cm-line"),E=T&&window.getComputedStyle(T),b=f.left+(E?parseInt(E.paddingLeft)+Math.min(0,parseInt(E.textIndent)):0),m=f.right-(E?parseInt(E.paddingRight):0),y=blockAt(n,a,1),S=blockAt(n,l,-1),v=y.type==BlockType.Text?y:null,A=S.type==BlockType.Text?S:null;if(v&&(n.lineWrapping||y.widgetLineBreaks)&&(v=wrappedLine(n,a,1,v)),A&&(n.lineWrapping||S.widgetLineBreaks)&&(A=wrappedLine(n,l,-1,A)),v&&A&&v.from==A.from&&v.to==A.to)return R(P(o.from,o.to,v));{let B=v?P(o.from,null,v):F(y,!1),G=A?P(null,o.to,A):F(S,!0),K=[];return(v||y).to<(A||S).from-(v&&A?1:0)||y.widgetLineBreaks>1&&B.bottom+n.defaultLineHeight/2<G.top?K.push(w(b,B.bottom,m,G.top)):B.bottom<G.top&&n.elementAtHeight((B.bottom+G.top)/2).type==BlockType.Text&&(B.bottom=G.top=(B.bottom+G.top)/2),R(B).concat(K).concat(R(G))}function w(B,G,K,le){return new RectangleMarker(e,B-p.left,G-p.top,K-B,le-G)}function R({top:B,bottom:G,horizontal:K}){let le=[];for(let V=0;V<K.length;V+=2)le.push(w(K[V],B,K[V+1],G));return le}function P(B,G,K){let le=1e9,V=-1e9,X=[];function W(L,ue,Ce,fe,ye){let he=n.coordsAtPos(L,L==K.to?-2:2),j=n.coordsAtPos(Ce,Ce==K.from?2:-2);!he||!j||(le=Math.min(he.top,j.top,le),V=Math.max(he.bottom,j.bottom,V),ye==Direction.LTR?X.push(u&&ue?b:he.left,u&&fe?m:j.right):X.push(!u&&fe?b:j.left,!u&&ue?m:he.right))}let H=B??K.from,te=G??K.to;for(let L of n.visibleRanges)if(L.to>H&&L.from<te)for(let ue=Math.max(L.from,H),Ce=Math.min(L.to,te);;){let fe=n.state.doc.lineAt(ue);for(let ye of n.bidiSpans(fe)){let he=ye.from+fe.from,j=ye.to+fe.from;if(he>=Ce)break;j>ue&&W(Math.max(he,ue),B==null&&he<=H,Math.min(j,Ce),G==null&&j>=te,ye.dir)}if(ue=fe.to+1,ue>=Ce)break}return X.length==0&&W(H,B==null,te,G==null,n.textDirection),{top:le,bottom:V,horizontal:X}}function F(B,G){let K=f.top+(G?B.top:B.bottom);return{top:K,bottom:K,horizontal:[]}}}function sameMarker(n,e){return n.constructor==e.constructor&&n.eq(e)}class LayerView{constructor(e,o){this.view=e,this.layer=o,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),o.above&&this.dom.classList.add("cm-layer-above"),o.class&&this.dom.classList.add(o.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),o.mount&&o.mount(this.dom,e)}update(e){e.startState.facet(layerOrder)!=e.state.facet(layerOrder)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let o=0,a=e.facet(layerOrder);for(;o<a.length&&a[o]!=this.layer;)o++;this.dom.style.zIndex=String((this.layer.above?150:-1)-o)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:o}=this.view;(e!=this.scaleX||o!=this.scaleY)&&(this.scaleX=e,this.scaleY=o,this.dom.style.transform=`scale(${1/e}, ${1/o})`)}draw(e){if(e.length!=this.drawn.length||e.some((o,a)=>!sameMarker(o,this.drawn[a]))){let o=this.dom.firstChild,a=0;for(let l of e)l.update&&o&&l.constructor&&this.drawn[a].constructor&&l.update(o,this.drawn[a])?(o=o.nextSibling,a++):this.dom.insertBefore(l.draw(),o);for(;o;){let l=o.nextSibling;o.remove(),o=l}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const layerOrder=Facet.define();function layer(n){return[ViewPlugin.define(e=>new LayerView(e,n)),layerOrder.of(n)]}const selectionConfig=Facet.define({combine(n){return combineConfig(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,o)=>Math.min(e,o),drawRangeCursor:(e,o)=>e||o})}});function drawSelection(n={}){return[selectionConfig.of(n),cursorLayer,selectionLayer,hideNativeSelection,nativeSelectionHidden.of(!0)]}function configChanged(n){return n.startState.facet(selectionConfig)!=n.state.facet(selectionConfig)}const cursorLayer=layer({above:!0,markers(n){let{state:e}=n,o=e.facet(selectionConfig),a=[];for(let l of e.selection.ranges){let u=l==e.selection.main;if(l.empty||o.drawRangeCursor){let c=u?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",f=l.empty?l:EditorSelection.cursor(l.head,l.head>l.anchor?-1:1);for(let p of RectangleMarker.forRange(n,c,f))a.push(p)}}return a},update(n,e){n.transactions.some(a=>a.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let o=configChanged(n);return o&&setBlinkRate(n.state,e),n.docChanged||n.selectionSet||o},mount(n,e){setBlinkRate(e.state,n)},class:"cm-cursorLayer"});function setBlinkRate(n,e){e.style.animationDuration=n.facet(selectionConfig).cursorBlinkRate+"ms"}const selectionLayer=layer({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:RectangleMarker.forRange(n,"cm-selectionBackground",e)).reduce((e,o)=>e.concat(o))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||configChanged(n)},class:"cm-selectionLayer"}),hideNativeSelection=Prec.highest(EditorView.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),setDropCursorPos=StateEffect.define({map(n,e){return n==null?null:e.mapPos(n)}}),dropCursorPos=StateField.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((o,a)=>a.is(setDropCursorPos)?a.value:o,n)}}),drawDropCursor=ViewPlugin.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let o=n.state.field(dropCursorPos);o==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(dropCursorPos)!=o||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,e=n.state.field(dropCursorPos),o=e!=null&&n.coordsAtPos(e);if(!o)return null;let a=n.scrollDOM.getBoundingClientRect();return{left:o.left-a.left+n.scrollDOM.scrollLeft*n.scaleX,top:o.top-a.top+n.scrollDOM.scrollTop*n.scaleY,height:o.bottom-o.top}}drawCursor(n){if(this.cursor){let{scaleX:e,scaleY:o}=this.view;n?(this.cursor.style.left=n.left/e+"px",this.cursor.style.top=n.top/o+"px",this.cursor.style.height=n.height/o+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(dropCursorPos)!=n&&this.view.dispatch({effects:setDropCursorPos.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function dropCursor(){return[dropCursorPos,drawDropCursor]}function iterMatches(n,e,o,a,l){e.lastIndex=0;for(let u=n.iterRange(o,a),c=o,f;!u.next().done;c+=u.value.length)if(!u.lineBreak)for(;f=e.exec(u.value);)l(c+f.index,f)}function matchRanges(n,e){let o=n.visibleRanges;if(o.length==1&&o[0].from==n.viewport.from&&o[0].to==n.viewport.to)return o;let a=[];for(let{from:l,to:u}of o)l=Math.max(n.state.doc.lineAt(l).from,l-e),u=Math.min(n.state.doc.lineAt(u).to,u+e),a.length&&a[a.length-1].to>=l?a[a.length-1].to=u:a.push({from:l,to:u});return a}class MatchDecorator{constructor(e){const{regexp:o,decoration:a,decorate:l,boundary:u,maxLength:c=1e3}=e;if(!o.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=o,l)this.addMatch=(f,p,T,E)=>l(E,T,T+f[0].length,f,p);else if(typeof a=="function")this.addMatch=(f,p,T,E)=>{let b=a(f,p,T);b&&E(T,T+f[0].length,b)};else if(a)this.addMatch=(f,p,T,E)=>E(T,T+f[0].length,a);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=u,this.maxLength=c}createDeco(e){let o=new RangeSetBuilder,a=o.add.bind(o);for(let{from:l,to:u}of matchRanges(e,this.maxLength))iterMatches(e.state.doc,this.regexp,l,u,(c,f)=>this.addMatch(f,e,c,a));return o.finish()}updateDeco(e,o){let a=1e9,l=-1;return e.docChanged&&e.changes.iterChanges((u,c,f,p)=>{p>=e.view.viewport.from&&f<=e.view.viewport.to&&(a=Math.min(f,a),l=Math.max(p,l))}),e.viewportMoved||l-a>1e3?this.createDeco(e.view):l>-1?this.updateRange(e.view,o.map(e.changes),a,l):o}updateRange(e,o,a,l){for(let u of e.visibleRanges){let c=Math.max(u.from,a),f=Math.min(u.to,l);if(f>=c){let p=e.state.doc.lineAt(c),T=p.to<f?e.state.doc.lineAt(f):p,E=Math.max(u.from,p.from),b=Math.min(u.to,T.to);if(this.boundary){for(;c>p.from;c--)if(this.boundary.test(p.text[c-1-p.from])){E=c;break}for(;f<T.to;f++)if(this.boundary.test(T.text[f-T.from])){b=f;break}}let m=[],y,S=(v,A,w)=>m.push(w.range(v,A));if(p==T)for(this.regexp.lastIndex=E-p.from;(y=this.regexp.exec(p.text))&&y.index<b-p.from;)this.addMatch(y,e,y.index+p.from,S);else iterMatches(e.state.doc,this.regexp,E,b,(v,A)=>this.addMatch(A,e,v,S));o=o.update({filterFrom:E,filterTo:b,filter:(v,A)=>v<E||A>b,add:m})}}return o}}const UnicodeRegexpSupport=/x/.unicode!=null?"gu":"g",Specials=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,UnicodeRegexpSupport),Names={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let _supportsTabSize=null;function supportsTabSize(){var n;if(_supportsTabSize==null&&typeof document<"u"&&document.body){let e=document.body.style;_supportsTabSize=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return _supportsTabSize||!1}const specialCharConfig=Facet.define({combine(n){let e=combineConfig(n,{render:null,specialChars:Specials,addSpecialChars:null});return(e.replaceTabs=!supportsTabSize())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,UnicodeRegexpSupport)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,UnicodeRegexpSupport)),e}});function highlightSpecialChars(n={}){return[specialCharConfig.of(n),specialCharPlugin()]}let _plugin=null;function specialCharPlugin(){return _plugin||(_plugin=ViewPlugin.fromClass(class{constructor(n){this.view=n,this.decorations=Decoration.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(specialCharConfig)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new MatchDecorator({regexp:n.specialChars,decoration:(e,o,a)=>{let{doc:l}=o.state,u=codePointAt$1(e[0],0);if(u==9){let c=l.lineAt(a),f=o.state.tabSize,p=countColumn(c.text,f,a-c.from);return Decoration.replace({widget:new TabWidget((f-p%f)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[u]||(this.decorationCache[u]=Decoration.replace({widget:new SpecialCharWidget(n,u)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(specialCharConfig);n.startState.facet(specialCharConfig)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const DefaultPlaceholder="";function placeholder$1(n){return n>=32?DefaultPlaceholder:n==10?"":String.fromCharCode(9216+n)}class SpecialCharWidget extends WidgetType{constructor(e,o){super(),this.options=e,this.code=o}eq(e){return e.code==this.code}toDOM(e){let o=placeholder$1(this.code),a=e.state.phrase("Control character")+" "+(Names[this.code]||"0x"+this.code.toString(16)),l=this.options.render&&this.options.render(this.code,a,o);if(l)return l;let u=document.createElement("span");return u.textContent=o,u.title=a,u.setAttribute("aria-label",a),u.className="cm-specialChar",u}ignoreEvent(){return!1}}class TabWidget extends WidgetType{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function highlightActiveLine(){return activeLineHighlighter}const lineDeco=Decoration.line({class:"cm-activeLine"}),activeLineHighlighter=ViewPlugin.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,o=[];for(let a of n.state.selection.ranges){let l=n.lineBlockAt(a.head);l.from>e&&(o.push(lineDeco.range(l.from)),e=l.from)}return Decoration.set(o)}},{decorations:n=>n.decorations});class Placeholder extends WidgetType{constructor(e){super(),this.content=e}toDOM(e){let o=document.createElement("span");return o.className="cm-placeholder",o.style.pointerEvents="none",o.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),o.setAttribute("aria-hidden","true"),o}coordsAt(e){let o=e.firstChild?clientRectsFor(e.firstChild):[];if(!o.length)return null;let a=window.getComputedStyle(e.parentNode),l=flattenRect(o[0],a.direction!="rtl"),u=parseInt(a.lineHeight);return l.bottom-l.top>u*1.5?{left:l.left,right:l.right,top:l.top,bottom:l.top+u}:l}ignoreEvent(){return!1}}function placeholder(n){let e=ViewPlugin.fromClass(class{constructor(o){this.view=o,this.placeholder=n?Decoration.set([Decoration.widget({widget:new Placeholder(n),side:1}).range(0)]):Decoration.none}get decorations(){return this.view.state.doc.length?Decoration.none:this.placeholder}},{decorations:o=>o.decorations});return typeof n=="string"?[e,EditorView.contentAttributes.of({"aria-placeholder":n})]:e}const MaxOff=2e3;function rectangleFor(n,e,o){let a=Math.min(e.line,o.line),l=Math.max(e.line,o.line),u=[];if(e.off>MaxOff||o.off>MaxOff||e.col<0||o.col<0){let c=Math.min(e.off,o.off),f=Math.max(e.off,o.off);for(let p=a;p<=l;p++){let T=n.doc.line(p);T.length<=f&&u.push(EditorSelection.range(T.from+c,T.to+f))}}else{let c=Math.min(e.col,o.col),f=Math.max(e.col,o.col);for(let p=a;p<=l;p++){let T=n.doc.line(p),E=findColumn(T.text,c,n.tabSize,!0);if(E<0)u.push(EditorSelection.cursor(T.to));else{let b=findColumn(T.text,f,n.tabSize);u.push(EditorSelection.range(T.from+E,T.from+b))}}}return u}function absoluteColumn(n,e){let o=n.coordsAtPos(n.viewport.from);return o?Math.round(Math.abs((o.left-e)/n.defaultCharacterWidth)):-1}function getPos(n,e){let o=n.posAtCoords({x:e.clientX,y:e.clientY},!1),a=n.state.doc.lineAt(o),l=o-a.from,u=l>MaxOff?-1:l==a.length?absoluteColumn(n,e.clientX):countColumn(a.text,n.state.tabSize,o-a.from);return{line:a.number,col:u,off:l}}function rectangleSelectionStyle(n,e){let o=getPos(n,e),a=n.state.selection;return o?{update(l){if(l.docChanged){let u=l.changes.mapPos(l.startState.doc.line(o.line).from),c=l.state.doc.lineAt(u);o={line:c.number,col:o.col,off:Math.min(o.off,c.length)},a=a.map(l.changes)}},get(l,u,c){let f=getPos(n,l);if(!f)return a;let p=rectangleFor(n.state,o,f);return p.length?c?EditorSelection.create(p.concat(a.ranges)):EditorSelection.create(p):a}}:null}function rectangularSelection(n){let e=o=>o.altKey&&o.button==0;return EditorView.mouseSelectionStyle.of((o,a)=>e(a)?rectangleSelectionStyle(o,a):null)}const keys={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},showCrosshair={style:"cursor: crosshair"};function crosshairCursor(n={}){let[e,o]=keys[n.key||"Alt"],a=ViewPlugin.fromClass(class{constructor(l){this.view=l,this.isDown=!1}set(l){this.isDown!=l&&(this.isDown=l,this.view.update([]))}},{eventObservers:{keydown(l){this.set(l.keyCode==e||o(l))},keyup(l){(l.keyCode==e||!o(l))&&this.set(!1)},mousemove(l){this.set(o(l))}}});return[a,EditorView.contentAttributes.of(l=>{var u;return!((u=l.plugin(a))===null||u===void 0)&&u.isDown?showCrosshair:null})]}const Outside="-10000px";class TooltipViewManager{constructor(e,o,a,l){this.facet=o,this.createTooltipView=a,this.removeTooltipView=l,this.input=e.state.facet(o),this.tooltips=this.input.filter(c=>c);let u=null;this.tooltipViews=this.tooltips.map(c=>u=a(c,u))}update(e,o){var a;let l=e.state.facet(this.facet),u=l.filter(p=>p);if(l===this.input){for(let p of this.tooltipViews)p.update&&p.update(e);return!1}let c=[],f=o?[]:null;for(let p=0;p<u.length;p++){let T=u[p],E=-1;if(T){for(let b=0;b<this.tooltips.length;b++){let m=this.tooltips[b];m&&m.create==T.create&&(E=b)}if(E<0)c[p]=this.createTooltipView(T,p?c[p-1]:null),f&&(f[p]=!!T.above);else{let b=c[p]=this.tooltipViews[E];f&&(f[p]=o[E]),b.update&&b.update(e)}}}for(let p of this.tooltipViews)c.indexOf(p)<0&&(this.removeTooltipView(p),(a=p.destroy)===null||a===void 0||a.call(p));return o&&(f.forEach((p,T)=>o[T]=p),o.length=f.length),this.input=l,this.tooltips=u,this.tooltipViews=c,!0}}function windowSpace(n){let e=n.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const tooltipConfig=Facet.define({combine:n=>{var e,o,a;return{position:browser.ios?"absolute":((e=n.find(l=>l.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((o=n.find(l=>l.parent))===null||o===void 0?void 0:o.parent)||null,tooltipSpace:((a=n.find(l=>l.tooltipSpace))===null||a===void 0?void 0:a.tooltipSpace)||windowSpace}}}),knownHeight=new WeakMap,tooltipPlugin=ViewPlugin.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(tooltipConfig);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new TooltipViewManager(n,showTooltip,(o,a)=>this.createTooltip(o,a),o=>{this.resizeObserver&&this.resizeObserver.unobserve(o.dom),o.dom.remove()}),this.above=this.manager.tooltips.map(o=>!!o.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(o=>{Date.now()>this.lastTransaction-50&&o.length>0&&o[o.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n,this.above);e&&this.observeIntersection();let o=e||n.geometryChanged,a=n.state.facet(tooltipConfig);if(a.position!=this.position&&!this.madeAbsolute){this.position=a.position;for(let l of this.manager.tooltipViews)l.dom.style.position=this.position;o=!0}if(a.parent!=this.parent){this.parent&&this.container.remove(),this.parent=a.parent,this.createContainer();for(let l of this.manager.tooltipViews)this.container.appendChild(l.dom);o=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);o&&this.maybeMeasure()}createTooltip(n,e){let o=n.create(this.view),a=e?e.dom:null;if(o.dom.classList.add("cm-tooltip"),n.arrow&&!o.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let l=document.createElement("div");l.className="cm-tooltip-arrow",o.dom.appendChild(l)}return o.dom.style.position=this.position,o.dom.style.top=Outside,o.dom.style.left="0px",this.container.insertBefore(o.dom,a),o.mount&&o.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(o.dom),o}destroy(){var n,e,o;this.view.win.removeEventListener("resize",this.measureSoon);for(let a of this.manager.tooltipViews)a.dom.remove(),(n=a.destroy)===null||n===void 0||n.call(a);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(o=this.intersectionObserver)===null||o===void 0||o.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=1,e=1,o=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:u}=this.manager.tooltipViews[0];if(browser.gecko)o=u.offsetParent!=this.container.ownerDocument.body;else if(u.style.top==Outside&&u.style.left=="0px"){let c=u.getBoundingClientRect();o=Math.abs(c.top+1e4)>1||Math.abs(c.left)>1}}if(o||this.position=="absolute")if(this.parent){let u=this.parent.getBoundingClientRect();u.width&&u.height&&(n=u.width/this.parent.offsetWidth,e=u.height/this.parent.offsetHeight)}else({scaleX:n,scaleY:e}=this.view.viewState);let a=this.view.scrollDOM.getBoundingClientRect(),l=getScrollMargins(this.view);return{visible:{left:a.left+l.left,top:a.top+l.top,right:a.right-l.right,bottom:a.bottom-l.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((u,c)=>{let f=this.manager.tooltipViews[c];return f.getCoords?f.getCoords(u.pos):this.view.coordsAtPos(u.pos)}),size:this.manager.tooltipViews.map(({dom:u})=>u.getBoundingClientRect()),space:this.view.state.facet(tooltipConfig).tooltipSpace(this.view),scaleX:n,scaleY:e,makeAbsolute:o}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let f of this.manager.tooltipViews)f.dom.style.position="absolute"}let{visible:o,space:a,scaleX:l,scaleY:u}=n,c=[];for(let f=0;f<this.manager.tooltips.length;f++){let p=this.manager.tooltips[f],T=this.manager.tooltipViews[f],{dom:E}=T,b=n.pos[f],m=n.size[f];if(!b||p.clip!==!1&&(b.bottom<=Math.max(o.top,a.top)||b.top>=Math.min(o.bottom,a.bottom)||b.right<Math.max(o.left,a.left)-.1||b.left>Math.min(o.right,a.right)+.1)){E.style.top=Outside;continue}let y=p.arrow?T.dom.querySelector(".cm-tooltip-arrow"):null,S=y?7:0,v=m.right-m.left,A=(e=knownHeight.get(T))!==null&&e!==void 0?e:m.bottom-m.top,w=T.offset||noOffset,R=this.view.textDirection==Direction.LTR,P=m.width>a.right-a.left?R?a.left:a.right-m.width:R?Math.max(a.left,Math.min(b.left-(y?14:0)+w.x,a.right-v)):Math.min(Math.max(a.left,b.left-v+(y?14:0)-w.x),a.right-v),F=this.above[f];!p.strictSide&&(F?b.top-A-S-w.y<a.top:b.bottom+A+S+w.y>a.bottom)&&F==a.bottom-b.bottom>b.top-a.top&&(F=this.above[f]=!F);let B=(F?b.top-a.top:a.bottom-b.bottom)-S;if(B<A&&T.resize!==!1){if(B<this.view.defaultLineHeight){E.style.top=Outside;continue}knownHeight.set(T,A),E.style.height=(A=B)/u+"px"}else E.style.height&&(E.style.height="");let G=F?b.top-A-S-w.y:b.bottom+S+w.y,K=P+v;if(T.overlap!==!0)for(let le of c)le.left<K&&le.right>P&&le.top<G+A&&le.bottom>G&&(G=F?le.top-A-2-S:le.bottom+S+2);if(this.position=="absolute"?(E.style.top=(G-n.parent.top)/u+"px",setLeftStyle(E,(P-n.parent.left)/l)):(E.style.top=G/u+"px",setLeftStyle(E,P/l)),y){let le=b.left+(R?w.x:-w.x)-(P+14-7);y.style.left=le/l+"px"}T.overlap!==!0&&c.push({left:P,top:G,right:K,bottom:G+A}),E.classList.toggle("cm-tooltip-above",F),E.classList.toggle("cm-tooltip-below",!F),T.positioned&&T.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=Outside}},{eventObservers:{scroll(){this.maybeMeasure()}}});function setLeftStyle(n,e){let o=parseInt(n.style.left,10);(isNaN(o)||Math.abs(e-o)>1)&&(n.style.left=e+"px")}const baseTheme$4=EditorView.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),noOffset={x:0,y:0},showTooltip=Facet.define({enables:[tooltipPlugin,baseTheme$4]}),showHoverTooltip=Facet.define({combine:n=>n.reduce((e,o)=>e.concat(o),[])});class HoverTooltipHost{static create(e){return new HoverTooltipHost(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new TooltipViewManager(e,showHoverTooltip,(o,a)=>this.createHostedView(o,a),o=>o.dom.remove())}createHostedView(e,o){let a=e.create(this.view);return a.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(a.dom,o?o.dom.nextSibling:this.dom.firstChild),this.mounted&&a.mount&&a.mount(this.view),a}mount(e){for(let o of this.manager.tooltipViews)o.mount&&o.mount(e);this.mounted=!0}positioned(e){for(let o of this.manager.tooltipViews)o.positioned&&o.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let o of this.manager.tooltipViews)(e=o.destroy)===null||e===void 0||e.call(o)}passProp(e){let o;for(let a of this.manager.tooltipViews){let l=a[e];if(l!==void 0){if(o===void 0)o=l;else if(o!==l)return}}return o}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const showHoverTooltipHost=showTooltip.compute([showHoverTooltip],n=>{let e=n.facet(showHoverTooltip);return e.length===0?null:{pos:Math.min(...e.map(o=>o.pos)),end:Math.max(...e.map(o=>{var a;return(a=o.end)!==null&&a!==void 0?a:o.pos})),create:HoverTooltipHost.create,above:e[0].above,arrow:e.some(o=>o.arrow)}});class HoverPlugin{constructor(e,o,a,l,u){this.view=e,this.source=o,this.field=a,this.setHover=l,this.hoverTime=u,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:o}=this,a=e.docView.nearest(o.target);if(!a)return;let l,u=1;if(a instanceof WidgetView)l=a.posAtStart;else{if(l=e.posAtCoords(o),l==null)return;let f=e.coordsAtPos(l);if(!f||o.y<f.top||o.y>f.bottom||o.x<f.left-e.defaultCharacterWidth||o.x>f.right+e.defaultCharacterWidth)return;let p=e.bidiSpans(e.state.doc.lineAt(l)).find(E=>E.from<=l&&E.to>=l),T=p&&p.dir==Direction.RTL?-1:1;u=o.x<f.left?-T:T}let c=this.source(e,l,u);if(c!=null&&c.then){let f=this.pending={pos:l};c.then(p=>{this.pending==f&&(this.pending=null,p&&!(Array.isArray(p)&&!p.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(p)?p:[p])}))},p=>logException(e.state,p,"hover tooltip"))}else c&&!(Array.isArray(c)&&!c.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(c)?c:[c])})}get tooltip(){let e=this.view.plugin(tooltipPlugin),o=e?e.manager.tooltips.findIndex(a=>a.create==HoverTooltipHost.create):-1;return o>-1?e.manager.tooltipViews[o]:null}mousemove(e){var o,a;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:l,tooltip:u}=this;if(l.length&&u&&!isInTooltip(u.dom,e)||this.pending){let{pos:c}=l[0]||this.pending,f=(a=(o=l[0])===null||o===void 0?void 0:o.end)!==null&&a!==void 0?a:c;(c==f?this.view.posAtCoords(this.lastMove)!=c:!isOverRange(this.view,c,f,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:o}=this;if(o.length){let{tooltip:a}=this;a&&a.dom.contains(e.relatedTarget)?this.watchTooltipLeave(a.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let o=a=>{e.removeEventListener("mouseleave",o),this.active.length&&!this.view.dom.contains(a.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",o)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const tooltipMargin=4;function isInTooltip(n,e){let{left:o,right:a,top:l,bottom:u}=n.getBoundingClientRect(),c;if(c=n.querySelector(".cm-tooltip-arrow")){let f=c.getBoundingClientRect();l=Math.min(f.top,l),u=Math.max(f.bottom,u)}return e.clientX>=o-tooltipMargin&&e.clientX<=a+tooltipMargin&&e.clientY>=l-tooltipMargin&&e.clientY<=u+tooltipMargin}function isOverRange(n,e,o,a,l,u){let c=n.scrollDOM.getBoundingClientRect(),f=n.documentTop+n.documentPadding.top+n.contentHeight;if(c.left>a||c.right<a||c.top>l||Math.min(c.bottom,f)<l)return!1;let p=n.posAtCoords({x:a,y:l},!1);return p>=e&&p<=o}function hoverTooltip(n,e={}){let o=StateEffect.define(),a=StateField.define({create(){return[]},update(l,u){if(l.length&&(e.hideOnChange&&(u.docChanged||u.selection)?l=[]:e.hideOn&&(l=l.filter(c=>!e.hideOn(u,c))),u.docChanged)){let c=[];for(let f of l){let p=u.changes.mapPos(f.pos,-1,MapMode.TrackDel);if(p!=null){let T=Object.assign(Object.create(null),f);T.pos=p,T.end!=null&&(T.end=u.changes.mapPos(T.end)),c.push(T)}}l=c}for(let c of u.effects)c.is(o)&&(l=c.value),c.is(closeHoverTooltipEffect)&&(l=[]);return l},provide:l=>showHoverTooltip.from(l)});return{active:a,extension:[a,ViewPlugin.define(l=>new HoverPlugin(l,n,a,o,e.hoverTime||300)),showHoverTooltipHost]}}function getTooltip(n,e){let o=n.plugin(tooltipPlugin);if(!o)return null;let a=o.manager.tooltips.indexOf(e);return a<0?null:o.manager.tooltipViews[a]}const closeHoverTooltipEffect=StateEffect.define(),panelConfig=Facet.define({combine(n){let e,o;for(let a of n)e=e||a.topContainer,o=o||a.bottomContainer;return{topContainer:e,bottomContainer:o}}});function getPanel(n,e){let o=n.plugin(panelPlugin),a=o?o.specs.indexOf(e):-1;return a>-1?o.panels[a]:null}const panelPlugin=ViewPlugin.fromClass(class{constructor(n){this.input=n.state.facet(showPanel),this.specs=this.input.filter(o=>o),this.panels=this.specs.map(o=>o(n));let e=n.state.facet(panelConfig);this.top=new PanelGroup(n,!0,e.topContainer),this.bottom=new PanelGroup(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(o=>o.top)),this.bottom.sync(this.panels.filter(o=>!o.top));for(let o of this.panels)o.dom.classList.add("cm-panel"),o.mount&&o.mount()}update(n){let e=n.state.facet(panelConfig);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new PanelGroup(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new PanelGroup(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let o=n.state.facet(showPanel);if(o!=this.input){let a=o.filter(p=>p),l=[],u=[],c=[],f=[];for(let p of a){let T=this.specs.indexOf(p),E;T<0?(E=p(n.view),f.push(E)):(E=this.panels[T],E.update&&E.update(n)),l.push(E),(E.top?u:c).push(E)}this.specs=a,this.panels=l,this.top.sync(u),this.bottom.sync(c);for(let p of f)p.dom.classList.add("cm-panel"),p.mount&&p.mount()}else for(let a of this.panels)a.update&&a.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>EditorView.scrollMargins.of(e=>{let o=e.plugin(n);return o&&{top:o.top.scrollMargin(),bottom:o.bottom.scrollMargin()}})});class PanelGroup{constructor(e,o,a){this.view=e,this.top=o,this.container=a,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let o of this.panels)o.destroy&&e.indexOf(o)<0&&o.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let o=this.container||this.view.dom;o.insertBefore(this.dom,this.top?o.firstChild:null)}let e=this.dom.firstChild;for(let o of this.panels)if(o.dom.parentNode==this.dom){for(;e!=o.dom;)e=rm(e);e=e.nextSibling}else this.dom.insertBefore(o.dom,e);for(;e;)e=rm(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function rm(n){let e=n.nextSibling;return n.remove(),e}const showPanel=Facet.define({enables:panelPlugin});class GutterMarker extends RangeValue{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}GutterMarker.prototype.elementClass="";GutterMarker.prototype.toDOM=void 0;GutterMarker.prototype.mapMode=MapMode.TrackBefore;GutterMarker.prototype.startSide=GutterMarker.prototype.endSide=-1;GutterMarker.prototype.point=!0;const gutterLineClass=Facet.define(),gutterWidgetClass=Facet.define(),defaults$1={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>RangeSet.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},activeGutters=Facet.define();function gutter(n){return[gutters(),activeGutters.of({...defaults$1,...n})]}const unfixGutters=Facet.define({combine:n=>n.some(e=>e)});function gutters(n){return[gutterView]}const gutterView=ViewPlugin.fromClass(class{constructor(n){this.view=n,this.domAfter=null,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(activeGutters).map(e=>new SingleGutterView(n,e)),this.fixed=!n.state.facet(unfixGutters);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(n){if(this.updateGutters(n)){let e=this.prevViewport,o=n.view.viewport,a=Math.min(e.to,o.to)-Math.max(e.from,o.from);this.syncGutters(a<(o.to-o.from)*.8)}if(n.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(unfixGutters)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let o=RangeSet.iter(this.view.state.facet(gutterLineClass),this.view.viewport.from),a=[],l=this.gutters.map(u=>new UpdateContext(u,this.view.viewport,-this.view.documentPadding.top));for(let u of this.view.viewportLineBlocks)if(a.length&&(a=[]),Array.isArray(u.type)){let c=!0;for(let f of u.type)if(f.type==BlockType.Text&&c){advanceCursor(o,a,f.from);for(let p of l)p.line(this.view,f,a);c=!1}else if(f.widget)for(let p of l)p.widget(this.view,f)}else if(u.type==BlockType.Text){advanceCursor(o,a,u.from);for(let c of l)c.line(this.view,u,a)}else if(u.widget)for(let c of l)c.widget(this.view,u);for(let u of l)u.finish();n&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(n){let e=n.startState.facet(activeGutters),o=n.state.facet(activeGutters),a=n.docChanged||n.heightChanged||n.viewportChanged||!RangeSet.eq(n.startState.facet(gutterLineClass),n.state.facet(gutterLineClass),n.view.viewport.from,n.view.viewport.to);if(e==o)for(let l of this.gutters)l.update(n)&&(a=!0);else{a=!0;let l=[];for(let u of o){let c=e.indexOf(u);c<0?l.push(new SingleGutterView(this.view,u)):(this.gutters[c].update(n),l.push(this.gutters[c]))}for(let u of this.gutters)u.dom.remove(),l.indexOf(u)<0&&u.destroy();for(let u of l)u.config.side=="after"?this.getDOMAfter().appendChild(u.dom):this.dom.appendChild(u.dom);this.gutters=l}return a}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:n=>EditorView.scrollMargins.of(e=>{let o=e.plugin(n);if(!o||o.gutters.length==0||!o.fixed)return null;let a=o.dom.offsetWidth*e.scaleX,l=o.domAfter?o.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==Direction.LTR?{left:a,right:l}:{right:a,left:l}})});function asArray(n){return Array.isArray(n)?n:[n]}function advanceCursor(n,e,o){for(;n.value&&n.from<=o;)n.from==o&&e.push(n.value),n.next()}class UpdateContext{constructor(e,o,a){this.gutter=e,this.height=a,this.i=0,this.cursor=RangeSet.iter(e.markers,o.from)}addElement(e,o,a){let{gutter:l}=this,u=(o.top-this.height)/e.scaleY,c=o.height/e.scaleY;if(this.i==l.elements.length){let f=new GutterElement(e,c,u,a);l.elements.push(f),l.dom.appendChild(f.dom)}else l.elements[this.i].update(e,c,u,a);this.height=o.bottom,this.i++}line(e,o,a){let l=[];advanceCursor(this.cursor,l,o.from),a.length&&(l=l.concat(a));let u=this.gutter.config.lineMarker(e,o,l);u&&l.unshift(u);let c=this.gutter;l.length==0&&!c.config.renderEmptyElements||this.addElement(e,o,l)}widget(e,o){let a=this.gutter.config.widgetMarker(e,o.widget,o),l=a?[a]:null;for(let u of e.state.facet(gutterWidgetClass)){let c=u(e,o.widget,o);c&&(l||(l=[])).push(c)}l&&this.addElement(e,o,l)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let o=e.elements.pop();e.dom.removeChild(o.dom),o.destroy()}}}class SingleGutterView{constructor(e,o){this.view=e,this.config=o,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let a in o.domEventHandlers)this.dom.addEventListener(a,l=>{let u=l.target,c;if(u!=this.dom&&this.dom.contains(u)){for(;u.parentNode!=this.dom;)u=u.parentNode;let p=u.getBoundingClientRect();c=(p.top+p.bottom)/2}else c=l.clientY;let f=e.lineBlockAtHeight(c-e.documentTop);o.domEventHandlers[a](e,f,l)&&l.preventDefault()});this.markers=asArray(o.markers(e)),o.initialSpacer&&(this.spacer=new GutterElement(e,0,0,[o.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let o=this.markers;if(this.markers=asArray(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let l=this.config.updateSpacer(this.spacer.markers[0],e);l!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[l])}let a=e.view.viewport;return!RangeSet.eq(this.markers,o,a.from,a.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class GutterElement{constructor(e,o,a,l){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,o,a,l)}update(e,o,a,l){this.height!=o&&(this.height=o,this.dom.style.height=o+"px"),this.above!=a&&(this.dom.style.marginTop=(this.above=a)?a+"px":""),sameMarkers(this.markers,l)||this.setMarkers(e,l)}setMarkers(e,o){let a="cm-gutterElement",l=this.dom.firstChild;for(let u=0,c=0;;){let f=c,p=u<o.length?o[u++]:null,T=!1;if(p){let E=p.elementClass;E&&(a+=" "+E);for(let b=c;b<this.markers.length;b++)if(this.markers[b].compare(p)){f=b,T=!0;break}}else f=this.markers.length;for(;c<f;){let E=this.markers[c++];if(E.toDOM){E.destroy(l);let b=l.nextSibling;l.remove(),l=b}}if(!p)break;p.toDOM&&(T?l=l.nextSibling:this.dom.insertBefore(p.toDOM(e),l)),T&&c++}this.dom.className=a,this.markers=o}destroy(){this.setMarkers(null,[])}}function sameMarkers(n,e){if(n.length!=e.length)return!1;for(let o=0;o<n.length;o++)if(!n[o].compare(e[o]))return!1;return!0}const lineNumberMarkers=Facet.define(),lineNumberWidgetMarker=Facet.define(),lineNumberConfig=Facet.define({combine(n){return combineConfig(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,o){let a=Object.assign({},e);for(let l in o){let u=a[l],c=o[l];a[l]=u?(f,p,T)=>u(f,p,T)||c(f,p,T):c}return a}})}});class NumberMarker extends GutterMarker{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function formatNumber(n,e){return n.state.facet(lineNumberConfig).formatNumber(e,n.state)}const lineNumberGutter=activeGutters.compute([lineNumberConfig],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(lineNumberMarkers)},lineMarker(e,o,a){return a.some(l=>l.toDOM)?null:new NumberMarker(formatNumber(e,e.state.doc.lineAt(o.from).number))},widgetMarker:(e,o,a)=>{for(let l of e.state.facet(lineNumberWidgetMarker)){let u=l(e,o,a);if(u)return u}return null},lineMarkerChange:e=>e.startState.facet(lineNumberConfig)!=e.state.facet(lineNumberConfig),initialSpacer(e){return new NumberMarker(formatNumber(e,maxLineNumber(e.state.doc.lines)))},updateSpacer(e,o){let a=formatNumber(o.view,maxLineNumber(o.view.state.doc.lines));return a==e.number?e:new NumberMarker(a)},domEventHandlers:n.facet(lineNumberConfig).domEventHandlers,side:"before"}));function lineNumbers(n={}){return[lineNumberConfig.of(n),gutters(),lineNumberGutter]}function maxLineNumber(n){let e=9;for(;e<n;)e=e*10+9;return e}const activeLineGutterMarker=new class extends GutterMarker{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},activeLineGutterHighlighter=gutterLineClass.compute(["selection"],n=>{let e=[],o=-1;for(let a of n.selection.ranges){let l=n.doc.lineAt(a.head).from;l>o&&(o=l,e.push(activeLineGutterMarker.range(l)))}return RangeSet.of(e)});function highlightActiveLineGutter(){return activeLineGutterHighlighter}const DefaultBufferLength=1024;let nextPropID=0;class Range{constructor(e,o){this.from=e,this.to=o}}class NodeProp{constructor(e={}){this.id=nextPropID++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=NodeType.match(e)),o=>{let a=e(o);return a===void 0?null:[this,a]}}}NodeProp.closedBy=new NodeProp({deserialize:n=>n.split(" ")});NodeProp.openedBy=new NodeProp({deserialize:n=>n.split(" ")});NodeProp.group=new NodeProp({deserialize:n=>n.split(" ")});NodeProp.isolate=new NodeProp({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});NodeProp.contextHash=new NodeProp({perNode:!0});NodeProp.lookAhead=new NodeProp({perNode:!0});NodeProp.mounted=new NodeProp({perNode:!0});class MountedTree{constructor(e,o,a){this.tree=e,this.overlay=o,this.parser=a}static get(e){return e&&e.props&&e.props[NodeProp.mounted.id]}}const noProps=Object.create(null);class NodeType{constructor(e,o,a,l=0){this.name=e,this.props=o,this.id=a,this.flags=l}static define(e){let o=e.props&&e.props.length?Object.create(null):noProps,a=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),l=new NodeType(e.name||"",o,e.id,a);if(e.props){for(let u of e.props)if(Array.isArray(u)||(u=u(l)),u){if(u[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");o[u[0].id]=u[1]}}return l}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let o=this.prop(NodeProp.group);return o?o.indexOf(e)>-1:!1}return this.id==e}static match(e){let o=Object.create(null);for(let a in e)for(let l of a.split(" "))o[l]=e[a];return a=>{for(let l=a.prop(NodeProp.group),u=-1;u<(l?l.length:0);u++){let c=o[u<0?a.name:l[u]];if(c)return c}}}}NodeType.none=new NodeType("",Object.create(null),0,8);class NodeSet{constructor(e){this.types=e;for(let o=0;o<e.length;o++)if(e[o].id!=o)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let o=[];for(let a of this.types){let l=null;for(let u of e){let c=u(a);c&&(l||(l=Object.assign({},a.props)),l[c[0].id]=c[1])}o.push(l?new NodeType(a.name,l,a.id,a.flags):a)}return new NodeSet(o)}}const CachedNode=new WeakMap,CachedInnerNode=new WeakMap;var IterMode;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(IterMode||(IterMode={}));class Tree{constructor(e,o,a,l,u){if(this.type=e,this.children=o,this.positions=a,this.length=l,this.props=null,u&&u.length){this.props=Object.create(null);for(let[c,f]of u)this.props[typeof c=="number"?c:c.id]=f}}toString(){let e=MountedTree.get(this);if(e&&!e.overlay)return e.tree.toString();let o="";for(let a of this.children){let l=a.toString();l&&(o&&(o+=","),o+=l)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(o.length?"("+o+")":""):o}cursor(e=0){return new TreeCursor(this.topNode,e)}cursorAt(e,o=0,a=0){let l=CachedNode.get(this)||this.topNode,u=new TreeCursor(l);return u.moveTo(e,o),CachedNode.set(this,u._tree),u}get topNode(){return new TreeNode(this,0,0,null)}resolve(e,o=0){let a=resolveNode(CachedNode.get(this)||this.topNode,e,o,!1);return CachedNode.set(this,a),a}resolveInner(e,o=0){let a=resolveNode(CachedInnerNode.get(this)||this.topNode,e,o,!0);return CachedInnerNode.set(this,a),a}resolveStack(e,o=0){return stackIterator(this,e,o)}iterate(e){let{enter:o,leave:a,from:l=0,to:u=this.length}=e,c=e.mode||0,f=(c&IterMode.IncludeAnonymous)>0;for(let p=this.cursor(c|IterMode.IncludeAnonymous);;){let T=!1;if(p.from<=u&&p.to>=l&&(!f&&p.type.isAnonymous||o(p)!==!1)){if(p.firstChild())continue;T=!0}for(;T&&a&&(f||!p.type.isAnonymous)&&a(p),!p.nextSibling();){if(!p.parent())return;T=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let o in this.props)e.push([+o,this.props[o]]);return e}balance(e={}){return this.children.length<=8?this:balanceRange(NodeType.none,this.children,this.positions,0,this.children.length,0,this.length,(o,a,l)=>new Tree(this.type,o,a,l,this.propValues),e.makeTree||((o,a,l)=>new Tree(NodeType.none,o,a,l)))}static build(e){return buildTree(e)}}Tree.empty=new Tree(NodeType.none,[],[],0);class FlatBufferCursor{constructor(e,o){this.buffer=e,this.index=o}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new FlatBufferCursor(this.buffer,this.index)}}class TreeBuffer{constructor(e,o,a){this.buffer=e,this.length=o,this.set=a}get type(){return NodeType.none}toString(){let e=[];for(let o=0;o<this.buffer.length;)e.push(this.childString(o)),o=this.buffer[o+3];return e.join(",")}childString(e){let o=this.buffer[e],a=this.buffer[e+3],l=this.set.types[o],u=l.name;if(/\W/.test(u)&&!l.isError&&(u=JSON.stringify(u)),e+=4,a==e)return u;let c=[];for(;e<a;)c.push(this.childString(e)),e=this.buffer[e+3];return u+"("+c.join(",")+")"}findChild(e,o,a,l,u){let{buffer:c}=this,f=-1;for(let p=e;p!=o&&!(checkSide(u,l,c[p+1],c[p+2])&&(f=p,a>0));p=c[p+3]);return f}slice(e,o,a){let l=this.buffer,u=new Uint16Array(o-e),c=0;for(let f=e,p=0;f<o;){u[p++]=l[f++],u[p++]=l[f++]-a;let T=u[p++]=l[f++]-a;u[p++]=l[f++]-e,c=Math.max(c,T)}return new TreeBuffer(u,c,this.set)}}function checkSide(n,e,o,a){switch(n){case-2:return o<e;case-1:return a>=e&&o<e;case 0:return o<e&&a>e;case 1:return o<=e&&a>e;case 2:return a>e;case 4:return!0}}function resolveNode(n,e,o,a){for(var l;n.from==n.to||(o<1?n.from>=e:n.from>e)||(o>-1?n.to<=e:n.to<e);){let c=!a&&n instanceof TreeNode&&n.index<0?null:n.parent;if(!c)return n;n=c}let u=a?0:IterMode.IgnoreOverlays;if(a)for(let c=n,f=c.parent;f;c=f,f=c.parent)c instanceof TreeNode&&c.index<0&&((l=f.enter(e,o,u))===null||l===void 0?void 0:l.from)!=c.from&&(n=f);for(;;){let c=n.enter(e,o,u);if(!c)return n;n=c}}class BaseNode{cursor(e=0){return new TreeCursor(this,e)}getChild(e,o=null,a=null){let l=getChildren(this,e,o,a);return l.length?l[0]:null}getChildren(e,o=null,a=null){return getChildren(this,e,o,a)}resolve(e,o=0){return resolveNode(this,e,o,!1)}resolveInner(e,o=0){return resolveNode(this,e,o,!0)}matchContext(e){return matchNodeContext(this.parent,e)}enterUnfinishedNodesBefore(e){let o=this.childBefore(e),a=this;for(;o;){let l=o.lastChild;if(!l||l.to!=o.to)break;l.type.isError&&l.from==l.to?(a=o,o=l.prevSibling):o=l}return a}get node(){return this}get next(){return this.parent}}class TreeNode extends BaseNode{constructor(e,o,a,l){super(),this._tree=e,this.from=o,this.index=a,this._parent=l}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,o,a,l,u=0){for(let c=this;;){for(let{children:f,positions:p}=c._tree,T=o>0?f.length:-1;e!=T;e+=o){let E=f[e],b=p[e]+c.from;if(checkSide(l,a,b,b+E.length)){if(E instanceof TreeBuffer){if(u&IterMode.ExcludeBuffers)continue;let m=E.findChild(0,E.buffer.length,o,a-b,l);if(m>-1)return new BufferNode(new BufferContext(c,E,e,b),null,m)}else if(u&IterMode.IncludeAnonymous||!E.type.isAnonymous||hasChild(E)){let m;if(!(u&IterMode.IgnoreMounts)&&(m=MountedTree.get(E))&&!m.overlay)return new TreeNode(m.tree,b,e,c);let y=new TreeNode(E,b,e,c);return u&IterMode.IncludeAnonymous||!y.type.isAnonymous?y:y.nextChild(o<0?E.children.length-1:0,o,a,l)}}}if(u&IterMode.IncludeAnonymous||!c.type.isAnonymous||(c.index>=0?e=c.index+o:e=o<0?-1:c._parent._tree.children.length,c=c._parent,!c))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,o,a=0){let l;if(!(a&IterMode.IgnoreOverlays)&&(l=MountedTree.get(this._tree))&&l.overlay){let u=e-this.from;for(let{from:c,to:f}of l.overlay)if((o>0?c<=u:c<u)&&(o<0?f>=u:f>u))return new TreeNode(l.tree,l.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,o,a)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function getChildren(n,e,o,a){let l=n.cursor(),u=[];if(!l.firstChild())return u;if(o!=null){for(let c=!1;!c;)if(c=l.type.is(o),!l.nextSibling())return u}for(;;){if(a!=null&&l.type.is(a))return u;if(l.type.is(e)&&u.push(l.node),!l.nextSibling())return a==null?u:[]}}function matchNodeContext(n,e,o=e.length-1){for(let a=n;o>=0;a=a.parent){if(!a)return!1;if(!a.type.isAnonymous){if(e[o]&&e[o]!=a.name)return!1;o--}}return!0}class BufferContext{constructor(e,o,a,l){this.parent=e,this.buffer=o,this.index=a,this.start=l}}class BufferNode extends BaseNode{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,o,a){super(),this.context=e,this._parent=o,this.index=a,this.type=e.buffer.set.types[e.buffer.buffer[a]]}child(e,o,a){let{buffer:l}=this.context,u=l.findChild(this.index+4,l.buffer[this.index+3],e,o-this.context.start,a);return u<0?null:new BufferNode(this.context,this,u)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,o,a=0){if(a&IterMode.ExcludeBuffers)return null;let{buffer:l}=this.context,u=l.findChild(this.index+4,l.buffer[this.index+3],o>0?1:-1,e-this.context.start,o);return u<0?null:new BufferNode(this.context,this,u)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,o=e.buffer[this.index+3];return o<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new BufferNode(this.context,this._parent,o):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,o=this._parent?this._parent.index+4:0;return this.index==o?this.externalSibling(-1):new BufferNode(this.context,this._parent,e.findChild(o,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],o=[],{buffer:a}=this.context,l=this.index+4,u=a.buffer[this.index+3];if(u>l){let c=a.buffer[this.index+1];e.push(a.slice(l,u,c)),o.push(0)}return new Tree(this.type,e,o,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function iterStack(n){if(!n.length)return null;let e=0,o=n[0];for(let u=1;u<n.length;u++){let c=n[u];(c.from>o.from||c.to<o.to)&&(o=c,e=u)}let a=o instanceof TreeNode&&o.index<0?null:o.parent,l=n.slice();return a?l[e]=a:l.splice(e,1),new StackIterator(l,o)}class StackIterator{constructor(e,o){this.heads=e,this.node=o}get next(){return iterStack(this.heads)}}function stackIterator(n,e,o){let a=n.resolveInner(e,o),l=null;for(let u=a instanceof TreeNode?a:a.context.parent;u;u=u.parent)if(u.index<0){let c=u.parent;(l||(l=[a])).push(c.resolve(e,o)),u=c}else{let c=MountedTree.get(u.tree);if(c&&c.overlay&&c.overlay[0].from<=e&&c.overlay[c.overlay.length-1].to>=e){let f=new TreeNode(c.tree,c.overlay[0].from+u.from,-1,u);(l||(l=[a])).push(resolveNode(f,e,o,!1))}}return l?iterStack(l):a}class TreeCursor{get name(){return this.type.name}constructor(e,o=0){if(this.mode=o,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof TreeNode)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let a=e._parent;a;a=a._parent)this.stack.unshift(a.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,o){this.index=e;let{start:a,buffer:l}=this.buffer;return this.type=o||l.set.types[l.buffer[e]],this.from=a+l.buffer[e+1],this.to=a+l.buffer[e+2],!0}yield(e){return e?e instanceof TreeNode?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,o,a){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,o,a,this.mode));let{buffer:l}=this.buffer,u=l.findChild(this.index+4,l.buffer[this.index+3],e,o-this.buffer.start,a);return u<0?!1:(this.stack.push(this.index),this.yieldBuf(u))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,o,a=this.mode){return this.buffer?a&IterMode.ExcludeBuffers?!1:this.enterChild(1,e,o):this.yield(this._tree.enter(e,o,a))}parent(){if(!this.buffer)return this.yieldNode(this.mode&IterMode.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&IterMode.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:o}=this.buffer,a=this.stack.length-1;if(e<0){let l=a<0?0:this.stack[a]+4;if(this.index!=l)return this.yieldBuf(o.findChild(l,this.index,-1,0,4))}else{let l=o.buffer[this.index+3];if(l<(a<0?o.buffer.length:o.buffer[this.stack[a]+3]))return this.yieldBuf(l)}return a<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let o,a,{buffer:l}=this;if(l){if(e>0){if(this.index<l.buffer.buffer.length)return!1}else for(let u=0;u<this.index;u++)if(l.buffer.buffer[u+3]<this.index)return!1;({index:o,parent:a}=l)}else({index:o,_parent:a}=this._tree);for(;a;{index:o,_parent:a}=a)if(o>-1)for(let u=o+e,c=e<0?-1:a._tree.children.length;u!=c;u+=e){let f=a._tree.children[u];if(this.mode&IterMode.IncludeAnonymous||f instanceof TreeBuffer||!f.type.isAnonymous||hasChild(f))return!1}return!0}move(e,o){if(o&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,o=0){for(;(this.from==this.to||(o<1?this.from>=e:this.from>e)||(o>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,o););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,o=null,a=0;if(e&&e.context==this.buffer)e:for(let l=this.index,u=this.stack.length;u>=0;){for(let c=e;c;c=c._parent)if(c.index==l){if(l==this.index)return c;o=c,a=u+1;break e}l=this.stack[--u]}for(let l=a;l<this.stack.length;l++)o=new BufferNode(this.buffer,o,this.stack[l]);return this.bufferNode=new BufferNode(this.buffer,o,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,o){for(let a=0;;){let l=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){a++;continue}this.type.isAnonymous||(l=!0)}for(;;){if(l&&o&&o(this),l=this.type.isAnonymous,!a)return;if(this.nextSibling())break;this.parent(),a--,l=!0}}}matchContext(e){if(!this.buffer)return matchNodeContext(this.node.parent,e);let{buffer:o}=this.buffer,{types:a}=o.set;for(let l=e.length-1,u=this.stack.length-1;l>=0;u--){if(u<0)return matchNodeContext(this._tree,e,l);let c=a[o.buffer[this.stack[u]]];if(!c.isAnonymous){if(e[l]&&e[l]!=c.name)return!1;l--}}return!0}}function hasChild(n){return n.children.some(e=>e instanceof TreeBuffer||!e.type.isAnonymous||hasChild(e))}function buildTree(n){var e;let{buffer:o,nodeSet:a,maxBufferLength:l=DefaultBufferLength,reused:u=[],minRepeatType:c=a.types.length}=n,f=Array.isArray(o)?new FlatBufferCursor(o,o.length):o,p=a.types,T=0,E=0;function b(B,G,K,le,V,X){let{id:W,start:H,end:te,size:L}=f,ue=E,Ce=T;for(;L<0;)if(f.next(),L==-1){let Y=u[W];K.push(Y),le.push(H-B);return}else if(L==-3){T=W;return}else if(L==-4){E=W;return}else throw new RangeError(`Unrecognized record size: ${L}`);let fe=p[W],ye,he,j=H-B;if(te-H<=l&&(he=A(f.pos-G,V))){let Y=new Uint16Array(he.size-he.skip),Z=f.pos-he.size,Q=Y.length;for(;f.pos>Z;)Q=w(he.start,Y,Q);ye=new TreeBuffer(Y,te-he.start,a),j=he.start-B}else{let Y=f.pos-L;f.next();let Z=[],Q=[],be=W>=c?W:-1,we=0,Ue=te;for(;f.pos>Y;)be>=0&&f.id==be&&f.size>=0?(f.end<=Ue-l&&(S(Z,Q,H,we,f.end,Ue,be,ue,Ce),we=Z.length,Ue=f.end),f.next()):X>2500?m(H,Y,Z,Q):b(H,Y,Z,Q,be,X+1);if(be>=0&&we>0&&we<Z.length&&S(Z,Q,H,we,H,Ue,be,ue,Ce),Z.reverse(),Q.reverse(),be>-1&&we>0){let Ye=y(fe,Ce);ye=balanceRange(fe,Z,Q,0,Z.length,0,te-H,Ye,Ye)}else ye=v(fe,Z,Q,te-H,ue-te,Ce)}K.push(ye),le.push(j)}function m(B,G,K,le){let V=[],X=0,W=-1;for(;f.pos>G;){let{id:H,start:te,end:L,size:ue}=f;if(ue>4)f.next();else{if(W>-1&&te<W)break;W<0&&(W=L-l),V.push(H,te,L),X++,f.next()}}if(X){let H=new Uint16Array(X*4),te=V[V.length-2];for(let L=V.length-3,ue=0;L>=0;L-=3)H[ue++]=V[L],H[ue++]=V[L+1]-te,H[ue++]=V[L+2]-te,H[ue++]=ue;K.push(new TreeBuffer(H,V[2]-te,a)),le.push(te-B)}}function y(B,G){return(K,le,V)=>{let X=0,W=K.length-1,H,te;if(W>=0&&(H=K[W])instanceof Tree){if(!W&&H.type==B&&H.length==V)return H;(te=H.prop(NodeProp.lookAhead))&&(X=le[W]+H.length+te)}return v(B,K,le,V,X,G)}}function S(B,G,K,le,V,X,W,H,te){let L=[],ue=[];for(;B.length>le;)L.push(B.pop()),ue.push(G.pop()+K-V);B.push(v(a.types[W],L,ue,X-V,H-X,te)),G.push(V-K)}function v(B,G,K,le,V,X,W){if(X){let H=[NodeProp.contextHash,X];W=W?[H].concat(W):[H]}if(V>25){let H=[NodeProp.lookAhead,V];W=W?[H].concat(W):[H]}return new Tree(B,G,K,le,W)}function A(B,G){let K=f.fork(),le=0,V=0,X=0,W=K.end-l,H={size:0,start:0,skip:0};e:for(let te=K.pos-B;K.pos>te;){let L=K.size;if(K.id==G&&L>=0){H.size=le,H.start=V,H.skip=X,X+=4,le+=4,K.next();continue}let ue=K.pos-L;if(L<0||ue<te||K.start<W)break;let Ce=K.id>=c?4:0,fe=K.start;for(K.next();K.pos>ue;){if(K.size<0)if(K.size==-3)Ce+=4;else break e;else K.id>=c&&(Ce+=4);K.next()}V=fe,le+=L,X+=Ce}return(G<0||le==B)&&(H.size=le,H.start=V,H.skip=X),H.size>4?H:void 0}function w(B,G,K){let{id:le,start:V,end:X,size:W}=f;if(f.next(),W>=0&&le<c){let H=K;if(W>4){let te=f.pos-(W-4);for(;f.pos>te;)K=w(B,G,K)}G[--K]=H,G[--K]=X-B,G[--K]=V-B,G[--K]=le}else W==-3?T=le:W==-4&&(E=le);return K}let R=[],P=[];for(;f.pos>0;)b(n.start||0,n.bufferStart||0,R,P,-1,0);let F=(e=n.length)!==null&&e!==void 0?e:R.length?P[0]+R[0].length:0;return new Tree(p[n.topID],R.reverse(),P.reverse(),F)}const nodeSizeCache=new WeakMap;function nodeSize(n,e){if(!n.isAnonymous||e instanceof TreeBuffer||e.type!=n)return 1;let o=nodeSizeCache.get(e);if(o==null){o=1;for(let a of e.children){if(a.type!=n||!(a instanceof Tree)){o=1;break}o+=nodeSize(n,a)}nodeSizeCache.set(e,o)}return o}function balanceRange(n,e,o,a,l,u,c,f,p){let T=0;for(let S=a;S<l;S++)T+=nodeSize(n,e[S]);let E=Math.ceil(T*1.5/8),b=[],m=[];function y(S,v,A,w,R){for(let P=A;P<w;){let F=P,B=v[P],G=nodeSize(n,S[P]);for(P++;P<w;P++){let K=nodeSize(n,S[P]);if(G+K>=E)break;G+=K}if(P==F+1){if(G>E){let K=S[F];y(K.children,K.positions,0,K.children.length,v[F]+R);continue}b.push(S[F])}else{let K=v[P-1]+S[P-1].length-B;b.push(balanceRange(n,S,v,F,P,B,K,null,p))}m.push(B+R-u)}}return y(e,o,a,l,0),(f||p)(b,m,c)}class TreeFragment{constructor(e,o,a,l,u=!1,c=!1){this.from=e,this.to=o,this.tree=a,this.offset=l,this.open=(u?1:0)|(c?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,o=[],a=!1){let l=[new TreeFragment(0,e.length,e,0,!1,a)];for(let u of o)u.to>e.length&&l.push(u);return l}static applyChanges(e,o,a=128){if(!o.length)return e;let l=[],u=1,c=e.length?e[0]:null;for(let f=0,p=0,T=0;;f++){let E=f<o.length?o[f]:null,b=E?E.fromA:1e9;if(b-p>=a)for(;c&&c.from<b;){let m=c;if(p>=m.from||b<=m.to||T){let y=Math.max(m.from,p)-T,S=Math.min(m.to,b)-T;m=y>=S?null:new TreeFragment(y,S,m.tree,m.offset+T,f>0,!!E)}if(m&&l.push(m),c.to>b)break;c=u<e.length?e[u++]:null}if(!E)break;p=E.toA,T=E.toA-E.toB}return l}}class Parser{startParse(e,o,a){return typeof e=="string"&&(e=new StringInput(e)),a=a?a.length?a.map(l=>new Range(l.from,l.to)):[new Range(0,0)]:[new Range(0,e.length)],this.createParse(e,o||[],a)}parse(e,o,a){let l=this.startParse(e,o,a);for(;;){let u=l.advance();if(u)return u}}}class StringInput{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,o){return this.string.slice(e,o)}}new NodeProp({perNode:!0});let nextTagID=0;class Tag{constructor(e,o,a,l){this.name=e,this.set=o,this.base=a,this.modified=l,this.id=nextTagID++}toString(){let{name:e}=this;for(let o of this.modified)o.name&&(e=`${o.name}(${e})`);return e}static define(e,o){let a=typeof e=="string"?e:"?";if(e instanceof Tag&&(o=e),o!=null&&o.base)throw new Error("Can not derive from a modified tag");let l=new Tag(a,[],null,[]);if(l.set.push(l),o)for(let u of o.set)l.set.push(u);return l}static defineModifier(e){let o=new Modifier(e);return a=>a.modified.indexOf(o)>-1?a:Modifier.get(a.base||a,a.modified.concat(o).sort((l,u)=>l.id-u.id))}}let nextModifierID=0;class Modifier{constructor(e){this.name=e,this.instances=[],this.id=nextModifierID++}static get(e,o){if(!o.length)return e;let a=o[0].instances.find(f=>f.base==e&&sameArray(o,f.modified));if(a)return a;let l=[],u=new Tag(e.name,l,e,o);for(let f of o)f.instances.push(u);let c=powerSet(o);for(let f of e.set)if(!f.modified.length)for(let p of c)l.push(Modifier.get(f,p));return u}}function sameArray(n,e){return n.length==e.length&&n.every((o,a)=>o==e[a])}function powerSet(n){let e=[[]];for(let o=0;o<n.length;o++)for(let a=0,l=e.length;a<l;a++)e.push(e[a].concat(n[o]));return e.sort((o,a)=>a.length-o.length)}function styleTags(n){let e=Object.create(null);for(let o in n){let a=n[o];Array.isArray(a)||(a=[a]);for(let l of o.split(" "))if(l){let u=[],c=2,f=l;for(let b=0;;){if(f=="..."&&b>0&&b+3==l.length){c=1;break}let m=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(f);if(!m)throw new RangeError("Invalid path: "+l);if(u.push(m[0]=="*"?"":m[0][0]=='"'?JSON.parse(m[0]):m[0]),b+=m[0].length,b==l.length)break;let y=l[b++];if(b==l.length&&y=="!"){c=0;break}if(y!="/")throw new RangeError("Invalid path: "+l);f=l.slice(b)}let p=u.length-1,T=u[p];if(!T)throw new RangeError("Invalid path: "+l);let E=new Rule(a,c,p>0?u.slice(0,p):null);e[T]=E.sort(e[T])}}return ruleNodeProp.add(e)}const ruleNodeProp=new NodeProp;class Rule{constructor(e,o,a,l){this.tags=e,this.mode=o,this.context=a,this.next=l}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Rule.empty=new Rule([],2,null);function tagHighlighter(n,e){let o=Object.create(null);for(let u of n)if(!Array.isArray(u.tag))o[u.tag.id]=u.class;else for(let c of u.tag)o[c.id]=u.class;let{scope:a,all:l=null}=e||{};return{style:u=>{let c=l;for(let f of u)for(let p of f.set){let T=o[p.id];if(T){c=c?c+" "+T:T;break}}return c},scope:a}}function highlightTags(n,e){let o=null;for(let a of n){let l=a.style(e);l&&(o=o?o+" "+l:l)}return o}function highlightTree(n,e,o,a=0,l=n.length){let u=new HighlightBuilder(a,Array.isArray(e)?e:[e],o);u.highlightRange(n.cursor(),a,l,"",u.highlighters),u.flush(l)}class HighlightBuilder{constructor(e,o,a){this.at=e,this.highlighters=o,this.span=a,this.class=""}startSpan(e,o){o!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=o)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,o,a,l,u){let{type:c,from:f,to:p}=e;if(f>=a||p<=o)return;c.isTop&&(u=this.highlighters.filter(y=>!y.scope||y.scope(c)));let T=l,E=getStyleTags(e)||Rule.empty,b=highlightTags(u,E.tags);if(b&&(T&&(T+=" "),T+=b,E.mode==1&&(l+=(l?" ":"")+b)),this.startSpan(Math.max(o,f),T),E.opaque)return;let m=e.tree&&e.tree.prop(NodeProp.mounted);if(m&&m.overlay){let y=e.node.enter(m.overlay[0].from+f,1),S=this.highlighters.filter(A=>!A.scope||A.scope(m.tree.type)),v=e.firstChild();for(let A=0,w=f;;A++){let R=A<m.overlay.length?m.overlay[A]:null,P=R?R.from+f:p,F=Math.max(o,w),B=Math.min(a,P);if(F<B&&v)for(;e.from<B&&(this.highlightRange(e,F,B,l,u),this.startSpan(Math.min(B,e.to),T),!(e.to>=P||!e.nextSibling())););if(!R||P>a)break;w=R.to+f,w>o&&(this.highlightRange(y.cursor(),Math.max(o,R.from+f),Math.min(a,w),"",S),this.startSpan(Math.min(a,w),T))}v&&e.parent()}else if(e.firstChild()){m&&(l="");do if(!(e.to<=o)){if(e.from>=a)break;this.highlightRange(e,o,a,l,u),this.startSpan(Math.min(a,e.to),T)}while(e.nextSibling());e.parent()}}}function getStyleTags(n){let e=n.type.prop(ruleNodeProp);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const t=Tag.define,comment=t(),name=t(),typeName=t(name),propertyName=t(name),literal=t(),string=t(literal),number=t(literal),content=t(),heading=t(content),keyword=t(),operator=t(),punctuation=t(),bracket=t(punctuation),meta=t(),tags={comment,lineComment:t(comment),blockComment:t(comment),docComment:t(comment),name,variableName:t(name),typeName,tagName:t(typeName),propertyName,attributeName:t(propertyName),className:t(name),labelName:t(name),namespace:t(name),macroName:t(name),literal,string,docString:t(string),character:t(string),attributeValue:t(string),number,integer:t(number),float:t(number),bool:t(literal),regexp:t(literal),escape:t(literal),color:t(literal),url:t(literal),keyword,self:t(keyword),null:t(keyword),atom:t(keyword),unit:t(keyword),modifier:t(keyword),operatorKeyword:t(keyword),controlKeyword:t(keyword),definitionKeyword:t(keyword),moduleKeyword:t(keyword),operator,derefOperator:t(operator),arithmeticOperator:t(operator),logicOperator:t(operator),bitwiseOperator:t(operator),compareOperator:t(operator),updateOperator:t(operator),definitionOperator:t(operator),typeOperator:t(operator),controlOperator:t(operator),punctuation,separator:t(punctuation),bracket,angleBracket:t(bracket),squareBracket:t(bracket),paren:t(bracket),brace:t(bracket),content,heading,heading1:t(heading),heading2:t(heading),heading3:t(heading),heading4:t(heading),heading5:t(heading),heading6:t(heading),contentSeparator:t(content),list:t(content),quote:t(content),emphasis:t(content),strong:t(content),link:t(content),monospace:t(content),strikethrough:t(content),inserted:t(),deleted:t(),changed:t(),invalid:t(),meta,documentMeta:t(meta),annotation:t(meta),processingInstruction:t(meta),definition:Tag.defineModifier("definition"),constant:Tag.defineModifier("constant"),function:Tag.defineModifier("function"),standard:Tag.defineModifier("standard"),local:Tag.defineModifier("local"),special:Tag.defineModifier("special")};for(let n in tags){let e=tags[n];e instanceof Tag&&(e.name=n)}tagHighlighter([{tag:tags.link,class:"tok-link"},{tag:tags.heading,class:"tok-heading"},{tag:tags.emphasis,class:"tok-emphasis"},{tag:tags.strong,class:"tok-strong"},{tag:tags.keyword,class:"tok-keyword"},{tag:tags.atom,class:"tok-atom"},{tag:tags.bool,class:"tok-bool"},{tag:tags.url,class:"tok-url"},{tag:tags.labelName,class:"tok-labelName"},{tag:tags.inserted,class:"tok-inserted"},{tag:tags.deleted,class:"tok-deleted"},{tag:tags.literal,class:"tok-literal"},{tag:tags.string,class:"tok-string"},{tag:tags.number,class:"tok-number"},{tag:[tags.regexp,tags.escape,tags.special(tags.string)],class:"tok-string2"},{tag:tags.variableName,class:"tok-variableName"},{tag:tags.local(tags.variableName),class:"tok-variableName tok-local"},{tag:tags.definition(tags.variableName),class:"tok-variableName tok-definition"},{tag:tags.special(tags.variableName),class:"tok-variableName2"},{tag:tags.definition(tags.propertyName),class:"tok-propertyName tok-definition"},{tag:tags.typeName,class:"tok-typeName"},{tag:tags.namespace,class:"tok-namespace"},{tag:tags.className,class:"tok-className"},{tag:tags.macroName,class:"tok-macroName"},{tag:tags.propertyName,class:"tok-propertyName"},{tag:tags.operator,class:"tok-operator"},{tag:tags.comment,class:"tok-comment"},{tag:tags.meta,class:"tok-meta"},{tag:tags.invalid,class:"tok-invalid"},{tag:tags.punctuation,class:"tok-punctuation"}]);var _a;const languageDataProp=new NodeProp;function defineLanguageFacet(n){return Facet.define({combine:n?e=>e.concat(n):void 0})}const sublanguageProp=new NodeProp;class Language{constructor(e,o,a=[],l=""){this.data=e,this.name=l,EditorState.prototype.hasOwnProperty("tree")||Object.defineProperty(EditorState.prototype,"tree",{get(){return syntaxTree(this)}}),this.parser=o,this.extension=[language.of(this),EditorState.languageData.of((u,c,f)=>{let p=topNodeAt(u,c,f),T=p.type.prop(languageDataProp);if(!T)return[];let E=u.facet(T),b=p.type.prop(sublanguageProp);if(b){let m=p.resolve(c-p.from,f);for(let y of b)if(y.test(m,u)){let S=u.facet(y.facet);return y.type=="replace"?S:S.concat(E)}}return E})].concat(a)}isActiveAt(e,o,a=-1){return topNodeAt(e,o,a).type.prop(languageDataProp)==this.data}findRegions(e){let o=e.facet(language);if((o==null?void 0:o.data)==this.data)return[{from:0,to:e.doc.length}];if(!o||!o.allowsNesting)return[];let a=[],l=(u,c)=>{if(u.prop(languageDataProp)==this.data){a.push({from:c,to:c+u.length});return}let f=u.prop(NodeProp.mounted);if(f){if(f.tree.prop(languageDataProp)==this.data){if(f.overlay)for(let p of f.overlay)a.push({from:p.from+c,to:p.to+c});else a.push({from:c,to:c+u.length});return}else if(f.overlay){let p=a.length;if(l(f.tree,f.overlay[0].from+c),a.length>p)return}}for(let p=0;p<u.children.length;p++){let T=u.children[p];T instanceof Tree&&l(T,u.positions[p]+c)}};return l(syntaxTree(e),0),a}get allowsNesting(){return!0}}Language.setState=StateEffect.define();function topNodeAt(n,e,o){let a=n.facet(language),l=syntaxTree(n).topNode;if(!a||a.allowsNesting)for(let u=l;u;u=u.enter(e,o,IterMode.ExcludeBuffers))u.type.isTop&&(l=u);return l}function syntaxTree(n){let e=n.field(Language.state,!1);return e?e.tree:Tree.empty}class DocInput{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,o){let a=this.cursorPos-this.string.length;return e<a||o>=this.cursorPos?this.doc.sliceString(e,o):this.string.slice(e-a,o-a)}}let currentContext=null;class ParseContext{constructor(e,o,a=[],l,u,c,f,p){this.parser=e,this.state=o,this.fragments=a,this.tree=l,this.treeLen=u,this.viewport=c,this.skipped=f,this.scheduleOn=p,this.parse=null,this.tempSkipped=[]}static create(e,o,a){return new ParseContext(e,o,[],Tree.empty,0,a,[],null)}startParse(){return this.parser.startParse(new DocInput(this.state.doc),this.fragments)}work(e,o){return o!=null&&o>=this.state.doc.length&&(o=void 0),this.tree!=Tree.empty&&this.isDone(o??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var a;if(typeof e=="number"){let l=Date.now()+e;e=()=>Date.now()>l}for(this.parse||(this.parse=this.startParse()),o!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>o)&&o<this.state.doc.length&&this.parse.stopAt(o);;){let l=this.parse.advance();if(l)if(this.fragments=this.withoutTempSkipped(TreeFragment.addTree(l,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(a=this.parse.stoppedAt)!==null&&a!==void 0?a:this.state.doc.length,this.tree=l,this.parse=null,this.treeLen<(o??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,o;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(o=this.parse.advance()););}),this.treeLen=e,this.tree=o,this.fragments=this.withoutTempSkipped(TreeFragment.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let o=currentContext;currentContext=this;try{return e()}finally{currentContext=o}}withoutTempSkipped(e){for(let o;o=this.tempSkipped.pop();)e=cutFragments(e,o.from,o.to);return e}changes(e,o){let{fragments:a,tree:l,treeLen:u,viewport:c,skipped:f}=this;if(this.takeTree(),!e.empty){let p=[];if(e.iterChangedRanges((T,E,b,m)=>p.push({fromA:T,toA:E,fromB:b,toB:m})),a=TreeFragment.applyChanges(a,p),l=Tree.empty,u=0,c={from:e.mapPos(c.from,-1),to:e.mapPos(c.to,1)},this.skipped.length){f=[];for(let T of this.skipped){let E=e.mapPos(T.from,1),b=e.mapPos(T.to,-1);E<b&&f.push({from:E,to:b})}}}return new ParseContext(this.parser,o,a,l,u,c,f,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let o=this.skipped.length;for(let a=0;a<this.skipped.length;a++){let{from:l,to:u}=this.skipped[a];l<e.to&&u>e.from&&(this.fragments=cutFragments(this.fragments,l,u),this.skipped.splice(a--,1))}return this.skipped.length>=o?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,o){this.skipped.push({from:e,to:o})}static getSkippingParser(e){return new class extends Parser{createParse(o,a,l){let u=l[0].from,c=l[l.length-1].to;return{parsedPos:u,advance(){let p=currentContext;if(p){for(let T of l)p.tempSkipped.push(T);e&&(p.scheduleOn=p.scheduleOn?Promise.all([p.scheduleOn,e]):e)}return this.parsedPos=c,new Tree(NodeType.none,[],[],c-u)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let o=this.fragments;return this.treeLen>=e&&o.length&&o[0].from==0&&o[0].to>=e}static get(){return currentContext}}function cutFragments(n,e,o){return TreeFragment.applyChanges(n,[{fromA:e,toA:o,fromB:e,toB:o}])}class LanguageState{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let o=this.context.changes(e.changes,e.state),a=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),o.viewport.to);return o.work(20,a)||o.takeTree(),new LanguageState(o)}static init(e){let o=Math.min(3e3,e.doc.length),a=ParseContext.create(e.facet(language).parser,e,{from:0,to:o});return a.work(20,o)||a.takeTree(),new LanguageState(a)}}Language.state=StateField.define({create:LanguageState.init,update(n,e){for(let o of e.effects)if(o.is(Language.setState))return o.value;return e.startState.facet(language)!=e.state.facet(language)?LanguageState.init(e.state):n.apply(e)}});let requestIdle=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(requestIdle=n=>{let e=-1,o=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(o):cancelIdleCallback(e)});const isInputPending=typeof navigator<"u"&&(!((_a=navigator.scheduling)===null||_a===void 0)&&_a.isInputPending)?()=>navigator.scheduling.isInputPending():null,parseWorker=ViewPlugin.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let o=this.view.state.field(Language.state).context;(o.updateViewport(e.view.viewport)||this.view.viewport.to>o.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(o)}scheduleWork(){if(this.working)return;let{state:e}=this.view,o=e.field(Language.state);(o.tree!=o.context.tree||!o.context.isDone(e.doc.length))&&(this.working=requestIdle(this.work))}work(e){this.working=null;let o=Date.now();if(this.chunkEnd<o&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=o+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:a,viewport:{to:l}}=this.view,u=a.field(Language.state);if(u.tree==u.context.tree&&u.context.isDone(l+1e5))return;let c=Date.now()+Math.min(this.chunkBudget,100,e&&!isInputPending?Math.max(25,e.timeRemaining()-5):1e9),f=u.context.treeLen<l&&a.doc.length>l+1e3,p=u.context.work(()=>isInputPending&&isInputPending()||Date.now()>c,l+(f?0:1e5));this.chunkBudget-=Date.now()-o,(p||this.chunkBudget<=0)&&(u.context.takeTree(),this.view.dispatch({effects:Language.setState.of(new LanguageState(u.context))})),this.chunkBudget>0&&!(p&&!f)&&this.scheduleWork(),this.checkAsyncSchedule(u.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(o=>logException(this.view.state,o)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),language=Facet.define({combine(n){return n.length?n[0]:null},enables:n=>[Language.state,parseWorker,EditorView.contentAttributes.compute([n],e=>{let o=e.facet(n);return o&&o.name?{"data-language":o.name}:{}})]}),indentService=Facet.define(),indentUnit=Facet.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(o=>o!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function getIndentUnit(n){let e=n.facet(indentUnit);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function indentString$1(n,e){let o="",a=n.tabSize,l=n.facet(indentUnit)[0];if(l=="	"){for(;e>=a;)o+="	",e-=a;l=" "}for(let u=0;u<e;u++)o+=l;return o}function getIndentation(n,e){n instanceof EditorState&&(n=new IndentContext(n));for(let a of n.state.facet(indentService)){let l=a(n,e);if(l!==void 0)return l}let o=syntaxTree(n.state);return o.length>=e?syntaxIndentation(n,o,e):null}class IndentContext{constructor(e,o={}){this.state=e,this.options=o,this.unit=getIndentUnit(e)}lineAt(e,o=1){let a=this.state.doc.lineAt(e),{simulateBreak:l,simulateDoubleBreak:u}=this.options;return l!=null&&l>=a.from&&l<=a.to?u&&l==e?{text:"",from:e}:(o<0?l<e:l<=e)?{text:a.text.slice(l-a.from),from:l}:{text:a.text.slice(0,l-a.from),from:a.from}:a}textAfterPos(e,o=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:a,from:l}=this.lineAt(e,o);return a.slice(e-l,Math.min(a.length,e+100-l))}column(e,o=1){let{text:a,from:l}=this.lineAt(e,o),u=this.countColumn(a,e-l),c=this.options.overrideIndentation?this.options.overrideIndentation(l):-1;return c>-1&&(u+=c-this.countColumn(a,a.search(/\S|$/))),u}countColumn(e,o=e.length){return countColumn(e,this.state.tabSize,o)}lineIndent(e,o=1){let{text:a,from:l}=this.lineAt(e,o),u=this.options.overrideIndentation;if(u){let c=u(l);if(c>-1)return c}return this.countColumn(a,a.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const indentNodeProp=new NodeProp;function syntaxIndentation(n,e,o){let a=e.resolveStack(o),l=e.resolveInner(o,-1).resolve(o,0).enterUnfinishedNodesBefore(o);if(l!=a.node){let u=[];for(let c=l;c&&!(c.from<a.node.from||c.to>a.node.to||c.from==a.node.from&&c.type==a.node.type);c=c.parent)u.push(c);for(let c=u.length-1;c>=0;c--)a={node:u[c],next:a}}return indentFor(a,n,o)}function indentFor(n,e,o){for(let a=n;a;a=a.next){let l=indentStrategy(a.node);if(l)return l(TreeIndentContext.create(e,o,a))}return 0}function ignoreClosed(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function indentStrategy(n){let e=n.type.prop(indentNodeProp);if(e)return e;let o=n.firstChild,a;if(o&&(a=o.type.prop(NodeProp.closedBy))){let l=n.lastChild,u=l&&a.indexOf(l.name)>-1;return c=>delimitedStrategy(c,!0,1,void 0,u&&!ignoreClosed(c)?l.from:void 0)}return n.parent==null?topIndent:null}function topIndent(){return 0}class TreeIndentContext extends IndentContext{constructor(e,o,a){super(e.state,e.options),this.base=e,this.pos=o,this.context=a}get node(){return this.context.node}static create(e,o,a){return new TreeIndentContext(e,o,a)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let o=this.state.doc.lineAt(e.from);for(;;){let a=e.resolve(o.from);for(;a.parent&&a.parent.from==a.from;)a=a.parent;if(isParent(a,e))break;o=this.state.doc.lineAt(a.from)}return this.lineIndent(o.from)}continue(){return indentFor(this.context.next,this.base,this.pos)}}function isParent(n,e){for(let o=e;o;o=o.parent)if(n==o)return!0;return!1}function bracketedAligned(n){let e=n.node,o=e.childAfter(e.from),a=e.lastChild;if(!o)return null;let l=n.options.simulateBreak,u=n.state.doc.lineAt(o.from),c=l==null||l<=u.from?u.to:Math.min(u.to,l);for(let f=o.to;;){let p=e.childAfter(f);if(!p||p==a)return null;if(!p.type.isSkipped){if(p.from>=c)return null;let T=/^ */.exec(u.text.slice(o.to-u.from))[0].length;return{from:o.from,to:o.to+T}}f=p.to}}function delimitedStrategy(n,e,o,a,l){let u=n.textAfter,c=u.match(/^\s*/)[0].length,f=a&&u.slice(c,c+a.length)==a||l==n.pos+c,p=bracketedAligned(n);return p?f?n.column(p.from):n.column(p.to):n.baseIndent+(f?0:n.unit*o)}const DontIndentBeyond=200;function indentOnInput(){return EditorState.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let o=n.newDoc,{head:a}=n.newSelection.main,l=o.lineAt(a);if(a>l.from+DontIndentBeyond)return n;let u=o.sliceString(l.from,a);if(!e.some(T=>T.test(u)))return n;let{state:c}=n,f=-1,p=[];for(let{head:T}of c.selection.ranges){let E=c.doc.lineAt(T);if(E.from==f)continue;f=E.from;let b=getIndentation(c,E.from);if(b==null)continue;let m=/^\s*/.exec(E.text)[0],y=indentString$1(c,b);m!=y&&p.push({from:E.from,to:E.from+m.length,insert:y})}return p.length?[n,{changes:p,sequential:!0}]:n})}const foldService=Facet.define(),foldNodeProp=new NodeProp;function syntaxFolding(n,e,o){let a=syntaxTree(n);if(a.length<o)return null;let l=a.resolveStack(o,1),u=null;for(let c=l;c;c=c.next){let f=c.node;if(f.to<=o||f.from>o)continue;if(u&&f.from<e)break;let p=f.type.prop(foldNodeProp);if(p&&(f.to<a.length-50||a.length==n.doc.length||!isUnfinished(f))){let T=p(f,n);T&&T.from<=o&&T.from>=e&&T.to>o&&(u=T)}}return u}function isUnfinished(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function foldable(n,e,o){for(let a of n.facet(foldService)){let l=a(n,e,o);if(l)return l}return syntaxFolding(n,e,o)}function mapRange(n,e){let o=e.mapPos(n.from,1),a=e.mapPos(n.to,-1);return o>=a?void 0:{from:o,to:a}}const foldEffect=StateEffect.define({map:mapRange}),unfoldEffect=StateEffect.define({map:mapRange});function selectedLines(n){let e=[];for(let{head:o}of n.state.selection.ranges)e.some(a=>a.from<=o&&a.to>=o)||e.push(n.lineBlockAt(o));return e}const foldState=StateField.define({create(){return Decoration.none},update(n,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((o,a)=>n=clearTouchedFolds(n,o,a)),n=n.map(e.changes);for(let o of e.effects)if(o.is(foldEffect)&&!foldExists(n,o.value.from,o.value.to)){let{preparePlaceholder:a}=e.state.facet(foldConfig),l=a?Decoration.replace({widget:new PreparedFoldWidget(a(e.state,o.value))}):foldWidget;n=n.update({add:[l.range(o.value.from,o.value.to)]})}else o.is(unfoldEffect)&&(n=n.update({filter:(a,l)=>o.value.from!=a||o.value.to!=l,filterFrom:o.value.from,filterTo:o.value.to}));return e.selection&&(n=clearTouchedFolds(n,e.selection.main.head)),n},provide:n=>EditorView.decorations.from(n),toJSON(n,e){let o=[];return n.between(0,e.doc.length,(a,l)=>{o.push(a,l)}),o},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let o=0;o<n.length;){let a=n[o++],l=n[o++];if(typeof a!="number"||typeof l!="number")throw new RangeError("Invalid JSON for fold state");e.push(foldWidget.range(a,l))}return Decoration.set(e,!0)}});function clearTouchedFolds(n,e,o=e){let a=!1;return n.between(e,o,(l,u)=>{l<o&&u>e&&(a=!0)}),a?n.update({filterFrom:e,filterTo:o,filter:(l,u)=>l>=o||u<=e}):n}function findFold(n,e,o){var a;let l=null;return(a=n.field(foldState,!1))===null||a===void 0||a.between(e,o,(u,c)=>{(!l||l.from>u)&&(l={from:u,to:c})}),l}function foldExists(n,e,o){let a=!1;return n.between(e,e,(l,u)=>{l==e&&u==o&&(a=!0)}),a}function maybeEnable(n,e){return n.field(foldState,!1)?e:e.concat(StateEffect.appendConfig.of(codeFolding()))}const foldCode=n=>{for(let e of selectedLines(n)){let o=foldable(n.state,e.from,e.to);if(o)return n.dispatch({effects:maybeEnable(n.state,[foldEffect.of(o),announceFold(n,o)])}),!0}return!1},unfoldCode=n=>{if(!n.state.field(foldState,!1))return!1;let e=[];for(let o of selectedLines(n)){let a=findFold(n.state,o.from,o.to);a&&e.push(unfoldEffect.of(a),announceFold(n,a,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function announceFold(n,e,o=!0){let a=n.state.doc.lineAt(e.from).number,l=n.state.doc.lineAt(e.to).number;return EditorView.announce.of(`${n.state.phrase(o?"Folded lines":"Unfolded lines")} ${a} ${n.state.phrase("to")} ${l}.`)}const foldAll=n=>{let{state:e}=n,o=[];for(let a=0;a<e.doc.length;){let l=n.lineBlockAt(a),u=foldable(e,l.from,l.to);u&&o.push(foldEffect.of(u)),a=(u?n.lineBlockAt(u.to):l).to+1}return o.length&&n.dispatch({effects:maybeEnable(n.state,o)}),!!o.length},unfoldAll=n=>{let e=n.state.field(foldState,!1);if(!e||!e.size)return!1;let o=[];return e.between(0,n.state.doc.length,(a,l)=>{o.push(unfoldEffect.of({from:a,to:l}))}),n.dispatch({effects:o}),!0},foldKeymap=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:foldCode},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:unfoldCode},{key:"Ctrl-Alt-[",run:foldAll},{key:"Ctrl-Alt-]",run:unfoldAll}],defaultConfig={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},foldConfig=Facet.define({combine(n){return combineConfig(n,defaultConfig)}});function codeFolding(n){return[foldState,baseTheme$1$2]}function widgetToDOM(n,e){let{state:o}=n,a=o.facet(foldConfig),l=c=>{let f=n.lineBlockAt(n.posAtDOM(c.target)),p=findFold(n.state,f.from,f.to);p&&n.dispatch({effects:unfoldEffect.of(p)}),c.preventDefault()};if(a.placeholderDOM)return a.placeholderDOM(n,l,e);let u=document.createElement("span");return u.textContent=a.placeholderText,u.setAttribute("aria-label",o.phrase("folded code")),u.title=o.phrase("unfold"),u.className="cm-foldPlaceholder",u.onclick=l,u}const foldWidget=Decoration.replace({widget:new class extends WidgetType{toDOM(n){return widgetToDOM(n,null)}}});class PreparedFoldWidget extends WidgetType{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return widgetToDOM(e,this.value)}}const foldGutterDefaults={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class FoldMarker extends GutterMarker{constructor(e,o){super(),this.config=e,this.open=o}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let o=document.createElement("span");return o.textContent=this.open?this.config.openText:this.config.closedText,o.title=e.state.phrase(this.open?"Fold line":"Unfold line"),o}}function foldGutter(n={}){let e={...foldGutterDefaults,...n},o=new FoldMarker(e,!0),a=new FoldMarker(e,!1),l=ViewPlugin.fromClass(class{constructor(c){this.from=c.viewport.from,this.markers=this.buildMarkers(c)}update(c){(c.docChanged||c.viewportChanged||c.startState.facet(language)!=c.state.facet(language)||c.startState.field(foldState,!1)!=c.state.field(foldState,!1)||syntaxTree(c.startState)!=syntaxTree(c.state)||e.foldingChanged(c))&&(this.markers=this.buildMarkers(c.view))}buildMarkers(c){let f=new RangeSetBuilder;for(let p of c.viewportLineBlocks){let T=findFold(c.state,p.from,p.to)?a:foldable(c.state,p.from,p.to)?o:null;T&&f.add(p.from,p.from,T)}return f.finish()}}),{domEventHandlers:u}=e;return[l,gutter({class:"cm-foldGutter",markers(c){var f;return((f=c.plugin(l))===null||f===void 0?void 0:f.markers)||RangeSet.empty},initialSpacer(){return new FoldMarker(e,!1)},domEventHandlers:{...u,click:(c,f,p)=>{if(u.click&&u.click(c,f,p))return!0;let T=findFold(c.state,f.from,f.to);if(T)return c.dispatch({effects:unfoldEffect.of(T)}),!0;let E=foldable(c.state,f.from,f.to);return E?(c.dispatch({effects:foldEffect.of(E)}),!0):!1}}}),codeFolding()]}const baseTheme$1$2=EditorView.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class HighlightStyle{constructor(e,o){this.specs=e;let a;function l(f){let p=StyleModule.newName();return(a||(a=Object.create(null)))["."+p]=f,p}const u=typeof o.all=="string"?o.all:o.all?l(o.all):void 0,c=o.scope;this.scope=c instanceof Language?f=>f.prop(languageDataProp)==c.data:c?f=>f==c:void 0,this.style=tagHighlighter(e.map(f=>({tag:f.tag,class:f.class||l(Object.assign({},f,{tag:null}))})),{all:u}).style,this.module=a?new StyleModule(a):null,this.themeType=o.themeType}static define(e,o){return new HighlightStyle(e,o||{})}}const highlighterFacet=Facet.define(),fallbackHighlighter=Facet.define({combine(n){return n.length?[n[0]]:null}});function getHighlighters(n){let e=n.facet(highlighterFacet);return e.length?e:n.facet(fallbackHighlighter)}function syntaxHighlighting(n,e){let o=[treeHighlighter],a;return n instanceof HighlightStyle&&(n.module&&o.push(EditorView.styleModule.of(n.module)),a=n.themeType),e!=null&&e.fallback?o.push(fallbackHighlighter.of(n)):a?o.push(highlighterFacet.computeN([EditorView.darkTheme],l=>l.facet(EditorView.darkTheme)==(a=="dark")?[n]:[])):o.push(highlighterFacet.of(n)),o}class TreeHighlighter{constructor(e){this.markCache=Object.create(null),this.tree=syntaxTree(e.state),this.decorations=this.buildDeco(e,getHighlighters(e.state)),this.decoratedTo=e.viewport.to}update(e){let o=syntaxTree(e.state),a=getHighlighters(e.state),l=a!=getHighlighters(e.startState),{viewport:u}=e.view,c=e.changes.mapPos(this.decoratedTo,1);o.length<u.to&&!l&&o.type==this.tree.type&&c>=u.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=c):(o!=this.tree||e.viewportChanged||l)&&(this.tree=o,this.decorations=this.buildDeco(e.view,a),this.decoratedTo=u.to)}buildDeco(e,o){if(!o||!this.tree.length)return Decoration.none;let a=new RangeSetBuilder;for(let{from:l,to:u}of e.visibleRanges)highlightTree(this.tree,o,(c,f,p)=>{a.add(c,f,this.markCache[p]||(this.markCache[p]=Decoration.mark({class:p})))},l,u);return a.finish()}}const treeHighlighter=Prec.high(ViewPlugin.fromClass(TreeHighlighter,{decorations:n=>n.decorations})),defaultHighlightStyle=HighlightStyle.define([{tag:tags.meta,color:"#404740"},{tag:tags.link,textDecoration:"underline"},{tag:tags.heading,textDecoration:"underline",fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.strong,fontWeight:"bold"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.keyword,color:"#708"},{tag:[tags.atom,tags.bool,tags.url,tags.contentSeparator,tags.labelName],color:"#219"},{tag:[tags.literal,tags.inserted],color:"#164"},{tag:[tags.string,tags.deleted],color:"#a11"},{tag:[tags.regexp,tags.escape,tags.special(tags.string)],color:"#e40"},{tag:tags.definition(tags.variableName),color:"#00f"},{tag:tags.local(tags.variableName),color:"#30a"},{tag:[tags.typeName,tags.namespace],color:"#085"},{tag:tags.className,color:"#167"},{tag:[tags.special(tags.variableName),tags.macroName],color:"#256"},{tag:tags.definition(tags.propertyName),color:"#00c"},{tag:tags.comment,color:"#940"},{tag:tags.invalid,color:"#f00"}]),baseTheme$3=EditorView.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),DefaultScanDist=1e4,DefaultBrackets="()[]{}",bracketMatchingConfig=Facet.define({combine(n){return combineConfig(n,{afterCursor:!0,brackets:DefaultBrackets,maxScanDistance:DefaultScanDist,renderMatch:defaultRenderMatch})}}),matchingMark=Decoration.mark({class:"cm-matchingBracket"}),nonmatchingMark=Decoration.mark({class:"cm-nonmatchingBracket"});function defaultRenderMatch(n){let e=[],o=n.matched?matchingMark:nonmatchingMark;return e.push(o.range(n.start.from,n.start.to)),n.end&&e.push(o.range(n.end.from,n.end.to)),e}const bracketMatchingState=StateField.define({create(){return Decoration.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let o=[],a=e.state.facet(bracketMatchingConfig);for(let l of e.state.selection.ranges){if(!l.empty)continue;let u=matchBrackets(e.state,l.head,-1,a)||l.head>0&&matchBrackets(e.state,l.head-1,1,a)||a.afterCursor&&(matchBrackets(e.state,l.head,1,a)||l.head<e.state.doc.length&&matchBrackets(e.state,l.head+1,-1,a));u&&(o=o.concat(a.renderMatch(u,e.state)))}return Decoration.set(o,!0)},provide:n=>EditorView.decorations.from(n)}),bracketMatchingUnique=[bracketMatchingState,baseTheme$3];function bracketMatching(n={}){return[bracketMatchingConfig.of(n),bracketMatchingUnique]}const bracketMatchingHandle=new NodeProp;function matchingNodes(n,e,o){let a=n.prop(e<0?NodeProp.openedBy:NodeProp.closedBy);if(a)return a;if(n.name.length==1){let l=o.indexOf(n.name);if(l>-1&&l%2==(e<0?1:0))return[o[l+e]]}return null}function findHandle(n){let e=n.type.prop(bracketMatchingHandle);return e?e(n.node):n}function matchBrackets(n,e,o,a={}){let l=a.maxScanDistance||DefaultScanDist,u=a.brackets||DefaultBrackets,c=syntaxTree(n),f=c.resolveInner(e,o);for(let p=f;p;p=p.parent){let T=matchingNodes(p.type,o,u);if(T&&p.from<p.to){let E=findHandle(p);if(E&&(o>0?e>=E.from&&e<E.to:e>E.from&&e<=E.to))return matchMarkedBrackets(n,e,o,p,E,T,u)}}return matchPlainBrackets(n,e,o,c,f.type,l,u)}function matchMarkedBrackets(n,e,o,a,l,u,c){let f=a.parent,p={from:l.from,to:l.to},T=0,E=f==null?void 0:f.cursor();if(E&&(o<0?E.childBefore(a.from):E.childAfter(a.to)))do if(o<0?E.to<=a.from:E.from>=a.to){if(T==0&&u.indexOf(E.type.name)>-1&&E.from<E.to){let b=findHandle(E);return{start:p,end:b?{from:b.from,to:b.to}:void 0,matched:!0}}else if(matchingNodes(E.type,o,c))T++;else if(matchingNodes(E.type,-o,c)){if(T==0){let b=findHandle(E);return{start:p,end:b&&b.from<b.to?{from:b.from,to:b.to}:void 0,matched:!1}}T--}}while(o<0?E.prevSibling():E.nextSibling());return{start:p,matched:!1}}function matchPlainBrackets(n,e,o,a,l,u,c){let f=o<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),p=c.indexOf(f);if(p<0||p%2==0!=o>0)return null;let T={from:o<0?e-1:e,to:o>0?e+1:e},E=n.doc.iterRange(e,o>0?n.doc.length:0),b=0;for(let m=0;!E.next().done&&m<=u;){let y=E.value;o<0&&(m+=y.length);let S=e+m*o;for(let v=o>0?0:y.length-1,A=o>0?y.length:-1;v!=A;v+=o){let w=c.indexOf(y[v]);if(!(w<0||a.resolveInner(S+v,1).type!=l))if(w%2==0==o>0)b++;else{if(b==1)return{start:T,end:{from:S+v,to:S+v+1},matched:w>>1==p>>1};b--}}o>0&&(m+=y.length)}return E.done?{start:T,matched:!1}:null}function countCol(n,e,o,a=0,l=0){e==null&&(e=n.search(/[^\s\u00a0]/),e==-1&&(e=n.length));let u=l;for(let c=a;c<e;c++)n.charCodeAt(c)==9?u+=o-u%o:u++;return u}class StringStream{constructor(e,o,a,l){this.string=e,this.tabSize=o,this.indentUnit=a,this.overrideIndent=l,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(e){let o=this.string.charAt(this.pos),a;if(typeof e=="string"?a=o==e:a=o&&(e instanceof RegExp?e.test(o):e(o)),a)return++this.pos,o}eatWhile(e){let o=this.pos;for(;this.eat(e););return this.pos>o}eatSpace(){let e=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}skipToEnd(){this.pos=this.string.length}skipTo(e){let o=this.string.indexOf(e,this.pos);if(o>-1)return this.pos=o,!0}backUp(e){this.pos-=e}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=countCol(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var e;return(e=this.overrideIndent)!==null&&e!==void 0?e:countCol(this.string,null,this.tabSize)}match(e,o,a){if(typeof e=="string"){let l=c=>a?c.toLowerCase():c,u=this.string.substr(this.pos,e.length);return l(u)==l(e)?(o!==!1&&(this.pos+=e.length),!0):null}else{let l=this.string.slice(this.pos).match(e);return l&&l.index>0?null:(l&&o!==!1&&(this.pos+=l[0].length),l)}}current(){return this.string.slice(this.start,this.pos)}}function fullParser(n){return{name:n.name||"",token:n.token,blankLine:n.blankLine||(()=>{}),startState:n.startState||(()=>!0),copyState:n.copyState||defaultCopyState,indent:n.indent||(()=>null),languageData:n.languageData||{},tokenTable:n.tokenTable||noTokens,mergeTokens:n.mergeTokens!==!1}}function defaultCopyState(n){if(typeof n!="object")return n;let e={};for(let o in n){let a=n[o];e[o]=a instanceof Array?a.slice():a}return e}const IndentedFrom=new WeakMap;class StreamLanguage extends Language{constructor(e){let o=defineLanguageFacet(e.languageData),a=fullParser(e),l,u=new class extends Parser{createParse(c,f,p){return new Parse(l,c,f,p)}};super(o,u,[],e.name),this.topNode=docID(o,this),l=this,this.streamParser=a,this.stateAfter=new NodeProp({perNode:!0}),this.tokenTable=e.tokenTable?new TokenTable(a.tokenTable):defaultTokenTable}static define(e){return new StreamLanguage(e)}getIndent(e){let o,{overrideIndentation:a}=e.options;a&&(o=IndentedFrom.get(e.state),o!=null&&o<e.pos-1e4&&(o=void 0));let l=findState(this,e.node.tree,e.node.from,e.node.from,o??e.pos),u,c;if(l?(c=l.state,u=l.pos+1):(c=this.streamParser.startState(e.unit),u=e.node.from),e.pos-u>1e4)return null;for(;u<e.pos;){let p=e.state.doc.lineAt(u),T=Math.min(e.pos,p.to);if(p.length){let E=a?a(p.from):-1,b=new StringStream(p.text,e.state.tabSize,e.unit,E<0?void 0:E);for(;b.pos<T-p.from;)readToken(this.streamParser.token,b,c)}else this.streamParser.blankLine(c,e.unit);if(T==e.pos)break;u=p.to+1}let f=e.lineAt(e.pos);return a&&o==null&&IndentedFrom.set(e.state,f.from),this.streamParser.indent(c,/^\s*(.*)/.exec(f.text)[1],e)}get allowsNesting(){return!1}}function findState(n,e,o,a,l){let u=o>=a&&o+e.length<=l&&e.prop(n.stateAfter);if(u)return{state:n.streamParser.copyState(u),pos:o+e.length};for(let c=e.children.length-1;c>=0;c--){let f=e.children[c],p=o+e.positions[c],T=f instanceof Tree&&p<l&&findState(n,f,p,a,l);if(T)return T}return null}function cutTree(n,e,o,a,l){if(l&&o<=0&&a>=e.length)return e;!l&&o==0&&e.type==n.topNode&&(l=!0);for(let u=e.children.length-1;u>=0;u--){let c=e.positions[u],f=e.children[u],p;if(c<a&&f instanceof Tree){if(!(p=cutTree(n,f,o-c,a-c,l)))break;return l?new Tree(e.type,e.children.slice(0,u).concat(p),e.positions.slice(0,u+1),c+p.length):p}}return null}function findStartInFragments(n,e,o,a,l){for(let u of e){let c=u.from+(u.openStart?25:0),f=u.to-(u.openEnd?25:0),p=c<=o&&f>o&&findState(n,u.tree,0-u.offset,o,f),T;if(p&&p.pos<=a&&(T=cutTree(n,u.tree,o+u.offset,p.pos+u.offset,!1)))return{state:p.state,tree:T}}return{state:n.streamParser.startState(l?getIndentUnit(l):4),tree:Tree.empty}}class Parse{constructor(e,o,a,l){this.lang=e,this.input=o,this.fragments=a,this.ranges=l,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=l[l.length-1].to;let u=ParseContext.get(),c=l[0].from,{state:f,tree:p}=findStartInFragments(e,a,c,this.to,u==null?void 0:u.state);this.state=f,this.parsedPos=this.chunkStart=c+p.length;for(let T=0;T<p.children.length;T++)this.chunks.push(p.children[T]),this.chunkPos.push(p.positions[T]);u&&this.parsedPos<u.viewport.from-1e5&&l.some(T=>T.from<=u.viewport.from&&T.to>=u.viewport.from)&&(this.state=this.lang.streamParser.startState(getIndentUnit(u.state)),u.skipUntilInView(this.parsedPos,u.viewport.from),this.parsedPos=u.viewport.from),this.moveRangeIndex()}advance(){let e=ParseContext.get(),o=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),a=Math.min(o,this.chunkStart+2048);for(e&&(a=Math.min(a,e.viewport.to));this.parsedPos<a;)this.parseLine(e);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=o?this.finish():e&&this.parsedPos>=e.viewport.to?(e.skipUntilInView(this.parsedPos,o),this.finish()):null}stopAt(e){this.stoppedAt=e}lineAfter(e){let o=this.input.chunk(e);if(this.input.lineChunks)o==`
`&&(o="");else{let a=o.indexOf(`
`);a>-1&&(o=o.slice(0,a))}return e+o.length<=this.to?o:o.slice(0,this.to-e)}nextLine(){let e=this.parsedPos,o=this.lineAfter(e),a=e+o.length;for(let l=this.rangeIndex;;){let u=this.ranges[l].to;if(u>=a||(o=o.slice(0,u-(a-o.length)),l++,l==this.ranges.length))break;let c=this.ranges[l].from,f=this.lineAfter(c);o+=f,a=c+f.length}return{line:o,end:a}}skipGapsTo(e,o,a){for(;;){let l=this.ranges[this.rangeIndex].to,u=e+o;if(a>0?l>u:l>=u)break;let c=this.ranges[++this.rangeIndex].from;o+=c-l}return o}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(e,o,a,l){let u=4;if(this.ranges.length>1){l=this.skipGapsTo(o,l,1),o+=l;let f=this.chunk.length;l=this.skipGapsTo(a,l,-1),a+=l,u+=this.chunk.length-f}let c=this.chunk.length-4;return this.lang.streamParser.mergeTokens&&u==4&&c>=0&&this.chunk[c]==e&&this.chunk[c+2]==o?this.chunk[c+2]=a:this.chunk.push(e,o,a,u),l}parseLine(e){let{line:o,end:a}=this.nextLine(),l=0,{streamParser:u}=this.lang,c=new StringStream(o,e?e.state.tabSize:4,e?getIndentUnit(e.state):2);if(c.eol())u.blankLine(this.state,c.indentUnit);else for(;!c.eol();){let f=readToken(u.token,c,this.state);if(f&&(l=this.emitToken(this.lang.tokenTable.resolve(f),this.parsedPos+c.start,this.parsedPos+c.pos,l)),c.start>1e4)break}this.parsedPos=a,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let e=Tree.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet,topID:0,maxBufferLength:2048,reused:this.chunkReused});e=new Tree(e.type,e.children,e.positions,e.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(e),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new Tree(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}}function readToken(n,e,o){e.start=e.pos;for(let a=0;a<10;a++){let l=n(e,o);if(e.pos>e.start)return l}throw new Error("Stream parser failed to advance stream.")}const noTokens=Object.create(null),typeArray=[NodeType.none],nodeSet=new NodeSet(typeArray),warned=[],byTag=Object.create(null),defaultTable=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])defaultTable[n]=createTokenType(noTokens,e);class TokenTable{constructor(e){this.extra=e,this.table=Object.assign(Object.create(null),defaultTable)}resolve(e){return e?this.table[e]||(this.table[e]=createTokenType(this.extra,e)):0}}const defaultTokenTable=new TokenTable(noTokens);function warnForPart(n,e){warned.indexOf(n)>-1||(warned.push(n),console.warn(e))}function createTokenType(n,e){let o=[];for(let f of e.split(" ")){let p=[];for(let T of f.split(".")){let E=n[T]||tags[T];E?typeof E=="function"?p.length?p=p.map(E):warnForPart(T,`Modifier ${T} used at start of tag`):p.length?warnForPart(T,`Tag ${T} used as modifier`):p=Array.isArray(E)?E:[E]:warnForPart(T,`Unknown highlighting tag ${T}`)}for(let T of p)o.push(T)}if(!o.length)return 0;let a=e.replace(/ /g,"_"),l=a+" "+o.map(f=>f.id),u=byTag[l];if(u)return u.id;let c=byTag[l]=NodeType.define({id:typeArray.length,name:a,props:[styleTags({[a]:o})]});return typeArray.push(c),c.id}function docID(n,e){let o=NodeType.define({id:typeArray.length,name:"Document",props:[languageDataProp.add(()=>n),indentNodeProp.add(()=>a=>e.getIndent(a))],top:!0});return typeArray.push(o),o}Direction.RTL,Direction.LTR;const toggleComment=n=>{let{state:e}=n,o=e.doc.lineAt(e.selection.main.from),a=getConfig(n.state,o.from);return a.line?toggleLineComment(n):a.block?toggleBlockCommentByLine(n):!1};function command(n,e){return({state:o,dispatch:a})=>{if(o.readOnly)return!1;let l=n(e,o);return l?(a(o.update(l)),!0):!1}}const toggleLineComment=command(changeLineComment,0),toggleBlockComment=command(changeBlockComment,0),toggleBlockCommentByLine=command((n,e)=>changeBlockComment(n,e,selectedLineRanges(e)),0);function getConfig(n,e){let o=n.languageDataAt("commentTokens",e,1);return o.length?o[0]:{}}const SearchMargin=50;function findBlockComment(n,{open:e,close:o},a,l){let u=n.sliceDoc(a-SearchMargin,a),c=n.sliceDoc(l,l+SearchMargin),f=/\s*$/.exec(u)[0].length,p=/^\s*/.exec(c)[0].length,T=u.length-f;if(u.slice(T-e.length,T)==e&&c.slice(p,p+o.length)==o)return{open:{pos:a-f,margin:f&&1},close:{pos:l+p,margin:p&&1}};let E,b;l-a<=2*SearchMargin?E=b=n.sliceDoc(a,l):(E=n.sliceDoc(a,a+SearchMargin),b=n.sliceDoc(l-SearchMargin,l));let m=/^\s*/.exec(E)[0].length,y=/\s*$/.exec(b)[0].length,S=b.length-y-o.length;return E.slice(m,m+e.length)==e&&b.slice(S,S+o.length)==o?{open:{pos:a+m+e.length,margin:/\s/.test(E.charAt(m+e.length))?1:0},close:{pos:l-y-o.length,margin:/\s/.test(b.charAt(S-1))?1:0}}:null}function selectedLineRanges(n){let e=[];for(let o of n.selection.ranges){let a=n.doc.lineAt(o.from),l=o.to<=a.to?a:n.doc.lineAt(o.to);l.from>a.from&&l.from==o.to&&(l=o.to==a.to+1?a:n.doc.lineAt(o.to-1));let u=e.length-1;u>=0&&e[u].to>a.from?e[u].to=l.to:e.push({from:a.from+/^\s*/.exec(a.text)[0].length,to:l.to})}return e}function changeBlockComment(n,e,o=e.selection.ranges){let a=o.map(u=>getConfig(e,u.from).block);if(!a.every(u=>u))return null;let l=o.map((u,c)=>findBlockComment(e,a[c],u.from,u.to));if(n!=2&&!l.every(u=>u))return{changes:e.changes(o.map((u,c)=>l[c]?[]:[{from:u.from,insert:a[c].open+" "},{from:u.to,insert:" "+a[c].close}]))};if(n!=1&&l.some(u=>u)){let u=[];for(let c=0,f;c<l.length;c++)if(f=l[c]){let p=a[c],{open:T,close:E}=f;u.push({from:T.pos-p.open.length,to:T.pos+T.margin},{from:E.pos-E.margin,to:E.pos+p.close.length})}return{changes:u}}return null}function changeLineComment(n,e,o=e.selection.ranges){let a=[],l=-1;for(let{from:u,to:c}of o){let f=a.length,p=1e9,T=getConfig(e,u).line;if(T){for(let E=u;E<=c;){let b=e.doc.lineAt(E);if(b.from>l&&(u==c||c>b.from)){l=b.from;let m=/^\s*/.exec(b.text)[0].length,y=m==b.length,S=b.text.slice(m,m+T.length)==T?m:-1;m<b.text.length&&m<p&&(p=m),a.push({line:b,comment:S,token:T,indent:m,empty:y,single:!1})}E=b.to+1}if(p<1e9)for(let E=f;E<a.length;E++)a[E].indent<a[E].line.text.length&&(a[E].indent=p);a.length==f+1&&(a[f].single=!0)}}if(n!=2&&a.some(u=>u.comment<0&&(!u.empty||u.single))){let u=[];for(let{line:f,token:p,indent:T,empty:E,single:b}of a)(b||!E)&&u.push({from:f.from+T,insert:p+" "});let c=e.changes(u);return{changes:c,selection:e.selection.map(c,1)}}else if(n!=1&&a.some(u=>u.comment>=0)){let u=[];for(let{line:c,comment:f,token:p}of a)if(f>=0){let T=c.from+f,E=T+p.length;c.text[E-c.from]==" "&&E++,u.push({from:T,to:E})}return{changes:u}}return null}const fromHistory=Annotation.define(),isolateHistory=Annotation.define(),invertedEffects=Facet.define(),historyConfig=Facet.define({combine(n){return combineConfig(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,o)=>o},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,o)=>(a,l)=>e(a,l)||o(a,l)})}}),historyField_=StateField.define({create(){return HistoryState.empty},update(n,e){let o=e.state.facet(historyConfig),a=e.annotation(fromHistory);if(a){let p=HistEvent.fromTransaction(e,a.selection),T=a.side,E=T==0?n.undone:n.done;return p?E=updateBranch(E,E.length,o.minDepth,p):E=addSelection(E,e.startState.selection),new HistoryState(T==0?a.rest:E,T==0?E:a.rest)}let l=e.annotation(isolateHistory);if((l=="full"||l=="before")&&(n=n.isolate()),e.annotation(Transaction.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let u=HistEvent.fromTransaction(e),c=e.annotation(Transaction.time),f=e.annotation(Transaction.userEvent);return u?n=n.addChanges(u,c,f,o,e):e.selection&&(n=n.addSelection(e.startState.selection,c,f,o.newGroupDelay)),(l=="full"||l=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new HistoryState(n.done.map(HistEvent.fromJSON),n.undone.map(HistEvent.fromJSON))}});function history(n={}){return[historyField_,historyConfig.of(n),EditorView.domEventHandlers({beforeinput(e,o){let a=e.inputType=="historyUndo"?undo:e.inputType=="historyRedo"?redo:null;return a?(e.preventDefault(),a(o)):!1}})]}function cmd(n,e){return function({state:o,dispatch:a}){if(!e&&o.readOnly)return!1;let l=o.field(historyField_,!1);if(!l)return!1;let u=l.pop(n,o,e);return u?(a(u),!0):!1}}const undo=cmd(0,!1),redo=cmd(1,!1),undoSelection=cmd(0,!0),redoSelection=cmd(1,!0);class HistEvent{constructor(e,o,a,l,u){this.changes=e,this.effects=o,this.mapped=a,this.startSelection=l,this.selectionsAfter=u}setSelAfter(e){return new HistEvent(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,o,a;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(o=this.mapped)===null||o===void 0?void 0:o.toJSON(),startSelection:(a=this.startSelection)===null||a===void 0?void 0:a.toJSON(),selectionsAfter:this.selectionsAfter.map(l=>l.toJSON())}}static fromJSON(e){return new HistEvent(e.changes&&ChangeSet.fromJSON(e.changes),[],e.mapped&&ChangeDesc.fromJSON(e.mapped),e.startSelection&&EditorSelection.fromJSON(e.startSelection),e.selectionsAfter.map(EditorSelection.fromJSON))}static fromTransaction(e,o){let a=none$1;for(let l of e.startState.facet(invertedEffects)){let u=l(e);u.length&&(a=a.concat(u))}return!a.length&&e.changes.empty?null:new HistEvent(e.changes.invert(e.startState.doc),a,void 0,o||e.startState.selection,none$1)}static selection(e){return new HistEvent(void 0,none$1,void 0,void 0,e)}}function updateBranch(n,e,o,a){let l=e+1>o+20?e-o-1:0,u=n.slice(l,e);return u.push(a),u}function isAdjacent(n,e){let o=[],a=!1;return n.iterChangedRanges((l,u)=>o.push(l,u)),e.iterChangedRanges((l,u,c,f)=>{for(let p=0;p<o.length;){let T=o[p++],E=o[p++];f>=T&&c<=E&&(a=!0)}}),a}function eqSelectionShape(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((o,a)=>o.empty!=e.ranges[a].empty).length===0}function conc(n,e){return n.length?e.length?n.concat(e):n:e}const none$1=[],MaxSelectionsPerEvent=200;function addSelection(n,e){if(n.length){let o=n[n.length-1],a=o.selectionsAfter.slice(Math.max(0,o.selectionsAfter.length-MaxSelectionsPerEvent));return a.length&&a[a.length-1].eq(e)?n:(a.push(e),updateBranch(n,n.length-1,1e9,o.setSelAfter(a)))}else return[HistEvent.selection([e])]}function popSelection(n){let e=n[n.length-1],o=n.slice();return o[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),o}function addMappingToBranch(n,e){if(!n.length)return n;let o=n.length,a=none$1;for(;o;){let l=mapEvent(n[o-1],e,a);if(l.changes&&!l.changes.empty||l.effects.length){let u=n.slice(0,o);return u[o-1]=l,u}else e=l.mapped,o--,a=l.selectionsAfter}return a.length?[HistEvent.selection(a)]:none$1}function mapEvent(n,e,o){let a=conc(n.selectionsAfter.length?n.selectionsAfter.map(f=>f.map(e)):none$1,o);if(!n.changes)return HistEvent.selection(a);let l=n.changes.map(e),u=e.mapDesc(n.changes,!0),c=n.mapped?n.mapped.composeDesc(u):u;return new HistEvent(l,StateEffect.mapEffects(n.effects,e),c,n.startSelection.map(u),a)}const joinableUserEvent=/^(input\.type|delete)($|\.)/;class HistoryState{constructor(e,o,a=0,l=void 0){this.done=e,this.undone=o,this.prevTime=a,this.prevUserEvent=l}isolate(){return this.prevTime?new HistoryState(this.done,this.undone):this}addChanges(e,o,a,l,u){let c=this.done,f=c[c.length-1];return f&&f.changes&&!f.changes.empty&&e.changes&&(!a||joinableUserEvent.test(a))&&(!f.selectionsAfter.length&&o-this.prevTime<l.newGroupDelay&&l.joinToEvent(u,isAdjacent(f.changes,e.changes))||a=="input.type.compose")?c=updateBranch(c,c.length-1,l.minDepth,new HistEvent(e.changes.compose(f.changes),conc(StateEffect.mapEffects(e.effects,f.changes),f.effects),f.mapped,f.startSelection,none$1)):c=updateBranch(c,c.length,l.minDepth,e),new HistoryState(c,none$1,o,a)}addSelection(e,o,a,l){let u=this.done.length?this.done[this.done.length-1].selectionsAfter:none$1;return u.length>0&&o-this.prevTime<l&&a==this.prevUserEvent&&a&&/^select($|\.)/.test(a)&&eqSelectionShape(u[u.length-1],e)?this:new HistoryState(addSelection(this.done,e),this.undone,o,a)}addMapping(e){return new HistoryState(addMappingToBranch(this.done,e),addMappingToBranch(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,o,a){let l=e==0?this.done:this.undone;if(l.length==0)return null;let u=l[l.length-1],c=u.selectionsAfter[0]||o.selection;if(a&&u.selectionsAfter.length)return o.update({selection:u.selectionsAfter[u.selectionsAfter.length-1],annotations:fromHistory.of({side:e,rest:popSelection(l),selection:c}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(u.changes){let f=l.length==1?none$1:l.slice(0,l.length-1);return u.mapped&&(f=addMappingToBranch(f,u.mapped)),o.update({changes:u.changes,selection:u.startSelection,effects:u.effects,annotations:fromHistory.of({side:e,rest:f,selection:c}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}HistoryState.empty=new HistoryState(none$1,none$1);const historyKeymap=[{key:"Mod-z",run:undo,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:redo,preventDefault:!0},{linux:"Ctrl-Shift-z",run:redo,preventDefault:!0},{key:"Mod-u",run:undoSelection,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:redoSelection,preventDefault:!0}];function updateSel(n,e){return EditorSelection.create(n.ranges.map(e),n.mainIndex)}function setSel(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function moveSel({state:n,dispatch:e},o){let a=updateSel(n.selection,o);return a.eq(n.selection,!0)?!1:(e(setSel(n,a)),!0)}function rangeEnd(n,e){return EditorSelection.cursor(e?n.to:n.from)}function cursorByChar(n,e){return moveSel(n,o=>o.empty?n.moveByChar(o,e):rangeEnd(o,e))}function ltrAtCursor(n){return n.textDirectionAt(n.state.selection.main.head)==Direction.LTR}const cursorCharLeft=n=>cursorByChar(n,!ltrAtCursor(n)),cursorCharRight=n=>cursorByChar(n,ltrAtCursor(n));function cursorByGroup(n,e){return moveSel(n,o=>o.empty?n.moveByGroup(o,e):rangeEnd(o,e))}const cursorGroupLeft=n=>cursorByGroup(n,!ltrAtCursor(n)),cursorGroupRight=n=>cursorByGroup(n,ltrAtCursor(n));function interestingNode(n,e,o){if(e.type.prop(o))return!0;let a=e.to-e.from;return a&&(a>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function moveBySyntax(n,e,o){let a=syntaxTree(n).resolveInner(e.head),l=o?NodeProp.closedBy:NodeProp.openedBy;for(let p=e.head;;){let T=o?a.childAfter(p):a.childBefore(p);if(!T)break;interestingNode(n,T,l)?a=T:p=o?T.to:T.from}let u=a.type.prop(l),c,f;return u&&(c=o?matchBrackets(n,a.from,1):matchBrackets(n,a.to,-1))&&c.matched?f=o?c.end.to:c.end.from:f=o?a.to:a.from,EditorSelection.cursor(f,o?-1:1)}const cursorSyntaxLeft=n=>moveSel(n,e=>moveBySyntax(n.state,e,!ltrAtCursor(n))),cursorSyntaxRight=n=>moveSel(n,e=>moveBySyntax(n.state,e,ltrAtCursor(n)));function cursorByLine(n,e){return moveSel(n,o=>{if(!o.empty)return rangeEnd(o,e);let a=n.moveVertically(o,e);return a.head!=o.head?a:n.moveToLineBoundary(o,e)})}const cursorLineUp=n=>cursorByLine(n,!1),cursorLineDown=n=>cursorByLine(n,!0);function pageInfo(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,o=0,a=0,l;if(e){for(let u of n.state.facet(EditorView.scrollMargins)){let c=u(n);c!=null&&c.top&&(o=Math.max(c==null?void 0:c.top,o)),c!=null&&c.bottom&&(a=Math.max(c==null?void 0:c.bottom,a))}l=n.scrollDOM.clientHeight-o-a}else l=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:o,marginBottom:a,selfScroll:e,height:Math.max(n.defaultLineHeight,l-5)}}function cursorByPage(n,e){let o=pageInfo(n),{state:a}=n,l=updateSel(a.selection,c=>c.empty?n.moveVertically(c,e,o.height):rangeEnd(c,e));if(l.eq(a.selection))return!1;let u;if(o.selfScroll){let c=n.coordsAtPos(a.selection.main.head),f=n.scrollDOM.getBoundingClientRect(),p=f.top+o.marginTop,T=f.bottom-o.marginBottom;c&&c.top>p&&c.bottom<T&&(u=EditorView.scrollIntoView(l.main.head,{y:"start",yMargin:c.top-p}))}return n.dispatch(setSel(a,l),{effects:u}),!0}const cursorPageUp=n=>cursorByPage(n,!1),cursorPageDown=n=>cursorByPage(n,!0);function moveByLineBoundary(n,e,o){let a=n.lineBlockAt(e.head),l=n.moveToLineBoundary(e,o);if(l.head==e.head&&l.head!=(o?a.to:a.from)&&(l=n.moveToLineBoundary(e,o,!1)),!o&&l.head==a.from&&a.length){let u=/^\s*/.exec(n.state.sliceDoc(a.from,Math.min(a.from+100,a.to)))[0].length;u&&e.head!=a.from+u&&(l=EditorSelection.cursor(a.from+u))}return l}const cursorLineBoundaryForward=n=>moveSel(n,e=>moveByLineBoundary(n,e,!0)),cursorLineBoundaryBackward=n=>moveSel(n,e=>moveByLineBoundary(n,e,!1)),cursorLineBoundaryLeft=n=>moveSel(n,e=>moveByLineBoundary(n,e,!ltrAtCursor(n))),cursorLineBoundaryRight=n=>moveSel(n,e=>moveByLineBoundary(n,e,ltrAtCursor(n))),cursorLineStart=n=>moveSel(n,e=>EditorSelection.cursor(n.lineBlockAt(e.head).from,1)),cursorLineEnd=n=>moveSel(n,e=>EditorSelection.cursor(n.lineBlockAt(e.head).to,-1));function toMatchingBracket(n,e,o){let a=!1,l=updateSel(n.selection,u=>{let c=matchBrackets(n,u.head,-1)||matchBrackets(n,u.head,1)||u.head>0&&matchBrackets(n,u.head-1,1)||u.head<n.doc.length&&matchBrackets(n,u.head+1,-1);if(!c||!c.end)return u;a=!0;let f=c.start.from==u.head?c.end.to:c.end.from;return EditorSelection.cursor(f)});return a?(e(setSel(n,l)),!0):!1}const cursorMatchingBracket=({state:n,dispatch:e})=>toMatchingBracket(n,e);function extendSel(n,e){let o=updateSel(n.state.selection,a=>{let l=e(a);return EditorSelection.range(a.anchor,l.head,l.goalColumn,l.bidiLevel||void 0)});return o.eq(n.state.selection)?!1:(n.dispatch(setSel(n.state,o)),!0)}function selectByChar(n,e){return extendSel(n,o=>n.moveByChar(o,e))}const selectCharLeft=n=>selectByChar(n,!ltrAtCursor(n)),selectCharRight=n=>selectByChar(n,ltrAtCursor(n));function selectByGroup(n,e){return extendSel(n,o=>n.moveByGroup(o,e))}const selectGroupLeft=n=>selectByGroup(n,!ltrAtCursor(n)),selectGroupRight=n=>selectByGroup(n,ltrAtCursor(n)),selectSyntaxLeft=n=>extendSel(n,e=>moveBySyntax(n.state,e,!ltrAtCursor(n))),selectSyntaxRight=n=>extendSel(n,e=>moveBySyntax(n.state,e,ltrAtCursor(n)));function selectByLine(n,e){return extendSel(n,o=>n.moveVertically(o,e))}const selectLineUp=n=>selectByLine(n,!1),selectLineDown=n=>selectByLine(n,!0);function selectByPage(n,e){return extendSel(n,o=>n.moveVertically(o,e,pageInfo(n).height))}const selectPageUp=n=>selectByPage(n,!1),selectPageDown=n=>selectByPage(n,!0),selectLineBoundaryForward=n=>extendSel(n,e=>moveByLineBoundary(n,e,!0)),selectLineBoundaryBackward=n=>extendSel(n,e=>moveByLineBoundary(n,e,!1)),selectLineBoundaryLeft=n=>extendSel(n,e=>moveByLineBoundary(n,e,!ltrAtCursor(n))),selectLineBoundaryRight=n=>extendSel(n,e=>moveByLineBoundary(n,e,ltrAtCursor(n))),selectLineStart=n=>extendSel(n,e=>EditorSelection.cursor(n.lineBlockAt(e.head).from)),selectLineEnd=n=>extendSel(n,e=>EditorSelection.cursor(n.lineBlockAt(e.head).to)),cursorDocStart=({state:n,dispatch:e})=>(e(setSel(n,{anchor:0})),!0),cursorDocEnd=({state:n,dispatch:e})=>(e(setSel(n,{anchor:n.doc.length})),!0),selectDocStart=({state:n,dispatch:e})=>(e(setSel(n,{anchor:n.selection.main.anchor,head:0})),!0),selectDocEnd=({state:n,dispatch:e})=>(e(setSel(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),selectAll=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),selectLine=({state:n,dispatch:e})=>{let o=selectedLineBlocks(n).map(({from:a,to:l})=>EditorSelection.range(a,Math.min(l+1,n.doc.length)));return e(n.update({selection:EditorSelection.create(o),userEvent:"select"})),!0},selectParentSyntax=({state:n,dispatch:e})=>{let o=updateSel(n.selection,a=>{let l=syntaxTree(n),u=l.resolveStack(a.from,1);if(a.empty){let c=l.resolveStack(a.from,-1);c.node.from>=u.node.from&&c.node.to<=u.node.to&&(u=c)}for(let c=u;c;c=c.next){let{node:f}=c;if((f.from<a.from&&f.to>=a.to||f.to>a.to&&f.from<=a.from)&&c.next)return EditorSelection.range(f.to,f.from)}return a});return o.eq(n.selection)?!1:(e(setSel(n,o)),!0)},simplifySelection=({state:n,dispatch:e})=>{let o=n.selection,a=null;return o.ranges.length>1?a=EditorSelection.create([o.main]):o.main.empty||(a=EditorSelection.create([EditorSelection.cursor(o.main.head)])),a?(e(setSel(n,a)),!0):!1};function deleteBy(n,e){if(n.state.readOnly)return!1;let o="delete.selection",{state:a}=n,l=a.changeByRange(u=>{let{from:c,to:f}=u;if(c==f){let p=e(u);p<c?(o="delete.backward",p=skipAtomic(n,p,!1)):p>c&&(o="delete.forward",p=skipAtomic(n,p,!0)),c=Math.min(c,p),f=Math.max(f,p)}else c=skipAtomic(n,c,!1),f=skipAtomic(n,f,!0);return c==f?{range:u}:{changes:{from:c,to:f},range:EditorSelection.cursor(c,c<u.head?-1:1)}});return l.changes.empty?!1:(n.dispatch(a.update(l,{scrollIntoView:!0,userEvent:o,effects:o=="delete.selection"?EditorView.announce.of(a.phrase("Selection deleted")):void 0})),!0)}function skipAtomic(n,e,o){if(n instanceof EditorView)for(let a of n.state.facet(EditorView.atomicRanges).map(l=>l(n)))a.between(e,e,(l,u)=>{l<e&&u>e&&(e=o?u:l)});return e}const deleteByChar=(n,e,o)=>deleteBy(n,a=>{let l=a.from,{state:u}=n,c=u.doc.lineAt(l),f,p;if(o&&!e&&l>c.from&&l<c.from+200&&!/[^ \t]/.test(f=c.text.slice(0,l-c.from))){if(f[f.length-1]=="	")return l-1;let T=countColumn(f,u.tabSize),E=T%getIndentUnit(u)||getIndentUnit(u);for(let b=0;b<E&&f[f.length-1-b]==" ";b++)l--;p=l}else p=findClusterBreak(c.text,l-c.from,e,e)+c.from,p==l&&c.number!=(e?u.doc.lines:1)?p+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(c.text.slice(p-c.from,l-c.from))&&(p=findClusterBreak(c.text,p-c.from,!1,!1)+c.from);return p}),deleteCharBackward=n=>deleteByChar(n,!1,!0),deleteCharForward=n=>deleteByChar(n,!0,!1),deleteByGroup=(n,e)=>deleteBy(n,o=>{let a=o.head,{state:l}=n,u=l.doc.lineAt(a),c=l.charCategorizer(a);for(let f=null;;){if(a==(e?u.to:u.from)){a==o.head&&u.number!=(e?l.doc.lines:1)&&(a+=e?1:-1);break}let p=findClusterBreak(u.text,a-u.from,e)+u.from,T=u.text.slice(Math.min(a,p)-u.from,Math.max(a,p)-u.from),E=c(T);if(f!=null&&E!=f)break;(T!=" "||a!=o.head)&&(f=E),a=p}return a}),deleteGroupBackward=n=>deleteByGroup(n,!1),deleteGroupForward=n=>deleteByGroup(n,!0),deleteToLineEnd=n=>deleteBy(n,e=>{let o=n.lineBlockAt(e.head).to;return e.head<o?o:Math.min(n.state.doc.length,e.head+1)}),deleteLineBoundaryBackward=n=>deleteBy(n,e=>{let o=n.moveToLineBoundary(e,!1).head;return e.head>o?o:Math.max(0,e.head-1)}),deleteLineBoundaryForward=n=>deleteBy(n,e=>{let o=n.moveToLineBoundary(e,!0).head;return e.head<o?o:Math.min(n.state.doc.length,e.head+1)}),splitLine=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let o=n.changeByRange(a=>({changes:{from:a.from,to:a.to,insert:Text.of(["",""])},range:EditorSelection.cursor(a.from)}));return e(n.update(o,{scrollIntoView:!0,userEvent:"input"})),!0},transposeChars=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let o=n.changeByRange(a=>{if(!a.empty||a.from==0||a.from==n.doc.length)return{range:a};let l=a.from,u=n.doc.lineAt(l),c=l==u.from?l-1:findClusterBreak(u.text,l-u.from,!1)+u.from,f=l==u.to?l+1:findClusterBreak(u.text,l-u.from,!0)+u.from;return{changes:{from:c,to:f,insert:n.doc.slice(l,f).append(n.doc.slice(c,l))},range:EditorSelection.cursor(f)}});return o.changes.empty?!1:(e(n.update(o,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function selectedLineBlocks(n){let e=[],o=-1;for(let a of n.selection.ranges){let l=n.doc.lineAt(a.from),u=n.doc.lineAt(a.to);if(!a.empty&&a.to==u.from&&(u=n.doc.lineAt(a.to-1)),o>=l.number){let c=e[e.length-1];c.to=u.to,c.ranges.push(a)}else e.push({from:l.from,to:u.to,ranges:[a]});o=u.number+1}return e}function moveLine(n,e,o){if(n.readOnly)return!1;let a=[],l=[];for(let u of selectedLineBlocks(n)){if(o?u.to==n.doc.length:u.from==0)continue;let c=n.doc.lineAt(o?u.to+1:u.from-1),f=c.length+1;if(o){a.push({from:u.to,to:c.to},{from:u.from,insert:c.text+n.lineBreak});for(let p of u.ranges)l.push(EditorSelection.range(Math.min(n.doc.length,p.anchor+f),Math.min(n.doc.length,p.head+f)))}else{a.push({from:c.from,to:u.from},{from:u.to,insert:n.lineBreak+c.text});for(let p of u.ranges)l.push(EditorSelection.range(p.anchor-f,p.head-f))}}return a.length?(e(n.update({changes:a,scrollIntoView:!0,selection:EditorSelection.create(l,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const moveLineUp=({state:n,dispatch:e})=>moveLine(n,e,!1),moveLineDown=({state:n,dispatch:e})=>moveLine(n,e,!0);function copyLine(n,e,o){if(n.readOnly)return!1;let a=[];for(let l of selectedLineBlocks(n))o?a.push({from:l.from,insert:n.doc.slice(l.from,l.to)+n.lineBreak}):a.push({from:l.to,insert:n.lineBreak+n.doc.slice(l.from,l.to)});return e(n.update({changes:a,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const copyLineUp=({state:n,dispatch:e})=>copyLine(n,e,!1),copyLineDown=({state:n,dispatch:e})=>copyLine(n,e,!0),deleteLine=n=>{if(n.state.readOnly)return!1;let{state:e}=n,o=e.changes(selectedLineBlocks(e).map(({from:l,to:u})=>(l>0?l--:u<e.doc.length&&u++,{from:l,to:u}))),a=updateSel(e.selection,l=>{let u;if(n.lineWrapping){let c=n.lineBlockAt(l.head),f=n.coordsAtPos(l.head,l.assoc||1);f&&(u=c.bottom+n.documentTop-f.bottom+n.defaultLineHeight/2)}return n.moveVertically(l,!0,u)}).map(o);return n.dispatch({changes:o,selection:a,scrollIntoView:!0,userEvent:"delete.line"}),!0};function isBetweenBrackets(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let o=syntaxTree(n).resolveInner(e),a=o.childBefore(e),l=o.childAfter(e),u;return a&&l&&a.to<=e&&l.from>=e&&(u=a.type.prop(NodeProp.closedBy))&&u.indexOf(l.name)>-1&&n.doc.lineAt(a.to).from==n.doc.lineAt(l.from).from&&!/\S/.test(n.sliceDoc(a.to,l.from))?{from:a.to,to:l.from}:null}const insertNewlineAndIndent=newlineAndIndent(!1),insertBlankLine=newlineAndIndent(!0);function newlineAndIndent(n){return({state:e,dispatch:o})=>{if(e.readOnly)return!1;let a=e.changeByRange(l=>{let{from:u,to:c}=l,f=e.doc.lineAt(u),p=!n&&u==c&&isBetweenBrackets(e,u);n&&(u=c=(c<=f.to?f:e.doc.lineAt(c)).to);let T=new IndentContext(e,{simulateBreak:u,simulateDoubleBreak:!!p}),E=getIndentation(T,u);for(E==null&&(E=countColumn(/^\s*/.exec(e.doc.lineAt(u).text)[0],e.tabSize));c<f.to&&/\s/.test(f.text[c-f.from]);)c++;p?{from:u,to:c}=p:u>f.from&&u<f.from+100&&!/\S/.test(f.text.slice(0,u))&&(u=f.from);let b=["",indentString$1(e,E)];return p&&b.push(indentString$1(e,T.lineIndent(f.from,-1))),{changes:{from:u,to:c,insert:Text.of(b)},range:EditorSelection.cursor(u+1+b[1].length)}});return o(e.update(a,{scrollIntoView:!0,userEvent:"input"})),!0}}function changeBySelectedLine(n,e){let o=-1;return n.changeByRange(a=>{let l=[];for(let c=a.from;c<=a.to;){let f=n.doc.lineAt(c);f.number>o&&(a.empty||a.to>f.from)&&(e(f,l,a),o=f.number),c=f.to+1}let u=n.changes(l);return{changes:l,range:EditorSelection.range(u.mapPos(a.anchor,1),u.mapPos(a.head,1))}})}const indentSelection=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let o=Object.create(null),a=new IndentContext(n,{overrideIndentation:u=>{let c=o[u];return c??-1}}),l=changeBySelectedLine(n,(u,c,f)=>{let p=getIndentation(a,u.from);if(p==null)return;/\S/.test(u.text)||(p=0);let T=/^\s*/.exec(u.text)[0],E=indentString$1(n,p);(T!=E||f.from<u.from+T.length)&&(o[u.from]=p,c.push({from:u.from,to:u.from+T.length,insert:E}))});return l.changes.empty||e(n.update(l,{userEvent:"indent"})),!0},indentMore=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(changeBySelectedLine(n,(o,a)=>{a.push({from:o.from,insert:n.facet(indentUnit)})}),{userEvent:"input.indent"})),!0),indentLess=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(changeBySelectedLine(n,(o,a)=>{let l=/^\s*/.exec(o.text)[0];if(!l)return;let u=countColumn(l,n.tabSize),c=0,f=indentString$1(n,Math.max(0,u-getIndentUnit(n)));for(;c<l.length&&c<f.length&&l.charCodeAt(c)==f.charCodeAt(c);)c++;a.push({from:o.from+c,to:o.from+l.length,insert:f.slice(c)})}),{userEvent:"delete.dedent"})),!0),toggleTabFocusMode=n=>(n.setTabFocusMode(),!0),emacsStyleKeymap=[{key:"Ctrl-b",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Ctrl-f",run:cursorCharRight,shift:selectCharRight},{key:"Ctrl-p",run:cursorLineUp,shift:selectLineUp},{key:"Ctrl-n",run:cursorLineDown,shift:selectLineDown},{key:"Ctrl-a",run:cursorLineStart,shift:selectLineStart},{key:"Ctrl-e",run:cursorLineEnd,shift:selectLineEnd},{key:"Ctrl-d",run:deleteCharForward},{key:"Ctrl-h",run:deleteCharBackward},{key:"Ctrl-k",run:deleteToLineEnd},{key:"Ctrl-Alt-h",run:deleteGroupBackward},{key:"Ctrl-o",run:splitLine},{key:"Ctrl-t",run:transposeChars},{key:"Ctrl-v",run:cursorPageDown}],standardKeymap=[{key:"ArrowLeft",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:cursorGroupLeft,shift:selectGroupLeft,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:cursorLineBoundaryLeft,shift:selectLineBoundaryLeft,preventDefault:!0},{key:"ArrowRight",run:cursorCharRight,shift:selectCharRight,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:cursorGroupRight,shift:selectGroupRight,preventDefault:!0},{mac:"Cmd-ArrowRight",run:cursorLineBoundaryRight,shift:selectLineBoundaryRight,preventDefault:!0},{key:"ArrowUp",run:cursorLineUp,shift:selectLineUp,preventDefault:!0},{mac:"Cmd-ArrowUp",run:cursorDocStart,shift:selectDocStart},{mac:"Ctrl-ArrowUp",run:cursorPageUp,shift:selectPageUp},{key:"ArrowDown",run:cursorLineDown,shift:selectLineDown,preventDefault:!0},{mac:"Cmd-ArrowDown",run:cursorDocEnd,shift:selectDocEnd},{mac:"Ctrl-ArrowDown",run:cursorPageDown,shift:selectPageDown},{key:"PageUp",run:cursorPageUp,shift:selectPageUp},{key:"PageDown",run:cursorPageDown,shift:selectPageDown},{key:"Home",run:cursorLineBoundaryBackward,shift:selectLineBoundaryBackward,preventDefault:!0},{key:"Mod-Home",run:cursorDocStart,shift:selectDocStart},{key:"End",run:cursorLineBoundaryForward,shift:selectLineBoundaryForward,preventDefault:!0},{key:"Mod-End",run:cursorDocEnd,shift:selectDocEnd},{key:"Enter",run:insertNewlineAndIndent,shift:insertNewlineAndIndent},{key:"Mod-a",run:selectAll},{key:"Backspace",run:deleteCharBackward,shift:deleteCharBackward},{key:"Delete",run:deleteCharForward},{key:"Mod-Backspace",mac:"Alt-Backspace",run:deleteGroupBackward},{key:"Mod-Delete",mac:"Alt-Delete",run:deleteGroupForward},{mac:"Mod-Backspace",run:deleteLineBoundaryBackward},{mac:"Mod-Delete",run:deleteLineBoundaryForward}].concat(emacsStyleKeymap.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),defaultKeymap=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:cursorSyntaxLeft,shift:selectSyntaxLeft},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:cursorSyntaxRight,shift:selectSyntaxRight},{key:"Alt-ArrowUp",run:moveLineUp},{key:"Shift-Alt-ArrowUp",run:copyLineUp},{key:"Alt-ArrowDown",run:moveLineDown},{key:"Shift-Alt-ArrowDown",run:copyLineDown},{key:"Escape",run:simplifySelection},{key:"Mod-Enter",run:insertBlankLine},{key:"Alt-l",mac:"Ctrl-l",run:selectLine},{key:"Mod-i",run:selectParentSyntax,preventDefault:!0},{key:"Mod-[",run:indentLess},{key:"Mod-]",run:indentMore},{key:"Mod-Alt-\\",run:indentSelection},{key:"Shift-Mod-k",run:deleteLine},{key:"Shift-Mod-\\",run:cursorMatchingBracket},{key:"Mod-/",run:toggleComment},{key:"Alt-A",run:toggleBlockComment},{key:"Ctrl-m",mac:"Shift-Alt-m",run:toggleTabFocusMode}].concat(standardKeymap),indentWithTab={key:"Tab",run:indentMore,shift:indentLess},basicNormalize=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class SearchCursor{constructor(e,o,a=0,l=e.length,u,c){this.test=c,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(a,l),this.bufferStart=a,this.normalize=u?f=>u(basicNormalize(f)):basicNormalize,this.query=this.normalize(o)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return codePointAt$1(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let o=fromCodePoint(e),a=this.bufferStart+this.bufferPos;this.bufferPos+=codePointSize(e);let l=this.normalize(o);if(l.length)for(let u=0,c=a;;u++){let f=l.charCodeAt(u),p=this.match(f,c,this.bufferPos+this.bufferStart);if(u==l.length-1){if(p)return this.value=p,this;break}c==a&&u<o.length&&o.charCodeAt(u)==f&&c++}}}match(e,o,a){let l=null;for(let u=0;u<this.matches.length;u+=2){let c=this.matches[u],f=!1;this.query.charCodeAt(c)==e&&(c==this.query.length-1?l={from:this.matches[u+1],to:a}:(this.matches[u]++,f=!0)),f||(this.matches.splice(u,2),u-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?l={from:o,to:a}:this.matches.push(1,o)),l&&this.test&&!this.test(l.from,l.to,this.buffer,this.bufferStart)&&(l=null),l}}typeof Symbol<"u"&&(SearchCursor.prototype[Symbol.iterator]=function(){return this});const empty={from:-1,to:-1,match:/.*/.exec("")},baseFlags="gm"+(/x/.unicode==null?"":"u");class RegExpCursor{constructor(e,o,a,l=0,u=e.length){if(this.text=e,this.to=u,this.curLine="",this.done=!1,this.value=empty,/\\[sWDnr]|\n|\r|\[\^/.test(o))return new MultilineRegExpCursor(e,o,a,l,u);this.re=new RegExp(o,baseFlags+(a!=null&&a.ignoreCase?"i":"")),this.test=a==null?void 0:a.test,this.iter=e.iter();let c=e.lineAt(l);this.curLineStart=c.from,this.matchPos=toCharEnd(e,l),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let o=this.matchPos<=this.to&&this.re.exec(this.curLine);if(o){let a=this.curLineStart+o.index,l=a+o[0].length;if(this.matchPos=toCharEnd(this.text,l+(a==l?1:0)),a==this.curLineStart+this.curLine.length&&this.nextLine(),(a<l||a>this.value.to)&&(!this.test||this.test(a,l,o)))return this.value={from:a,to:l,match:o},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const flattened=new WeakMap;class FlattenedDoc{constructor(e,o){this.from=e,this.text=o}get to(){return this.from+this.text.length}static get(e,o,a){let l=flattened.get(e);if(!l||l.from>=a||l.to<=o){let f=new FlattenedDoc(o,e.sliceString(o,a));return flattened.set(e,f),f}if(l.from==o&&l.to==a)return l;let{text:u,from:c}=l;return c>o&&(u=e.sliceString(o,c)+u,c=o),l.to<a&&(u+=e.sliceString(l.to,a)),flattened.set(e,new FlattenedDoc(c,u)),new FlattenedDoc(o,u.slice(o-c,a-c))}}class MultilineRegExpCursor{constructor(e,o,a,l,u){this.text=e,this.to=u,this.done=!1,this.value=empty,this.matchPos=toCharEnd(e,l),this.re=new RegExp(o,baseFlags+(a!=null&&a.ignoreCase?"i":"")),this.test=a==null?void 0:a.test,this.flat=FlattenedDoc.get(e,l,this.chunkEnd(l+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,o=this.re.exec(this.flat.text);if(o&&!o[0]&&o.index==e&&(this.re.lastIndex=e+1,o=this.re.exec(this.flat.text)),o){let a=this.flat.from+o.index,l=a+o[0].length;if((this.flat.to>=this.to||o.index+o[0].length<=this.flat.text.length-10)&&(!this.test||this.test(a,l,o)))return this.value={from:a,to:l,match:o},this.matchPos=toCharEnd(this.text,l+(a==l?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=FlattenedDoc.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(RegExpCursor.prototype[Symbol.iterator]=MultilineRegExpCursor.prototype[Symbol.iterator]=function(){return this});function validRegExp(n){try{return new RegExp(n,baseFlags),!0}catch{return!1}}function toCharEnd(n,e){if(e>=n.length)return e;let o=n.lineAt(e),a;for(;e<o.to&&(a=o.text.charCodeAt(e-o.from))>=56320&&a<57344;)e++;return e}function createLineDialog(n){let e=String(n.state.doc.lineAt(n.state.selection.main.head).number),o=crelt("input",{class:"cm-textfield",name:"line",value:e}),a=crelt("form",{class:"cm-gotoLine",onkeydown:u=>{u.keyCode==27?(u.preventDefault(),n.dispatch({effects:dialogEffect.of(!1)}),n.focus()):u.keyCode==13&&(u.preventDefault(),l())},onsubmit:u=>{u.preventDefault(),l()}},crelt("label",n.state.phrase("Go to line"),": ",o)," ",crelt("button",{class:"cm-button",type:"submit"},n.state.phrase("go")),crelt("button",{name:"close",onclick:()=>{n.dispatch({effects:dialogEffect.of(!1)}),n.focus()},"aria-label":n.state.phrase("close"),type:"button"},[""]));function l(){let u=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(o.value);if(!u)return;let{state:c}=n,f=c.doc.lineAt(c.selection.main.head),[,p,T,E,b]=u,m=E?+E.slice(1):0,y=T?+T:f.number;if(T&&b){let A=y/100;p&&(A=A*(p=="-"?-1:1)+f.number/c.doc.lines),y=Math.round(c.doc.lines*A)}else T&&p&&(y=y*(p=="-"?-1:1)+f.number);let S=c.doc.line(Math.max(1,Math.min(c.doc.lines,y))),v=EditorSelection.cursor(S.from+Math.max(0,Math.min(m,S.length)));n.dispatch({effects:[dialogEffect.of(!1),EditorView.scrollIntoView(v.from,{y:"center"})],selection:v}),n.focus()}return{dom:a}}const dialogEffect=StateEffect.define(),dialogField=StateField.define({create(){return!0},update(n,e){for(let o of e.effects)o.is(dialogEffect)&&(n=o.value);return n},provide:n=>showPanel.from(n,e=>e?createLineDialog:null)}),gotoLine=n=>{let e=getPanel(n,createLineDialog);if(!e){let o=[dialogEffect.of(!0)];n.state.field(dialogField,!1)==null&&o.push(StateEffect.appendConfig.of([dialogField,baseTheme$1$1])),n.dispatch({effects:o}),e=getPanel(n,createLineDialog)}return e&&e.dom.querySelector("input").select(),!0},baseTheme$1$1=EditorView.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),defaultHighlightOptions={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},highlightConfig=Facet.define({combine(n){return combineConfig(n,defaultHighlightOptions,{highlightWordAroundCursor:(e,o)=>e||o,minSelectionLength:Math.min,maxMatches:Math.min})}});function highlightSelectionMatches(n){return[defaultTheme,matchHighlighter]}const matchDeco=Decoration.mark({class:"cm-selectionMatch"}),mainMatchDeco=Decoration.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function insideWordBoundaries(n,e,o,a){return(o==0||n(e.sliceDoc(o-1,o))!=CharCategory.Word)&&(a==e.doc.length||n(e.sliceDoc(a,a+1))!=CharCategory.Word)}function insideWord(n,e,o,a){return n(e.sliceDoc(o,o+1))==CharCategory.Word&&n(e.sliceDoc(a-1,a))==CharCategory.Word}const matchHighlighter=ViewPlugin.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(highlightConfig),{state:o}=n,a=o.selection;if(a.ranges.length>1)return Decoration.none;let l=a.main,u,c=null;if(l.empty){if(!e.highlightWordAroundCursor)return Decoration.none;let p=o.wordAt(l.head);if(!p)return Decoration.none;c=o.charCategorizer(l.head),u=o.sliceDoc(p.from,p.to)}else{let p=l.to-l.from;if(p<e.minSelectionLength||p>200)return Decoration.none;if(e.wholeWords){if(u=o.sliceDoc(l.from,l.to),c=o.charCategorizer(l.head),!(insideWordBoundaries(c,o,l.from,l.to)&&insideWord(c,o,l.from,l.to)))return Decoration.none}else if(u=o.sliceDoc(l.from,l.to),!u)return Decoration.none}let f=[];for(let p of n.visibleRanges){let T=new SearchCursor(o.doc,u,p.from,p.to);for(;!T.next().done;){let{from:E,to:b}=T.value;if((!c||insideWordBoundaries(c,o,E,b))&&(l.empty&&E<=l.from&&b>=l.to?f.push(mainMatchDeco.range(E,b)):(E>=l.to||b<=l.from)&&f.push(matchDeco.range(E,b)),f.length>e.maxMatches))return Decoration.none}}return Decoration.set(f)}},{decorations:n=>n.decorations}),defaultTheme=EditorView.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),selectWord=({state:n,dispatch:e})=>{let{selection:o}=n,a=EditorSelection.create(o.ranges.map(l=>n.wordAt(l.head)||EditorSelection.cursor(l.head)),o.mainIndex);return a.eq(o)?!1:(e(n.update({selection:a})),!0)};function findNextOccurrence(n,e){let{main:o,ranges:a}=n.selection,l=n.wordAt(o.head),u=l&&l.from==o.from&&l.to==o.to;for(let c=!1,f=new SearchCursor(n.doc,e,a[a.length-1].to);;)if(f.next(),f.done){if(c)return null;f=new SearchCursor(n.doc,e,0,Math.max(0,a[a.length-1].from-1)),c=!0}else{if(c&&a.some(p=>p.from==f.value.from))continue;if(u){let p=n.wordAt(f.value.from);if(!p||p.from!=f.value.from||p.to!=f.value.to)continue}return f.value}}const selectNextOccurrence=({state:n,dispatch:e})=>{let{ranges:o}=n.selection;if(o.some(u=>u.from===u.to))return selectWord({state:n,dispatch:e});let a=n.sliceDoc(o[0].from,o[0].to);if(n.selection.ranges.some(u=>n.sliceDoc(u.from,u.to)!=a))return!1;let l=findNextOccurrence(n,a);return l?(e(n.update({selection:n.selection.addRange(EditorSelection.range(l.from,l.to),!1),effects:EditorView.scrollIntoView(l.to)})),!0):!1},searchConfigFacet=Facet.define({combine(n){return combineConfig(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new SearchPanel(e),scrollToMatch:e=>EditorView.scrollIntoView(e)})}});class SearchQuery{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||validRegExp(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(o,a)=>a=="n"?`
`:a=="r"?"\r":a=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new RegExpQuery(this):new StringQuery(this)}getCursor(e,o=0,a){let l=e.doc?e:EditorState.create({doc:e});return a==null&&(a=l.doc.length),this.regexp?regexpCursor(this,l,o,a):stringCursor(this,l,o,a)}}class QueryType{constructor(e){this.spec=e}}function stringCursor(n,e,o,a){return new SearchCursor(e.doc,n.unquoted,o,a,n.caseSensitive?void 0:l=>l.toLowerCase(),n.wholeWord?stringWordTest(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function stringWordTest(n,e){return(o,a,l,u)=>((u>o||u+l.length<a)&&(u=Math.max(0,o-2),l=n.sliceString(u,Math.min(n.length,a+2))),(e(charBefore(l,o-u))!=CharCategory.Word||e(charAfter(l,o-u))!=CharCategory.Word)&&(e(charAfter(l,a-u))!=CharCategory.Word||e(charBefore(l,a-u))!=CharCategory.Word))}class StringQuery extends QueryType{constructor(e){super(e)}nextMatch(e,o,a){let l=stringCursor(this.spec,e,a,e.doc.length).nextOverlapping();if(l.done){let u=Math.min(e.doc.length,o+this.spec.unquoted.length);l=stringCursor(this.spec,e,0,u).nextOverlapping()}return l.done||l.value.from==o&&l.value.to==a?null:l.value}prevMatchInRange(e,o,a){for(let l=a;;){let u=Math.max(o,l-1e4-this.spec.unquoted.length),c=stringCursor(this.spec,e,u,l),f=null;for(;!c.nextOverlapping().done;)f=c.value;if(f)return f;if(u==o)return null;l-=1e4}}prevMatch(e,o,a){let l=this.prevMatchInRange(e,0,o);return l||(l=this.prevMatchInRange(e,Math.max(0,a-this.spec.unquoted.length),e.doc.length)),l&&(l.from!=o||l.to!=a)?l:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,o){let a=stringCursor(this.spec,e,0,e.doc.length),l=[];for(;!a.next().done;){if(l.length>=o)return null;l.push(a.value)}return l}highlight(e,o,a,l){let u=stringCursor(this.spec,e,Math.max(0,o-this.spec.unquoted.length),Math.min(a+this.spec.unquoted.length,e.doc.length));for(;!u.next().done;)l(u.value.from,u.value.to)}}function regexpCursor(n,e,o,a){return new RegExpCursor(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?regexpWordTest(e.charCategorizer(e.selection.main.head)):void 0},o,a)}function charBefore(n,e){return n.slice(findClusterBreak(n,e,!1),e)}function charAfter(n,e){return n.slice(e,findClusterBreak(n,e))}function regexpWordTest(n){return(e,o,a)=>!a[0].length||(n(charBefore(a.input,a.index))!=CharCategory.Word||n(charAfter(a.input,a.index))!=CharCategory.Word)&&(n(charAfter(a.input,a.index+a[0].length))!=CharCategory.Word||n(charBefore(a.input,a.index+a[0].length))!=CharCategory.Word)}class RegExpQuery extends QueryType{nextMatch(e,o,a){let l=regexpCursor(this.spec,e,a,e.doc.length).next();return l.done&&(l=regexpCursor(this.spec,e,0,o).next()),l.done?null:l.value}prevMatchInRange(e,o,a){for(let l=1;;l++){let u=Math.max(o,a-l*1e4),c=regexpCursor(this.spec,e,u,a),f=null;for(;!c.next().done;)f=c.value;if(f&&(u==o||f.from>u+10))return f;if(u==o)return null}}prevMatch(e,o,a){return this.prevMatchInRange(e,0,o)||this.prevMatchInRange(e,a,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(o,a)=>{if(a=="&")return e.match[0];if(a=="$")return"$";for(let l=a.length;l>0;l--){let u=+a.slice(0,l);if(u>0&&u<e.match.length)return e.match[u]+a.slice(l)}return o})}matchAll(e,o){let a=regexpCursor(this.spec,e,0,e.doc.length),l=[];for(;!a.next().done;){if(l.length>=o)return null;l.push(a.value)}return l}highlight(e,o,a,l){let u=regexpCursor(this.spec,e,Math.max(0,o-250),Math.min(a+250,e.doc.length));for(;!u.next().done;)l(u.value.from,u.value.to)}}const setSearchQuery=StateEffect.define(),togglePanel$1=StateEffect.define(),searchState=StateField.define({create(n){return new SearchState(defaultQuery(n).create(),null)},update(n,e){for(let o of e.effects)o.is(setSearchQuery)?n=new SearchState(o.value.create(),n.panel):o.is(togglePanel$1)&&(n=new SearchState(n.query,o.value?createSearchPanel:null));return n},provide:n=>showPanel.from(n,e=>e.panel)});class SearchState{constructor(e,o){this.query=e,this.panel=o}}const matchMark=Decoration.mark({class:"cm-searchMatch"}),selectedMatchMark=Decoration.mark({class:"cm-searchMatch cm-searchMatch-selected"}),searchHighlighter=ViewPlugin.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(searchState))}update(n){let e=n.state.field(searchState);(e!=n.startState.field(searchState)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return Decoration.none;let{view:o}=this,a=new RangeSetBuilder;for(let l=0,u=o.visibleRanges,c=u.length;l<c;l++){let{from:f,to:p}=u[l];for(;l<c-1&&p>u[l+1].from-2*250;)p=u[++l].to;n.highlight(o.state,f,p,(T,E)=>{let b=o.state.selection.ranges.some(m=>m.from==T&&m.to==E);a.add(T,E,b?selectedMatchMark:matchMark)})}return a.finish()}},{decorations:n=>n.decorations});function searchCommand(n){return e=>{let o=e.state.field(searchState,!1);return o&&o.query.spec.valid?n(e,o):openSearchPanel(e)}}const findNext=searchCommand((n,{query:e})=>{let{to:o}=n.state.selection.main,a=e.nextMatch(n.state,o,o);if(!a)return!1;let l=EditorSelection.single(a.from,a.to),u=n.state.facet(searchConfigFacet);return n.dispatch({selection:l,effects:[announceMatch(n,a),u.scrollToMatch(l.main,n)],userEvent:"select.search"}),selectSearchInput(n),!0}),findPrevious=searchCommand((n,{query:e})=>{let{state:o}=n,{from:a}=o.selection.main,l=e.prevMatch(o,a,a);if(!l)return!1;let u=EditorSelection.single(l.from,l.to),c=n.state.facet(searchConfigFacet);return n.dispatch({selection:u,effects:[announceMatch(n,l),c.scrollToMatch(u.main,n)],userEvent:"select.search"}),selectSearchInput(n),!0}),selectMatches=searchCommand((n,{query:e})=>{let o=e.matchAll(n.state,1e3);return!o||!o.length?!1:(n.dispatch({selection:EditorSelection.create(o.map(a=>EditorSelection.range(a.from,a.to))),userEvent:"select.search.matches"}),!0)}),selectSelectionMatches=({state:n,dispatch:e})=>{let o=n.selection;if(o.ranges.length>1||o.main.empty)return!1;let{from:a,to:l}=o.main,u=[],c=0;for(let f=new SearchCursor(n.doc,n.sliceDoc(a,l));!f.next().done;){if(u.length>1e3)return!1;f.value.from==a&&(c=u.length),u.push(EditorSelection.range(f.value.from,f.value.to))}return e(n.update({selection:EditorSelection.create(u,c),userEvent:"select.search.matches"})),!0},replaceNext=searchCommand((n,{query:e})=>{let{state:o}=n,{from:a,to:l}=o.selection.main;if(o.readOnly)return!1;let u=e.nextMatch(o,a,a);if(!u)return!1;let c=u,f=[],p,T,E=[];c.from==a&&c.to==l&&(T=o.toText(e.getReplacement(c)),f.push({from:c.from,to:c.to,insert:T}),c=e.nextMatch(o,c.from,c.to),E.push(EditorView.announce.of(o.phrase("replaced match on line $",o.doc.lineAt(a).number)+".")));let b=n.state.changes(f);return c&&(p=EditorSelection.single(c.from,c.to).map(b),E.push(announceMatch(n,c)),E.push(o.facet(searchConfigFacet).scrollToMatch(p.main,n))),n.dispatch({changes:b,selection:p,effects:E,userEvent:"input.replace"}),!0}),replaceAll=searchCommand((n,{query:e})=>{if(n.state.readOnly)return!1;let o=e.matchAll(n.state,1e9).map(l=>{let{from:u,to:c}=l;return{from:u,to:c,insert:e.getReplacement(l)}});if(!o.length)return!1;let a=n.state.phrase("replaced $ matches",o.length)+".";return n.dispatch({changes:o,effects:EditorView.announce.of(a),userEvent:"input.replace.all"}),!0});function createSearchPanel(n){return n.state.facet(searchConfigFacet).createPanel(n)}function defaultQuery(n,e){var o,a,l,u,c;let f=n.selection.main,p=f.empty||f.to>f.from+100?"":n.sliceDoc(f.from,f.to);if(e&&!p)return e;let T=n.facet(searchConfigFacet);return new SearchQuery({search:((o=e==null?void 0:e.literal)!==null&&o!==void 0?o:T.literal)?p:p.replace(/\n/g,"\\n"),caseSensitive:(a=e==null?void 0:e.caseSensitive)!==null&&a!==void 0?a:T.caseSensitive,literal:(l=e==null?void 0:e.literal)!==null&&l!==void 0?l:T.literal,regexp:(u=e==null?void 0:e.regexp)!==null&&u!==void 0?u:T.regexp,wholeWord:(c=e==null?void 0:e.wholeWord)!==null&&c!==void 0?c:T.wholeWord})}function getSearchInput(n){let e=getPanel(n,createSearchPanel);return e&&e.dom.querySelector("[main-field]")}function selectSearchInput(n){let e=getSearchInput(n);e&&e==n.root.activeElement&&e.select()}const openSearchPanel=n=>{let e=n.state.field(searchState,!1);if(e&&e.panel){let o=getSearchInput(n);if(o&&o!=n.root.activeElement){let a=defaultQuery(n.state,e.query.spec);a.valid&&n.dispatch({effects:setSearchQuery.of(a)}),o.focus(),o.select()}}else n.dispatch({effects:[togglePanel$1.of(!0),e?setSearchQuery.of(defaultQuery(n.state,e.query.spec)):StateEffect.appendConfig.of(searchExtensions)]});return!0},closeSearchPanel=n=>{let e=n.state.field(searchState,!1);if(!e||!e.panel)return!1;let o=getPanel(n,createSearchPanel);return o&&o.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:togglePanel$1.of(!1)}),!0},searchKeymap=[{key:"Mod-f",run:openSearchPanel,scope:"editor search-panel"},{key:"F3",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:closeSearchPanel,scope:"editor search-panel"},{key:"Mod-Shift-l",run:selectSelectionMatches},{key:"Mod-Alt-g",run:gotoLine},{key:"Mod-d",run:selectNextOccurrence,preventDefault:!0}];class SearchPanel{constructor(e){this.view=e;let o=this.query=e.state.field(searchState).query.spec;this.commit=this.commit.bind(this),this.searchField=crelt("input",{value:o.search,placeholder:phrase(e,"Find"),"aria-label":phrase(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=crelt("input",{value:o.replace,placeholder:phrase(e,"Replace"),"aria-label":phrase(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=crelt("input",{type:"checkbox",name:"case",form:"",checked:o.caseSensitive,onchange:this.commit}),this.reField=crelt("input",{type:"checkbox",name:"re",form:"",checked:o.regexp,onchange:this.commit}),this.wordField=crelt("input",{type:"checkbox",name:"word",form:"",checked:o.wholeWord,onchange:this.commit});function a(l,u,c){return crelt("button",{class:"cm-button",name:l,onclick:u,type:"button"},c)}this.dom=crelt("div",{onkeydown:l=>this.keydown(l),class:"cm-search"},[this.searchField,a("next",()=>findNext(e),[phrase(e,"next")]),a("prev",()=>findPrevious(e),[phrase(e,"previous")]),a("select",()=>selectMatches(e),[phrase(e,"all")]),crelt("label",null,[this.caseField,phrase(e,"match case")]),crelt("label",null,[this.reField,phrase(e,"regexp")]),crelt("label",null,[this.wordField,phrase(e,"by word")]),...e.state.readOnly?[]:[crelt("br"),this.replaceField,a("replace",()=>replaceNext(e),[phrase(e,"replace")]),a("replaceAll",()=>replaceAll(e),[phrase(e,"replace all")])],crelt("button",{name:"close",onclick:()=>closeSearchPanel(e),"aria-label":phrase(e,"close"),type:"button"},[""])])}commit(){let e=new SearchQuery({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:setSearchQuery.of(e)}))}keydown(e){runScopeHandlers(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?findPrevious:findNext)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),replaceNext(this.view))}update(e){for(let o of e.transactions)for(let a of o.effects)a.is(setSearchQuery)&&!a.value.eq(this.query)&&this.setQuery(a.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(searchConfigFacet).top}}function phrase(n,e){return n.state.phrase(e)}const AnnounceMargin=30,Break=/[\s\.,:;?!]/;function announceMatch(n,{from:e,to:o}){let a=n.state.doc.lineAt(e),l=n.state.doc.lineAt(o).to,u=Math.max(a.from,e-AnnounceMargin),c=Math.min(l,o+AnnounceMargin),f=n.state.sliceDoc(u,c);if(u!=a.from){for(let p=0;p<AnnounceMargin;p++)if(!Break.test(f[p+1])&&Break.test(f[p])){f=f.slice(p);break}}if(c!=l){for(let p=f.length-1;p>f.length-AnnounceMargin;p--)if(!Break.test(f[p-1])&&Break.test(f[p])){f=f.slice(0,p);break}}return EditorView.announce.of(`${n.state.phrase("current match")}. ${f} ${n.state.phrase("on line")} ${a.number}.`)}const baseTheme$2=EditorView.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),searchExtensions=[searchState,Prec.low(searchHighlighter),baseTheme$2];class CompletionContext{constructor(e,o,a,l){this.state=e,this.pos=o,this.explicit=a,this.view=l,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let o=syntaxTree(this.state).resolveInner(this.pos,-1);for(;o&&e.indexOf(o.name)<0;)o=o.parent;return o?{from:o.from,to:this.pos,text:this.state.sliceDoc(o.from,this.pos),type:o.type}:null}matchBefore(e){let o=this.state.doc.lineAt(this.pos),a=Math.max(o.from,this.pos-250),l=o.text.slice(a-o.from,this.pos-o.from),u=l.search(ensureAnchor(e,!1));return u<0?null:{from:a+u,to:this.pos,text:l.slice(u)}}get aborted(){return this.abortListeners==null}addEventListener(e,o,a){e=="abort"&&this.abortListeners&&(this.abortListeners.push(o),a&&a.onDocChange&&(this.abortOnDocChange=!0))}}function toSet(n){let e=Object.keys(n).join(""),o=/\w/.test(e);return o&&(e=e.replace(/\w/g,"")),`[${o?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function prefixMatch(n){let e=Object.create(null),o=Object.create(null);for(let{label:l}of n){e[l[0]]=!0;for(let u=1;u<l.length;u++)o[l[u]]=!0}let a=toSet(e)+toSet(o)+"*$";return[new RegExp("^"+a),new RegExp(a)]}function completeFromList(n){let e=n.map(l=>typeof l=="string"?{label:l}:l),[o,a]=e.every(l=>/^\w+$/.test(l.label))?[/\w*$/,/\w+$/]:prefixMatch(e);return l=>{let u=l.matchBefore(a);return u||l.explicit?{from:u?u.from:l.pos,options:e,validFor:o}:null}}class Option{constructor(e,o,a,l){this.completion=e,this.source=o,this.match=a,this.score=l}}function cur(n){return n.selection.main.from}function ensureAnchor(n,e){var o;let{source:a}=n,l=e&&a[0]!="^",u=a[a.length-1]!="$";return!l&&!u?n:new RegExp(`${l?"^":""}(?:${a})${u?"$":""}`,(o=n.flags)!==null&&o!==void 0?o:n.ignoreCase?"i":"")}const pickedCompletion=Annotation.define();function insertCompletionText(n,e,o,a){let{main:l}=n.selection,u=o-l.from,c=a-l.from;return Object.assign(Object.assign({},n.changeByRange(f=>{if(f!=l&&o!=a&&n.sliceDoc(f.from+u,f.from+c)!=n.sliceDoc(o,a))return{range:f};let p=n.toText(e);return{changes:{from:f.from+u,to:a==l.from?f.to:f.from+c,insert:p},range:EditorSelection.cursor(f.from+u+p.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const SourceCache=new WeakMap;function asSource(n){if(!Array.isArray(n))return n;let e=SourceCache.get(n);return e||SourceCache.set(n,e=completeFromList(n)),e}const startCompletionEffect=StateEffect.define(),closeCompletionEffect=StateEffect.define();class FuzzyMatcher{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let o=0;o<e.length;){let a=codePointAt$1(e,o),l=codePointSize(a);this.chars.push(a);let u=e.slice(o,o+l),c=u.toUpperCase();this.folded.push(codePointAt$1(c==u?u.toLowerCase():c,0)),o+=l}this.astral=e.length!=this.chars.length}ret(e,o){return this.score=e,this.matched=o,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:o,folded:a,any:l,precise:u,byWord:c}=this;if(o.length==1){let R=codePointAt$1(e,0),P=codePointSize(R),F=P==e.length?0:-100;if(R!=o[0])if(R==a[0])F+=-200;else return null;return this.ret(F,[0,P])}let f=e.indexOf(this.pattern);if(f==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let p=o.length,T=0;if(f<0){for(let R=0,P=Math.min(e.length,200);R<P&&T<p;){let F=codePointAt$1(e,R);(F==o[T]||F==a[T])&&(l[T++]=R),R+=codePointSize(F)}if(T<p)return null}let E=0,b=0,m=!1,y=0,S=-1,v=-1,A=/[a-z]/.test(e),w=!0;for(let R=0,P=Math.min(e.length,200),F=0;R<P&&b<p;){let B=codePointAt$1(e,R);f<0&&(E<p&&B==o[E]&&(u[E++]=R),y<p&&(B==o[y]||B==a[y]?(y==0&&(S=R),v=R+1,y++):y=0));let G,K=B<255?B>=48&&B<=57||B>=97&&B<=122?2:B>=65&&B<=90?1:0:(G=fromCodePoint(B))!=G.toLowerCase()?1:G!=G.toUpperCase()?2:0;(!R||K==1&&A||F==0&&K!=0)&&(o[b]==B||a[b]==B&&(m=!0)?c[b++]=R:c.length&&(w=!1)),F=K,R+=codePointSize(B)}return b==p&&c[0]==0&&w?this.result(-100+(m?-200:0),c,e):y==p&&S==0?this.ret(-200-e.length+(v==e.length?0:-100),[0,v]):f>-1?this.ret(-700-e.length,[f,f+this.pattern.length]):y==p?this.ret(-900-e.length,[S,v]):b==p?this.result(-100+(m?-200:0)+-700+(w?0:-1100),c,e):o.length==2?null:this.result((l[0]?-700:0)+-200+-1100,l,e)}result(e,o,a){let l=[],u=0;for(let c of o){let f=c+(this.astral?codePointSize(codePointAt$1(a,c)):1);u&&l[u-1]==c?l[u-1]=f:(l[u++]=c,l[u++]=f)}return this.ret(e-a.length,l)}}class StrictMatcher{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let o=e.slice(0,this.pattern.length),a=o==this.pattern?0:o.toLowerCase()==this.folded?-200:null;return a==null?null:(this.matched=[0,o.length],this.score=a+(e.length==this.pattern.length?0:-100),this)}}const completionConfig=Facet.define({combine(n){return combineConfig(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:defaultPositionInfo,filterStrict:!1,compareCompletions:(e,o)=>e.label.localeCompare(o.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,o)=>e&&o,closeOnBlur:(e,o)=>e&&o,icons:(e,o)=>e&&o,tooltipClass:(e,o)=>a=>joinClass(e(a),o(a)),optionClass:(e,o)=>a=>joinClass(e(a),o(a)),addToOptions:(e,o)=>e.concat(o),filterStrict:(e,o)=>e||o})}});function joinClass(n,e){return n?e?n+" "+e:n:e}function defaultPositionInfo(n,e,o,a,l,u){let c=n.textDirection==Direction.RTL,f=c,p=!1,T="top",E,b,m=e.left-l.left,y=l.right-e.right,S=a.right-a.left,v=a.bottom-a.top;if(f&&m<Math.min(S,y)?f=!1:!f&&y<Math.min(S,m)&&(f=!0),S<=(f?m:y))E=Math.max(l.top,Math.min(o.top,l.bottom-v))-e.top,b=Math.min(400,f?m:y);else{p=!0,b=Math.min(400,(c?e.right:l.right-e.left)-30);let R=l.bottom-e.bottom;R>=v||R>e.top?E=o.bottom-e.top:(T="bottom",E=e.bottom-o.top)}let A=(e.bottom-e.top)/u.offsetHeight,w=(e.right-e.left)/u.offsetWidth;return{style:`${T}: ${E/A}px; max-width: ${b/w}px`,class:"cm-completionInfo-"+(p?c?"left-narrow":"right-narrow":f?"left":"right")}}function optionContent(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(o){let a=document.createElement("div");return a.classList.add("cm-completionIcon"),o.type&&a.classList.add(...o.type.split(/\s+/g).map(l=>"cm-completionIcon-"+l)),a.setAttribute("aria-hidden","true"),a},position:20}),e.push({render(o,a,l,u){let c=document.createElement("span");c.className="cm-completionLabel";let f=o.displayLabel||o.label,p=0;for(let T=0;T<u.length;){let E=u[T++],b=u[T++];E>p&&c.appendChild(document.createTextNode(f.slice(p,E)));let m=c.appendChild(document.createElement("span"));m.appendChild(document.createTextNode(f.slice(E,b))),m.className="cm-completionMatchedText",p=b}return p<f.length&&c.appendChild(document.createTextNode(f.slice(p))),c},position:50},{render(o){if(!o.detail)return null;let a=document.createElement("span");return a.className="cm-completionDetail",a.textContent=o.detail,a},position:80}),e.sort((o,a)=>o.position-a.position).map(o=>o.render)}function rangeAroundSelected(n,e,o){if(n<=o)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let l=Math.floor(e/o);return{from:l*o,to:(l+1)*o}}let a=Math.floor((n-e)/o);return{from:n-(a+1)*o,to:n-a*o}}class CompletionTooltip{constructor(e,o,a){this.view=e,this.stateField=o,this.applyCompletion=a,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:p=>this.placeInfo(p),key:this},this.space=null,this.currentClass="";let l=e.state.field(o),{options:u,selected:c}=l.open,f=e.state.facet(completionConfig);this.optionContent=optionContent(f),this.optionClass=f.optionClass,this.tooltipClass=f.tooltipClass,this.range=rangeAroundSelected(u.length,c,f.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",p=>{let{options:T}=e.state.field(o).open;for(let E=p.target,b;E&&E!=this.dom;E=E.parentNode)if(E.nodeName=="LI"&&(b=/-(\d+)$/.exec(E.id))&&+b[1]<T.length){this.applyCompletion(e,T[+b[1]]),p.preventDefault();return}}),this.dom.addEventListener("focusout",p=>{let T=e.state.field(this.stateField,!1);T&&T.tooltip&&e.state.facet(completionConfig).closeOnBlur&&p.relatedTarget!=e.contentDOM&&e.dispatch({effects:closeCompletionEffect.of(null)})}),this.showOptions(u,l.id)}mount(){this.updateSel()}showOptions(e,o){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,o,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var o;let a=e.state.field(this.stateField),l=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),a!=l){let{options:u,selected:c,disabled:f}=a.open;(!l.open||l.open.options!=u)&&(this.range=rangeAroundSelected(u.length,c,e.state.facet(completionConfig).maxRenderedOptions),this.showOptions(u,a.id)),this.updateSel(),f!=((o=l.open)===null||o===void 0?void 0:o.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!f)}}updateTooltipClass(e){let o=this.tooltipClass(e);if(o!=this.currentClass){for(let a of this.currentClass.split(" "))a&&this.dom.classList.remove(a);for(let a of o.split(" "))a&&this.dom.classList.add(a);this.currentClass=o}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),o=e.open;if((o.selected>-1&&o.selected<this.range.from||o.selected>=this.range.to)&&(this.range=rangeAroundSelected(o.options.length,o.selected,this.view.state.facet(completionConfig).maxRenderedOptions),this.showOptions(o.options,e.id)),this.updateSelectedOption(o.selected)){this.destroyInfo();let{completion:a}=o.options[o.selected],{info:l}=a;if(!l)return;let u=typeof l=="string"?document.createTextNode(l):l(a);if(!u)return;"then"in u?u.then(c=>{c&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(c,a)}).catch(c=>logException(this.view.state,c,"completion info")):this.addInfoPane(u,a)}}addInfoPane(e,o){this.destroyInfo();let a=this.info=document.createElement("div");if(a.className="cm-tooltip cm-completionInfo",e.nodeType!=null)a.appendChild(e),this.infoDestroy=null;else{let{dom:l,destroy:u}=e;a.appendChild(l),this.infoDestroy=u||null}this.dom.appendChild(a),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let o=null;for(let a=this.list.firstChild,l=this.range.from;a;a=a.nextSibling,l++)a.nodeName!="LI"||!a.id?l--:l==e?a.hasAttribute("aria-selected")||(a.setAttribute("aria-selected","true"),o=a):a.hasAttribute("aria-selected")&&a.removeAttribute("aria-selected");return o&&scrollIntoView(this.list,o),o}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let o=this.dom.getBoundingClientRect(),a=this.info.getBoundingClientRect(),l=e.getBoundingClientRect(),u=this.space;if(!u){let c=this.dom.ownerDocument.documentElement;u={left:0,top:0,right:c.clientWidth,bottom:c.clientHeight}}return l.top>Math.min(u.bottom,o.bottom)-10||l.bottom<Math.max(u.top,o.top)+10?null:this.view.state.facet(completionConfig).positionInfo(this.view,o,l,a,u,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,o,a){const l=document.createElement("ul");l.id=o,l.setAttribute("role","listbox"),l.setAttribute("aria-expanded","true"),l.setAttribute("aria-label",this.view.state.phrase("Completions")),l.addEventListener("mousedown",c=>{c.target==l&&c.preventDefault()});let u=null;for(let c=a.from;c<a.to;c++){let{completion:f,match:p}=e[c],{section:T}=f;if(T){let m=typeof T=="string"?T:T.name;if(m!=u&&(c>a.from||a.from==0))if(u=m,typeof T!="string"&&T.header)l.appendChild(T.header(T));else{let y=l.appendChild(document.createElement("completion-section"));y.textContent=m}}const E=l.appendChild(document.createElement("li"));E.id=o+"-"+c,E.setAttribute("role","option");let b=this.optionClass(f);b&&(E.className=b);for(let m of this.optionContent){let y=m(f,this.view.state,this.view,p);y&&E.appendChild(y)}}return a.from&&l.classList.add("cm-completionListIncompleteTop"),a.to<e.length&&l.classList.add("cm-completionListIncompleteBottom"),l}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function completionTooltip(n,e){return o=>new CompletionTooltip(o,n,e)}function scrollIntoView(n,e){let o=n.getBoundingClientRect(),a=e.getBoundingClientRect(),l=o.height/n.offsetHeight;a.top<o.top?n.scrollTop-=(o.top-a.top)/l:a.bottom>o.bottom&&(n.scrollTop+=(a.bottom-o.bottom)/l)}function score(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function sortOptions(n,e){let o=[],a=null,l=T=>{o.push(T);let{section:E}=T.completion;if(E){a||(a=[]);let b=typeof E=="string"?E:E.name;a.some(m=>m.name==b)||a.push(typeof E=="string"?{name:b}:E)}},u=e.facet(completionConfig);for(let T of n)if(T.hasResult()){let E=T.result.getMatch;if(T.result.filter===!1)for(let b of T.result.options)l(new Option(b,T.source,E?E(b):[],1e9-o.length));else{let b=e.sliceDoc(T.from,T.to),m,y=u.filterStrict?new StrictMatcher(b):new FuzzyMatcher(b);for(let S of T.result.options)if(m=y.match(S.label)){let v=S.displayLabel?E?E(S,m.matched):[]:m.matched;l(new Option(S,T.source,v,m.score+(S.boost||0)))}}}if(a){let T=Object.create(null),E=0,b=(m,y)=>{var S,v;return((S=m.rank)!==null&&S!==void 0?S:1e9)-((v=y.rank)!==null&&v!==void 0?v:1e9)||(m.name<y.name?-1:1)};for(let m of a.sort(b))E-=1e5,T[m.name]=E;for(let m of o){let{section:y}=m.completion;y&&(m.score+=T[typeof y=="string"?y:y.name])}}let c=[],f=null,p=u.compareCompletions;for(let T of o.sort((E,b)=>b.score-E.score||p(E.completion,b.completion))){let E=T.completion;!f||f.label!=E.label||f.detail!=E.detail||f.type!=null&&E.type!=null&&f.type!=E.type||f.apply!=E.apply||f.boost!=E.boost?c.push(T):score(T.completion)>score(f)&&(c[c.length-1]=T),f=T.completion}return c}class CompletionDialog{constructor(e,o,a,l,u,c){this.options=e,this.attrs=o,this.tooltip=a,this.timestamp=l,this.selected=u,this.disabled=c}setSelected(e,o){return e==this.selected||e>=this.options.length?this:new CompletionDialog(this.options,makeAttrs(o,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,o,a,l,u,c){if(l&&!c&&e.some(T=>T.isPending))return l.setDisabled();let f=sortOptions(e,o);if(!f.length)return l&&e.some(T=>T.isPending)?l.setDisabled():null;let p=o.facet(completionConfig).selectOnOpen?0:-1;if(l&&l.selected!=p&&l.selected!=-1){let T=l.options[l.selected].completion;for(let E=0;E<f.length;E++)if(f[E].completion==T){p=E;break}}return new CompletionDialog(f,makeAttrs(a,p),{pos:e.reduce((T,E)=>E.hasResult()?Math.min(T,E.from):T,1e8),create:createTooltip,above:u.aboveCursor},l?l.timestamp:Date.now(),p,!1)}map(e){return new CompletionDialog(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new CompletionDialog(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class CompletionState{constructor(e,o,a){this.active=e,this.id=o,this.open=a}static start(){return new CompletionState(none,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:o}=e,a=o.facet(completionConfig),u=(a.override||o.languageDataAt("autocomplete",cur(o)).map(asSource)).map(p=>(this.active.find(E=>E.source==p)||new ActiveSource(p,this.active.some(E=>E.state!=0)?1:0)).update(e,a));u.length==this.active.length&&u.every((p,T)=>p==this.active[T])&&(u=this.active);let c=this.open,f=e.effects.some(p=>p.is(setActiveEffect));c&&e.docChanged&&(c=c.map(e.changes)),e.selection||u.some(p=>p.hasResult()&&e.changes.touchesRange(p.from,p.to))||!sameResults(u,this.active)||f?c=CompletionDialog.build(u,o,this.id,c,a,f):c&&c.disabled&&!u.some(p=>p.isPending)&&(c=null),!c&&u.every(p=>!p.isPending)&&u.some(p=>p.hasResult())&&(u=u.map(p=>p.hasResult()?new ActiveSource(p.source,0):p));for(let p of e.effects)p.is(setSelectedEffect)&&(c=c&&c.setSelected(p.value,this.id));return u==this.active&&c==this.open?this:new CompletionState(u,this.id,c)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?baseAttrs:noAttrs}}function sameResults(n,e){if(n==e)return!0;for(let o=0,a=0;;){for(;o<n.length&&!n[o].hasResult();)o++;for(;a<e.length&&!e[a].hasResult();)a++;let l=o==n.length,u=a==e.length;if(l||u)return l==u;if(n[o++].result!=e[a++].result)return!1}}const baseAttrs={"aria-autocomplete":"list"},noAttrs={};function makeAttrs(n,e){let o={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(o["aria-activedescendant"]=n+"-"+e),o}const none=[];function getUpdateType(n,e){if(n.isUserEvent("input.complete")){let a=n.annotation(pickedCompletion);if(a&&e.activateOnCompletion(a))return 12}let o=n.isUserEvent("input.type");return o&&e.activateOnTyping?5:o?1:n.isUserEvent("delete.backward")?2:n.selection?8:n.docChanged?16:0}class ActiveSource{constructor(e,o,a=!1){this.source=e,this.state=o,this.explicit=a}hasResult(){return!1}get isPending(){return this.state==1}update(e,o){let a=getUpdateType(e,o),l=this;(a&8||a&16&&this.touches(e))&&(l=new ActiveSource(l.source,0)),a&4&&l.state==0&&(l=new ActiveSource(this.source,1)),l=l.updateFor(e,a);for(let u of e.effects)if(u.is(startCompletionEffect))l=new ActiveSource(l.source,1,u.value);else if(u.is(closeCompletionEffect))l=new ActiveSource(l.source,0);else if(u.is(setActiveEffect))for(let c of u.value)c.source==l.source&&(l=c);return l}updateFor(e,o){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(cur(e.state))}}class ActiveResult extends ActiveSource{constructor(e,o,a,l,u,c){super(e,3,o),this.limit=a,this.result=l,this.from=u,this.to=c}hasResult(){return!0}updateFor(e,o){var a;if(!(o&3))return this.map(e.changes);let l=this.result;l.map&&!e.changes.empty&&(l=l.map(l,e.changes));let u=e.changes.mapPos(this.from),c=e.changes.mapPos(this.to,1),f=cur(e.state);if(f>c||!l||o&2&&(cur(e.startState)==this.from||f<this.limit))return new ActiveSource(this.source,o&4?1:0);let p=e.changes.mapPos(this.limit);return checkValid(l.validFor,e.state,u,c)?new ActiveResult(this.source,this.explicit,p,l,u,c):l.update&&(l=l.update(l,u,c,new CompletionContext(e.state,f,!1)))?new ActiveResult(this.source,this.explicit,p,l,l.from,(a=l.to)!==null&&a!==void 0?a:cur(e.state)):new ActiveSource(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new ActiveResult(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new ActiveSource(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function checkValid(n,e,o,a){if(!n)return!1;let l=e.sliceDoc(o,a);return typeof n=="function"?n(l,o,a,e):ensureAnchor(n,!0).test(l)}const setActiveEffect=StateEffect.define({map(n,e){return n.map(o=>o.map(e))}}),setSelectedEffect=StateEffect.define(),completionState=StateField.define({create(){return CompletionState.start()},update(n,e){return n.update(e)},provide:n=>[showTooltip.from(n,e=>e.tooltip),EditorView.contentAttributes.from(n,e=>e.attrs)]});function applyCompletion(n,e){const o=e.completion.apply||e.completion.label;let a=n.state.field(completionState).active.find(l=>l.source==e.source);return a instanceof ActiveResult?(typeof o=="string"?n.dispatch(Object.assign(Object.assign({},insertCompletionText(n.state,o,a.from,a.to)),{annotations:pickedCompletion.of(e.completion)})):o(n,e.completion,a.from,a.to),!0):!1}const createTooltip=completionTooltip(completionState,applyCompletion);function moveCompletionSelection(n,e="option"){return o=>{let a=o.state.field(completionState,!1);if(!a||!a.open||a.open.disabled||Date.now()-a.open.timestamp<o.state.facet(completionConfig).interactionDelay)return!1;let l=1,u;e=="page"&&(u=getTooltip(o,a.open.tooltip))&&(l=Math.max(2,Math.floor(u.dom.offsetHeight/u.dom.querySelector("li").offsetHeight)-1));let{length:c}=a.open.options,f=a.open.selected>-1?a.open.selected+l*(n?1:-1):n?0:c-1;return f<0?f=e=="page"?0:c-1:f>=c&&(f=e=="page"?c-1:0),o.dispatch({effects:setSelectedEffect.of(f)}),!0}}const acceptCompletion=n=>{let e=n.state.field(completionState,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(completionConfig).interactionDelay?!1:applyCompletion(n,e.open.options[e.open.selected])},startCompletion=n=>n.state.field(completionState,!1)?(n.dispatch({effects:startCompletionEffect.of(!0)}),!0):!1,closeCompletion=n=>{let e=n.state.field(completionState,!1);return!e||!e.active.some(o=>o.state!=0)?!1:(n.dispatch({effects:closeCompletionEffect.of(null)}),!0)};class RunningQuery{constructor(e,o){this.active=e,this.context=o,this.time=Date.now(),this.updates=[],this.done=void 0}}const MaxUpdateCount=50,MinAbortTime=1e3,completionPlugin=ViewPlugin.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of n.state.field(completionState).active)e.isPending&&this.startQuery(e)}update(n){let e=n.state.field(completionState),o=n.state.facet(completionConfig);if(!n.selectionSet&&!n.docChanged&&n.startState.field(completionState)==e)return;let a=n.transactions.some(u=>{let c=getUpdateType(u,o);return c&8||(u.selection||u.docChanged)&&!(c&3)});for(let u=0;u<this.running.length;u++){let c=this.running[u];if(a||c.context.abortOnDocChange&&n.docChanged||c.updates.length+n.transactions.length>MaxUpdateCount&&Date.now()-c.time>MinAbortTime){for(let f of c.context.abortListeners)try{f()}catch(p){logException(this.view.state,p)}c.context.abortListeners=null,this.running.splice(u--,1)}else c.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(u=>u.effects.some(c=>c.is(startCompletionEffect)))&&(this.pendingStart=!0);let l=this.pendingStart?50:o.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(u=>u.isPending&&!this.running.some(c=>c.active.source==u.source))?setTimeout(()=>this.startUpdate(),l):-1,this.composing!=0)for(let u of n.transactions)u.isUserEvent("input.type")?this.composing=2:this.composing==2&&u.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,e=n.field(completionState);for(let o of e.active)o.isPending&&!this.running.some(a=>a.active.source==o.source)&&this.startQuery(o);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(completionConfig).updateSyncTime))}startQuery(n){let{state:e}=this.view,o=cur(e),a=new CompletionContext(e,o,n.explicit,this.view),l=new RunningQuery(n,a);this.running.push(l),Promise.resolve(n.source(a)).then(u=>{l.context.aborted||(l.done=u||null,this.scheduleAccept())},u=>{this.view.dispatch({effects:closeCompletionEffect.of(null)}),logException(this.view.state,u)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(completionConfig).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],o=this.view.state.facet(completionConfig),a=this.view.state.field(completionState);for(let l=0;l<this.running.length;l++){let u=this.running[l];if(u.done===void 0)continue;if(this.running.splice(l--,1),u.done){let f=cur(u.updates.length?u.updates[0].startState:this.view.state),p=Math.min(f,u.done.from+(u.active.explicit?0:1)),T=new ActiveResult(u.active.source,u.active.explicit,p,u.done,u.done.from,(n=u.done.to)!==null&&n!==void 0?n:f);for(let E of u.updates)T=T.update(E,o);if(T.hasResult()){e.push(T);continue}}let c=a.active.find(f=>f.source==u.active.source);if(c&&c.isPending)if(u.done==null){let f=new ActiveSource(u.active.source,0);for(let p of u.updates)f=f.update(p,o);f.isPending||e.push(f)}else this.startQuery(c)}(e.length||a.open&&a.open.disabled)&&this.view.dispatch({effects:setActiveEffect.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(completionState,!1);if(e&&e.tooltip&&this.view.state.facet(completionConfig).closeOnBlur){let o=e.open&&getTooltip(this.view,e.open.tooltip);(!o||!o.dom.contains(n.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:closeCompletionEffect.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:startCompletionEffect.of(!1)}),20),this.composing=0}}}),windows=typeof navigator=="object"&&/Win/.test(navigator.platform),commitCharacters=Prec.highest(EditorView.domEventHandlers({keydown(n,e){let o=e.state.field(completionState,!1);if(!o||!o.open||o.open.disabled||o.open.selected<0||n.key.length>1||n.ctrlKey&&!(windows&&n.altKey)||n.metaKey)return!1;let a=o.open.options[o.open.selected],l=o.active.find(c=>c.source==a.source),u=a.completion.commitCharacters||l.result.commitCharacters;return u&&u.indexOf(n.key)>-1&&applyCompletion(e,a),!1}})),baseTheme$1=EditorView.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),defaults={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},closeBracketEffect=StateEffect.define({map(n,e){let o=e.mapPos(n,-1,MapMode.TrackAfter);return o??void 0}}),closedBracket=new class extends RangeValue{};closedBracket.startSide=1;closedBracket.endSide=-1;const bracketState=StateField.define({create(){return RangeSet.empty},update(n,e){if(n=n.map(e.changes),e.selection){let o=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:a=>a>=o.from&&a<=o.to})}for(let o of e.effects)o.is(closeBracketEffect)&&(n=n.update({add:[closedBracket.range(o.value,o.value+1)]}));return n}});function closeBrackets(){return[inputHandler,bracketState]}const definedClosing="()[]{}<>";function closing(n){for(let e=0;e<definedClosing.length;e+=2)if(definedClosing.charCodeAt(e)==n)return definedClosing.charAt(e+1);return fromCodePoint(n<128?n:n+1)}function config(n,e){return n.languageDataAt("closeBrackets",e)[0]||defaults}const android=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),inputHandler=EditorView.inputHandler.of((n,e,o,a)=>{if((android?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let l=n.state.selection.main;if(a.length>2||a.length==2&&codePointSize(codePointAt$1(a,0))==1||e!=l.from||o!=l.to)return!1;let u=insertBracket(n.state,a);return u?(n.dispatch(u),!0):!1}),deleteBracketPair=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let a=config(n,n.selection.main.head).brackets||defaults.brackets,l=null,u=n.changeByRange(c=>{if(c.empty){let f=prevChar(n.doc,c.head);for(let p of a)if(p==f&&nextChar(n.doc,c.head)==closing(codePointAt$1(p,0)))return{changes:{from:c.head-p.length,to:c.head+p.length},range:EditorSelection.cursor(c.head-p.length)}}return{range:l=c}});return l||e(n.update(u,{scrollIntoView:!0,userEvent:"delete.backward"})),!l},closeBracketsKeymap=[{key:"Backspace",run:deleteBracketPair}];function insertBracket(n,e){let o=config(n,n.selection.main.head),a=o.brackets||defaults.brackets;for(let l of a){let u=closing(codePointAt$1(l,0));if(e==l)return u==l?handleSame(n,l,a.indexOf(l+l+l)>-1,o):handleOpen(n,l,u,o.before||defaults.before);if(e==u&&closedBracketAt(n,n.selection.main.from))return handleClose(n,l,u)}return null}function closedBracketAt(n,e){let o=!1;return n.field(bracketState).between(0,n.doc.length,a=>{a==e&&(o=!0)}),o}function nextChar(n,e){let o=n.sliceString(e,e+2);return o.slice(0,codePointSize(codePointAt$1(o,0)))}function prevChar(n,e){let o=n.sliceString(e-2,e);return codePointSize(codePointAt$1(o,0))==o.length?o:o.slice(1)}function handleOpen(n,e,o,a){let l=null,u=n.changeByRange(c=>{if(!c.empty)return{changes:[{insert:e,from:c.from},{insert:o,from:c.to}],effects:closeBracketEffect.of(c.to+e.length),range:EditorSelection.range(c.anchor+e.length,c.head+e.length)};let f=nextChar(n.doc,c.head);return!f||/\s/.test(f)||a.indexOf(f)>-1?{changes:{insert:e+o,from:c.head},effects:closeBracketEffect.of(c.head+e.length),range:EditorSelection.cursor(c.head+e.length)}:{range:l=c}});return l?null:n.update(u,{scrollIntoView:!0,userEvent:"input.type"})}function handleClose(n,e,o){let a=null,l=n.changeByRange(u=>u.empty&&nextChar(n.doc,u.head)==o?{changes:{from:u.head,to:u.head+o.length,insert:o},range:EditorSelection.cursor(u.head+o.length)}:a={range:u});return a?null:n.update(l,{scrollIntoView:!0,userEvent:"input.type"})}function handleSame(n,e,o,a){let l=a.stringPrefixes||defaults.stringPrefixes,u=null,c=n.changeByRange(f=>{if(!f.empty)return{changes:[{insert:e,from:f.from},{insert:e,from:f.to}],effects:closeBracketEffect.of(f.to+e.length),range:EditorSelection.range(f.anchor+e.length,f.head+e.length)};let p=f.head,T=nextChar(n.doc,p),E;if(T==e){if(nodeStart(n,p))return{changes:{insert:e+e,from:p},effects:closeBracketEffect.of(p+e.length),range:EditorSelection.cursor(p+e.length)};if(closedBracketAt(n,p)){let m=o&&n.sliceDoc(p,p+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:p,to:p+m.length,insert:m},range:EditorSelection.cursor(p+m.length)}}}else{if(o&&n.sliceDoc(p-2*e.length,p)==e+e&&(E=canStartStringAt(n,p-2*e.length,l))>-1&&nodeStart(n,E))return{changes:{insert:e+e+e+e,from:p},effects:closeBracketEffect.of(p+e.length),range:EditorSelection.cursor(p+e.length)};if(n.charCategorizer(p)(T)!=CharCategory.Word&&canStartStringAt(n,p,l)>-1&&!probablyInString(n,p,e,l))return{changes:{insert:e+e,from:p},effects:closeBracketEffect.of(p+e.length),range:EditorSelection.cursor(p+e.length)}}return{range:u=f}});return u?null:n.update(c,{scrollIntoView:!0,userEvent:"input.type"})}function nodeStart(n,e){let o=syntaxTree(n).resolveInner(e+1);return o.parent&&o.from==e}function probablyInString(n,e,o,a){let l=syntaxTree(n).resolveInner(e,-1),u=a.reduce((c,f)=>Math.max(c,f.length),0);for(let c=0;c<5;c++){let f=n.sliceDoc(l.from,Math.min(l.to,l.from+o.length+u)),p=f.indexOf(o);if(!p||p>-1&&a.indexOf(f.slice(0,p))>-1){let E=l.firstChild;for(;E&&E.from==l.from&&E.to-E.from>o.length+p;){if(n.sliceDoc(E.to-o.length,E.to)==o)return!1;E=E.firstChild}return!0}let T=l.to==e&&l.parent;if(!T)break;l=T}return!1}function canStartStringAt(n,e,o){let a=n.charCategorizer(e);if(a(n.sliceDoc(e-1,e))!=CharCategory.Word)return e;for(let l of o){let u=e-l.length;if(n.sliceDoc(u,e)==l&&a(n.sliceDoc(u-1,u))!=CharCategory.Word)return u}return-1}function autocompletion(n={}){return[commitCharacters,completionState,completionConfig.of(n),completionPlugin,completionKeymapExt,baseTheme$1]}const completionKeymap=[{key:"Ctrl-Space",run:startCompletion},{mac:"Alt-`",run:startCompletion},{key:"Escape",run:closeCompletion},{key:"ArrowDown",run:moveCompletionSelection(!0)},{key:"ArrowUp",run:moveCompletionSelection(!1)},{key:"PageDown",run:moveCompletionSelection(!0,"page")},{key:"PageUp",run:moveCompletionSelection(!1,"page")},{key:"Enter",run:acceptCompletion}],completionKeymapExt=Prec.highest(keymap.computeN([completionConfig],n=>n.facet(completionConfig).defaultKeymap?[completionKeymap]:[]));class SelectedDiagnostic{constructor(e,o,a){this.from=e,this.to=o,this.diagnostic=a}}class LintState{constructor(e,o,a){this.diagnostics=e,this.panel=o,this.selected=a}static init(e,o,a){let l=a.facet(lintConfig).markerFilter;l&&(e=l(e,a));let u=e.slice().sort((E,b)=>E.from-b.from||E.to-b.to),c=new RangeSetBuilder,f=[],p=0;for(let E=0;;){let b=E==u.length?null:u[E];if(!b&&!f.length)break;let m,y;for(f.length?(m=p,y=f.reduce((v,A)=>Math.min(v,A.to),b&&b.from>m?b.from:1e8)):(m=b.from,y=b.to,f.push(b),E++);E<u.length;){let v=u[E];if(v.from==m&&(v.to>v.from||v.to==m))f.push(v),E++,y=Math.min(v.to,y);else{y=Math.min(v.from,y);break}}let S=maxSeverity(f);if(f.some(v=>v.from==v.to||v.from==v.to-1&&a.doc.lineAt(v.from).to==v.from))c.add(m,m,Decoration.widget({widget:new DiagnosticWidget(S),diagnostics:f.slice()}));else{let v=f.reduce((A,w)=>w.markClass?A+" "+w.markClass:A,"");c.add(m,y,Decoration.mark({class:"cm-lintRange cm-lintRange-"+S+v,diagnostics:f.slice(),inclusiveEnd:f.some(A=>A.to>y)}))}p=y;for(let v=0;v<f.length;v++)f[v].to<=p&&f.splice(v--,1)}let T=c.finish();return new LintState(T,o,findDiagnostic(T))}}function findDiagnostic(n,e=null,o=0){let a=null;return n.between(o,1e9,(l,u,{spec:c})=>{if(!(e&&c.diagnostics.indexOf(e)<0))if(!a)a=new SelectedDiagnostic(l,u,e||c.diagnostics[0]);else{if(c.diagnostics.indexOf(a.diagnostic)<0)return!1;a=new SelectedDiagnostic(a.from,u,a.diagnostic)}}),a}function hideTooltip(n,e){let o=e.pos,a=e.end||o,l=n.state.facet(lintConfig).hideOn(n,o,a);if(l!=null)return l;let u=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(c=>c.is(setDiagnosticsEffect))||n.changes.touchesRange(u.from,Math.max(u.to,a)))}function maybeEnableLint(n,e){return n.field(lintState,!1)?e:e.concat(StateEffect.appendConfig.of(lintExtensions))}const setDiagnosticsEffect=StateEffect.define(),togglePanel=StateEffect.define(),movePanelSelection=StateEffect.define(),lintState=StateField.define({create(){return new LintState(Decoration.none,null,null)},update(n,e){if(e.docChanged&&n.diagnostics.size){let o=n.diagnostics.map(e.changes),a=null,l=n.panel;if(n.selected){let u=e.changes.mapPos(n.selected.from,1);a=findDiagnostic(o,n.selected.diagnostic,u)||findDiagnostic(o,null,u)}!o.size&&l&&e.state.facet(lintConfig).autoPanel&&(l=null),n=new LintState(o,l,a)}for(let o of e.effects)if(o.is(setDiagnosticsEffect)){let a=e.state.facet(lintConfig).autoPanel?o.value.length?LintPanel.open:null:n.panel;n=LintState.init(o.value,a,e.state)}else o.is(togglePanel)?n=new LintState(n.diagnostics,o.value?LintPanel.open:null,n.selected):o.is(movePanelSelection)&&(n=new LintState(n.diagnostics,n.panel,o.value));return n},provide:n=>[showPanel.from(n,e=>e.panel),EditorView.decorations.from(n,e=>e.diagnostics)]}),activeMark=Decoration.mark({class:"cm-lintRange cm-lintRange-active"});function lintTooltip(n,e,o){let{diagnostics:a}=n.state.field(lintState),l,u=-1,c=-1;a.between(e-(o<0?1:0),e+(o>0?1:0),(p,T,{spec:E})=>{if(e>=p&&e<=T&&(p==T||(e>p||o>0)&&(e<T||o<0)))return l=E.diagnostics,u=p,c=T,!1});let f=n.state.facet(lintConfig).tooltipFilter;return l&&f&&(l=f(l,n.state)),l?{pos:u,end:c,above:n.state.doc.lineAt(u).to<c,create(){return{dom:diagnosticsTooltip(n,l)}}}:null}function diagnosticsTooltip(n,e){return crelt("ul",{class:"cm-tooltip-lint"},e.map(o=>renderDiagnostic(n,o,!1)))}const openLintPanel=n=>{let e=n.state.field(lintState,!1);(!e||!e.panel)&&n.dispatch({effects:maybeEnableLint(n.state,[togglePanel.of(!0)])});let o=getPanel(n,LintPanel.open);return o&&o.dom.querySelector(".cm-panel-lint ul").focus(),!0},closeLintPanel=n=>{let e=n.state.field(lintState,!1);return!e||!e.panel?!1:(n.dispatch({effects:togglePanel.of(!1)}),!0)},nextDiagnostic=n=>{let e=n.state.field(lintState,!1);if(!e)return!1;let o=n.state.selection.main,a=e.diagnostics.iter(o.to+1);return!a.value&&(a=e.diagnostics.iter(0),!a.value||a.from==o.from&&a.to==o.to)?!1:(n.dispatch({selection:{anchor:a.from,head:a.to},scrollIntoView:!0}),!0)},lintKeymap=[{key:"Mod-Shift-m",run:openLintPanel,preventDefault:!0},{key:"F8",run:nextDiagnostic}],lintConfig=Facet.define({combine(n){return Object.assign({sources:n.map(e=>e.source).filter(e=>e!=null)},combineConfig(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,o)=>e?o?a=>e(a)||o(a):e:o}))}});function assignKeys(n){let e=[];if(n)e:for(let{name:o}of n){for(let a=0;a<o.length;a++){let l=o[a];if(/[a-zA-Z]/.test(l)&&!e.some(u=>u.toLowerCase()==l.toLowerCase())){e.push(l);continue e}}e.push("")}return e}function renderDiagnostic(n,e,o){var a;let l=o?assignKeys(e.actions):[];return crelt("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},crelt("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(n):e.message),(a=e.actions)===null||a===void 0?void 0:a.map((u,c)=>{let f=!1,p=m=>{if(m.preventDefault(),f)return;f=!0;let y=findDiagnostic(n.state.field(lintState).diagnostics,e);y&&u.apply(n,y.from,y.to)},{name:T}=u,E=l[c]?T.indexOf(l[c]):-1,b=E<0?T:[T.slice(0,E),crelt("u",T.slice(E,E+1)),T.slice(E+1)];return crelt("button",{type:"button",class:"cm-diagnosticAction",onclick:p,onmousedown:p,"aria-label":` Action: ${T}${E<0?"":` (access key "${l[c]})"`}.`},b)}),e.source&&crelt("div",{class:"cm-diagnosticSource"},e.source))}class DiagnosticWidget extends WidgetType{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return crelt("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class PanelItem{constructor(e,o){this.diagnostic=o,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=renderDiagnostic(e,o,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class LintPanel{constructor(e){this.view=e,this.items=[];let o=l=>{if(l.keyCode==27)closeLintPanel(this.view),this.view.focus();else if(l.keyCode==38||l.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(l.keyCode==40||l.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(l.keyCode==36)this.moveSelection(0);else if(l.keyCode==35)this.moveSelection(this.items.length-1);else if(l.keyCode==13)this.view.focus();else if(l.keyCode>=65&&l.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:u}=this.items[this.selectedIndex],c=assignKeys(u.actions);for(let f=0;f<c.length;f++)if(c[f].toUpperCase().charCodeAt(0)==l.keyCode){let p=findDiagnostic(this.view.state.field(lintState).diagnostics,u);p&&u.actions[f].apply(e,p.from,p.to)}}else return;l.preventDefault()},a=l=>{for(let u=0;u<this.items.length;u++)this.items[u].dom.contains(l.target)&&this.moveSelection(u)};this.list=crelt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:o,onclick:a}),this.dom=crelt("div",{class:"cm-panel-lint"},this.list,crelt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>closeLintPanel(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(lintState).selected;if(!e)return-1;for(let o=0;o<this.items.length;o++)if(this.items[o].diagnostic==e.diagnostic)return o;return-1}update(){let{diagnostics:e,selected:o}=this.view.state.field(lintState),a=0,l=!1,u=null,c=new Set;for(e.between(0,this.view.state.doc.length,(f,p,{spec:T})=>{for(let E of T.diagnostics){if(c.has(E))continue;c.add(E);let b=-1,m;for(let y=a;y<this.items.length;y++)if(this.items[y].diagnostic==E){b=y;break}b<0?(m=new PanelItem(this.view,E),this.items.splice(a,0,m),l=!0):(m=this.items[b],b>a&&(this.items.splice(a,b-a),l=!0)),o&&m.diagnostic==o.diagnostic?m.dom.hasAttribute("aria-selected")||(m.dom.setAttribute("aria-selected","true"),u=m):m.dom.hasAttribute("aria-selected")&&m.dom.removeAttribute("aria-selected"),a++}});a<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)l=!0,this.items.pop();this.items.length==0&&(this.items.push(new PanelItem(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),l=!0),u?(this.list.setAttribute("aria-activedescendant",u.id),this.view.requestMeasure({key:this,read:()=>({sel:u.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:f,panel:p})=>{let T=p.height/this.list.offsetHeight;f.top<p.top?this.list.scrollTop-=(p.top-f.top)/T:f.bottom>p.bottom&&(this.list.scrollTop+=(f.bottom-p.bottom)/T)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),l&&this.sync()}sync(){let e=this.list.firstChild;function o(){let a=e;e=a.nextSibling,a.remove()}for(let a of this.items)if(a.dom.parentNode==this.list){for(;e!=a.dom;)o();e=a.dom.nextSibling}else this.list.insertBefore(a.dom,e);for(;e;)o()}moveSelection(e){if(this.selectedIndex<0)return;let o=this.view.state.field(lintState),a=findDiagnostic(o.diagnostics,this.items[e].diagnostic);a&&this.view.dispatch({selection:{anchor:a.from,head:a.to},scrollIntoView:!0,effects:movePanelSelection.of(a)})}static open(e){return new LintPanel(e)}}function svg(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function underline(n){return svg(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const baseTheme=EditorView.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:underline("#d11")},".cm-lintRange-warning":{backgroundImage:underline("orange")},".cm-lintRange-info":{backgroundImage:underline("#999")},".cm-lintRange-hint":{backgroundImage:underline("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function severityWeight(n){return n=="error"?4:n=="warning"?3:n=="info"?2:1}function maxSeverity(n){let e="hint",o=1;for(let a of n){let l=severityWeight(a.severity);l>o&&(o=l,e=a.severity)}return e}const lintExtensions=[lintState,EditorView.decorations.compute([lintState],n=>{let{selected:e,panel:o}=n.field(lintState);return!e||!o||e.from==e.to?Decoration.none:Decoration.set([activeMark.range(e.from,e.to)])}),hoverTooltip(lintTooltip,{hideOn:hideTooltip}),baseTheme];var basicSetup=function n(e){e===void 0&&(e={});var{crosshairCursor:o=!1}=e,a=[];e.closeBracketsKeymap!==!1&&(a=a.concat(closeBracketsKeymap)),e.defaultKeymap!==!1&&(a=a.concat(defaultKeymap)),e.searchKeymap!==!1&&(a=a.concat(searchKeymap)),e.historyKeymap!==!1&&(a=a.concat(historyKeymap)),e.foldKeymap!==!1&&(a=a.concat(foldKeymap)),e.completionKeymap!==!1&&(a=a.concat(completionKeymap)),e.lintKeymap!==!1&&(a=a.concat(lintKeymap));var l=[];return e.lineNumbers!==!1&&l.push(lineNumbers()),e.highlightActiveLineGutter!==!1&&l.push(highlightActiveLineGutter()),e.highlightSpecialChars!==!1&&l.push(highlightSpecialChars()),e.history!==!1&&l.push(history()),e.foldGutter!==!1&&l.push(foldGutter()),e.drawSelection!==!1&&l.push(drawSelection()),e.dropCursor!==!1&&l.push(dropCursor()),e.allowMultipleSelections!==!1&&l.push(EditorState.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&l.push(indentOnInput()),e.syntaxHighlighting!==!1&&l.push(syntaxHighlighting(defaultHighlightStyle,{fallback:!0})),e.bracketMatching!==!1&&l.push(bracketMatching()),e.closeBrackets!==!1&&l.push(closeBrackets()),e.autocompletion!==!1&&l.push(autocompletion()),e.rectangularSelection!==!1&&l.push(rectangularSelection()),o!==!1&&l.push(crosshairCursor()),e.highlightActiveLine!==!1&&l.push(highlightActiveLine()),e.highlightSelectionMatches!==!1&&l.push(highlightSelectionMatches()),e.tabSize&&typeof e.tabSize=="number"&&l.push(indentUnit.of(" ".repeat(e.tabSize))),l.concat([keymap.of(a.flat())]).filter(Boolean)};const chalky="#e5c07b",coral="#e06c75",cyan="#56b6c2",invalid="#ffffff",ivory="#abb2bf",stone="#7d8799",malibu="#61afef",sage="#98c379",whiskey="#d19a66",violet="#c678dd",darkBackground="#21252b",highlightBackground="#2c313a",background="#282c34",tooltipBackground="#353a42",selection="#3E4451",cursor="#528bff",oneDarkTheme=EditorView.theme({"&":{color:ivory,backgroundColor:background},".cm-content":{caretColor:cursor},".cm-cursor, .cm-dropCursor":{borderLeftColor:cursor},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:selection},".cm-panels":{backgroundColor:darkBackground,color:ivory},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:background,color:stone,border:"none"},".cm-activeLineGutter":{backgroundColor:highlightBackground},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:tooltipBackground},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:tooltipBackground,borderBottomColor:tooltipBackground},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:highlightBackground,color:ivory}}},{dark:!0}),oneDarkHighlightStyle=HighlightStyle.define([{tag:tags.keyword,color:violet},{tag:[tags.name,tags.deleted,tags.character,tags.propertyName,tags.macroName],color:coral},{tag:[tags.function(tags.variableName),tags.labelName],color:malibu},{tag:[tags.color,tags.constant(tags.name),tags.standard(tags.name)],color:whiskey},{tag:[tags.definition(tags.name),tags.separator],color:ivory},{tag:[tags.typeName,tags.className,tags.number,tags.changed,tags.annotation,tags.modifier,tags.self,tags.namespace],color:chalky},{tag:[tags.operator,tags.operatorKeyword,tags.url,tags.escape,tags.regexp,tags.link,tags.special(tags.string)],color:cyan},{tag:[tags.meta,tags.comment],color:stone},{tag:tags.strong,fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.link,color:stone,textDecoration:"underline"},{tag:tags.heading,fontWeight:"bold",color:coral},{tag:[tags.atom,tags.bool,tags.special(tags.variableName)],color:whiskey},{tag:[tags.processingInstruction,tags.string,tags.inserted],color:sage},{tag:tags.invalid,color:invalid}]),oneDark=[oneDarkTheme,syntaxHighlighting(oneDarkHighlightStyle)];var defaultLightThemeOption=EditorView.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),getDefaultExtensions=function n(e){e===void 0&&(e={});var{indentWithTab:o=!0,editable:a=!0,readOnly:l=!1,theme:u="light",placeholder:c="",basicSetup:f=!0}=e,p=[];switch(o&&p.unshift(keymap.of([indentWithTab])),f&&(typeof f=="boolean"?p.unshift(basicSetup()):p.unshift(basicSetup(f))),c&&p.unshift(placeholder(c)),u){case"light":p.push(defaultLightThemeOption);break;case"dark":p.push(oneDark);break;case"none":break;default:p.push(u);break}return a===!1&&p.push(EditorView.editable.of(!1)),l&&p.push(EditorState.readOnly.of(!0)),[...p]},getStatistics=n=>({line:n.state.doc.lineAt(n.state.selection.main.from),lineCount:n.state.doc.lines,lineBreak:n.state.lineBreak,length:n.state.doc.length,readOnly:n.state.readOnly,tabSize:n.state.tabSize,selection:n.state.selection,selectionAsSingle:n.state.selection.asSingle().main,ranges:n.state.selection.ranges,selectionCode:n.state.sliceDoc(n.state.selection.main.from,n.state.selection.main.to),selections:n.state.selection.ranges.map(e=>n.state.sliceDoc(e.from,e.to)),selectedText:n.state.selection.ranges.some(e=>!e.empty)});class TimeoutLatch{constructor(e,o){this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=o,this.timeoutMS=o,this.callbacks.push(e)}tick(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var e=this.callbacks.slice();this.callbacks.length=0,e.forEach(o=>{try{o()}catch(a){console.error("TimeoutLatch callback error:",a)}})}}cancel(){this.isCancelled=!0,this.callbacks.length=0}reset(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}get isDone(){return this.isCancelled||this.isTimeExhausted}}class Scheduler{constructor(){this.interval=null,this.latches=new Set}add(e){this.latches.add(e),this.start()}remove(e){this.latches.delete(e),this.latches.size===0&&this.stop()}start(){this.interval===null&&(this.interval=setInterval(()=>{this.latches.forEach(e=>{e.tick(),e.isDone&&this.remove(e)})},1))}stop(){this.interval!==null&&(clearInterval(this.interval),this.interval=null)}}var globalScheduler=null,getScheduler=()=>typeof window>"u"?new Scheduler:(globalScheduler||(globalScheduler=new Scheduler),globalScheduler),ExternalChange=Annotation.define(),TYPING_TIMOUT=200,emptyExtensions=[];function useCodeMirror(n){var{value:e,selection:o,onChange:a,onStatistics:l,onCreateEditor:u,onUpdate:c,extensions:f=emptyExtensions,autoFocus:p,theme:T="light",height:E=null,minHeight:b=null,maxHeight:m=null,width:y=null,minWidth:S=null,maxWidth:v=null,placeholder:A="",editable:w=!0,readOnly:R=!1,indentWithTab:P=!0,basicSetup:F=!0,root:B,initialState:G}=n,[K,le]=reactExports.useState(),[V,X]=reactExports.useState(),[W,H]=reactExports.useState(),te=reactExports.useState(()=>({current:null}))[0],L=reactExports.useState(()=>({current:null}))[0],ue=EditorView.theme({"&":{height:E,minHeight:b,maxHeight:m,width:y,minWidth:S,maxWidth:v},"& .cm-scroller":{height:"100% !important"}}),Ce=EditorView.updateListener.of(he=>{if(he.docChanged&&typeof a=="function"&&!he.transactions.some(Z=>Z.annotation(ExternalChange))){te.current?te.current.reset():(te.current=new TimeoutLatch(()=>{if(L.current){var Z=L.current;L.current=null,Z()}te.current=null},TYPING_TIMOUT),getScheduler().add(te.current));var j=he.state.doc,Y=j.toString();a(Y,he)}l&&l(getStatistics(he))}),fe=getDefaultExtensions({theme:T,editable:w,readOnly:R,placeholder:A,indentWithTab:P,basicSetup:F}),ye=[Ce,ue,...fe];return c&&typeof c=="function"&&ye.push(EditorView.updateListener.of(c)),ye=ye.concat(f),reactExports.useLayoutEffect(()=>{if(K&&!W){var he={doc:e,selection:o,extensions:ye},j=G?EditorState.fromJSON(G.json,he,G.fields):EditorState.create(he);if(H(j),!V){var Y=new EditorView({state:j,parent:K,root:B});X(Y),u&&u(Y,j)}}return()=>{V&&(H(void 0),X(void 0))}},[K,W]),reactExports.useEffect(()=>{n.container&&le(n.container)},[n.container]),reactExports.useEffect(()=>()=>{V&&(V.destroy(),X(void 0)),te.current&&(te.current.cancel(),te.current=null)},[V]),reactExports.useEffect(()=>{p&&V&&V.focus()},[p,V]),reactExports.useEffect(()=>{V&&V.dispatch({effects:StateEffect.reconfigure.of(ye)})},[T,f,E,b,m,y,S,v,A,w,R,P,F,a,c]),reactExports.useEffect(()=>{if(e!==void 0){var he=V?V.state.doc.toString():"";if(V&&e!==he){var j=te.current&&!te.current.isDone,Y=()=>{V&&e!==V.state.doc.toString()&&V.dispatch({changes:{from:0,to:V.state.doc.toString().length,insert:e||""},annotations:[ExternalChange.of(!0)]})};j?L.current=Y:Y()}}},[e,V]),{state:W,setState:H,view:V,setView:X,container:K,setContainer:le}}var _excluded=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],ReactCodeMirror=reactExports.forwardRef((n,e)=>{var{className:o,value:a="",selection:l,extensions:u=[],onChange:c,onStatistics:f,onCreateEditor:p,onUpdate:T,autoFocus:E,theme:b="light",height:m,minHeight:y,maxHeight:S,width:v,minWidth:A,maxWidth:w,basicSetup:R,placeholder:P,indentWithTab:F,editable:B,readOnly:G,root:K,initialState:le}=n,V=_objectWithoutPropertiesLoose(n,_excluded),X=reactExports.useRef(null),{state:W,view:H,container:te,setContainer:L}=useCodeMirror({root:K,value:a,autoFocus:E,theme:b,height:m,minHeight:y,maxHeight:S,width:v,minWidth:A,maxWidth:w,basicSetup:R,placeholder:P,indentWithTab:F,editable:B,readOnly:G,selection:l,onChange:c,onStatistics:f,onCreateEditor:p,onUpdate:T,extensions:u,initialState:le});reactExports.useImperativeHandle(e,()=>({editor:X.current,state:W,view:H}),[X,te,W,H]);var ue=reactExports.useCallback(fe=>{X.current=fe,L(fe)},[L]);if(typeof a!="string")throw new Error("value must be typeof string but got "+typeof a);var Ce=typeof b=="string"?"cm-theme-"+b:"cm-theme";return jsxRuntimeExports.jsx("div",_extends({ref:ue,className:""+Ce+(o?" "+o:"")},V))});ReactCodeMirror.displayName="CodeMirror";/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function isNothing(n){return typeof n>"u"||n===null}function isObject(n){return typeof n=="object"&&n!==null}function toArray(n){return Array.isArray(n)?n:isNothing(n)?[]:[n]}function extend(n,e){var o,a,l,u;if(e)for(u=Object.keys(e),o=0,a=u.length;o<a;o+=1)l=u[o],n[l]=e[l];return n}function repeat(n,e){var o="",a;for(a=0;a<e;a+=1)o+=n;return o}function isNegativeZero(n){return n===0&&Number.NEGATIVE_INFINITY===1/n}var isNothing_1=isNothing,isObject_1=isObject,toArray_1=toArray,repeat_1=repeat,isNegativeZero_1=isNegativeZero,extend_1=extend,common={isNothing:isNothing_1,isObject:isObject_1,toArray:toArray_1,repeat:repeat_1,isNegativeZero:isNegativeZero_1,extend:extend_1};function formatError(n,e){var o="",a=n.reason||"(unknown reason)";return n.mark?(n.mark.name&&(o+='in "'+n.mark.name+'" '),o+="("+(n.mark.line+1)+":"+(n.mark.column+1)+")",!e&&n.mark.snippet&&(o+=`

`+n.mark.snippet),a+" "+o):a}function YAMLException$1(n,e){Error.call(this),this.name="YAMLException",this.reason=n,this.mark=e,this.message=formatError(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}YAMLException$1.prototype=Object.create(Error.prototype);YAMLException$1.prototype.constructor=YAMLException$1;YAMLException$1.prototype.toString=function n(e){return this.name+": "+formatError(this,e)};var exception=YAMLException$1,TYPE_CONSTRUCTOR_OPTIONS=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],YAML_NODE_KINDS=["scalar","sequence","mapping"];function compileStyleAliases(n){var e={};return n!==null&&Object.keys(n).forEach(function(o){n[o].forEach(function(a){e[String(a)]=o})}),e}function Type$1(n,e){if(e=e||{},Object.keys(e).forEach(function(o){if(TYPE_CONSTRUCTOR_OPTIONS.indexOf(o)===-1)throw new exception('Unknown option "'+o+'" is met in definition of "'+n+'" YAML type.')}),this.options=e,this.tag=n,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(o){return o},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=compileStyleAliases(e.styleAliases||null),YAML_NODE_KINDS.indexOf(this.kind)===-1)throw new exception('Unknown kind "'+this.kind+'" is specified for "'+n+'" YAML type.')}var type=Type$1;function compileList(n,e){var o=[];return n[e].forEach(function(a){var l=o.length;o.forEach(function(u,c){u.tag===a.tag&&u.kind===a.kind&&u.multi===a.multi&&(l=c)}),o[l]=a}),o}function compileMap(){var n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,o;function a(l){l.multi?(n.multi[l.kind].push(l),n.multi.fallback.push(l)):n[l.kind][l.tag]=n.fallback[l.tag]=l}for(e=0,o=arguments.length;e<o;e+=1)arguments[e].forEach(a);return n}function Schema$1(n){return this.extend(n)}Schema$1.prototype.extend=function n(e){var o=[],a=[];if(e instanceof type)a.push(e);else if(Array.isArray(e))a=a.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(o=o.concat(e.implicit)),e.explicit&&(a=a.concat(e.explicit));else throw new exception("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");o.forEach(function(u){if(!(u instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(u.loadKind&&u.loadKind!=="scalar")throw new exception("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(u.multi)throw new exception("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),a.forEach(function(u){if(!(u instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var l=Object.create(Schema$1.prototype);return l.implicit=(this.implicit||[]).concat(o),l.explicit=(this.explicit||[]).concat(a),l.compiledImplicit=compileList(l,"implicit"),l.compiledExplicit=compileList(l,"explicit"),l.compiledTypeMap=compileMap(l.compiledImplicit,l.compiledExplicit),l};var schema=Schema$1,str=new type("tag:yaml.org,2002:str",{kind:"scalar",construct:function(n){return n!==null?n:""}}),seq=new type("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(n){return n!==null?n:[]}}),map=new type("tag:yaml.org,2002:map",{kind:"mapping",construct:function(n){return n!==null?n:{}}}),failsafe=new schema({explicit:[str,seq,map]});function resolveYamlNull(n){if(n===null)return!0;var e=n.length;return e===1&&n==="~"||e===4&&(n==="null"||n==="Null"||n==="NULL")}function constructYamlNull(){return null}function isNull(n){return n===null}var _null=new type("tag:yaml.org,2002:null",{kind:"scalar",resolve:resolveYamlNull,construct:constructYamlNull,predicate:isNull,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function resolveYamlBoolean(n){if(n===null)return!1;var e=n.length;return e===4&&(n==="true"||n==="True"||n==="TRUE")||e===5&&(n==="false"||n==="False"||n==="FALSE")}function constructYamlBoolean(n){return n==="true"||n==="True"||n==="TRUE"}function isBoolean(n){return Object.prototype.toString.call(n)==="[object Boolean]"}var bool=new type("tag:yaml.org,2002:bool",{kind:"scalar",resolve:resolveYamlBoolean,construct:constructYamlBoolean,predicate:isBoolean,represent:{lowercase:function(n){return n?"true":"false"},uppercase:function(n){return n?"TRUE":"FALSE"},camelcase:function(n){return n?"True":"False"}},defaultStyle:"lowercase"});function isHexCode(n){return 48<=n&&n<=57||65<=n&&n<=70||97<=n&&n<=102}function isOctCode(n){return 48<=n&&n<=55}function isDecCode(n){return 48<=n&&n<=57}function resolveYamlInteger(n){if(n===null)return!1;var e=n.length,o=0,a=!1,l;if(!e)return!1;if(l=n[o],(l==="-"||l==="+")&&(l=n[++o]),l==="0"){if(o+1===e)return!0;if(l=n[++o],l==="b"){for(o++;o<e;o++)if(l=n[o],l!=="_"){if(l!=="0"&&l!=="1")return!1;a=!0}return a&&l!=="_"}if(l==="x"){for(o++;o<e;o++)if(l=n[o],l!=="_"){if(!isHexCode(n.charCodeAt(o)))return!1;a=!0}return a&&l!=="_"}if(l==="o"){for(o++;o<e;o++)if(l=n[o],l!=="_"){if(!isOctCode(n.charCodeAt(o)))return!1;a=!0}return a&&l!=="_"}}if(l==="_")return!1;for(;o<e;o++)if(l=n[o],l!=="_"){if(!isDecCode(n.charCodeAt(o)))return!1;a=!0}return!(!a||l==="_")}function constructYamlInteger(n){var e=n,o=1,a;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),a=e[0],(a==="-"||a==="+")&&(a==="-"&&(o=-1),e=e.slice(1),a=e[0]),e==="0")return 0;if(a==="0"){if(e[1]==="b")return o*parseInt(e.slice(2),2);if(e[1]==="x")return o*parseInt(e.slice(2),16);if(e[1]==="o")return o*parseInt(e.slice(2),8)}return o*parseInt(e,10)}function isInteger(n){return Object.prototype.toString.call(n)==="[object Number]"&&n%1===0&&!common.isNegativeZero(n)}var int=new type("tag:yaml.org,2002:int",{kind:"scalar",resolve:resolveYamlInteger,construct:constructYamlInteger,predicate:isInteger,represent:{binary:function(n){return n>=0?"0b"+n.toString(2):"-0b"+n.toString(2).slice(1)},octal:function(n){return n>=0?"0o"+n.toString(8):"-0o"+n.toString(8).slice(1)},decimal:function(n){return n.toString(10)},hexadecimal:function(n){return n>=0?"0x"+n.toString(16).toUpperCase():"-0x"+n.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),YAML_FLOAT_PATTERN=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function resolveYamlFloat(n){return!(n===null||!YAML_FLOAT_PATTERN.test(n)||n[n.length-1]==="_")}function constructYamlFloat(n){var e,o;return e=n.replace(/_/g,"").toLowerCase(),o=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?o===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:o*parseFloat(e,10)}var SCIENTIFIC_WITHOUT_DOT=/^[-+]?[0-9]+e/;function representYamlFloat(n,e){var o;if(isNaN(n))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===n)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===n)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(common.isNegativeZero(n))return"-0.0";return o=n.toString(10),SCIENTIFIC_WITHOUT_DOT.test(o)?o.replace("e",".e"):o}function isFloat(n){return Object.prototype.toString.call(n)==="[object Number]"&&(n%1!==0||common.isNegativeZero(n))}var float=new type("tag:yaml.org,2002:float",{kind:"scalar",resolve:resolveYamlFloat,construct:constructYamlFloat,predicate:isFloat,represent:representYamlFloat,defaultStyle:"lowercase"}),json=failsafe.extend({implicit:[_null,bool,int,float]}),core=json,YAML_DATE_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),YAML_TIMESTAMP_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function resolveYamlTimestamp(n){return n===null?!1:YAML_DATE_REGEXP.exec(n)!==null||YAML_TIMESTAMP_REGEXP.exec(n)!==null}function constructYamlTimestamp(n){var e,o,a,l,u,c,f,p=0,T=null,E,b,m;if(e=YAML_DATE_REGEXP.exec(n),e===null&&(e=YAML_TIMESTAMP_REGEXP.exec(n)),e===null)throw new Error("Date resolve error");if(o=+e[1],a=+e[2]-1,l=+e[3],!e[4])return new Date(Date.UTC(o,a,l));if(u=+e[4],c=+e[5],f=+e[6],e[7]){for(p=e[7].slice(0,3);p.length<3;)p+="0";p=+p}return e[9]&&(E=+e[10],b=+(e[11]||0),T=(E*60+b)*6e4,e[9]==="-"&&(T=-T)),m=new Date(Date.UTC(o,a,l,u,c,f,p)),T&&m.setTime(m.getTime()-T),m}function representYamlTimestamp(n){return n.toISOString()}var timestamp=new type("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:resolveYamlTimestamp,construct:constructYamlTimestamp,instanceOf:Date,represent:representYamlTimestamp});function resolveYamlMerge(n){return n==="<<"||n===null}var merge=new type("tag:yaml.org,2002:merge",{kind:"scalar",resolve:resolveYamlMerge}),BASE64_MAP=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function resolveYamlBinary(n){if(n===null)return!1;var e,o,a=0,l=n.length,u=BASE64_MAP;for(o=0;o<l;o++)if(e=u.indexOf(n.charAt(o)),!(e>64)){if(e<0)return!1;a+=6}return a%8===0}function constructYamlBinary(n){var e,o,a=n.replace(/[\r\n=]/g,""),l=a.length,u=BASE64_MAP,c=0,f=[];for(e=0;e<l;e++)e%4===0&&e&&(f.push(c>>16&255),f.push(c>>8&255),f.push(c&255)),c=c<<6|u.indexOf(a.charAt(e));return o=l%4*6,o===0?(f.push(c>>16&255),f.push(c>>8&255),f.push(c&255)):o===18?(f.push(c>>10&255),f.push(c>>2&255)):o===12&&f.push(c>>4&255),new Uint8Array(f)}function representYamlBinary(n){var e="",o=0,a,l,u=n.length,c=BASE64_MAP;for(a=0;a<u;a++)a%3===0&&a&&(e+=c[o>>18&63],e+=c[o>>12&63],e+=c[o>>6&63],e+=c[o&63]),o=(o<<8)+n[a];return l=u%3,l===0?(e+=c[o>>18&63],e+=c[o>>12&63],e+=c[o>>6&63],e+=c[o&63]):l===2?(e+=c[o>>10&63],e+=c[o>>4&63],e+=c[o<<2&63],e+=c[64]):l===1&&(e+=c[o>>2&63],e+=c[o<<4&63],e+=c[64],e+=c[64]),e}function isBinary(n){return Object.prototype.toString.call(n)==="[object Uint8Array]"}var binary=new type("tag:yaml.org,2002:binary",{kind:"scalar",resolve:resolveYamlBinary,construct:constructYamlBinary,predicate:isBinary,represent:representYamlBinary}),_hasOwnProperty$3=Object.prototype.hasOwnProperty,_toString$2=Object.prototype.toString;function resolveYamlOmap(n){if(n===null)return!0;var e=[],o,a,l,u,c,f=n;for(o=0,a=f.length;o<a;o+=1){if(l=f[o],c=!1,_toString$2.call(l)!=="[object Object]")return!1;for(u in l)if(_hasOwnProperty$3.call(l,u))if(!c)c=!0;else return!1;if(!c)return!1;if(e.indexOf(u)===-1)e.push(u);else return!1}return!0}function constructYamlOmap(n){return n!==null?n:[]}var omap=new type("tag:yaml.org,2002:omap",{kind:"sequence",resolve:resolveYamlOmap,construct:constructYamlOmap}),_toString$1=Object.prototype.toString;function resolveYamlPairs(n){if(n===null)return!0;var e,o,a,l,u,c=n;for(u=new Array(c.length),e=0,o=c.length;e<o;e+=1){if(a=c[e],_toString$1.call(a)!=="[object Object]"||(l=Object.keys(a),l.length!==1))return!1;u[e]=[l[0],a[l[0]]]}return!0}function constructYamlPairs(n){if(n===null)return[];var e,o,a,l,u,c=n;for(u=new Array(c.length),e=0,o=c.length;e<o;e+=1)a=c[e],l=Object.keys(a),u[e]=[l[0],a[l[0]]];return u}var pairs=new type("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:resolveYamlPairs,construct:constructYamlPairs}),_hasOwnProperty$2=Object.prototype.hasOwnProperty;function resolveYamlSet(n){if(n===null)return!0;var e,o=n;for(e in o)if(_hasOwnProperty$2.call(o,e)&&o[e]!==null)return!1;return!0}function constructYamlSet(n){return n!==null?n:{}}var set=new type("tag:yaml.org,2002:set",{kind:"mapping",resolve:resolveYamlSet,construct:constructYamlSet}),_default=core.extend({implicit:[timestamp,merge],explicit:[binary,omap,pairs,set]});function simpleEscapeSequence(n){return n===48?"\0":n===97?"\x07":n===98?"\b":n===116||n===9?"	":n===110?`
`:n===118?"\v":n===102?"\f":n===114?"\r":n===101?"\x1B":n===32?" ":n===34?'"':n===47?"/":n===92?"\\":n===78?"":n===95?"":n===76?"\u2028":n===80?"\u2029":""}var simpleEscapeCheck=new Array(256),simpleEscapeMap=new Array(256);for(var i=0;i<256;i++)simpleEscapeCheck[i]=simpleEscapeSequence(i)?1:0,simpleEscapeMap[i]=simpleEscapeSequence(i);var _toString=Object.prototype.toString,_hasOwnProperty=Object.prototype.hasOwnProperty,CHAR_BOM=65279,CHAR_TAB=9,CHAR_LINE_FEED=10,CHAR_CARRIAGE_RETURN=13,CHAR_SPACE=32,CHAR_EXCLAMATION=33,CHAR_DOUBLE_QUOTE=34,CHAR_SHARP=35,CHAR_PERCENT=37,CHAR_AMPERSAND=38,CHAR_SINGLE_QUOTE=39,CHAR_ASTERISK=42,CHAR_COMMA=44,CHAR_MINUS=45,CHAR_COLON=58,CHAR_EQUALS=61,CHAR_GREATER_THAN=62,CHAR_QUESTION=63,CHAR_COMMERCIAL_AT=64,CHAR_LEFT_SQUARE_BRACKET=91,CHAR_RIGHT_SQUARE_BRACKET=93,CHAR_GRAVE_ACCENT=96,CHAR_LEFT_CURLY_BRACKET=123,CHAR_VERTICAL_LINE=124,CHAR_RIGHT_CURLY_BRACKET=125,ESCAPE_SEQUENCES={};ESCAPE_SEQUENCES[0]="\\0";ESCAPE_SEQUENCES[7]="\\a";ESCAPE_SEQUENCES[8]="\\b";ESCAPE_SEQUENCES[9]="\\t";ESCAPE_SEQUENCES[10]="\\n";ESCAPE_SEQUENCES[11]="\\v";ESCAPE_SEQUENCES[12]="\\f";ESCAPE_SEQUENCES[13]="\\r";ESCAPE_SEQUENCES[27]="\\e";ESCAPE_SEQUENCES[34]='\\"';ESCAPE_SEQUENCES[92]="\\\\";ESCAPE_SEQUENCES[133]="\\N";ESCAPE_SEQUENCES[160]="\\_";ESCAPE_SEQUENCES[8232]="\\L";ESCAPE_SEQUENCES[8233]="\\P";var DEPRECATED_BOOLEANS_SYNTAX=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],DEPRECATED_BASE60_SYNTAX=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function compileStyleMap(n,e){var o,a,l,u,c,f,p;if(e===null)return{};for(o={},a=Object.keys(e),l=0,u=a.length;l<u;l+=1)c=a[l],f=String(e[c]),c.slice(0,2)==="!!"&&(c="tag:yaml.org,2002:"+c.slice(2)),p=n.compiledTypeMap.fallback[c],p&&_hasOwnProperty.call(p.styleAliases,f)&&(f=p.styleAliases[f]),o[c]=f;return o}function encodeHex(n){var e,o,a;if(e=n.toString(16).toUpperCase(),n<=255)o="x",a=2;else if(n<=65535)o="u",a=4;else if(n<=4294967295)o="U",a=8;else throw new exception("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+o+common.repeat("0",a-e.length)+e}var QUOTING_TYPE_SINGLE=1,QUOTING_TYPE_DOUBLE=2;function State(n){this.schema=n.schema||_default,this.indent=Math.max(1,n.indent||2),this.noArrayIndent=n.noArrayIndent||!1,this.skipInvalid=n.skipInvalid||!1,this.flowLevel=common.isNothing(n.flowLevel)?-1:n.flowLevel,this.styleMap=compileStyleMap(this.schema,n.styles||null),this.sortKeys=n.sortKeys||!1,this.lineWidth=n.lineWidth||80,this.noRefs=n.noRefs||!1,this.noCompatMode=n.noCompatMode||!1,this.condenseFlow=n.condenseFlow||!1,this.quotingType=n.quotingType==='"'?QUOTING_TYPE_DOUBLE:QUOTING_TYPE_SINGLE,this.forceQuotes=n.forceQuotes||!1,this.replacer=typeof n.replacer=="function"?n.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function indentString(n,e){for(var o=common.repeat(" ",e),a=0,l=-1,u="",c,f=n.length;a<f;)l=n.indexOf(`
`,a),l===-1?(c=n.slice(a),a=f):(c=n.slice(a,l+1),a=l+1),c.length&&c!==`
`&&(u+=o),u+=c;return u}function generateNextLine(n,e){return`
`+common.repeat(" ",n.indent*e)}function testImplicitResolving(n,e){var o,a,l;for(o=0,a=n.implicitTypes.length;o<a;o+=1)if(l=n.implicitTypes[o],l.resolve(e))return!0;return!1}function isWhitespace(n){return n===CHAR_SPACE||n===CHAR_TAB}function isPrintable(n){return 32<=n&&n<=126||161<=n&&n<=55295&&n!==8232&&n!==8233||57344<=n&&n<=65533&&n!==CHAR_BOM||65536<=n&&n<=1114111}function isNsCharOrWhitespace(n){return isPrintable(n)&&n!==CHAR_BOM&&n!==CHAR_CARRIAGE_RETURN&&n!==CHAR_LINE_FEED}function isPlainSafe(n,e,o){var a=isNsCharOrWhitespace(n),l=a&&!isWhitespace(n);return(o?a:a&&n!==CHAR_COMMA&&n!==CHAR_LEFT_SQUARE_BRACKET&&n!==CHAR_RIGHT_SQUARE_BRACKET&&n!==CHAR_LEFT_CURLY_BRACKET&&n!==CHAR_RIGHT_CURLY_BRACKET)&&n!==CHAR_SHARP&&!(e===CHAR_COLON&&!l)||isNsCharOrWhitespace(e)&&!isWhitespace(e)&&n===CHAR_SHARP||e===CHAR_COLON&&l}function isPlainSafeFirst(n){return isPrintable(n)&&n!==CHAR_BOM&&!isWhitespace(n)&&n!==CHAR_MINUS&&n!==CHAR_QUESTION&&n!==CHAR_COLON&&n!==CHAR_COMMA&&n!==CHAR_LEFT_SQUARE_BRACKET&&n!==CHAR_RIGHT_SQUARE_BRACKET&&n!==CHAR_LEFT_CURLY_BRACKET&&n!==CHAR_RIGHT_CURLY_BRACKET&&n!==CHAR_SHARP&&n!==CHAR_AMPERSAND&&n!==CHAR_ASTERISK&&n!==CHAR_EXCLAMATION&&n!==CHAR_VERTICAL_LINE&&n!==CHAR_EQUALS&&n!==CHAR_GREATER_THAN&&n!==CHAR_SINGLE_QUOTE&&n!==CHAR_DOUBLE_QUOTE&&n!==CHAR_PERCENT&&n!==CHAR_COMMERCIAL_AT&&n!==CHAR_GRAVE_ACCENT}function isPlainSafeLast(n){return!isWhitespace(n)&&n!==CHAR_COLON}function codePointAt(n,e){var o=n.charCodeAt(e),a;return o>=55296&&o<=56319&&e+1<n.length&&(a=n.charCodeAt(e+1),a>=56320&&a<=57343)?(o-55296)*1024+a-56320+65536:o}function needIndentIndicator(n){var e=/^\n* /;return e.test(n)}var STYLE_PLAIN=1,STYLE_SINGLE=2,STYLE_LITERAL=3,STYLE_FOLDED=4,STYLE_DOUBLE=5;function chooseScalarStyle(n,e,o,a,l,u,c,f){var p,T=0,E=null,b=!1,m=!1,y=a!==-1,S=-1,v=isPlainSafeFirst(codePointAt(n,0))&&isPlainSafeLast(codePointAt(n,n.length-1));if(e||c)for(p=0;p<n.length;T>=65536?p+=2:p++){if(T=codePointAt(n,p),!isPrintable(T))return STYLE_DOUBLE;v=v&&isPlainSafe(T,E,f),E=T}else{for(p=0;p<n.length;T>=65536?p+=2:p++){if(T=codePointAt(n,p),T===CHAR_LINE_FEED)b=!0,y&&(m=m||p-S-1>a&&n[S+1]!==" ",S=p);else if(!isPrintable(T))return STYLE_DOUBLE;v=v&&isPlainSafe(T,E,f),E=T}m=m||y&&p-S-1>a&&n[S+1]!==" "}return!b&&!m?v&&!c&&!l(n)?STYLE_PLAIN:u===QUOTING_TYPE_DOUBLE?STYLE_DOUBLE:STYLE_SINGLE:o>9&&needIndentIndicator(n)?STYLE_DOUBLE:c?u===QUOTING_TYPE_DOUBLE?STYLE_DOUBLE:STYLE_SINGLE:m?STYLE_FOLDED:STYLE_LITERAL}function writeScalar(n,e,o,a,l){n.dump=function(){if(e.length===0)return n.quotingType===QUOTING_TYPE_DOUBLE?'""':"''";if(!n.noCompatMode&&(DEPRECATED_BOOLEANS_SYNTAX.indexOf(e)!==-1||DEPRECATED_BASE60_SYNTAX.test(e)))return n.quotingType===QUOTING_TYPE_DOUBLE?'"'+e+'"':"'"+e+"'";var u=n.indent*Math.max(1,o),c=n.lineWidth===-1?-1:Math.max(Math.min(n.lineWidth,40),n.lineWidth-u),f=a||n.flowLevel>-1&&o>=n.flowLevel;function p(T){return testImplicitResolving(n,T)}switch(chooseScalarStyle(e,f,n.indent,c,p,n.quotingType,n.forceQuotes&&!a,l)){case STYLE_PLAIN:return e;case STYLE_SINGLE:return"'"+e.replace(/'/g,"''")+"'";case STYLE_LITERAL:return"|"+blockHeader(e,n.indent)+dropEndingNewline(indentString(e,u));case STYLE_FOLDED:return">"+blockHeader(e,n.indent)+dropEndingNewline(indentString(foldString(e,c),u));case STYLE_DOUBLE:return'"'+escapeString(e)+'"';default:throw new exception("impossible error: invalid scalar style")}}()}function blockHeader(n,e){var o=needIndentIndicator(n)?String(e):"",a=n[n.length-1]===`
`,l=a&&(n[n.length-2]===`
`||n===`
`),u=l?"+":a?"":"-";return o+u+`
`}function dropEndingNewline(n){return n[n.length-1]===`
`?n.slice(0,-1):n}function foldString(n,e){for(var o=/(\n+)([^\n]*)/g,a=function(){var T=n.indexOf(`
`);return T=T!==-1?T:n.length,o.lastIndex=T,foldLine(n.slice(0,T),e)}(),l=n[0]===`
`||n[0]===" ",u,c;c=o.exec(n);){var f=c[1],p=c[2];u=p[0]===" ",a+=f+(!l&&!u&&p!==""?`
`:"")+foldLine(p,e),l=u}return a}function foldLine(n,e){if(n===""||n[0]===" ")return n;for(var o=/ [^ ]/g,a,l=0,u,c=0,f=0,p="";a=o.exec(n);)f=a.index,f-l>e&&(u=c>l?c:f,p+=`
`+n.slice(l,u),l=u+1),c=f;return p+=`
`,n.length-l>e&&c>l?p+=n.slice(l,c)+`
`+n.slice(c+1):p+=n.slice(l),p.slice(1)}function escapeString(n){for(var e="",o=0,a,l=0;l<n.length;o>=65536?l+=2:l++)o=codePointAt(n,l),a=ESCAPE_SEQUENCES[o],!a&&isPrintable(o)?(e+=n[l],o>=65536&&(e+=n[l+1])):e+=a||encodeHex(o);return e}function writeFlowSequence(n,e,o){var a="",l=n.tag,u,c,f;for(u=0,c=o.length;u<c;u+=1)f=o[u],n.replacer&&(f=n.replacer.call(o,String(u),f)),(writeNode(n,e,f,!1,!1)||typeof f>"u"&&writeNode(n,e,null,!1,!1))&&(a!==""&&(a+=","+(n.condenseFlow?"":" ")),a+=n.dump);n.tag=l,n.dump="["+a+"]"}function writeBlockSequence(n,e,o,a){var l="",u=n.tag,c,f,p;for(c=0,f=o.length;c<f;c+=1)p=o[c],n.replacer&&(p=n.replacer.call(o,String(c),p)),(writeNode(n,e+1,p,!0,!0,!1,!0)||typeof p>"u"&&writeNode(n,e+1,null,!0,!0,!1,!0))&&((!a||l!=="")&&(l+=generateNextLine(n,e)),n.dump&&CHAR_LINE_FEED===n.dump.charCodeAt(0)?l+="-":l+="- ",l+=n.dump);n.tag=u,n.dump=l||"[]"}function writeFlowMapping(n,e,o){var a="",l=n.tag,u=Object.keys(o),c,f,p,T,E;for(c=0,f=u.length;c<f;c+=1)E="",a!==""&&(E+=", "),n.condenseFlow&&(E+='"'),p=u[c],T=o[p],n.replacer&&(T=n.replacer.call(o,p,T)),writeNode(n,e,p,!1,!1)&&(n.dump.length>1024&&(E+="? "),E+=n.dump+(n.condenseFlow?'"':"")+":"+(n.condenseFlow?"":" "),writeNode(n,e,T,!1,!1)&&(E+=n.dump,a+=E));n.tag=l,n.dump="{"+a+"}"}function writeBlockMapping(n,e,o,a){var l="",u=n.tag,c=Object.keys(o),f,p,T,E,b,m;if(n.sortKeys===!0)c.sort();else if(typeof n.sortKeys=="function")c.sort(n.sortKeys);else if(n.sortKeys)throw new exception("sortKeys must be a boolean or a function");for(f=0,p=c.length;f<p;f+=1)m="",(!a||l!=="")&&(m+=generateNextLine(n,e)),T=c[f],E=o[T],n.replacer&&(E=n.replacer.call(o,T,E)),writeNode(n,e+1,T,!0,!0,!0)&&(b=n.tag!==null&&n.tag!=="?"||n.dump&&n.dump.length>1024,b&&(n.dump&&CHAR_LINE_FEED===n.dump.charCodeAt(0)?m+="?":m+="? "),m+=n.dump,b&&(m+=generateNextLine(n,e)),writeNode(n,e+1,E,!0,b)&&(n.dump&&CHAR_LINE_FEED===n.dump.charCodeAt(0)?m+=":":m+=": ",m+=n.dump,l+=m));n.tag=u,n.dump=l||"{}"}function detectType(n,e,o){var a,l,u,c,f,p;for(l=o?n.explicitTypes:n.implicitTypes,u=0,c=l.length;u<c;u+=1)if(f=l[u],(f.instanceOf||f.predicate)&&(!f.instanceOf||typeof e=="object"&&e instanceof f.instanceOf)&&(!f.predicate||f.predicate(e))){if(o?f.multi&&f.representName?n.tag=f.representName(e):n.tag=f.tag:n.tag="?",f.represent){if(p=n.styleMap[f.tag]||f.defaultStyle,_toString.call(f.represent)==="[object Function]")a=f.represent(e,p);else if(_hasOwnProperty.call(f.represent,p))a=f.represent[p](e,p);else throw new exception("!<"+f.tag+'> tag resolver accepts not "'+p+'" style');n.dump=a}return!0}return!1}function writeNode(n,e,o,a,l,u,c){n.tag=null,n.dump=o,detectType(n,o,!1)||detectType(n,o,!0);var f=_toString.call(n.dump),p=a,T;a&&(a=n.flowLevel<0||n.flowLevel>e);var E=f==="[object Object]"||f==="[object Array]",b,m;if(E&&(b=n.duplicates.indexOf(o),m=b!==-1),(n.tag!==null&&n.tag!=="?"||m||n.indent!==2&&e>0)&&(l=!1),m&&n.usedDuplicates[b])n.dump="*ref_"+b;else{if(E&&m&&!n.usedDuplicates[b]&&(n.usedDuplicates[b]=!0),f==="[object Object]")a&&Object.keys(n.dump).length!==0?(writeBlockMapping(n,e,n.dump,l),m&&(n.dump="&ref_"+b+n.dump)):(writeFlowMapping(n,e,n.dump),m&&(n.dump="&ref_"+b+" "+n.dump));else if(f==="[object Array]")a&&n.dump.length!==0?(n.noArrayIndent&&!c&&e>0?writeBlockSequence(n,e-1,n.dump,l):writeBlockSequence(n,e,n.dump,l),m&&(n.dump="&ref_"+b+n.dump)):(writeFlowSequence(n,e,n.dump),m&&(n.dump="&ref_"+b+" "+n.dump));else if(f==="[object String]")n.tag!=="?"&&writeScalar(n,n.dump,e,u,p);else{if(f==="[object Undefined]")return!1;if(n.skipInvalid)return!1;throw new exception("unacceptable kind of an object to dump "+f)}n.tag!==null&&n.tag!=="?"&&(T=encodeURI(n.tag[0]==="!"?n.tag.slice(1):n.tag).replace(/!/g,"%21"),n.tag[0]==="!"?T="!"+T:T.slice(0,18)==="tag:yaml.org,2002:"?T="!!"+T.slice(18):T="!<"+T+">",n.dump=T+" "+n.dump)}return!0}function getDuplicateReferences(n,e){var o=[],a=[],l,u;for(inspectNode(n,o,a),l=0,u=a.length;l<u;l+=1)e.duplicates.push(o[a[l]]);e.usedDuplicates=new Array(u)}function inspectNode(n,e,o){var a,l,u;if(n!==null&&typeof n=="object")if(l=e.indexOf(n),l!==-1)o.indexOf(l)===-1&&o.push(l);else if(e.push(n),Array.isArray(n))for(l=0,u=n.length;l<u;l+=1)inspectNode(n[l],e,o);else for(a=Object.keys(n),l=0,u=a.length;l<u;l+=1)inspectNode(n[a[l]],e,o)}function dump$1(n,e){e=e||{};var o=new State(e);o.noRefs||getDuplicateReferences(n,o);var a=n;return o.replacer&&(a=o.replacer.call({"":a},"",a)),writeNode(o,0,a,!0,!0)?o.dump+`
`:""}var dump_1=dump$1,dumper={dump:dump_1},dump=dumper.dump,lib={},javaClassReader={},bytebuffer$1={exports:{}},long$1={exports:{}},long=long$1.exports,hasRequiredLong;function requireLong(){return hasRequiredLong||(hasRequiredLong=1,function(n){/**
 * @license long.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/long.js for details
 */(function(e,o){typeof commonjsRequire=="function"&&n&&n.exports?n.exports=o():(e.dcodeIO=e.dcodeIO||{}).Long=o()})(long,function(){function e(X,W,H){this.low=X|0,this.high=W|0,this.unsigned=!!H}e.prototype.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1});function o(X){return(X&&X.__isLong__)===!0}e.isLong=o;var a={},l={};function u(X,W){var H,te,L;return W?(X>>>=0,(L=0<=X&&X<256)&&(te=l[X],te)?te:(H=f(X,(X|0)<0?-1:0,!0),L&&(l[X]=H),H)):(X|=0,(L=-128<=X&&X<128)&&(te=a[X],te)?te:(H=f(X,X<0?-1:0,!1),L&&(a[X]=H),H))}e.fromInt=u;function c(X,W){if(isNaN(X)||!isFinite(X))return W?R:w;if(W){if(X<0)return R;if(X>=S)return K}else{if(X<=-v)return le;if(X+1>=v)return G}return X<0?c(-X,W).neg():f(X%y|0,X/y|0,W)}e.fromNumber=c;function f(X,W,H){return new e(X,W,H)}e.fromBits=f;var p=Math.pow;function T(X,W,H){if(X.length===0)throw Error("empty string");if(X==="NaN"||X==="Infinity"||X==="+Infinity"||X==="-Infinity")return w;if(typeof W=="number"?(H=W,W=!1):W=!!W,H=H||10,H<2||36<H)throw RangeError("radix");var te;if((te=X.indexOf("-"))>0)throw Error("interior hyphen");if(te===0)return T(X.substring(1),W,H).neg();for(var L=c(p(H,8)),ue=w,Ce=0;Ce<X.length;Ce+=8){var fe=Math.min(8,X.length-Ce),ye=parseInt(X.substring(Ce,Ce+fe),H);if(fe<8){var he=c(p(H,fe));ue=ue.mul(he).add(c(ye))}else ue=ue.mul(L),ue=ue.add(c(ye))}return ue.unsigned=W,ue}e.fromString=T;function E(X){return X instanceof e?X:typeof X=="number"?c(X):typeof X=="string"?T(X):f(X.low,X.high,X.unsigned)}e.fromValue=E;var b=65536,m=1<<24,y=b*b,S=y*y,v=S/2,A=u(m),w=u(0);e.ZERO=w;var R=u(0,!0);e.UZERO=R;var P=u(1);e.ONE=P;var F=u(1,!0);e.UONE=F;var B=u(-1);e.NEG_ONE=B;var G=f(-1,2147483647,!1);e.MAX_VALUE=G;var K=f(-1,-1,!0);e.MAX_UNSIGNED_VALUE=K;var le=f(0,-2147483648,!1);e.MIN_VALUE=le;var V=e.prototype;return V.toInt=function(){return this.unsigned?this.low>>>0:this.low},V.toNumber=function(){return this.unsigned?(this.high>>>0)*y+(this.low>>>0):this.high*y+(this.low>>>0)},V.toString=function(W){if(W=W||10,W<2||36<W)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(le)){var H=c(W),te=this.div(H),L=te.mul(H).sub(this);return te.toString(W)+L.toInt().toString(W)}else return"-"+this.neg().toString(W);for(var ue=c(p(W,6),this.unsigned),Ce=this,fe="";;){var ye=Ce.div(ue),he=Ce.sub(ye.mul(ue)).toInt()>>>0,j=he.toString(W);if(Ce=ye,Ce.isZero())return j+fe;for(;j.length<6;)j="0"+j;fe=""+j+fe}},V.getHighBits=function(){return this.high},V.getHighBitsUnsigned=function(){return this.high>>>0},V.getLowBits=function(){return this.low},V.getLowBitsUnsigned=function(){return this.low>>>0},V.getNumBitsAbs=function(){if(this.isNegative())return this.eq(le)?64:this.neg().getNumBitsAbs();for(var W=this.high!=0?this.high:this.low,H=31;H>0&&(W&1<<H)==0;H--);return this.high!=0?H+33:H+1},V.isZero=function(){return this.high===0&&this.low===0},V.isNegative=function(){return!this.unsigned&&this.high<0},V.isPositive=function(){return this.unsigned||this.high>=0},V.isOdd=function(){return(this.low&1)===1},V.isEven=function(){return(this.low&1)===0},V.equals=function(W){return o(W)||(W=E(W)),this.unsigned!==W.unsigned&&this.high>>>31===1&&W.high>>>31===1?!1:this.high===W.high&&this.low===W.low},V.eq=V.equals,V.notEquals=function(W){return!this.eq(W)},V.neq=V.notEquals,V.lessThan=function(W){return this.comp(W)<0},V.lt=V.lessThan,V.lessThanOrEqual=function(W){return this.comp(W)<=0},V.lte=V.lessThanOrEqual,V.greaterThan=function(W){return this.comp(W)>0},V.gt=V.greaterThan,V.greaterThanOrEqual=function(W){return this.comp(W)>=0},V.gte=V.greaterThanOrEqual,V.compare=function(W){if(o(W)||(W=E(W)),this.eq(W))return 0;var H=this.isNegative(),te=W.isNegative();return H&&!te?-1:!H&&te?1:this.unsigned?W.high>>>0>this.high>>>0||W.high===this.high&&W.low>>>0>this.low>>>0?-1:1:this.sub(W).isNegative()?-1:1},V.comp=V.compare,V.negate=function(){return!this.unsigned&&this.eq(le)?le:this.not().add(P)},V.neg=V.negate,V.add=function(W){o(W)||(W=E(W));var H=this.high>>>16,te=this.high&65535,L=this.low>>>16,ue=this.low&65535,Ce=W.high>>>16,fe=W.high&65535,ye=W.low>>>16,he=W.low&65535,j=0,Y=0,Z=0,Q=0;return Q+=ue+he,Z+=Q>>>16,Q&=65535,Z+=L+ye,Y+=Z>>>16,Z&=65535,Y+=te+fe,j+=Y>>>16,Y&=65535,j+=H+Ce,j&=65535,f(Z<<16|Q,j<<16|Y,this.unsigned)},V.subtract=function(W){return o(W)||(W=E(W)),this.add(W.neg())},V.sub=V.subtract,V.multiply=function(W){if(this.isZero()||(o(W)||(W=E(W)),W.isZero()))return w;if(this.eq(le))return W.isOdd()?le:w;if(W.eq(le))return this.isOdd()?le:w;if(this.isNegative())return W.isNegative()?this.neg().mul(W.neg()):this.neg().mul(W).neg();if(W.isNegative())return this.mul(W.neg()).neg();if(this.lt(A)&&W.lt(A))return c(this.toNumber()*W.toNumber(),this.unsigned);var H=this.high>>>16,te=this.high&65535,L=this.low>>>16,ue=this.low&65535,Ce=W.high>>>16,fe=W.high&65535,ye=W.low>>>16,he=W.low&65535,j=0,Y=0,Z=0,Q=0;return Q+=ue*he,Z+=Q>>>16,Q&=65535,Z+=L*he,Y+=Z>>>16,Z&=65535,Z+=ue*ye,Y+=Z>>>16,Z&=65535,Y+=te*he,j+=Y>>>16,Y&=65535,Y+=L*ye,j+=Y>>>16,Y&=65535,Y+=ue*fe,j+=Y>>>16,Y&=65535,j+=H*he+te*ye+L*fe+ue*Ce,j&=65535,f(Z<<16|Q,j<<16|Y,this.unsigned)},V.mul=V.multiply,V.divide=function(W){if(o(W)||(W=E(W)),W.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?R:w;var H,te,L;if(this.unsigned){if(W.unsigned||(W=W.toUnsigned()),W.gt(this))return R;if(W.gt(this.shru(1)))return F;L=R}else{if(this.eq(le)){if(W.eq(P)||W.eq(B))return le;if(W.eq(le))return P;var ue=this.shr(1);return H=ue.div(W).shl(1),H.eq(w)?W.isNegative()?P:B:(te=this.sub(W.mul(H)),L=H.add(te.div(W)),L)}else if(W.eq(le))return this.unsigned?R:w;if(this.isNegative())return W.isNegative()?this.neg().div(W.neg()):this.neg().div(W).neg();if(W.isNegative())return this.div(W.neg()).neg();L=w}for(te=this;te.gte(W);){H=Math.max(1,Math.floor(te.toNumber()/W.toNumber()));for(var Ce=Math.ceil(Math.log(H)/Math.LN2),fe=Ce<=48?1:p(2,Ce-48),ye=c(H),he=ye.mul(W);he.isNegative()||he.gt(te);)H-=fe,ye=c(H,this.unsigned),he=ye.mul(W);ye.isZero()&&(ye=P),L=L.add(ye),te=te.sub(he)}return L},V.div=V.divide,V.modulo=function(W){return o(W)||(W=E(W)),this.sub(this.div(W).mul(W))},V.mod=V.modulo,V.not=function(){return f(~this.low,~this.high,this.unsigned)},V.and=function(W){return o(W)||(W=E(W)),f(this.low&W.low,this.high&W.high,this.unsigned)},V.or=function(W){return o(W)||(W=E(W)),f(this.low|W.low,this.high|W.high,this.unsigned)},V.xor=function(W){return o(W)||(W=E(W)),f(this.low^W.low,this.high^W.high,this.unsigned)},V.shiftLeft=function(W){return o(W)&&(W=W.toInt()),(W&=63)===0?this:W<32?f(this.low<<W,this.high<<W|this.low>>>32-W,this.unsigned):f(0,this.low<<W-32,this.unsigned)},V.shl=V.shiftLeft,V.shiftRight=function(W){return o(W)&&(W=W.toInt()),(W&=63)===0?this:W<32?f(this.low>>>W|this.high<<32-W,this.high>>W,this.unsigned):f(this.high>>W-32,this.high>=0?0:-1,this.unsigned)},V.shr=V.shiftRight,V.shiftRightUnsigned=function(W){if(o(W)&&(W=W.toInt()),W&=63,W===0)return this;var H=this.high;if(W<32){var te=this.low;return f(te>>>W|H<<32-W,H>>>W,this.unsigned)}else return W===32?f(H,0,this.unsigned):f(H>>>W-32,0,this.unsigned)},V.shru=V.shiftRightUnsigned,V.toSigned=function(){return this.unsigned?f(this.low,this.high,!1):this},V.toUnsigned=function(){return this.unsigned?this:f(this.low,this.high,!0)},V.toBytes=function(X){return X?this.toBytesLE():this.toBytesBE()},V.toBytesLE=function(){var X=this.high,W=this.low;return[W&255,W>>>8&255,W>>>16&255,W>>>24&255,X&255,X>>>8&255,X>>>16&255,X>>>24&255]},V.toBytesBE=function(){var X=this.high,W=this.low;return[X>>>24&255,X>>>16&255,X>>>8&255,X&255,W>>>24&255,W>>>16&255,W>>>8&255,W&255]},e})}(long$1)),long$1.exports}var bytebuffer=bytebuffer$1.exports,hasRequiredBytebuffer;function requireBytebuffer(){return hasRequiredBytebuffer||(hasRequiredBytebuffer=1,function(n){/**
 * @license bytebuffer.js (c) 2015 Daniel Wirtz <dcode@dcode.io>
 * Backing buffer: ArrayBuffer, Accessor: Uint8Array
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/bytebuffer.js for details
 */(function(e,o){typeof commonjsRequire=="function"&&n&&n.exports?n.exports=function(){var a;try{a=requireLong()}catch{}return o(a)}():(e.dcodeIO=e.dcodeIO||{}).ByteBuffer=o(e.dcodeIO.Long)})(bytebuffer,function(e){var o=function(m,y,S){if(typeof m>"u"&&(m=o.DEFAULT_CAPACITY),typeof y>"u"&&(y=o.DEFAULT_ENDIAN),typeof S>"u"&&(S=o.DEFAULT_NOASSERT),!S){if(m=m|0,m<0)throw RangeError("Illegal capacity");y=!!y,S=!!S}this.buffer=m===0?l:new ArrayBuffer(m),this.view=m===0?null:new Uint8Array(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=m,this.littleEndian=y,this.noAssert=S};o.VERSION="5.0.1",o.LITTLE_ENDIAN=!0,o.BIG_ENDIAN=!1,o.DEFAULT_CAPACITY=16,o.DEFAULT_ENDIAN=o.BIG_ENDIAN,o.DEFAULT_NOASSERT=!1,o.Long=e||null;var a=o.prototype;a.__isByteBuffer__,Object.defineProperty(a,"__isByteBuffer__",{value:!0,enumerable:!1,configurable:!1});var l=new ArrayBuffer(0),u=String.fromCharCode;function c(m){var y=0;return function(){return y<m.length?m.charCodeAt(y++):null}}function f(){var m=[],y=[];return function(){if(arguments.length===0)return y.join("")+u.apply(String,m);m.length+arguments.length>1024&&(y.push(u.apply(String,m)),m.length=0),Array.prototype.push.apply(m,arguments)}}o.accessor=function(){return Uint8Array},o.allocate=function(m,y,S){return new o(m,y,S)},o.concat=function(m,y,S,v){(typeof y=="boolean"||typeof y!="string")&&(v=S,S=y,y=void 0);for(var A=0,w=0,R=m.length,P;w<R;++w)o.isByteBuffer(m[w])||(m[w]=o.wrap(m[w],y)),P=m[w].limit-m[w].offset,P>0&&(A+=P);if(A===0)return new o(0,S,v);var F=new o(A,S,v),B;for(w=0;w<R;)B=m[w++],P=B.limit-B.offset,!(P<=0)&&(F.view.set(B.view.subarray(B.offset,B.limit),F.offset),F.offset+=P);return F.limit=F.offset,F.offset=0,F},o.isByteBuffer=function(m){return(m&&m.__isByteBuffer__)===!0},o.type=function(){return ArrayBuffer},o.wrap=function(m,y,S,v){if(typeof y!="string"&&(v=S,S=y,y=void 0),typeof m=="string")switch(typeof y>"u"&&(y="utf8"),y){case"base64":return o.fromBase64(m,S);case"hex":return o.fromHex(m,S);case"binary":return o.fromBinary(m,S);case"utf8":return o.fromUTF8(m,S);case"debug":return o.fromDebug(m,S);default:throw Error("Unsupported encoding: "+y)}if(m===null||typeof m!="object")throw TypeError("Illegal buffer");var A;if(o.isByteBuffer(m))return A=a.clone.call(m),A.markedOffset=-1,A;if(m instanceof Uint8Array)A=new o(0,S,v),m.length>0&&(A.buffer=m.buffer,A.offset=m.byteOffset,A.limit=m.byteOffset+m.byteLength,A.view=new Uint8Array(m.buffer));else if(m instanceof ArrayBuffer)A=new o(0,S,v),m.byteLength>0&&(A.buffer=m,A.offset=0,A.limit=m.byteLength,A.view=m.byteLength>0?new Uint8Array(m):null);else if(Object.prototype.toString.call(m)==="[object Array]"){A=new o(m.length,S,v),A.limit=m.length;for(var w=0;w<m.length;++w)A.view[w]=m[w]}else throw TypeError("Illegal buffer");return A},a.writeBitSet=function(m,y){var S=typeof y>"u";if(S&&(y=this.offset),!this.noAssert){if(!(m instanceof Array))throw TypeError("Illegal BitSet: Not an array");if(typeof y!="number"||y%1!==0)throw TypeError("Illegal offset: "+y+" (not an integer)");if(y>>>=0,y<0||y+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+y+" (+0) <= "+this.buffer.byteLength)}var v=y,A=m.length,w=A>>3,R=0,P;for(y+=this.writeVarint32(A,y);w--;)P=!!m[R++]&1|(!!m[R++]&1)<<1|(!!m[R++]&1)<<2|(!!m[R++]&1)<<3|(!!m[R++]&1)<<4|(!!m[R++]&1)<<5|(!!m[R++]&1)<<6|(!!m[R++]&1)<<7,this.writeByte(P,y++);if(R<A){var F=0;for(P=0;R<A;)P=P|(!!m[R++]&1)<<F++;this.writeByte(P,y++)}return S?(this.offset=y,this):y-v},a.readBitSet=function(m){var y=typeof m>"u";y&&(m=this.offset);var S=this.readVarint32(m),v=S.value,A=v>>3,w=0,R=[],P;for(m+=S.length;A--;)P=this.readByte(m++),R[w++]=!!(P&1),R[w++]=!!(P&2),R[w++]=!!(P&4),R[w++]=!!(P&8),R[w++]=!!(P&16),R[w++]=!!(P&32),R[w++]=!!(P&64),R[w++]=!!(P&128);if(w<v){var F=0;for(P=this.readByte(m++);w<v;)R[w++]=!!(P>>F++&1)}return y&&(this.offset=m),R},a.readBytes=function(m,y){var S=typeof y>"u";if(S&&(y=this.offset),!this.noAssert){if(typeof y!="number"||y%1!==0)throw TypeError("Illegal offset: "+y+" (not an integer)");if(y>>>=0,y<0||y+m>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+y+" (+"+m+") <= "+this.buffer.byteLength)}var v=this.slice(y,y+m);return S&&(this.offset+=m),v},a.writeBytes=a.append,a.writeInt8=function(m,y){var S=typeof y>"u";if(S&&(y=this.offset),!this.noAssert){if(typeof m!="number"||m%1!==0)throw TypeError("Illegal value: "+m+" (not an integer)");if(m|=0,typeof y!="number"||y%1!==0)throw TypeError("Illegal offset: "+y+" (not an integer)");if(y>>>=0,y<0||y+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+y+" (+0) <= "+this.buffer.byteLength)}y+=1;var v=this.buffer.byteLength;return y>v&&this.resize((v*=2)>y?v:y),y-=1,this.view[y]=m,S&&(this.offset+=1),this},a.writeByte=a.writeInt8,a.readInt8=function(m){var y=typeof m>"u";if(y&&(m=this.offset),!this.noAssert){if(typeof m!="number"||m%1!==0)throw TypeError("Illegal offset: "+m+" (not an integer)");if(m>>>=0,m<0||m+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+m+" (+1) <= "+this.buffer.byteLength)}var S=this.view[m];return(S&128)===128&&(S=-(255-S+1)),y&&(this.offset+=1),S},a.readByte=a.readInt8,a.writeUint8=function(m,y){var S=typeof y>"u";if(S&&(y=this.offset),!this.noAssert){if(typeof m!="number"||m%1!==0)throw TypeError("Illegal value: "+m+" (not an integer)");if(m>>>=0,typeof y!="number"||y%1!==0)throw TypeError("Illegal offset: "+y+" (not an integer)");if(y>>>=0,y<0||y+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+y+" (+0) <= "+this.buffer.byteLength)}y+=1;var v=this.buffer.byteLength;return y>v&&this.resize((v*=2)>y?v:y),y-=1,this.view[y]=m,S&&(this.offset+=1),this},a.writeUInt8=a.writeUint8,a.readUint8=function(m){var y=typeof m>"u";if(y&&(m=this.offset),!this.noAssert){if(typeof m!="number"||m%1!==0)throw TypeError("Illegal offset: "+m+" (not an integer)");if(m>>>=0,m<0||m+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+m+" (+1) <= "+this.buffer.byteLength)}var S=this.view[m];return y&&(this.offset+=1),S},a.readUInt8=a.readUint8,a.writeInt16=function(m,y){var S=typeof y>"u";if(S&&(y=this.offset),!this.noAssert){if(typeof m!="number"||m%1!==0)throw TypeError("Illegal value: "+m+" (not an integer)");if(m|=0,typeof y!="number"||y%1!==0)throw TypeError("Illegal offset: "+y+" (not an integer)");if(y>>>=0,y<0||y+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+y+" (+0) <= "+this.buffer.byteLength)}y+=2;var v=this.buffer.byteLength;return y>v&&this.resize((v*=2)>y?v:y),y-=2,this.littleEndian?(this.view[y+1]=(m&65280)>>>8,this.view[y]=m&255):(this.view[y]=(m&65280)>>>8,this.view[y+1]=m&255),S&&(this.offset+=2),this},a.writeShort=a.writeInt16,a.readInt16=function(m){var y=typeof m>"u";if(y&&(m=this.offset),!this.noAssert){if(typeof m!="number"||m%1!==0)throw TypeError("Illegal offset: "+m+" (not an integer)");if(m>>>=0,m<0||m+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+m+" (+2) <= "+this.buffer.byteLength)}var S=0;return this.littleEndian?(S=this.view[m],S|=this.view[m+1]<<8):(S=this.view[m]<<8,S|=this.view[m+1]),(S&32768)===32768&&(S=-(65535-S+1)),y&&(this.offset+=2),S},a.readShort=a.readInt16,a.writeUint16=function(m,y){var S=typeof y>"u";if(S&&(y=this.offset),!this.noAssert){if(typeof m!="number"||m%1!==0)throw TypeError("Illegal value: "+m+" (not an integer)");if(m>>>=0,typeof y!="number"||y%1!==0)throw TypeError("Illegal offset: "+y+" (not an integer)");if(y>>>=0,y<0||y+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+y+" (+0) <= "+this.buffer.byteLength)}y+=2;var v=this.buffer.byteLength;return y>v&&this.resize((v*=2)>y?v:y),y-=2,this.littleEndian?(this.view[y+1]=(m&65280)>>>8,this.view[y]=m&255):(this.view[y]=(m&65280)>>>8,this.view[y+1]=m&255),S&&(this.offset+=2),this},a.writeUInt16=a.writeUint16,a.readUint16=function(m){var y=typeof m>"u";if(y&&(m=this.offset),!this.noAssert){if(typeof m!="number"||m%1!==0)throw TypeError("Illegal offset: "+m+" (not an integer)");if(m>>>=0,m<0||m+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+m+" (+2) <= "+this.buffer.byteLength)}var S=0;return this.littleEndian?(S=this.view[m],S|=this.view[m+1]<<8):(S=this.view[m]<<8,S|=this.view[m+1]),y&&(this.offset+=2),S},a.readUInt16=a.readUint16,a.writeInt32=function(m,y){var S=typeof y>"u";if(S&&(y=this.offset),!this.noAssert){if(typeof m!="number"||m%1!==0)throw TypeError("Illegal value: "+m+" (not an integer)");if(m|=0,typeof y!="number"||y%1!==0)throw TypeError("Illegal offset: "+y+" (not an integer)");if(y>>>=0,y<0||y+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+y+" (+0) <= "+this.buffer.byteLength)}y+=4;var v=this.buffer.byteLength;return y>v&&this.resize((v*=2)>y?v:y),y-=4,this.littleEndian?(this.view[y+3]=m>>>24&255,this.view[y+2]=m>>>16&255,this.view[y+1]=m>>>8&255,this.view[y]=m&255):(this.view[y]=m>>>24&255,this.view[y+1]=m>>>16&255,this.view[y+2]=m>>>8&255,this.view[y+3]=m&255),S&&(this.offset+=4),this},a.writeInt=a.writeInt32,a.readInt32=function(m){var y=typeof m>"u";if(y&&(m=this.offset),!this.noAssert){if(typeof m!="number"||m%1!==0)throw TypeError("Illegal offset: "+m+" (not an integer)");if(m>>>=0,m<0||m+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+m+" (+4) <= "+this.buffer.byteLength)}var S=0;return this.littleEndian?(S=this.view[m+2]<<16,S|=this.view[m+1]<<8,S|=this.view[m],S+=this.view[m+3]<<24>>>0):(S=this.view[m+1]<<16,S|=this.view[m+2]<<8,S|=this.view[m+3],S+=this.view[m]<<24>>>0),S|=0,y&&(this.offset+=4),S},a.readInt=a.readInt32,a.writeUint32=function(m,y){var S=typeof y>"u";if(S&&(y=this.offset),!this.noAssert){if(typeof m!="number"||m%1!==0)throw TypeError("Illegal value: "+m+" (not an integer)");if(m>>>=0,typeof y!="number"||y%1!==0)throw TypeError("Illegal offset: "+y+" (not an integer)");if(y>>>=0,y<0||y+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+y+" (+0) <= "+this.buffer.byteLength)}y+=4;var v=this.buffer.byteLength;return y>v&&this.resize((v*=2)>y?v:y),y-=4,this.littleEndian?(this.view[y+3]=m>>>24&255,this.view[y+2]=m>>>16&255,this.view[y+1]=m>>>8&255,this.view[y]=m&255):(this.view[y]=m>>>24&255,this.view[y+1]=m>>>16&255,this.view[y+2]=m>>>8&255,this.view[y+3]=m&255),S&&(this.offset+=4),this},a.writeUInt32=a.writeUint32,a.readUint32=function(m){var y=typeof m>"u";if(y&&(m=this.offset),!this.noAssert){if(typeof m!="number"||m%1!==0)throw TypeError("Illegal offset: "+m+" (not an integer)");if(m>>>=0,m<0||m+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+m+" (+4) <= "+this.buffer.byteLength)}var S=0;return this.littleEndian?(S=this.view[m+2]<<16,S|=this.view[m+1]<<8,S|=this.view[m],S+=this.view[m+3]<<24>>>0):(S=this.view[m+1]<<16,S|=this.view[m+2]<<8,S|=this.view[m+3],S+=this.view[m]<<24>>>0),y&&(this.offset+=4),S},a.readUInt32=a.readUint32,e&&(a.writeInt64=function(m,y){var S=typeof y>"u";if(S&&(y=this.offset),!this.noAssert){if(typeof m=="number")m=e.fromNumber(m);else if(typeof m=="string")m=e.fromString(m);else if(!(m&&m instanceof e))throw TypeError("Illegal value: "+m+" (not an integer or Long)");if(typeof y!="number"||y%1!==0)throw TypeError("Illegal offset: "+y+" (not an integer)");if(y>>>=0,y<0||y+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+y+" (+0) <= "+this.buffer.byteLength)}typeof m=="number"?m=e.fromNumber(m):typeof m=="string"&&(m=e.fromString(m)),y+=8;var v=this.buffer.byteLength;y>v&&this.resize((v*=2)>y?v:y),y-=8;var A=m.low,w=m.high;return this.littleEndian?(this.view[y+3]=A>>>24&255,this.view[y+2]=A>>>16&255,this.view[y+1]=A>>>8&255,this.view[y]=A&255,y+=4,this.view[y+3]=w>>>24&255,this.view[y+2]=w>>>16&255,this.view[y+1]=w>>>8&255,this.view[y]=w&255):(this.view[y]=w>>>24&255,this.view[y+1]=w>>>16&255,this.view[y+2]=w>>>8&255,this.view[y+3]=w&255,y+=4,this.view[y]=A>>>24&255,this.view[y+1]=A>>>16&255,this.view[y+2]=A>>>8&255,this.view[y+3]=A&255),S&&(this.offset+=8),this},a.writeLong=a.writeInt64,a.readInt64=function(m){var y=typeof m>"u";if(y&&(m=this.offset),!this.noAssert){if(typeof m!="number"||m%1!==0)throw TypeError("Illegal offset: "+m+" (not an integer)");if(m>>>=0,m<0||m+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+m+" (+8) <= "+this.buffer.byteLength)}var S=0,v=0;this.littleEndian?(S=this.view[m+2]<<16,S|=this.view[m+1]<<8,S|=this.view[m],S+=this.view[m+3]<<24>>>0,m+=4,v=this.view[m+2]<<16,v|=this.view[m+1]<<8,v|=this.view[m],v+=this.view[m+3]<<24>>>0):(v=this.view[m+1]<<16,v|=this.view[m+2]<<8,v|=this.view[m+3],v+=this.view[m]<<24>>>0,m+=4,S=this.view[m+1]<<16,S|=this.view[m+2]<<8,S|=this.view[m+3],S+=this.view[m]<<24>>>0);var A=new e(S,v,!1);return y&&(this.offset+=8),A},a.readLong=a.readInt64,a.writeUint64=function(m,y){var S=typeof y>"u";if(S&&(y=this.offset),!this.noAssert){if(typeof m=="number")m=e.fromNumber(m);else if(typeof m=="string")m=e.fromString(m);else if(!(m&&m instanceof e))throw TypeError("Illegal value: "+m+" (not an integer or Long)");if(typeof y!="number"||y%1!==0)throw TypeError("Illegal offset: "+y+" (not an integer)");if(y>>>=0,y<0||y+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+y+" (+0) <= "+this.buffer.byteLength)}typeof m=="number"?m=e.fromNumber(m):typeof m=="string"&&(m=e.fromString(m)),y+=8;var v=this.buffer.byteLength;y>v&&this.resize((v*=2)>y?v:y),y-=8;var A=m.low,w=m.high;return this.littleEndian?(this.view[y+3]=A>>>24&255,this.view[y+2]=A>>>16&255,this.view[y+1]=A>>>8&255,this.view[y]=A&255,y+=4,this.view[y+3]=w>>>24&255,this.view[y+2]=w>>>16&255,this.view[y+1]=w>>>8&255,this.view[y]=w&255):(this.view[y]=w>>>24&255,this.view[y+1]=w>>>16&255,this.view[y+2]=w>>>8&255,this.view[y+3]=w&255,y+=4,this.view[y]=A>>>24&255,this.view[y+1]=A>>>16&255,this.view[y+2]=A>>>8&255,this.view[y+3]=A&255),S&&(this.offset+=8),this},a.writeUInt64=a.writeUint64,a.readUint64=function(m){var y=typeof m>"u";if(y&&(m=this.offset),!this.noAssert){if(typeof m!="number"||m%1!==0)throw TypeError("Illegal offset: "+m+" (not an integer)");if(m>>>=0,m<0||m+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+m+" (+8) <= "+this.buffer.byteLength)}var S=0,v=0;this.littleEndian?(S=this.view[m+2]<<16,S|=this.view[m+1]<<8,S|=this.view[m],S+=this.view[m+3]<<24>>>0,m+=4,v=this.view[m+2]<<16,v|=this.view[m+1]<<8,v|=this.view[m],v+=this.view[m+3]<<24>>>0):(v=this.view[m+1]<<16,v|=this.view[m+2]<<8,v|=this.view[m+3],v+=this.view[m]<<24>>>0,m+=4,S=this.view[m+1]<<16,S|=this.view[m+2]<<8,S|=this.view[m+3],S+=this.view[m]<<24>>>0);var A=new e(S,v,!0);return y&&(this.offset+=8),A},a.readUInt64=a.readUint64);function p(m,y,S,v,A){var w,R,P=A*8-v-1,F=(1<<P)-1,B=F>>1,G=-7,K=S?A-1:0,le=S?-1:1,V=m[y+K];for(K+=le,w=V&(1<<-G)-1,V>>=-G,G+=P;G>0;w=w*256+m[y+K],K+=le,G-=8);for(R=w&(1<<-G)-1,w>>=-G,G+=v;G>0;R=R*256+m[y+K],K+=le,G-=8);if(w===0)w=1-B;else{if(w===F)return R?NaN:(V?-1:1)*(1/0);R=R+Math.pow(2,v),w=w-B}return(V?-1:1)*R*Math.pow(2,w-v)}function T(m,y,S,v,A,w){var R,P,F,B=w*8-A-1,G=(1<<B)-1,K=G>>1,le=A===23?Math.pow(2,-24)-Math.pow(2,-77):0,V=v?0:w-1,X=v?1:-1,W=y<0||y===0&&1/y<0?1:0;for(y=Math.abs(y),isNaN(y)||y===1/0?(P=isNaN(y)?1:0,R=G):(R=Math.floor(Math.log(y)/Math.LN2),y*(F=Math.pow(2,-R))<1&&(R--,F*=2),R+K>=1?y+=le/F:y+=le*Math.pow(2,1-K),y*F>=2&&(R++,F/=2),R+K>=G?(P=0,R=G):R+K>=1?(P=(y*F-1)*Math.pow(2,A),R=R+K):(P=y*Math.pow(2,K-1)*Math.pow(2,A),R=0));A>=8;m[S+V]=P&255,V+=X,P/=256,A-=8);for(R=R<<A|P,B+=A;B>0;m[S+V]=R&255,V+=X,R/=256,B-=8);m[S+V-X]|=W*128}a.writeFloat32=function(m,y){var S=typeof y>"u";if(S&&(y=this.offset),!this.noAssert){if(typeof m!="number")throw TypeError("Illegal value: "+m+" (not a number)");if(typeof y!="number"||y%1!==0)throw TypeError("Illegal offset: "+y+" (not an integer)");if(y>>>=0,y<0||y+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+y+" (+0) <= "+this.buffer.byteLength)}y+=4;var v=this.buffer.byteLength;return y>v&&this.resize((v*=2)>y?v:y),y-=4,T(this.view,m,y,this.littleEndian,23,4),S&&(this.offset+=4),this},a.writeFloat=a.writeFloat32,a.readFloat32=function(m){var y=typeof m>"u";if(y&&(m=this.offset),!this.noAssert){if(typeof m!="number"||m%1!==0)throw TypeError("Illegal offset: "+m+" (not an integer)");if(m>>>=0,m<0||m+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+m+" (+4) <= "+this.buffer.byteLength)}var S=p(this.view,m,this.littleEndian,23,4);return y&&(this.offset+=4),S},a.readFloat=a.readFloat32,a.writeFloat64=function(m,y){var S=typeof y>"u";if(S&&(y=this.offset),!this.noAssert){if(typeof m!="number")throw TypeError("Illegal value: "+m+" (not a number)");if(typeof y!="number"||y%1!==0)throw TypeError("Illegal offset: "+y+" (not an integer)");if(y>>>=0,y<0||y+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+y+" (+0) <= "+this.buffer.byteLength)}y+=8;var v=this.buffer.byteLength;return y>v&&this.resize((v*=2)>y?v:y),y-=8,T(this.view,m,y,this.littleEndian,52,8),S&&(this.offset+=8),this},a.writeDouble=a.writeFloat64,a.readFloat64=function(m){var y=typeof m>"u";if(y&&(m=this.offset),!this.noAssert){if(typeof m!="number"||m%1!==0)throw TypeError("Illegal offset: "+m+" (not an integer)");if(m>>>=0,m<0||m+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+m+" (+8) <= "+this.buffer.byteLength)}var S=p(this.view,m,this.littleEndian,52,8);return y&&(this.offset+=8),S},a.readDouble=a.readFloat64,o.MAX_VARINT32_BYTES=5,o.calculateVarint32=function(m){return m=m>>>0,m<128?1:m<16384?2:m<1<<21?3:m<1<<28?4:5},o.zigZagEncode32=function(m){return((m|=0)<<1^m>>31)>>>0},o.zigZagDecode32=function(m){return m>>>1^-(m&1)|0},a.writeVarint32=function(m,y){var S=typeof y>"u";if(S&&(y=this.offset),!this.noAssert){if(typeof m!="number"||m%1!==0)throw TypeError("Illegal value: "+m+" (not an integer)");if(m|=0,typeof y!="number"||y%1!==0)throw TypeError("Illegal offset: "+y+" (not an integer)");if(y>>>=0,y<0||y+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+y+" (+0) <= "+this.buffer.byteLength)}var v=o.calculateVarint32(m),A;y+=v;var w=this.buffer.byteLength;for(y>w&&this.resize((w*=2)>y?w:y),y-=v,m>>>=0;m>=128;)A=m&127|128,this.view[y++]=A,m>>>=7;return this.view[y++]=m,S?(this.offset=y,this):v},a.writeVarint32ZigZag=function(m,y){return this.writeVarint32(o.zigZagEncode32(m),y)},a.readVarint32=function(m){var y=typeof m>"u";if(y&&(m=this.offset),!this.noAssert){if(typeof m!="number"||m%1!==0)throw TypeError("Illegal offset: "+m+" (not an integer)");if(m>>>=0,m<0||m+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+m+" (+1) <= "+this.buffer.byteLength)}var S=0,v=0,A;do{if(!this.noAssert&&m>this.limit){var w=Error("Truncated");throw w.truncated=!0,w}A=this.view[m++],S<5&&(v|=(A&127)<<7*S),++S}while((A&128)!==0);return v|=0,y?(this.offset=m,v):{value:v,length:S}},a.readVarint32ZigZag=function(m){var y=this.readVarint32(m);return typeof y=="object"?y.value=o.zigZagDecode32(y.value):y=o.zigZagDecode32(y),y},e&&(o.MAX_VARINT64_BYTES=10,o.calculateVarint64=function(m){typeof m=="number"?m=e.fromNumber(m):typeof m=="string"&&(m=e.fromString(m));var y=m.toInt()>>>0,S=m.shiftRightUnsigned(28).toInt()>>>0,v=m.shiftRightUnsigned(56).toInt()>>>0;return v==0?S==0?y<16384?y<128?1:2:y<1<<21?3:4:S<16384?S<128?5:6:S<1<<21?7:8:v<128?9:10},o.zigZagEncode64=function(m){return typeof m=="number"?m=e.fromNumber(m,!1):typeof m=="string"?m=e.fromString(m,!1):m.unsigned!==!1&&(m=m.toSigned()),m.shiftLeft(1).xor(m.shiftRight(63)).toUnsigned()},o.zigZagDecode64=function(m){return typeof m=="number"?m=e.fromNumber(m,!1):typeof m=="string"?m=e.fromString(m,!1):m.unsigned!==!1&&(m=m.toSigned()),m.shiftRightUnsigned(1).xor(m.and(e.ONE).toSigned().negate()).toSigned()},a.writeVarint64=function(m,y){var S=typeof y>"u";if(S&&(y=this.offset),!this.noAssert){if(typeof m=="number")m=e.fromNumber(m);else if(typeof m=="string")m=e.fromString(m);else if(!(m&&m instanceof e))throw TypeError("Illegal value: "+m+" (not an integer or Long)");if(typeof y!="number"||y%1!==0)throw TypeError("Illegal offset: "+y+" (not an integer)");if(y>>>=0,y<0||y+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+y+" (+0) <= "+this.buffer.byteLength)}typeof m=="number"?m=e.fromNumber(m,!1):typeof m=="string"?m=e.fromString(m,!1):m.unsigned!==!1&&(m=m.toSigned());var v=o.calculateVarint64(m),A=m.toInt()>>>0,w=m.shiftRightUnsigned(28).toInt()>>>0,R=m.shiftRightUnsigned(56).toInt()>>>0;y+=v;var P=this.buffer.byteLength;switch(y>P&&this.resize((P*=2)>y?P:y),y-=v,v){case 10:this.view[y+9]=R>>>7&1;case 9:this.view[y+8]=v!==9?R|128:R&127;case 8:this.view[y+7]=v!==8?w>>>21|128:w>>>21&127;case 7:this.view[y+6]=v!==7?w>>>14|128:w>>>14&127;case 6:this.view[y+5]=v!==6?w>>>7|128:w>>>7&127;case 5:this.view[y+4]=v!==5?w|128:w&127;case 4:this.view[y+3]=v!==4?A>>>21|128:A>>>21&127;case 3:this.view[y+2]=v!==3?A>>>14|128:A>>>14&127;case 2:this.view[y+1]=v!==2?A>>>7|128:A>>>7&127;case 1:this.view[y]=v!==1?A|128:A&127}return S?(this.offset+=v,this):v},a.writeVarint64ZigZag=function(m,y){return this.writeVarint64(o.zigZagEncode64(m),y)},a.readVarint64=function(m){var y=typeof m>"u";if(y&&(m=this.offset),!this.noAssert){if(typeof m!="number"||m%1!==0)throw TypeError("Illegal offset: "+m+" (not an integer)");if(m>>>=0,m<0||m+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+m+" (+1) <= "+this.buffer.byteLength)}var S=m,v=0,A=0,w=0,R=0;if(R=this.view[m++],v=R&127,R&128&&(R=this.view[m++],v|=(R&127)<<7,(R&128||this.noAssert&&typeof R>"u")&&(R=this.view[m++],v|=(R&127)<<14,(R&128||this.noAssert&&typeof R>"u")&&(R=this.view[m++],v|=(R&127)<<21,(R&128||this.noAssert&&typeof R>"u")&&(R=this.view[m++],A=R&127,(R&128||this.noAssert&&typeof R>"u")&&(R=this.view[m++],A|=(R&127)<<7,(R&128||this.noAssert&&typeof R>"u")&&(R=this.view[m++],A|=(R&127)<<14,(R&128||this.noAssert&&typeof R>"u")&&(R=this.view[m++],A|=(R&127)<<21,(R&128||this.noAssert&&typeof R>"u")&&(R=this.view[m++],w=R&127,(R&128||this.noAssert&&typeof R>"u")&&(R=this.view[m++],w|=(R&127)<<7,R&128||this.noAssert&&typeof R>"u"))))))))))throw Error("Buffer overrun");var P=e.fromBits(v|A<<28,A>>>4|w<<24,!1);return y?(this.offset=m,P):{value:P,length:m-S}},a.readVarint64ZigZag=function(m){var y=this.readVarint64(m);return y&&y.value instanceof e?y.value=o.zigZagDecode64(y.value):y=o.zigZagDecode64(y),y}),a.writeCString=function(m,y){var S=typeof y>"u";S&&(y=this.offset);var v,A=m.length;if(!this.noAssert){if(typeof m!="string")throw TypeError("Illegal str: Not a string");for(v=0;v<A;++v)if(m.charCodeAt(v)===0)throw RangeError("Illegal str: Contains NULL-characters");if(typeof y!="number"||y%1!==0)throw TypeError("Illegal offset: "+y+" (not an integer)");if(y>>>=0,y<0||y+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+y+" (+0) <= "+this.buffer.byteLength)}A=b.calculateUTF16asUTF8(c(m))[1],y+=A+1;var w=this.buffer.byteLength;return y>w&&this.resize((w*=2)>y?w:y),y-=A+1,b.encodeUTF16toUTF8(c(m),(function(R){this.view[y++]=R}).bind(this)),this.view[y++]=0,S?(this.offset=y,this):A},a.readCString=function(m){var y=typeof m>"u";if(y&&(m=this.offset),!this.noAssert){if(typeof m!="number"||m%1!==0)throw TypeError("Illegal offset: "+m+" (not an integer)");if(m>>>=0,m<0||m+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+m+" (+1) <= "+this.buffer.byteLength)}var S=m,v,A=-1;return b.decodeUTF8toUTF16((function(){if(A===0)return null;if(m>=this.limit)throw RangeError("Illegal range: Truncated data, "+m+" < "+this.limit);return A=this.view[m++],A===0?null:A}).bind(this),v=f(),!0),y?(this.offset=m,v()):{string:v(),length:m-S}},a.writeIString=function(m,y){var S=typeof y>"u";if(S&&(y=this.offset),!this.noAssert){if(typeof m!="string")throw TypeError("Illegal str: Not a string");if(typeof y!="number"||y%1!==0)throw TypeError("Illegal offset: "+y+" (not an integer)");if(y>>>=0,y<0||y+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+y+" (+0) <= "+this.buffer.byteLength)}var v=y,A;A=b.calculateUTF16asUTF8(c(m),this.noAssert)[1],y+=4+A;var w=this.buffer.byteLength;if(y>w&&this.resize((w*=2)>y?w:y),y-=4+A,this.littleEndian?(this.view[y+3]=A>>>24&255,this.view[y+2]=A>>>16&255,this.view[y+1]=A>>>8&255,this.view[y]=A&255):(this.view[y]=A>>>24&255,this.view[y+1]=A>>>16&255,this.view[y+2]=A>>>8&255,this.view[y+3]=A&255),y+=4,b.encodeUTF16toUTF8(c(m),(function(R){this.view[y++]=R}).bind(this)),y!==v+4+A)throw RangeError("Illegal range: Truncated data, "+y+" == "+(y+4+A));return S?(this.offset=y,this):y-v},a.readIString=function(m){var y=typeof m>"u";if(y&&(m=this.offset),!this.noAssert){if(typeof m!="number"||m%1!==0)throw TypeError("Illegal offset: "+m+" (not an integer)");if(m>>>=0,m<0||m+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+m+" (+4) <= "+this.buffer.byteLength)}var S=m,v=this.readUint32(m),A=this.readUTF8String(v,o.METRICS_BYTES,m+=4);return m+=A.length,y?(this.offset=m,A.string):{string:A.string,length:m-S}},o.METRICS_CHARS="c",o.METRICS_BYTES="b",a.writeUTF8String=function(m,y){var S=typeof y>"u";if(S&&(y=this.offset),!this.noAssert){if(typeof y!="number"||y%1!==0)throw TypeError("Illegal offset: "+y+" (not an integer)");if(y>>>=0,y<0||y+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+y+" (+0) <= "+this.buffer.byteLength)}var v,A=y;v=b.calculateUTF16asUTF8(c(m))[1],y+=v;var w=this.buffer.byteLength;return y>w&&this.resize((w*=2)>y?w:y),y-=v,b.encodeUTF16toUTF8(c(m),(function(R){this.view[y++]=R}).bind(this)),S?(this.offset=y,this):y-A},a.writeString=a.writeUTF8String,o.calculateUTF8Chars=function(m){return b.calculateUTF16asUTF8(c(m))[0]},o.calculateUTF8Bytes=function(m){return b.calculateUTF16asUTF8(c(m))[1]},o.calculateString=o.calculateUTF8Bytes,a.readUTF8String=function(m,y,S){typeof y=="number"&&(S=y,y=void 0);var v=typeof S>"u";if(v&&(S=this.offset),typeof y>"u"&&(y=o.METRICS_CHARS),!this.noAssert){if(typeof m!="number"||m%1!==0)throw TypeError("Illegal length: "+m+" (not an integer)");if(m|=0,typeof S!="number"||S%1!==0)throw TypeError("Illegal offset: "+S+" (not an integer)");if(S>>>=0,S<0||S+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+S+" (+0) <= "+this.buffer.byteLength)}var A=0,w=S,R;if(y===o.METRICS_CHARS){if(R=f(),b.decodeUTF8((function(){return A<m&&S<this.limit?this.view[S++]:null}).bind(this),function(F){++A,b.UTF8toUTF16(F,R)}),A!==m)throw RangeError("Illegal range: Truncated data, "+A+" == "+m);return v?(this.offset=S,R()):{string:R(),length:S-w}}else if(y===o.METRICS_BYTES){if(!this.noAssert){if(typeof S!="number"||S%1!==0)throw TypeError("Illegal offset: "+S+" (not an integer)");if(S>>>=0,S<0||S+m>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+S+" (+"+m+") <= "+this.buffer.byteLength)}var P=S+m;if(b.decodeUTF8toUTF16((function(){return S<P?this.view[S++]:null}).bind(this),R=f(),this.noAssert),S!==P)throw RangeError("Illegal range: Truncated data, "+S+" == "+P);return v?(this.offset=S,R()):{string:R(),length:S-w}}else throw TypeError("Unsupported metrics: "+y)},a.readString=a.readUTF8String,a.writeVString=function(m,y){var S=typeof y>"u";if(S&&(y=this.offset),!this.noAssert){if(typeof m!="string")throw TypeError("Illegal str: Not a string");if(typeof y!="number"||y%1!==0)throw TypeError("Illegal offset: "+y+" (not an integer)");if(y>>>=0,y<0||y+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+y+" (+0) <= "+this.buffer.byteLength)}var v=y,A,w;A=b.calculateUTF16asUTF8(c(m),this.noAssert)[1],w=o.calculateVarint32(A),y+=w+A;var R=this.buffer.byteLength;if(y>R&&this.resize((R*=2)>y?R:y),y-=w+A,y+=this.writeVarint32(A,y),b.encodeUTF16toUTF8(c(m),(function(P){this.view[y++]=P}).bind(this)),y!==v+A+w)throw RangeError("Illegal range: Truncated data, "+y+" == "+(y+A+w));return S?(this.offset=y,this):y-v},a.readVString=function(m){var y=typeof m>"u";if(y&&(m=this.offset),!this.noAssert){if(typeof m!="number"||m%1!==0)throw TypeError("Illegal offset: "+m+" (not an integer)");if(m>>>=0,m<0||m+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+m+" (+1) <= "+this.buffer.byteLength)}var S=m,v=this.readVarint32(m),A=this.readUTF8String(v.value,o.METRICS_BYTES,m+=v.length);return m+=A.length,y?(this.offset=m,A.string):{string:A.string,length:m-S}},a.append=function(m,y,S){(typeof y=="number"||typeof y!="string")&&(S=y,y=void 0);var v=typeof S>"u";if(v&&(S=this.offset),!this.noAssert){if(typeof S!="number"||S%1!==0)throw TypeError("Illegal offset: "+S+" (not an integer)");if(S>>>=0,S<0||S+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+S+" (+0) <= "+this.buffer.byteLength)}m instanceof o||(m=o.wrap(m,y));var A=m.limit-m.offset;if(A<=0)return this;S+=A;var w=this.buffer.byteLength;return S>w&&this.resize((w*=2)>S?w:S),S-=A,this.view.set(m.view.subarray(m.offset,m.limit),S),m.offset+=A,v&&(this.offset+=A),this},a.appendTo=function(m,y){return m.append(this,y),this},a.assert=function(m){return this.noAssert=!m,this},a.capacity=function(){return this.buffer.byteLength},a.clear=function(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this},a.clone=function(m){var y=new o(0,this.littleEndian,this.noAssert);return m?(y.buffer=new ArrayBuffer(this.buffer.byteLength),y.view=new Uint8Array(y.buffer)):(y.buffer=this.buffer,y.view=this.view),y.offset=this.offset,y.markedOffset=this.markedOffset,y.limit=this.limit,y},a.compact=function(m,y){if(typeof m>"u"&&(m=this.offset),typeof y>"u"&&(y=this.limit),!this.noAssert){if(typeof m!="number"||m%1!==0)throw TypeError("Illegal begin: Not an integer");if(m>>>=0,typeof y!="number"||y%1!==0)throw TypeError("Illegal end: Not an integer");if(y>>>=0,m<0||m>y||y>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+m+" <= "+y+" <= "+this.buffer.byteLength)}if(m===0&&y===this.buffer.byteLength)return this;var S=y-m;if(S===0)return this.buffer=l,this.view=null,this.markedOffset>=0&&(this.markedOffset-=m),this.offset=0,this.limit=0,this;var v=new ArrayBuffer(S),A=new Uint8Array(v);return A.set(this.view.subarray(m,y)),this.buffer=v,this.view=A,this.markedOffset>=0&&(this.markedOffset-=m),this.offset=0,this.limit=S,this},a.copy=function(m,y){if(typeof m>"u"&&(m=this.offset),typeof y>"u"&&(y=this.limit),!this.noAssert){if(typeof m!="number"||m%1!==0)throw TypeError("Illegal begin: Not an integer");if(m>>>=0,typeof y!="number"||y%1!==0)throw TypeError("Illegal end: Not an integer");if(y>>>=0,m<0||m>y||y>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+m+" <= "+y+" <= "+this.buffer.byteLength)}if(m===y)return new o(0,this.littleEndian,this.noAssert);var S=y-m,v=new o(S,this.littleEndian,this.noAssert);return v.offset=0,v.limit=S,v.markedOffset>=0&&(v.markedOffset-=m),this.copyTo(v,0,m,y),v},a.copyTo=function(m,y,S,v){var A,w;if(!this.noAssert&&!o.isByteBuffer(m))throw TypeError("Illegal target: Not a ByteBuffer");if(y=(w=typeof y>"u")?m.offset:y|0,S=(A=typeof S>"u")?this.offset:S|0,v=typeof v>"u"?this.limit:v|0,y<0||y>m.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+y+" <= "+m.buffer.byteLength);if(S<0||v>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+S+" <= "+this.buffer.byteLength);var R=v-S;return R===0?m:(m.ensureCapacity(y+R),m.view.set(this.view.subarray(S,v),y),A&&(this.offset+=R),w&&(m.offset+=R),this)},a.ensureCapacity=function(m){var y=this.buffer.byteLength;return y<m?this.resize((y*=2)>m?y:m):this},a.fill=function(m,y,S){var v=typeof y>"u";if(v&&(y=this.offset),typeof m=="string"&&m.length>0&&(m=m.charCodeAt(0)),typeof y>"u"&&(y=this.offset),typeof S>"u"&&(S=this.limit),!this.noAssert){if(typeof m!="number"||m%1!==0)throw TypeError("Illegal value: "+m+" (not an integer)");if(m|=0,typeof y!="number"||y%1!==0)throw TypeError("Illegal begin: Not an integer");if(y>>>=0,typeof S!="number"||S%1!==0)throw TypeError("Illegal end: Not an integer");if(S>>>=0,y<0||y>S||S>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+y+" <= "+S+" <= "+this.buffer.byteLength)}if(y>=S)return this;for(;y<S;)this.view[y++]=m;return v&&(this.offset=y),this},a.flip=function(){return this.limit=this.offset,this.offset=0,this},a.mark=function(m){if(m=typeof m>"u"?this.offset:m,!this.noAssert){if(typeof m!="number"||m%1!==0)throw TypeError("Illegal offset: "+m+" (not an integer)");if(m>>>=0,m<0||m+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+m+" (+0) <= "+this.buffer.byteLength)}return this.markedOffset=m,this},a.order=function(m){if(!this.noAssert&&typeof m!="boolean")throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!m,this},a.LE=function(m){return this.littleEndian=typeof m<"u"?!!m:!0,this},a.BE=function(m){return this.littleEndian=typeof m<"u"?!m:!1,this},a.prepend=function(m,y,S){(typeof y=="number"||typeof y!="string")&&(S=y,y=void 0);var v=typeof S>"u";if(v&&(S=this.offset),!this.noAssert){if(typeof S!="number"||S%1!==0)throw TypeError("Illegal offset: "+S+" (not an integer)");if(S>>>=0,S<0||S+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+S+" (+0) <= "+this.buffer.byteLength)}m instanceof o||(m=o.wrap(m,y));var A=m.limit-m.offset;if(A<=0)return this;var w=A-S;if(w>0){var R=new ArrayBuffer(this.buffer.byteLength+w),P=new Uint8Array(R);P.set(this.view.subarray(S,this.buffer.byteLength),A),this.buffer=R,this.view=P,this.offset+=w,this.markedOffset>=0&&(this.markedOffset+=w),this.limit+=w,S+=w}else new Uint8Array(this.buffer);return this.view.set(m.view.subarray(m.offset,m.limit),S-A),m.offset=m.limit,v&&(this.offset-=A),this},a.prependTo=function(m,y){return m.prepend(this,y),this},a.printDebug=function(m){typeof m!="function"&&(m=console.log.bind(console)),m(this.toString()+`
-------------------------------------------------------------------
`+this.toDebug(!0))},a.remaining=function(){return this.limit-this.offset},a.reset=function(){return this.markedOffset>=0?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},a.resize=function(m){if(!this.noAssert){if(typeof m!="number"||m%1!==0)throw TypeError("Illegal capacity: "+m+" (not an integer)");if(m|=0,m<0)throw RangeError("Illegal capacity: 0 <= "+m)}if(this.buffer.byteLength<m){var y=new ArrayBuffer(m),S=new Uint8Array(y);S.set(this.view),this.buffer=y,this.view=S}return this},a.reverse=function(m,y){if(typeof m>"u"&&(m=this.offset),typeof y>"u"&&(y=this.limit),!this.noAssert){if(typeof m!="number"||m%1!==0)throw TypeError("Illegal begin: Not an integer");if(m>>>=0,typeof y!="number"||y%1!==0)throw TypeError("Illegal end: Not an integer");if(y>>>=0,m<0||m>y||y>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+m+" <= "+y+" <= "+this.buffer.byteLength)}return m===y?this:(Array.prototype.reverse.call(this.view.subarray(m,y)),this)},a.skip=function(m){if(!this.noAssert){if(typeof m!="number"||m%1!==0)throw TypeError("Illegal length: "+m+" (not an integer)");m|=0}var y=this.offset+m;if(!this.noAssert&&(y<0||y>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+m+" <= "+this.buffer.byteLength);return this.offset=y,this},a.slice=function(m,y){if(typeof m>"u"&&(m=this.offset),typeof y>"u"&&(y=this.limit),!this.noAssert){if(typeof m!="number"||m%1!==0)throw TypeError("Illegal begin: Not an integer");if(m>>>=0,typeof y!="number"||y%1!==0)throw TypeError("Illegal end: Not an integer");if(y>>>=0,m<0||m>y||y>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+m+" <= "+y+" <= "+this.buffer.byteLength)}var S=this.clone();return S.offset=m,S.limit=y,S},a.toBuffer=function(m){var y=this.offset,S=this.limit;if(!this.noAssert){if(typeof y!="number"||y%1!==0)throw TypeError("Illegal offset: Not an integer");if(y>>>=0,typeof S!="number"||S%1!==0)throw TypeError("Illegal limit: Not an integer");if(S>>>=0,y<0||y>S||S>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+y+" <= "+S+" <= "+this.buffer.byteLength)}if(!m&&y===0&&S===this.buffer.byteLength)return this.buffer;if(y===S)return l;var v=new ArrayBuffer(S-y);return new Uint8Array(v).set(new Uint8Array(this.buffer).subarray(y,S),0),v},a.toArrayBuffer=a.toBuffer,a.toString=function(m,y,S){if(typeof m>"u")return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";switch(typeof m=="number"&&(m="utf8",y=m,S=y),m){case"utf8":return this.toUTF8(y,S);case"base64":return this.toBase64(y,S);case"hex":return this.toHex(y,S);case"binary":return this.toBinary(y,S);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+m)}};var E=function(){for(var m={},y=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],S=[],v=0,A=y.length;v<A;++v)S[y[v]]=v;return m.encode=function(w,R){for(var P,F;(P=w())!==null;)R(y[P>>2&63]),F=(P&3)<<4,(P=w())!==null?(F|=P>>4&15,R(y[(F|P>>4&15)&63]),F=(P&15)<<2,(P=w())!==null?(R(y[(F|P>>6&3)&63]),R(y[P&63])):(R(y[F&63]),R(61))):(R(y[F&63]),R(61),R(61))},m.decode=function(w,R){var P,F,B;function G(K){throw Error("Illegal character code: "+K)}for(;(P=w())!==null;)if(F=S[P],typeof F>"u"&&G(P),(P=w())!==null&&(B=S[P],typeof B>"u"&&G(P),R(F<<2>>>0|(B&48)>>4),(P=w())!==null)){if(F=S[P],typeof F>"u"){if(P===61)break;G(P)}if(R((B&15)<<4>>>0|(F&60)>>2),(P=w())!==null){if(B=S[P],typeof B>"u"){if(P===61)break;G(P)}R((F&3)<<6>>>0|B)}}},m.test=function(w){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(w)},m}();a.toBase64=function(m,y){if(typeof m>"u"&&(m=this.offset),typeof y>"u"&&(y=this.limit),m=m|0,y=y|0,m<0||y>this.capacity||m>y)throw RangeError("begin, end");var S;return E.encode((function(){return m<y?this.view[m++]:null}).bind(this),S=f()),S()},o.fromBase64=function(m,y){if(typeof m!="string")throw TypeError("str");var S=new o(m.length/4*3,y),v=0;return E.decode(c(m),function(A){S.view[v++]=A}),S.limit=v,S},o.btoa=function(m){return o.fromBinary(m).toBase64()},o.atob=function(m){return o.fromBase64(m).toBinary()},a.toBinary=function(m,y){if(typeof m>"u"&&(m=this.offset),typeof y>"u"&&(y=this.limit),m|=0,y|=0,m<0||y>this.capacity()||m>y)throw RangeError("begin, end");if(m===y)return"";for(var S=[],v=[];m<y;)S.push(this.view[m++]),S.length>=1024&&(v.push(String.fromCharCode.apply(String,S)),S=[]);return v.join("")+String.fromCharCode.apply(String,S)},o.fromBinary=function(m,y){if(typeof m!="string")throw TypeError("str");for(var S=0,v=m.length,A,w=new o(v,y);S<v;){if(A=m.charCodeAt(S),A>255)throw RangeError("illegal char code: "+A);w.view[S++]=A}return w.limit=v,w},a.toDebug=function(m){for(var y=-1,S=this.buffer.byteLength,v,A="",w="",R="";y<S;){if(y!==-1&&(v=this.view[y],v<16?A+="0"+v.toString(16).toUpperCase():A+=v.toString(16).toUpperCase(),m&&(w+=v>32&&v<127?String.fromCharCode(v):".")),++y,m&&y>0&&y%16===0&&y!==S){for(;A.length<3*16+3;)A+=" ";R+=A+w+`
`,A=w=""}y===this.offset&&y===this.limit?A+=y===this.markedOffset?"!":"|":y===this.offset?A+=y===this.markedOffset?"[":"<":y===this.limit?A+=y===this.markedOffset?"]":">":A+=y===this.markedOffset?"'":m||y!==0&&y!==S?" ":""}if(m&&A!==" "){for(;A.length<3*16+3;)A+=" ";R+=A+w+`
`}return m?R:A},o.fromDebug=function(m,y,S){for(var v=m.length,A=new o((v+1)/3|0,y,S),w=0,R=0,P,F,B=!1,G=!1,K=!1,le=!1,V=!1;w<v;){switch(P=m.charAt(w++)){case"!":if(!S){if(G||K||le){V=!0;break}G=K=le=!0}A.offset=A.markedOffset=A.limit=R,B=!1;break;case"|":if(!S){if(G||le){V=!0;break}G=le=!0}A.offset=A.limit=R,B=!1;break;case"[":if(!S){if(G||K){V=!0;break}G=K=!0}A.offset=A.markedOffset=R,B=!1;break;case"<":if(!S){if(G){V=!0;break}G=!0}A.offset=R,B=!1;break;case"]":if(!S){if(le||K){V=!0;break}le=K=!0}A.limit=A.markedOffset=R,B=!1;break;case">":if(!S){if(le){V=!0;break}le=!0}A.limit=R,B=!1;break;case"'":if(!S){if(K){V=!0;break}K=!0}A.markedOffset=R,B=!1;break;case" ":B=!1;break;default:if(!S&&B){V=!0;break}if(F=parseInt(P+m.charAt(w++),16),!S&&(isNaN(F)||F<0||F>255))throw TypeError("Illegal str: Not a debug encoded string");A.view[R++]=F,B=!0}if(V)throw TypeError("Illegal str: Invalid symbol at "+w)}if(!S){if(!G||!le)throw TypeError("Illegal str: Missing offset or limit");if(R<A.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+R+" < "+v)}return A},a.toHex=function(m,y){if(m=typeof m>"u"?this.offset:m,y=typeof y>"u"?this.limit:y,!this.noAssert){if(typeof m!="number"||m%1!==0)throw TypeError("Illegal begin: Not an integer");if(m>>>=0,typeof y!="number"||y%1!==0)throw TypeError("Illegal end: Not an integer");if(y>>>=0,m<0||m>y||y>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+m+" <= "+y+" <= "+this.buffer.byteLength)}for(var S=new Array(y-m),v;m<y;)v=this.view[m++],v<16?S.push("0",v.toString(16)):S.push(v.toString(16));return S.join("")},o.fromHex=function(m,y,S){if(!S){if(typeof m!="string")throw TypeError("Illegal str: Not a string");if(m.length%2!==0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var v=m.length,A=new o(v/2|0,y),w,R=0,P=0;R<v;R+=2){if(w=parseInt(m.substring(R,R+2),16),!S&&(!isFinite(w)||w<0||w>255))throw TypeError("Illegal str: Contains non-hex characters");A.view[P++]=w}return A.limit=P,A};var b=function(){var m={};return m.MAX_CODEPOINT=1114111,m.encodeUTF8=function(y,S){var v=null;for(typeof y=="number"&&(v=y,y=function(){return null});v!==null||(v=y())!==null;)v<128?S(v&127):v<2048?(S(v>>6&31|192),S(v&63|128)):v<65536?(S(v>>12&15|224),S(v>>6&63|128),S(v&63|128)):(S(v>>18&7|240),S(v>>12&63|128),S(v>>6&63|128),S(v&63|128)),v=null},m.decodeUTF8=function(y,S){for(var v,A,w,R,P=function(F){F=F.slice(0,F.indexOf(null));var B=Error(F.toString());throw B.name="TruncatedError",B.bytes=F,B};(v=y())!==null;)if((v&128)===0)S(v);else if((v&224)===192)(A=y())===null&&P([v,A]),S((v&31)<<6|A&63);else if((v&240)===224)((A=y())===null||(w=y())===null)&&P([v,A,w]),S((v&15)<<12|(A&63)<<6|w&63);else if((v&248)===240)((A=y())===null||(w=y())===null||(R=y())===null)&&P([v,A,w,R]),S((v&7)<<18|(A&63)<<12|(w&63)<<6|R&63);else throw RangeError("Illegal starting byte: "+v)},m.UTF16toUTF8=function(y,S){for(var v,A=null;(v=A!==null?A:y())!==null;){if(v>=55296&&v<=57343&&(A=y())!==null&&A>=56320&&A<=57343){S((v-55296)*1024+A-56320+65536),A=null;continue}S(v)}A!==null&&S(A)},m.UTF8toUTF16=function(y,S){var v=null;for(typeof y=="number"&&(v=y,y=function(){return null});v!==null||(v=y())!==null;)v<=65535?S(v):(v-=65536,S((v>>10)+55296),S(v%1024+56320)),v=null},m.encodeUTF16toUTF8=function(y,S){m.UTF16toUTF8(y,function(v){m.encodeUTF8(v,S)})},m.decodeUTF8toUTF16=function(y,S){m.decodeUTF8(y,function(v){m.UTF8toUTF16(v,S)})},m.calculateCodePoint=function(y){return y<128?1:y<2048?2:y<65536?3:4},m.calculateUTF8=function(y){for(var S,v=0;(S=y())!==null;)v+=S<128?1:S<2048?2:S<65536?3:4;return v},m.calculateUTF16asUTF8=function(y){var S=0,v=0;return m.UTF16toUTF8(y,function(A){++S,v+=A<128?1:A<2048?2:A<65536?3:4}),[S,v]},m}();return a.toUTF8=function(m,y){if(typeof m>"u"&&(m=this.offset),typeof y>"u"&&(y=this.limit),!this.noAssert){if(typeof m!="number"||m%1!==0)throw TypeError("Illegal begin: Not an integer");if(m>>>=0,typeof y!="number"||y%1!==0)throw TypeError("Illegal end: Not an integer");if(y>>>=0,m<0||m>y||y>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+m+" <= "+y+" <= "+this.buffer.byteLength)}var S;try{b.decodeUTF8toUTF16((function(){return m<y?this.view[m++]:null}).bind(this),S=f())}catch{if(m!==y)throw RangeError("Illegal range: Truncated data, "+m+" != "+y)}return S()},o.fromUTF8=function(m,y,S){if(!S&&typeof m!="string")throw TypeError("Illegal str: Not a string");var v=new o(b.calculateUTF16asUTF8(c(m),!0)[1],y,S),A=0;return b.encodeUTF16toUTF8(c(m),function(w){v.view[A++]=w}),v.limit=A,v},o})}(bytebuffer$1)),bytebuffer$1.exports}var constantType={},hasRequiredConstantType;function requireConstantType(){return hasRequiredConstantType||(hasRequiredConstantType=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;/*!
 * https://github.com/leonardosnt/java-class-tools
 *
 * Copyright (C) 2017 leonardosnt
 * Licensed under the MIT License. See LICENSE file in the project root for full license information.
 */var e={UTF8:1,INTEGER:3,FLOAT:4,LONG:5,DOUBLE:6,CLASS:7,STRING:8,FIELDREF:9,METHODREF:10,INTERFACE_METHODREF:11,NAME_AND_TYPE:12,METHOD_HANDLE:15,METHOD_TYPE:16,DYNAMIC:17,INVOKE_DYNAMIC:18,MODULE:19,PACKAGE:20},o=e;n.default=o}(constantType)),constantType}var hasRequiredJavaClassReader;function requireJavaClassReader(){return hasRequiredJavaClassReader||(hasRequiredJavaClassReader=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=a(requireBytebuffer()),o=a(requireConstantType());function a(E){return E&&E.__esModule?E:{default:E}}function l(E){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?l=function(m){return typeof m}:l=function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},l(E)}function u(E,b){if(!(E instanceof b))throw new TypeError("Cannot call a class as a function")}function c(E,b){for(var m=0;m<b.length;m++){var y=b[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(E,y.key,y)}}function f(E,b,m){return b&&c(E.prototype,b),E}var p=function(){function E(){u(this,E)}return f(E,[{key:"read",value:function(m){if(m==null)throw TypeError("source cannot be null or undefined");if(typeof m=="string")return this.readFromFile(m);if(this.buf=e.default.wrap(m),this.classFile=new function(){},this.buf.readUint32()!==3405691582)throw Error("Invalid MAGIC value");this.classFile.minor_version=this.buf.readUint16(),this.classFile.major_version=this.buf.readUint16(),this.classFile.constant_pool_count=this.buf.readUint16(),this.classFile.constant_pool=this._readConstantPool(this.classFile.constant_pool_count-1),this.classFile.access_flags=this.buf.readUint16(),this.classFile.this_class=this.buf.readUint16(),this.classFile.super_class=this.buf.readUint16(),this.classFile.interfaces_count=this.buf.readUint16(),this.classFile.interfaces=this._readInterfaces(this.classFile.interfaces_count),this.classFile.fields_count=this.buf.readUint16(),this.classFile.fields=this._readMemberInfoArray(this.classFile.fields_count),this.classFile.methods_count=this.buf.readUint16(),this.classFile.methods=this._readMemberInfoArray(this.classFile.methods_count),this.classFile.attributes_count=this.buf.readUint16(),this.classFile.attributes=this._readAttributeInfoArray(this.classFile.attributes_count);var y=this.classFile;return delete this.buf,delete this.classFile,y}},{key:"readFromFile",value:function(m){if((typeof process$1>"u"?"undefined":l(process$1))!==void 0){var y=require$$2;return this.read(y.readFileSync(m))}else throw Error("readFromFile is not supported in the browser.")}},{key:"_readMemberInfoArray",value:function(m){for(var y=new Array(m),S=0;S<m;S++){var v={access_flags:this.buf.readUint16(),name_index:this.buf.readUint16(),descriptor_index:this.buf.readUint16(),attributes_count:this.buf.readUint16()};v.attributes=this._readAttributeInfoArray(v.attributes_count),y[S]=v}return y}},{key:"_readAttributeInfoArray",value:function(m){for(var y=new Array(m),S=0;S<m;S++)y[S]=this._readAttributeInfo();return y}},{key:"_readVerificationTypeInfo",value:function(){var m={tag:this.buf.readUint8()};return m.tag===7?m.cpool_index=this.buf.readUint16():m.tag===8&&(m.offset=this.buf.readUint16()),m}},{key:"_readTypeAnnotation",value:function(){var m={target_type:this.buf.readUint8(),target_info:{}};switch(m.target_type){case 0:case 1:m.target_info.type_parameter_index=this.buf.readUint8();break;case 16:m.target_info.supertype_index=this.buf.readUint16();break;case 17:case 18:m.target_info.type_parameter_index=this.buf.readUint8(),m.target_info.bound_index=this.buf.readUint8();break;case 19:case 20:case 21:break;case 22:m.target_info.formal_parameter_index=this.buf.readUint8();break;case 23:m.target_info.throws_type_index=this.buf.readUint16();break;case 64:case 65:{m.target_info.table_length=this.buf.readUint16(),m.target_info.table=new Array(m.target_info.table_length);for(var y=0;y<m.target_info.table_length;y++){var S={start_pc:this.buf.readUint16(),length:this.buf.readUint16(),index:this.buf.readUint16()};m.target_info.table[y]=S}break}case 66:m.target_info.exception_table_index=this.buf.readUint16();break;case 67:case 68:case 69:case 70:m.target_info.offset=this.buf.readUint16();break;case 71:case 72:case 73:case 74:case 75:m.target_info.offset=this.buf.readUint16(),m.target_info.type_argument_index=this.buf.readUint8();break;default:throw Error("Unexpected target_type: ".concat(m.target_type))}m.type_path={path_length:this.buf.readUint8()},m.type_path.path=new Array(m.type_path.path_length);for(var v=0;v<m.type_path.path_length;v++)m.type_path.path[v]={type_path_kind:this.buf.readUint8(),type_argument_index:this.buf.readUint8()};m.type_index=this.buf.readUint16(),m.num_element_value_pairs=this.buf.readUint16(),m.element_value_pairs=new Array(m.num_element_value_pairs);for(var A=0;A<m.num_element_value_pairs;A++)m.element_value_pairs[A]={element_name_index:this.buf.readUint16(),element_value:this._readElementValue()};return m}},{key:"_readAttributeInfo",value:function(){var m={attribute_name_index:this.buf.readUint16(),attribute_length:this.buf.readUint32()},y=this.classFile.constant_pool[m.attribute_name_index].bytes,S=String.fromCharCode.apply(null,y);switch(S){case"Deprecated":case"Synthetic":break;case"RuntimeInvisibleAnnotations":case"RuntimeVisibleAnnotations":{m.num_annotations=this.buf.readUint16(),m.annotations=new Array(m.num_annotations);for(var v=0;v<m.num_annotations;v++)m.annotations[v]=this._readAttributeAnnotation();break}case"InnerClasses":{m.number_of_classes=this.buf.readUint16(),m.classes=new Array(m.number_of_classes);for(var A=0;A<m.number_of_classes;A++)m.classes[A]={inner_class_info_index:this.buf.readUint16(),outer_class_info_index:this.buf.readUint16(),inner_name_index:this.buf.readUint16(),inner_class_access_flags:this.buf.readUint16()};break}case"LocalVariableTable":{m.local_variable_table_length=this.buf.readUint16(),m.local_variable_table=new Array(m.local_variable_table_length);for(var w=0;w<m.local_variable_table_length;w++)m.local_variable_table[w]={start_pc:this.buf.readUint16(),length:this.buf.readUint16(),name_index:this.buf.readUint16(),descriptor_index:this.buf.readUint16(),index:this.buf.readUint16()};break}case"LocalVariableTypeTable":{m.local_variable_type_table_length=this.buf.readUint16(),m.local_variable_type_table=new Array(m.local_variable_type_table_length);for(var R=0;R<m.local_variable_type_table_length;R++)m.local_variable_type_table[R]={start_pc:this.buf.readUint16(),length:this.buf.readUint16(),name_index:this.buf.readUint16(),signature_index:this.buf.readUint16(),index:this.buf.readUint16()};break}case"RuntimeInvisibleParameterAnnotations":case"RuntimeVisibleParameterAnnotations":{m.num_parameters=this.buf.readUint8(),m.parameter_annotations=new Array(m.num_parameters);for(var P=0;P<m.num_parameters;P++){var F={num_annotations:this.buf.readUint16()};F.annotations=new Array(F.num_annotations);for(var B=0;B<F.num_annotations;B++)F.annotations[B]=this._readAttributeAnnotation();m.parameter_annotations[P]=F}break}case"BootstrapMethods":{m.num_bootstrap_methods=this.buf.readUint16(),m.bootstrap_methods=new Array(m.num_bootstrap_methods);for(var G=0;G<m.num_bootstrap_methods;G++){var K={bootstrap_method_ref:this.buf.readUint16(),num_bootstrap_arguments:this.buf.readUint16()};K.bootstrap_arguments=new Array(K.num_bootstrap_arguments);for(var le=0;le<K.num_bootstrap_arguments;le++)K.bootstrap_arguments[le]=this.buf.readUint16();m.bootstrap_methods[G]=K}break}case"RuntimeInvisibleTypeAnnotations":case"RuntimeVisibleTypeAnnotations":{m.num_annotations=this.buf.readUint16(),m.annotations=new Array(m.num_annotations);for(var V=0;V<m.num_annotations;V++)m.annotations[V]=this._readTypeAnnotation();break}case"SourceDebugExtension":{m.debug_extension=new Array(m.attribute_length);for(var X=0;X<m.attribute_length;X++)m.debug_extension[X]=this.buf.readUint8();break}case"SourceFile":m.sourcefile_index=this.buf.readUint16();break;case"EnclosingMethod":m.class_index=this.buf.readUint16(),m.method_index=this.buf.readUint16();break;case"AnnotationDefault":m.default_value=this._readElementValue();break;case"MethodParameters":{m.parameters_count=this.buf.readUint8(),m.parameters=new Array(m.parameters_count);for(var W=0;W<m.parameters_count;W++)m.parameters[W]={name_index:this.buf.readUint16(),access_flags:this.buf.readUint16()};break}case"ConstantValue":m.constantvalue_index=this.buf.readUint16();break;case"Signature":m.signature_index=this.buf.readUint16();break;case"StackMap":return this._readStackMapAttribute(m);case"Exceptions":return this._readExceptionsAttribute(m);case"StackMapTable":return this._readStackMapTableAttribute(m);case"Code":return this._readCodeAttribute(m);case"LineNumberTable":return this._readLineNumberTableAttribute(m);case"Module":return this._readModuleAttribute(m);case"ModulePackages":return this._readModulePackagesAttribute(m);case"ModuleMainClass":m.main_class_index=this.buf.readUint16();break;case"NestHost":m.host_class_index=this.buf.readUint16();break;case"NestMembers":m.number_of_classes=this.buf.readUint16(),m.classes=new Array(m.number_of_classes);for(var H=0;H<m.number_of_classes;H++)m.classes[H]=this.buf.readUint16();break;default:{m.info=new Array(m.attribute_length);for(var te=0;te<m.attribute_length;te++)m.info[te]=this.buf.readUint8()}}return m}},{key:"_readCodeAttribute",value:function(m){m.max_stack=this.buf.readUint16(),m.max_locals=this.buf.readUint16(),m.code_length=this.buf.readUint32(),m.code=new Array(m.code_length);for(var y=0;y<m.code_length;y++)m.code[y]=this.buf.readUint8();m.exception_table_length=this.buf.readUint16(),m.exception_table=new Array(m.exception_table_length);for(var S=0;S<m.exception_table_length;S++)m.exception_table[S]={start_pc:this.buf.readUint16(),end_pc:this.buf.readUint16(),handler_pc:this.buf.readUint16(),catch_type:this.buf.readUint16()};return m.attributes_count=this.buf.readUint16(),m.attributes=this._readAttributeInfoArray(m.attributes_count),m}},{key:"_readLineNumberTableAttribute",value:function(m){m.line_number_table_length=this.buf.readUint16(),m.line_number_table=new Array(m.line_number_table_length);for(var y=0;y<m.line_number_table_length;y++)m.line_number_table[y]={start_pc:this.buf.readUint16(),line_number:this.buf.readUint16()};return m}},{key:"_readStackMapTableAttribute",value:function(m){m.number_of_entries=this.buf.readUint16(),m.entries=new Array(m.number_of_entries);for(var y=0;y<m.number_of_entries;y++){var S={frame_type:this.buf.readUint8()},v=S.frame_type;if(v>=0&&v<=63){m.entries[y]=S;continue}if(v>=64&&v<=127)S.stack=[this._readVerificationTypeInfo()];else if(S.frame_type===247)S.offset_delta=this.buf.readUint16(),S.stack=[this._readVerificationTypeInfo()];else if(v>=248&&v<=251)S.offset_delta=this.buf.readUint16();else if(v>=252&&v<=254){var A=v-251;S.offset_delta=this.buf.readUint16(),S.locals=new Array(A);for(var w=0;w<A;w++)S.locals[w]=this._readVerificationTypeInfo()}else if(v===255){S.offset_delta=this.buf.readUint16(),S.number_of_locals=this.buf.readUint16(),S.locals=new Array(S.number_of_locals);for(var R=0;R<S.number_of_locals;R++)S.locals[R]=this._readVerificationTypeInfo();S.number_of_stack_items=this.buf.readUint16(),S.stack=new Array(S.number_of_stack_items);for(var P=0;P<S.number_of_stack_items;P++)S.stack[P]=this._readVerificationTypeInfo()}m.entries[y]=S}return m}},{key:"_readExceptionsAttribute",value:function(m){m.number_of_exceptions=this.buf.readUint16(),m.exception_index_table=new Array(m.number_of_exceptions);for(var y=0;y<m.number_of_exceptions;y++)m.exception_index_table[y]=this.buf.readUint16();return m}},{key:"_readStackMapAttribute",value:function(m){m.number_of_entries=this.buf.readUint16(),m.entries=new Array(m.number_of_entries);for(var y=0;y<m.number_of_entries;y++){var S={offset:this.buf.readUint16()};S.number_of_locals=this.buf.readUint16(),S.locals=new Array(S.number_of_locals);for(var v=0;v<S.number_of_locals;v++)S.locals[v]=this._readVerificationTypeInfo();S.number_of_stack_items=this.buf.readUint16(),S.stack=new Array(S.number_of_stack_items);for(var A=0;A<S.number_of_stack_items;A++)S.stack[A]=this._readVerificationTypeInfo();m.entries[y]=S}return m}},{key:"_readModuleAttribute",value:function(m){m.module_name_index=this.buf.readUint16(),m.module_flags=this.buf.readUint16(),m.module_version_index=this.buf.readUint16(),m.requires_count=this.buf.readUint16(),m.requires=new Array(m.requires_count);for(var y=0;y<m.requires_count;y++)m.requires[y]={requires_index:this.buf.readUint16(),requires_flags:this.buf.readUint16(),requires_version_index:this.buf.readUint16()};m.exports_count=this.buf.readUint16(),m.exports=new Array(m.exports_count);for(var S=0;S<m.exports_count;S++){var v={exports_index:this.buf.readUint16(),exports_flags:this.buf.readUint16(),exports_to_count:this.buf.readUint16()};v.exports_to_index=new Array(v.exports_to_count);for(var A=0;A<v.exports_to_count;A++)v.exports_to_index[A]=this.buf.readUint16();m.exports[S]=v}m.opens_count=this.buf.readUint16(),m.opens=new Array(m.opens_count);for(var w=0;w<m.opens_count;w++){var R={opens_index:this.buf.readUint16(),opens_flags:this.buf.readUint16(),opens_to_count:this.buf.readUint16()};R.opens_to_index=new Array(R.opens_to_count);for(var P=0;P<R.opens_to_count;P++)R.opens_to_index[P]=this.buf.readUint16();m.opens[w]=R}m.uses_count=this.buf.readUint16(),m.uses_index=new Array(m.uses_count);for(var F=0;F<m.uses_count;F++)m.uses_index[F]=this.buf.readUint16();m.provides_count=this.buf.readUint16(),m.provides=new Array(m.provides_count);for(var B=0;B<m.provides_count;B++){var G={provides_index:this.buf.readUint16(),provides_with_count:this.buf.readUint16()};G.provides_with_index=new Array(G.provides_with_count);for(var K=0;K<G.provides_with_count;K++)G.provides_with_index[K]=this.buf.readUint16();m.provides[B]=G}return m}},{key:"_readModulePackagesAttribute",value:function(m){m.package_count=this.buf.readUint16(),m.package_index=new Array(m.package_count);for(var y=0;y<m.package_count;y++)m.package_index[y]=this.buf.readUint16();return m}},{key:"_readAttributeAnnotation",value:function(){var m={type_index:this.buf.readUint16(),num_element_value_pairs:this.buf.readUint16()};m.element_value_pairs=new Array(m.num_element_value_pairs);for(var y=0;y<m.num_element_value_pairs;y++)m.element_value_pairs[y]={element_name_index:this.buf.readUint16(),element_value:this._readElementValue()};return m}},{key:"_readElementValue",value:function(){var m={tag:this.buf.readUint8(),value:{}};switch(m.tag){case 101:m.value.enum_const_value={type_name_index:this.buf.readUint16(),const_name_index:this.buf.readUint16()};break;case 99:m.value.class_info_index=this.buf.readUint16();break;case 91:{for(var y=this.buf.readUint16(),S=new Array(y),v=0;v<y;v++)S[v]=this._readElementValue();m.value.array_value={num_values:y,values:S};break}case 64:m.value.annotation=this._readAttributeAnnotation();break;case 66:case 67:case 68:case 70:case 73:case 74:case 83:case 90:case 115:m.value.const_value_index=this.buf.readUint16();break;default:throw Error("Unexpected tag: ".concat(m.tag))}return m}},{key:"_readInterfaces",value:function(m){for(var y=new Array(m),S=0;S<m;S++)y[S]=this.buf.readUint16();return y}},{key:"_readConstantPool",value:function(m){for(var y=new Array(m),S=1;S<=m;S++){var v=this._readConstantPoolEntry();y[S]=v,(v.tag===o.default.LONG||v.tag===o.default.DOUBLE)&&(y[++S]=void 0)}return y}},{key:"_readUtf8PoolEntry",value:function(m){for(var y=this.buf.readUint16(),S=new Array(y),v=0;v<y;v++)S[v]=this.buf.readUint8();return{tag:m,length:y,bytes:S}}},{key:"_readConstantPoolEntry",value:function(){var m=this.buf.readUint8();switch(m){case o.default.UTF8:return this._readUtf8PoolEntry(m);case o.default.INTEGER:case o.default.FLOAT:return{tag:m,bytes:this.buf.readUint32()};case o.default.LONG:case o.default.DOUBLE:return{tag:m,high_bytes:this.buf.readUint32(),low_bytes:this.buf.readUint32()};case o.default.PACKAGE:case o.default.MODULE:case o.default.CLASS:return{tag:m,name_index:this.buf.readUint16()};case o.default.STRING:return{tag:m,string_index:this.buf.readUint16()};case o.default.FIELDREF:case o.default.METHODREF:case o.default.INTERFACE_METHODREF:return{tag:m,class_index:this.buf.readUint16(),name_and_type_index:this.buf.readUint16()};case o.default.NAME_AND_TYPE:return{tag:m,name_index:this.buf.readUint16(),descriptor_index:this.buf.readUint16()};case o.default.METHOD_HANDLE:return{tag:m,reference_kind:this.buf.readUint8(),reference_index:this.buf.readUint16()};case o.default.METHOD_TYPE:return{tag:m,descriptor_index:this.buf.readUint16()};case o.default.DYNAMIC:case o.default.INVOKE_DYNAMIC:return{tag:m,bootstrap_method_attr_index:this.buf.readUint16(),name_and_type_index:this.buf.readUint16()};default:throw Error("Unexpected tag: ".concat(m))}}}]),E}(),T=p;n.default=T}(javaClassReader)),javaClassReader}var javaClassWriter={},hasRequiredJavaClassWriter;function requireJavaClassWriter(){return hasRequiredJavaClassWriter||(hasRequiredJavaClassWriter=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=a(requireBytebuffer()),o=a(requireConstantType());function a(T){return T&&T.__esModule?T:{default:T}}function l(T,E){if(!(T instanceof E))throw new TypeError("Cannot call a class as a function")}function u(T,E){for(var b=0;b<E.length;b++){var m=E[b];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(T,m.key,m)}}function c(T,E,b){return E&&u(T.prototype,E),T}var f=function(){function T(){l(this,T)}return c(T,[{key:"write",value:function(b){return this.buf=new e.default,this.classFile=b,this.buf.writeUint8(202),this.buf.writeUint8(254),this.buf.writeUint8(186),this.buf.writeUint8(190),this.buf.writeUint16(b.minor_version),this.buf.writeUint16(b.major_version),this.buf.writeUint16(b.constant_pool_count),this._writeConstantPool(b.constant_pool),this.buf.writeUint16(b.access_flags),this.buf.writeUint16(b.this_class),this.buf.writeUint16(b.super_class),this.buf.writeUint16(b.interfaces_count),this._writeInterfaces(b.interfaces),this.buf.writeUint16(b.fields_count),this._writeMemberInfoArray(b.fields),this.buf.writeUint16(b.methods_count),this._writeMemberInfoArray(b.methods),this.buf.writeUint16(b.attributes_count),this._writeAttributeInfoArray(b.attributes),this.buf.buffer=this.buf.buffer.slice(0,this.buf.offset),this.buf}},{key:"_writeMemberInfoArray",value:function(b){for(var m=0;m<b.length;m++){var y=b[m];this.buf.writeUint16(y.access_flags),this.buf.writeUint16(y.name_index),this.buf.writeUint16(y.descriptor_index),this.buf.writeUint16(y.attributes_count),this._writeAttributeInfoArray(y.attributes)}}},{key:"_writeAttributeInfoArray",value:function(b){for(var m=0;m<b.length;m++)this._writeAttributeInfo(b[m])}},{key:"_writeAttributeAnnotation",value:function(b){this.buf.writeUint16(b.type_index),this.buf.writeUint16(b.num_element_value_pairs);for(var m=0;m<b.num_element_value_pairs;m++){var y=b.element_value_pairs[m];this.buf.writeUint16(y.element_name_index),this._writeElementValue(y.element_value)}}},{key:"_writeElementValue",value:function(b){this.buf.writeUint8(b.tag);var m=b.value;switch(b.tag){case 101:this.buf.writeUint16(m.enum_const_value.type_name_index),this.buf.writeUint16(m.enum_const_value.const_name_index);break;case 99:this.buf.writeUint16(m.class_info_index);break;case 91:this.buf.writeUint16(m.array_value.num_values);for(var y=0;y<m.array_value.num_values;y++)this._writeElementValue(m.array_value.values[y]);break;case 64:this._writeAttributeAnnotation(m.annotation);break;case 66:case 67:case 68:case 70:case 73:case 74:case 83:case 90:case 115:this.buf.writeUint16(m.const_value_index);break;default:throw Error("Unexpected tag: ".concat(b.tag))}}},{key:"_writeTypeAnnotation",value:function(b){switch(this.buf.writeUint8(b.target_type),b.target_type){case 0:case 1:this.buf.writeUint8(b.target_info.type_parameter_index);break;case 16:this.buf.writeUint16(b.target_info.supertype_index);break;case 17:case 18:this.buf.writeUint8(b.target_info.type_parameter_index),this.buf.writeUint8(b.target_info.bound_index);break;case 19:case 20:case 21:break;case 22:this.buf.writeUint8(b.target_info.formal_parameter_index);break;case 23:this.buf.writeUint16(b.target_info.throws_type_index);break;case 64:case 65:this.buf.writeUint16(b.target_info.table_length);for(var m=0;m<b.target_info.table_length;m++){var y=b.target_info.table[m];this.buf.writeUint16(y.start_pc),this.buf.writeUint16(y.length),this.buf.writeUint16(y.index)}break;case 66:this.buf.writeUint16(b.target_info.exception_table_index);break;case 67:case 68:case 69:case 70:this.buf.writeUint16(b.target_info.offset);break;case 71:case 72:case 73:case 74:case 75:this.buf.writeUint16(b.target_info.offset),this.buf.writeUint8(b.target_info.type_argument_index);break;default:throw Error("Unexpected target_type: ".concat(b.target_type))}this.buf.writeUint8(b.type_path.path_length);for(var m=0;m<b.type_path.path_length;m++){var S=b.type_path.path[m];this.buf.writeUint8(S.type_path_kind),this.buf.writeUint8(S.type_argument_index)}this.buf.writeUint16(b.type_index),this.buf.writeUint16(b.num_element_value_pairs);for(var m=0;m<b.num_element_value_pairs;m++){var v=b.element_value_pairs[m];this.buf.writeUint16(v.element_name_index),this._writeElementValue(v.element_value)}}},{key:"_writeAttributeInfo",value:function(b){this.buf.writeUint16(b.attribute_name_index),this.buf.writeUint32(b.attribute_length);var m=this.classFile.constant_pool[b.attribute_name_index].bytes,y=String.fromCharCode.apply(null,m);switch(y){case"RuntimeInvisibleAnnotations":case"RuntimeVisibleAnnotations":this.buf.writeUint16(b.num_annotations);for(var S=0;S<b.num_annotations;S++)this._writeAttributeAnnotation(b.annotations[S]);break;case"Deprecated":case"Synthetic":break;case"InnerClasses":this.buf.writeUint16(b.number_of_classes);for(var S=0;S<b.number_of_classes;S++){var v=b.classes[S];this.buf.writeUint16(v.inner_class_info_index),this.buf.writeUint16(v.outer_class_info_index),this.buf.writeUint16(v.inner_name_index),this.buf.writeUint16(v.inner_class_access_flags)}break;case"LocalVariableTable":this.buf.writeUint16(b.local_variable_table_length);for(var S=0;S<b.local_variable_table_length;S++){var A=b.local_variable_table[S];this.buf.writeUint16(A.start_pc),this.buf.writeUint16(A.length),this.buf.writeUint16(A.name_index),this.buf.writeUint16(A.descriptor_index),this.buf.writeUint16(A.index)}break;case"LocalVariableTypeTable":this.buf.writeUint16(b.local_variable_type_table_length);for(var S=0;S<b.local_variable_type_table_length;S++){var w=b.local_variable_type_table[S];this.buf.writeUint16(w.start_pc),this.buf.writeUint16(w.length),this.buf.writeUint16(w.name_index),this.buf.writeUint16(w.signature_index),this.buf.writeUint16(w.index)}break;case"RuntimeInvisibleParameterAnnotations":case"RuntimeVisibleParameterAnnotations":this.buf.writeUint8(b.num_parameters);for(var S=0;S<b.num_parameters;S++){var R=b.parameter_annotations[S];this.buf.writeUint16(R.num_annotations);for(var P=0;P<R.num_annotations;P++)this._writeAttributeAnnotation(R.annotations[P])}break;case"BootstrapMethods":this.buf.writeUint16(b.num_bootstrap_methods);for(var S=0;S<b.num_bootstrap_methods;S++){var F=b.bootstrap_methods[S];this.buf.writeUint16(F.bootstrap_method_ref),this.buf.writeUint16(F.num_bootstrap_arguments);for(var P=0;P<F.num_bootstrap_arguments;P++)this.buf.writeUint16(F.bootstrap_arguments[P])}break;case"RuntimeInvisibleTypeAnnotations":case"RuntimeVisibleTypeAnnotations":this.buf.writeUint16(b.num_annotations);for(var S=0;S<b.num_annotations;S++)this._writeTypeAnnotation(b.annotations[S]);break;case"SourceDebugExtension":for(var S=0;S<b.attribute_length;S++)this.buf.writeUint8(b.debug_extension[S]);break;case"SourceFile":this.buf.writeUint16(b.sourcefile_index);break;case"EnclosingMethod":this.buf.writeUint16(b.class_index),this.buf.writeUint16(b.method_index);break;case"AnnotationDefault":this._writeElementValue(b.default_value);break;case"MethodParameters":this.buf.writeUint8(b.parameters_count);for(var S=0;S<b.parameters_count;S++){var B=b.parameters[S];this.buf.writeUint16(B.name_index),this.buf.writeUint16(B.access_flags)}break;case"Exceptions":this.buf.writeUint16(b.number_of_exceptions);for(var S=0;S<b.number_of_exceptions;S++)this.buf.writeUint16(b.exception_index_table[S]);break;case"ConstantValue":this.buf.writeUint16(b.constantvalue_index);break;case"Signature":this.buf.writeUint16(b.signature_index);break;case"StackMapTable":{this.buf.writeUint16(b.number_of_entries);for(var S=0;S<b.number_of_entries;S++){var G=b.entries[S],K=G.frame_type;if(this.buf.writeUint8(K),K>=64&&K<=127)this._writeVerificationTypeInfo(G.stack[0]);else if(G.frame_type===247)this.buf.writeUint16(G.offset_delta),this._writeVerificationTypeInfo(G.stack[0]);else if(K>=248&&K<=251)this.buf.writeUint16(G.offset_delta);else if(K>=252&&K<=254){this.buf.writeUint16(G.offset_delta);for(var le=K-251,P=0;P<le;P++)this._writeVerificationTypeInfo(G.locals[P])}else if(K===255){this.buf.writeUint16(G.offset_delta),this.buf.writeUint16(G.number_of_locals);for(var P=0;P<G.number_of_locals;P++)this._writeVerificationTypeInfo(G.locals[P]);this.buf.writeUint16(G.number_of_stack_items);for(var P=0;P<G.number_of_stack_items;P++)this._writeVerificationTypeInfo(G.stack[P])}}break}case"Code":this.buf.writeUint16(b.max_stack),this.buf.writeUint16(b.max_locals),this.buf.writeUint32(b.code_length);for(var S=0;S<b.code_length;S++)this.buf.writeUint8(b.code[S]);this.buf.writeUint16(b.exception_table_length);for(var S=0;S<b.exception_table_length;S++){var V=b.exception_table[S];this.buf.writeUint16(V.start_pc),this.buf.writeUint16(V.end_pc),this.buf.writeUint16(V.handler_pc),this.buf.writeUint16(V.catch_type)}this.buf.writeUint16(b.attributes_count),this._writeAttributeInfoArray(b.attributes);break;case"LineNumberTable":this.buf.writeUint16(b.line_number_table_length);for(var S=0;S<b.line_number_table_length;S++){var X=b.line_number_table[S];this.buf.writeUint16(X.start_pc),this.buf.writeUint16(X.line_number)}break;case"Module":{this.buf.writeUint16(b.module_name_index),this.buf.writeUint16(b.module_flags),this.buf.writeUint16(b.module_version_index),this.buf.writeUint16(b.requires_count);for(var S=0;S<b.requires_count;S++){var W=b.requires[S];this.buf.writeUint16(W.requires_index),this.buf.writeUint16(W.requires_flags),this.buf.writeUint16(W.requires_version_index)}this.buf.writeUint16(b.exports_count);for(var S=0;S<b.exports_count;S++){var H=b.exports[S];this.buf.writeUint16(H.exports_index),this.buf.writeUint16(H.exports_flags),this.buf.writeUint16(H.exports_to_count);for(var P=0;P<H.exports_to_count;P++)this.buf.writeUint16(H.exports_to_index[P])}this.buf.writeUint16(b.opens_count);for(var S=0;S<b.opens_count;S++){var te=b.opens[S];this.buf.writeUint16(te.opens_index),this.buf.writeUint16(te.opens_flags),this.buf.writeUint16(te.opens_to_count);for(var P=0;P<te.opens_to_count;P++)this.buf.writeUint16(te.opens_to_index[P])}this.buf.writeUint16(b.uses_count);for(var S=0;S<b.uses_count;S++)this.buf.writeUint16(b.uses_index[S]);this.buf.writeUint16(b.provides_count);for(var S=0;S<b.provides_count;S++){var L=b.provides[S];this.buf.writeUint16(L.provides_index),this.buf.writeUint16(L.provides_with_count);for(var P=0;P<L.provides_with_count;P++)this.buf.writeUint16(L.provides_with_index[P])}break}case"ModulePackages":this.buf.writeUint16(b.package_count);for(var S=0;S<b.package_count;S++)this.buf.writeUint16(b.package_index[S]);break;case"ModuleMainClass":this.buf.writeUint16(b.main_class_index);break;case"NestHost":this.buf.writeUint16(b.host_class_index);break;case"NestMembers":this.buf.writeUint16(b.number_of_classes);for(var ue=0;ue<b.number_of_classes;ue++)this.buf.writeUint16(b.classes[ue]);break;default:for(var S=0;S<b.attribute_length;S++)this.buf.writeUint8(b.info[S])}}},{key:"_writeVerificationTypeInfo",value:function(b){this.buf.writeUint8(b.tag),b.tag===7?this.buf.writeUint16(b.cpool_index):b.tag===8&&this.buf.writeUint16(b.offset)}},{key:"_writeInterfaces",value:function(b){for(var m=0;m<b.length;m++)this.buf.writeUint16(b[m])}},{key:"_writeConstantPool",value:function(b){for(var m=1;m<b.length;m++){var y=b[m];y!==void 0&&this._writeConstantPoolEntry(y)}}},{key:"_writeConstantPoolEntry",value:function(b){switch(this.buf.writeUint8(b.tag),b.tag){case o.default.UTF8:{this.buf.writeUint16(b.length);for(var m=0;m<b.length;m++)this.buf.writeUint8(b.bytes[m]);break}case o.default.INTEGER:case o.default.FLOAT:this.buf.writeUint32(b.bytes);break;case o.default.LONG:case o.default.DOUBLE:this.buf.writeUint32(b.high_bytes),this.buf.writeUint32(b.low_bytes);break;case o.default.PACKAGE:case o.default.MODULE:case o.default.CLASS:this.buf.writeUint16(b.name_index);break;case o.default.STRING:this.buf.writeUint16(b.string_index);break;case o.default.FIELDREF:case o.default.METHODREF:case o.default.INTERFACE_METHODREF:this.buf.writeUint16(b.class_index),this.buf.writeUint16(b.name_and_type_index);break;case o.default.NAME_AND_TYPE:this.buf.writeUint16(b.name_index),this.buf.writeUint16(b.descriptor_index);break;case o.default.METHOD_HANDLE:this.buf.writeUint8(b.reference_kind),this.buf.writeUint16(b.reference_index);break;case o.default.METHOD_TYPE:this.buf.writeUint16(b.descriptor_index);break;case o.default.DYNAMIC:case o.default.INVOKE_DYNAMIC:this.buf.writeUint16(b.bootstrap_method_attr_index),this.buf.writeUint16(b.name_and_type_index);break;default:throw Error("Unexpected tag: ".concat(b.tag))}}}]),T}(),p=f;n.default=p}(javaClassWriter)),javaClassWriter}var opcode={},hasRequiredOpcode;function requireOpcode(){return hasRequiredOpcode||(hasRequiredOpcode=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;/*!
 * https://github.com/leonardosnt/java-class-tools
 *
 * Copyright (C) 2017 leonardosnt
 * Licensed under the MIT License. See LICENSE file in the project root for full license information.
 */var e={NOP:0,ACONST_NULL:1,ICONST_M1:2,ICONST_0:3,ICONST_1:4,ICONST_2:5,ICONST_3:6,ICONST_4:7,ICONST_5:8,LCONST_0:9,LCONST_1:10,FCONST_0:11,FCONST_1:12,FCONST_2:13,DCONST_0:14,DCONST_1:15,BIPUSH:16,SIPUSH:17,LDC:18,LDC_W:19,LDC2_W:20,ILOAD:21,LLOAD:22,FLOAD:23,DLOAD:24,ALOAD:25,ILOAD_0:26,ILOAD_1:27,ILOAD_2:28,ILOAD_3:29,LLOAD_0:30,LLOAD_1:31,LLOAD_2:32,LLOAD_3:33,FLOAD_0:34,FLOAD_1:35,FLOAD_2:36,FLOAD_3:37,DLOAD_0:38,DLOAD_1:39,DLOAD_2:40,DLOAD_3:41,ALOAD_0:42,ALOAD_1:43,ALOAD_2:44,ALOAD_3:45,IALOAD:46,LALOAD:47,FALOAD:48,DALOAD:49,AALOAD:50,BALOAD:51,CALOAD:52,SALOAD:53,ISTORE:54,LSTORE:55,FSTORE:56,DSTORE:57,ASTORE:58,ISTORE_0:59,ISTORE_1:60,ISTORE_2:61,ISTORE_3:62,LSTORE_0:63,LSTORE_1:64,LSTORE_2:65,LSTORE_3:66,FSTORE_0:67,FSTORE_1:68,FSTORE_2:69,FSTORE_3:70,DSTORE_0:71,DSTORE_1:72,DSTORE_2:73,DSTORE_3:74,ASTORE_0:75,ASTORE_1:76,ASTORE_2:77,ASTORE_3:78,IASTORE:79,LASTORE:80,FASTORE:81,DASTORE:82,AASTORE:83,BASTORE:84,CASTORE:85,SASTORE:86,POP:87,POP2:88,DUP:89,DUP_X1:90,DUP_X2:91,DUP2:92,DUP2_X1:93,DUP2_X2:94,SWAP:95,IADD:96,LADD:97,FADD:98,DADD:99,ISUB:100,LSUB:101,FSUB:102,DSUB:103,IMUL:104,LMUL:105,FMUL:106,DMUL:107,IDIV:108,LDIV:109,FDIV:110,DDIV:111,IREM:112,LREM:113,FREM:114,DREM:115,INEG:116,LNEG:117,FNEG:118,DNEG:119,ISHL:120,LSHL:121,ISHR:122,LSHR:123,IUSHR:124,LUSHR:125,IAND:126,LAND:127,IOR:128,LOR:129,IXOR:130,LXOR:131,IINC:132,I2L:133,I2F:134,I2D:135,L2I:136,L2F:137,L2D:138,F2I:139,F2L:140,F2D:141,D2I:142,D2L:143,D2F:144,I2B:145,I2C:146,I2S:147,LCMP:148,FCMPL:149,FCMPG:150,DCMPL:151,DCMPG:152,IFEQ:153,IFNE:154,IFLT:155,IFGE:156,IFGT:157,IFLE:158,IF_ICMPEQ:159,IF_ICMPNE:160,IF_ICMPLT:161,IF_ICMPGE:162,IF_ICMPGT:163,IF_ICMPLE:164,IF_ACMPEQ:165,IF_ACMPNE:166,GOTO:167,JSR:168,RET:169,TABLESWITCH:170,LOOKUPSWITCH:171,IRETURN:172,LRETURN:173,FRETURN:174,DRETURN:175,ARETURN:176,RETURN:177,GETSTATIC:178,PUTSTATIC:179,GETFIELD:180,PUTFIELD:181,INVOKEVIRTUAL:182,INVOKESPECIAL:183,INVOKESTATIC:184,INVOKEINTERFACE:185,INVOKEDYNAMIC:186,NEW:187,NEWARRAY:188,ANEWARRAY:189,ARRAYLENGTH:190,ATHROW:191,CHECKCAST:192,INSTANCEOF:193,MONITORENTER:194,MONITOREXIT:195,WIDE:196,MULTIANEWARRAY:197,IFNULL:198,IFNONNULL:199,GOTO_W:200,JSR_W:201,BREAKPOINT:202,IMPDEP1:254,IMPDEP2:255},o=e;n.default=o}(opcode)),opcode}var modifier={},hasRequiredModifier;function requireModifier(){return hasRequiredModifier||(hasRequiredModifier=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;/*!
 * https://github.com/leonardosnt/java-class-tools
 *
 * Copyright (C) 2017 leonardosnt
 * Licensed under the MIT License. See LICENSE file in the project root for full license information.
 */var e={PUBLIC:1,PRIVATE:2,PROTECTED:4,STATIC:8,FINAL:16,SYNCHRONIZED:32,VOLATILE:64,BRIDGE:64,TRANSIENT:128,VARARGS:128,NATIVE:256,ABSTRACT:1024,STRICT:2048,SYNTHETIC:4096,INTERFACE:512,SUPER:32,ANNOTATION:8192,ENUM:16384,MODULE:32768},o=e;n.default=o}(modifier)),modifier}var instructionParser={},hasRequiredInstructionParser;function requireInstructionParser(){if(hasRequiredInstructionParser)return instructionParser;hasRequiredInstructionParser=1,Object.defineProperty(instructionParser,"__esModule",{value:!0}),instructionParser.InstructionParser=instructionParser.Instruction=void 0;var n=e(requireOpcode());function e(y){return y&&y.__esModule?y:{default:y}}function o(y){return u(y)||l(y)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function l(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)}function u(y){if(Array.isArray(y)){for(var S=0,v=new Array(y.length);S<y.length;S++)v[S]=y[S];return v}}function c(y,S){if(!(y instanceof S))throw new TypeError("Cannot call a class as a function")}function f(y,S){for(var v=0;v<S.length;v++){var A=S[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(y,A.key,A)}}function p(y,S,v){return S&&f(y.prototype,S),v&&f(y,v),y}var T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,1,2,2,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,-1,-1,0,0,0,0,0,0,2,2,2,2,2,2,2,4,4,2,1,2,0,0,2,2,0,0,-1,3,2,2,4,4,0],E=["nop","aconst_null","iconst_m1","iconst_0","iconst_1","iconst_2","iconst_3","iconst_4","iconst_5","lconst_0","lconst_1","fconst_0","fconst_1","fconst_2","dconst_0","dconst_1","bipush","sipush","ldc","ldc_w","ldc2_w","iload","lload","fload","dload","aload","iload_0","iload_1","iload_2","iload_3","lload_0","lload_1","lload_2","lload_3","fload_0","fload_1","fload_2","fload_3","dload_0","dload_1","dload_2","dload_3","aload_0","aload_1","aload_2","aload_3","iaload","laload","faload","daload","aaload","baload","caload","saload","istore","lstore","fstore","dstore","astore","istore_0","istore_1","istore_2","istore_3","lstore_0","lstore_1","lstore_2","lstore_3","fstore_0","fstore_1","fstore_2","fstore_3","dstore_0","dstore_1","dstore_2","dstore_3","astore_0","astore_1","astore_2","astore_3","iastore","lastore","fastore","dastore","aastore","bastore","castore","sastore","pop","pop2","dup","dup_x1","dup_x2","dup2","dup2_x1","dup2_x2","swap","iadd","ladd","fadd","dadd","isub","lsub","fsub","dsub","imul","lmul","fmul","dmul","idiv","ldiv","fdiv","ddiv","irem","lrem","frem","drem","ineg","lneg","fneg","dneg","ishl","lshl","ishr","lshr","iushr","lushr","iand","land","ior","lor","ixor","lxor","iinc","i2l","i2f","i2d","l2i","l2f","l2d","f2i","f2l","f2d","d2i","d2l","d2f","i2b","i2c","i2s","lcmp","fcmpl","fcmpg","dcmpl","dcmpg","ifeq","ifne","iflt","ifge","ifgt","ifle","if_icmpeq","if_icmpne","if_icmplt","if_icmpge","if_icmpgt","if_icmple","if_acmpeq","if_acmpne","goto","jsr","ret","tableswitch","lookupswitch","ireturn","lreturn","freturn","dreturn","areturn","return","getstatic","putstatic","getfield","putfield","invokevirtual","invokespecial","invokestatic","invokeinterface","invokedynamic","new","newarray","anewarray","arraylength","athrow","checkcast","instanceof","monitorenter","monitorexit","wide","multianewarray","ifnull","ifnonnull","goto_w","jsr_w","breakpoint"],b=function(){function y(S,v,A){if(c(this,y),typeof S!="number")throw TypeError("opcode must be a number");if(!Array.isArray(v))throw TypeError("operands must be an array");this.opcode=S,this.operands=v,this.bytecodeOffset=A}return p(y,[{key:"toString",value:function(){var v=E[this.opcode]||(this.opcode===254?"impdep1":this.opcode===255?"impdep2":void 0);return"Instruction { opcode: ".concat(v,", operands: [").concat(this.operands,"] }")}}]),y}();instructionParser.Instruction=b;var m=function(){function y(){c(this,y)}return p(y,null,[{key:"toBytecode",value:function(v){if(!Array.isArray(v))throw TypeError("instructions must be an array.");var A=[],w=!0,R=!1,P=void 0;try{for(var F=v[Symbol.iterator](),B;!(w=(B=F.next()).done);w=!0){var G=B.value,K=G.opcode,le=G.operands;if(A.push(K),K===n.default.TABLESWITCH||K===n.default.LOOKUPSWITCH)for(var V=A.length%4?4-A.length%4:0;V-- >0;)A.push(0);A.push.apply(A,o(le))}}catch(X){R=!0,P=X}finally{try{!w&&F.return!=null&&F.return()}finally{if(R)throw P}}return A}},{key:"fromBytecode",value:function(v){if(!Array.isArray(v))throw TypeError("bytecode must be an array of bytes.");for(var A=[],w=0;w<v.length;){var R=w,P=v[w++],F=void 0;switch(P){case n.default.LOOKUPSWITCH:{var B=w%4?4-w%4:0;w+=B;var G=v[w+4]<<24|v[w+5]<<16|v[w+6]<<8|v[w+7];F=8+G*8;break}case n.default.TABLESWITCH:{var K=w%4?4-w%4:0;w+=K;var le=v[w+4]<<24|v[w+5]<<16|v[w+6]<<8|v[w+7],V=v[w+8]<<24|v[w+9]<<16|v[w+10]<<8|v[w+11],X=V-le+1;F=3*4+X*4;break}case n.default.WIDE:F=v[w]===n.default.IINC?5:3;break;default:if(F=T[P],F===void 0)throw Error("Unexpected opcode: ".concat(P));break}var W=v.slice(w,w+F),H=new b(P,W,R);A.push(H),w+=F}return A}}]),y}();return instructionParser.InstructionParser=m,instructionParser}var hasRequiredLib;function requireLib(){return hasRequiredLib||(hasRequiredLib=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"JavaClassFileReader",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(n,"JavaClassFileWriter",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"ConstantType",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"Opcode",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"Modifier",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(n,"InstructionParser",{enumerable:!0,get:function(){return c.InstructionParser}}),Object.defineProperty(n,"Instruction",{enumerable:!0,get:function(){return c.Instruction}});var e=f(requireJavaClassReader()),o=f(requireJavaClassWriter()),a=f(requireConstantType()),l=f(requireOpcode()),u=f(requireModifier()),c=requireInstructionParser();function f(p){return p&&p.__esModule?p:{default:p}}}(lib)),lib}var libExports=requireLib(),utf8StringBytes,hasRequiredUtf8StringBytes;function requireUtf8StringBytes(){return hasRequiredUtf8StringBytes||(hasRequiredUtf8StringBytes=1,utf8StringBytes={utf8ByteArrayToString:function(o){for(var a=[],l=0,u=0;l<o.length;){var c=o[l++];if(c<128)a[u++]=String.fromCharCode(c);else if(c>191&&c<224){var f=o[l++];a[u++]=String.fromCharCode((c&31)<<6|f&63)}else if(c>239&&c<365){var f=o[l++],p=o[l++],T=o[l++],E=((c&7)<<18|(f&63)<<12|(p&63)<<6|T&63)-65536;a[u++]=String.fromCharCode(55296+(E>>10)),a[u++]=String.fromCharCode(56320+(E&1023))}else{var f=o[l++],p=o[l++];a[u++]=String.fromCharCode((c&15)<<12|(f&63)<<6|p&63)}}return a.join("")},stringToUtf8ByteArray:function(o){for(var a=[],l=0,u=0;u<o.length;u++){var c=o.charCodeAt(u);c<128?a[l++]=c:c<2048?(a[l++]=c>>6|192,a[l++]=c&63|128):(c&64512)==55296&&u+1<o.length&&(o.charCodeAt(u+1)&64512)==56320?(c=65536+((c&1023)<<10)+(o.charCodeAt(++u)&1023),a[l++]=c>>18|240,a[l++]=c>>12&63|128,a[l++]=c>>6&63|128,a[l++]=c&63|128):(a[l++]=c>>12|224,a[l++]=c>>6&63|128,a[l++]=c&63|128)}return a}}),utf8StringBytes}var utf8StringBytesExports=requireUtf8StringBytes();export{HelmetProvider as $,arrow as A,hide as B,limitShift as C,Decoration as D,EditorView as E,FileSaver_minExports as F,autoUpdate as G,ReactDOM as H,ReactRemoveScroll as I,JSZip as J,hideOthers as K,Link as L,matter as M,useParams as N,Helmet as O,Markdown as P,rehypeRaw as Q,React as R,StreamLanguage as S,useSearchParams as T,QueryClient as U,QueryClientProvider as V,BrowserRouter as W,Routes as X,Route as Y,ReactDOM$1 as Z,_extends as _,cva as a,useLocation as b,clsx as c,useNavigate as d,dump as e,StateField as f,ReactCodeMirror as g,utf8StringBytesExports as h,_defineProperty as i,jsxRuntimeExports as j,_objectWithoutProperties as k,libExports as l,_toConsumableArray as m,requireImmutable as n,commonjsGlobal as o,getDefaultExportFromCjs$1 as p,reactDomExports as q,reactExports as r,React$1 as s,twMerge as t,useDropzone as u,useFloating as v,offset as w,shift$1 as x,flip as y,size as z};
